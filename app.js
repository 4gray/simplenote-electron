(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";var React=require("react"),App=require("./app.jsx"),simperium=require("./simperium"),auth=new simperium.Auth(config.app_id,config.app_key),cookie=require("cookie").parse(document.cookie),token=cookie.token||localStorage.access_token,appId=config.app_id;token||config.app_key||(window.location="https://app.simplenote.com/signin");var client=simperium(appId,token,{note:{beforeIndex:function(e){return e.pinned=-1!==e.data.systemTags.indexOf("pinned")?1:0,e},configure:function(e){e.createIndex("modificationDate","data.modificationDate"),e.createIndex("pinned-sort",["pinned","data.modificationDate"])}},tag:function(e){console.log("Configure tag",e)}},"simplenote",40),l=function(e){return function(){window.loggingEnabled&&console.log.apply(console,[e].concat([].slice.call(arguments)))}};client.on("connect",l("Connected")).on("disconnect",l("Not connected")).on("message",l("<=")).on("send",l("=>")).on("unauthorized",l("Not authorized")),client.on("unauthorized",function(){token||client.reset().then(function(){console.log("Reset complete")})});var notes=client.bucket("note"),tags=client.bucket("tag");React.render(React.createElement(App,{client:client,notes:notes,tags:tags,onAuthenticate:function(e,n){auth.authorize(e,n).then(function(e){localStorage.access_token=e.access_token,client.setUser(e)})},onSignOut:function(){delete localStorage.access_token,client.deauthorize(),config.signout&&config.signout(function(){window.location="/"})}}),document.body);

},{"./app.jsx":2,"./simperium":19,"cookie":67,"react":249}],2:[function(require,module,exports){
"use strict";function timer(t){var e=timers[t];return e||(timers[t]={start:(new Date).getTime(),id:-1}),timers[t]}function clearTimer(t){delete timers[t]}function throttle(t,e){var n=timer(t),o=(new Date).getTime(),i=o-n.start,s=function(){var n=timer(t),o=(new Date).getTime(),i=o-n.start;e(),clearTimer(t),console.log(t,"Fired after",i)};return clearTimeout(timer.id),i>maxTime?s():void(timer.id=setTimeout(s,maxTime))}function and(t,e){return function(n){return t(n)?e(n):!1}}var React=require("react"),NoteList=require("./note_list.jsx"),NoteEditor=require("./note_editor.jsx"),TagMenu=require("./tag_menu.jsx"),SearchField=require("./search_field.jsx"),NavigationBar=require("./navigation_bar.jsx"),Auth=require("./auth.jsx"),classNames=require("classnames");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{onAuthenticate:function(){},onSignOut:function(){}}},getInitialState:function(){return{notes:[],tags:[],showTrash:!1,listTitle:"All Notes",authorized:this.props.client.isAuthorized()}},componentDidMount:function(){this.props.notes.on("index",this.onNotesIndex).on("update",this.onNoteUpdate).on("remove",this.onNoteRemoved),this.props.tags.on("index",this.onTagsIndex).on("update",this.onTagsIndex),this.props.client.on("authorized",this.onAuthChanged).on("unauthorized",this.onAuthChanged),this.onNotesIndex()},_closeNote:function(){this.setState({note:null})},onAuthChanged:function(){var t=this.props.client.isAuthorized();this.setState({authorized:t}),t||this.setState({notes:[],tags:[]})},onSelectNote:function(t){this.setState({note:t,revisions:null})},onNotesIndex:function(){var t=this.onFindNotes;this.props.notes.query(function(e){var n=[];e.transaction("note").objectStore("note").index("pinned-sort").openCursor(null,"prev").onsuccess=function(e){var o=e.target.result;o?(n.push(o.value),o["continue"]()):t(null,n)}})},onNoteRemoved:function(){this.onNotesIndex()},onNoteUpdate:function(t,e,n,o){if(this.onNotesIndex(),this.state.note&&t==this.state.note.id){var i=this.state.note;console.log("Update cursor location and do conflict resolution?"),i.data=e,this.setState({note:i,patch:o})}},onFindNotes:function(t,e){this.setState({notes:e})},onTagsIndex:function(){},onClickTagFilter:function(t){console.log("Filter",t)},onSearch:function(t){this.setState({filter:t})},filterNotes:function(){var t=this.state.filter,e=this.state.showTrash,n=this.state.notes||[],o=function(t){return e||!t.data.deleted};if(t){var i=new RegExp(t,"gi");o=and(o,function(t){return t.data&&t.data.content?i.test(t.data.content):!1})}return n.filter(o)},onUpdateContent:function(t,e){if(t){t.data.content=e,this.setState({note:t});var n=function(){this.props.notes.update(t.id,t.data)}.bind(this);throttle(t.id,n)}},onUpdateTags:function(t,e){t&&(t.data.tags=e,this.props.notes.update(t.id,t.data),this.setState({note:t}))},onTrashNote:function(t){t&&(t.data.deleted=!0,this.props.notes.update(t.id,t.data),this.setState({note:null}))},onRestoreNote:function(t){t&&(t.data.deleted=!1,this.props.notes.update(t.id,t.data),this.setState({note:null}))},onRevisions:function(t){this.props.notes.getRevisions(t.id,this._loadRevisions)},_loadRevisions:function(t,e){return t?console.warn("Failed to load revisions",t):void this.setState({revisions:e})},authorized:function(t){return this.state.authorized?t():void 0},unauthorized:function(t){return this.state.authorized?void 0:t()},render:function(){var t=this,e=this.filterNotes(),n=(this.tag,this.state.note),o=(this.state.revisions,classNames({"simplenote-app":!0,"note-open":this.state.note}));return React.createElement("div",{className:"app"},this.authorized(function(){return React.createElement("div",{className:o},React.createElement("div",{className:"source-list"},React.createElement("div",{className:"toolbar"},React.createElement(NavigationBar,{title:t.state.listTitle})),React.createElement("div",{className:"toolbar-compact"},React.createElement(SearchField,{onSearch:t.onSearch})),React.createElement("div",{className:"panel"},React.createElement(NoteList,{ref:"list",notes:e,onSelectNote:t.onSelectNote}))),React.createElement(NoteEditor,{note:n,revisions:t.state.revisions,onSignOut:t.props.onSignOut,onUpdateContent:t.onUpdateContent,onUpdateTags:t.onUpdateTags,onTrashNote:t.onTrashNote,onRestoreNote:t.onRestoreNote,onRevisions:t.onRevisions,onCloseNote:t._closeNote}))}),this.unauthorized(function(){return React.createElement(Auth,{onAuthenticate:t.props.onAuthenticate})}))}});var timers={},maxTime=3e3;

},{"./auth.jsx":3,"./navigation_bar.jsx":9,"./note_editor.jsx":11,"./note_list.jsx":12,"./search_field.jsx":16,"./tag_menu.jsx":22,"classnames":66,"react":249}],3:[function(require,module,exports){
"use strict";var React=require("react");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{onAuthenticate:function(){}}},onSignIn:function(){var e=this.refs.username.getDOMNode().value,t=this.refs.password.getDOMNode().value;this.props.onAuthenticate(e,t)},render:function(){return React.createElement("div",{className:"login-form"},React.createElement("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 96 96",width:"96",height:"96"},React.createElement("path",{d:"M45.9,54.9c-21.1-5.8-33.7-21.5-32.1-40c0-0.2,0.1-0.4,0.1-0.6C5.3,22.9,0,34.8,0,48c0,25.3,20.6,47,44.4,47.8 c5.3,0.2,10.5-1.2,14.6-4.7c4.2-3.5,6.7-8.4,7.2-13.8C67.4,63,54,57.1,45.9,54.9z M96,48C96,22.9,76,1.3,52.2,0.2 C47.5,0,42.9,1.3,39.3,4.3c-3.7,3.1-5.9,7.4-6.4,12.2C32,27.3,41.6,33.8,51,36.4c22.6,6.2,35.7,22.2,34.4,41.8 C92,69.9,96,59.4,96,48z"})),React.createElement("div",null,React.createElement("input",{tabIndex:"1",ref:"username",type:"text",placeholder:"E-mail"})),React.createElement("div",null,React.createElement("input",{tabIndex:"2",ref:"password",type:"password",placeholder:"Password"})),React.createElement("div",null,React.createElement("div",{tabIndex:"3",className:"button",onClick:this.onSignIn},"Sign In")))}});

},{"react":249}],4:[function(require,module,exports){
"use strict";var React=require("react/addons"),PureRenderMixin=React.addons.PureRenderMixin,BackIcon=React.createClass({displayName:"BackIcon",mixins:[PureRenderMixin],render:function(){return React.createElement("svg",{version:"1.1",x:"0px",y:"0px",width:"24px",height:"24px",viewBox:"0 0 24 24"},React.createElement("polygon",{points:"16.4,1.3 17.8,2.7 9.4,12 17.8,21.3 16.4,22.7 6.8,12 "}))}});module.exports=BackIcon;

},{"react/addons":77}],5:[function(require,module,exports){
"use strict";var React=require("react/addons"),PureRenderMixin=React.addons.PureRenderMixin,InfoIcon=React.createClass({displayName:"InfoIcon",mixins:[PureRenderMixin],render:function(){return React.createElement("svg",{version:"1.1",x:"0px",y:"0px",width:"24px",height:"24px",viewBox:"0 0 24 24"},React.createElement("path",{d:"M11,17h2v-7h-2V17z M11,9h2V7h-2V9z M12,3c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S17,3,12,3z M12,19.5c-4.1,0-7.5-3.4-7.5-7.5 S7.9,4.5,12,4.5s7.5,3.4,7.5,7.5S16.1,19.5,12,19.5z"}))}});module.exports=InfoIcon;

},{"react/addons":77}],6:[function(require,module,exports){
"use strict";var React=require("react/addons"),PureRenderMixin=React.addons.PureRenderMixin,PlusIcon=React.createClass({displayName:"PlusIcon",mixins:[PureRenderMixin],render:function(){return React.createElement("svg",{version:"1.1",x:"0px",y:"0px",width:"24px",height:"24px",viewBox:"0 0 24 24"},React.createElement("polygon",{points:"20,11 13,11 13,4 11,4 11,11 4,11 4,13 11,13 11,20 13,20 13,13 20,13 "}))}});module.exports=PlusIcon;

},{"react/addons":77}],7:[function(require,module,exports){
"use strict";var React=require("react/addons"),PureRenderMixin=React.addons.PureRenderMixin,RevisionsIcon=React.createClass({displayName:"RevisionsIcon",mixins:[PureRenderMixin],render:function(){return React.createElement("svg",{version:"1.1",x:"0px",y:"0px",width:"24px",height:"24px",viewBox:"0 0 24 24"},React.createElement("path",{d:"M13,7h-2v5.5l4.4,3.3l1.2-1.6L13,11.5V7z M12,3c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S17,3,12,3z M12,19.5c-4.1,0-7.5-3.4-7.5-7.5 S7.9,4.5,12,4.5s7.5,3.4,7.5,7.5S16.1,19.5,12,19.5z"}))}});module.exports=RevisionsIcon;

},{"react/addons":77}],8:[function(require,module,exports){
"use strict";var React=require("react/addons"),PureRenderMixin=React.addons.PureRenderMixin,TrashIcon=React.createClass({displayName:"TrashIcon",mixins:[PureRenderMixin],render:function(){return React.createElement("svg",{version:"1.1",x:"0px",y:"0px",width:"24px",height:"24px",viewBox:"0 0 24 24"},React.createElement("path",{d:"M14,10h-1v7h1V10z M11,10h-1v7h1V10z M16,6V5c0-1.1-0.9-2-2-2h-4C8.9,3,8,3.9,8,5v1H5v2h1v11c0,1.1,0.9,2,2,2h8 c1.1,0,2-0.9,2-2V8h1V6H16z M10,5h4v1h-4V5z M16,19H8V8h8V19z"}))}});module.exports=TrashIcon;

},{"react/addons":77}],9:[function(require,module,exports){
"use strict";var React=require("react"),PlusIcon=require("./icons/plus.jsx"),BackIcon=require("./icons/back.jsx");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{title:""}},onNavigateBack:function(){},onAccessory:function(){},render:function(){return React.createElement("div",{className:"navigation-bar"},React.createElement("div",{className:"button",tabIndex:"-1",onClick:this.onNavigateBack},React.createElement(BackIcon,null)),React.createElement("div",null,this.props.title),React.createElement("div",{className:"button",tabIndex:"-1",onClick:this.onAccessory},React.createElement(PlusIcon,null)))}});

},{"./icons/back.jsx":4,"./icons/plus.jsx":6,"react":249}],10:[function(require,module,exports){
"use strict";var React=require("react");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{note:{},onChangeContent:function(){}}},getInitialState:function(){return{content:this.noteContent(this.props.note)}},componentWillReceiveProps:function(t,e){this.setState({content:this.noteContent(t.note)})},noteContent:function(t){if(!t)return null;var e=t.data;return e?e.content:null},onChangeContent:function(t){var e=this.refs.content.getDOMNode().value;this.props.onChangeContent(e)},render:function(){return React.createElement("div",{className:"editor-wrapper"},React.createElement("textarea",{ref:"content",className:"editor",value:this.state.content,onChange:this.onChangeContent}))}});

},{"react":249}],11:[function(require,module,exports){
"use strict";function when(e,t,o){return"function"==typeof e&&(e=e()),e?t.apply(o):void 0}var React=require("react"),NoteDetail=require("./note_detail.jsx"),TagField=require("./tag_field.jsx"),NoteToolbar=require("./note_toolbar.jsx"),RevisionSelector=require("./revision_selector.jsx");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{note:{data:{tags:[]}},revisions:null,onUpdateContent:function(){},onUpdateTags:function(){},onTrashNote:function(){},onRestoreNote:function(){},onRevisions:function(){},onSignOut:function(){},onCloseNote:function(){}}},componentWillReceiveProps:function(){this.setState({revision:null})},getInitialState:function(){return{revision:null}},withNote:function(e){var t=this.props.note;return function(){var o=[t].concat([].slice.call(arguments));e.apply(null,o)}},onViewRevision:function(e){this.setState({revision:e})},onSelectRevision:function(e){console.log("Accept revision: ",e)},render:function(){var e=this.props.revisions,t=(this.state.revision,this.state.revision?this.state.revision:this.props.note),o=t&&t.data.tags?t.data.tags:[];return React.createElement("div",{className:"detail"},React.createElement(NoteToolbar,{note:this.props.note,onTrashNote:this.props.onTrashNote,onRestoreNote:this.props.onRestoreNote,onRevisions:this.props.onRevisions,onSignOut:this.props.onSignOut,onCloseNote:this.props.onCloseNote}),React.createElement("div",{className:"toolbar-compact"},React.createElement(TagField,{ref:"tags",tags:o,onUpdateTags:this.withNote(this.props.onUpdateTags)})),React.createElement("div",{className:"panel"},React.createElement(NoteDetail,{ref:"detail",note:t,onChangeContent:this.withNote(this.props.onUpdateContent)})),when(e,function(){return React.createElement(RevisionSelector,{revisions:e,onViewRevision:this.onViewRevision,onSelectRevision:this.onSelectRevision})},this))}});

},{"./note_detail.jsx":10,"./note_toolbar.jsx":14,"./revision_selector.jsx":15,"./tag_field.jsx":21,"react":249}],12:[function(require,module,exports){
"use strict";var React=require("react"),NoteListItem=require("./note_list_item.jsx");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{notes:[],onSelectNote:function(){}}},getInitialState:function(){return{selected:null}},onSelectNote:function(e){this.setState({selected:e}),this.props.onSelectNote(e)},render:function(){var e=this.state.selected,t=this.onSelectNote;return React.createElement("div",{className:"note-list",tabIndex:"1"},this.props.notes.map(function(n){var s=e&&n.id==e.id;return React.createElement(NoteListItem,{selected:s,key:n.id,note:n,onSelectNote:t})}))}});

},{"./note_list_item.jsx":13,"react":249}],13:[function(require,module,exports){
"use strict";var React=require("react");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{note:{},onSelectNote:function(){},selected:!1}},onClickNote:function(e){this.props.onSelectNote(this.props.note)},render:function(){var e=(this.props.note.data.content||"").trim(),t=e.indexOf("\n");-1==t&&(t=e.length);var n=e.slice(0,Math.min(200,t));if(t>=0)var c=e.slice(t+1,t+100);var a="source-list-item";return this.props.selected&&(a+=" selected"),this.props.note.pinned&&(a+=" pinned"),React.createElement("div",{className:a,onClick:this.onClickNote},React.createElement("div",null),React.createElement("div",{className:"note-preview"},React.createElement("div",{className:"title"},n),React.createElement("div",{className:"preview"},c)))}});

},{"react":249}],14:[function(require,module,exports){
"use strict";var React=require("react"),BackIcon=require("./icons/back.jsx"),InfoIcon=require("./icons/info.jsx"),RevisionsIcon=require("./icons/revisions.jsx"),TrashIcon=require("./icons/trash.jsx");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{note:{data:{tags:[]}},revisions:null,onTrashNote:function(){},onRestoreNote:function(){},onRevisions:function(){},onSignOut:function(){},onCloseNote:function(){}}},withNote:function(e){var t=this.props.note;return function(){var n=[t].concat([].slice.call(arguments));e.apply(null,n)}},isTrashed:function(e){var t=this.props.note;return t&&t.deleted?e.call(this,t):void 0},isNotTrashed:function(e){var t=this.props.note;return t&&!t.deleted?e.call(this,t):void 0},render:function(){return React.createElement("div",{className:"toolbar"},React.createElement("div",{className:"detail-toolbar"},React.createElement("div",{ref:"responsive-back",onClick:this.props.onCloseNote,className:"button backButton",tabIndex:"-1"},React.createElement(BackIcon,null)),React.createElement("div",{ref:"info",tabIndex:"-1",className:"button infoButton"},React.createElement(InfoIcon,null)),React.createElement("div",{ref:"revisions",tabIndex:"-1",className:"button revisionsButton",onClick:this.withNote(this.props.onRevisions)},React.createElement(RevisionsIcon,null)),this.isNotTrashed(function(){return React.createElement("div",{ref:"trash",tabIndex:"-1",className:"button trashButton",onClick:this.withNote(this.props.onTrashNote)},React.createElement(TrashIcon,null))}),this.isTrashed(function(){return React.createElement("div",{ref:"trash",tabIndex:"-1",className:"button trashButton",onClick:this.withNote(this.props.onRestoreNote)},"Restore")}),React.createElement("div",{className:"space",style:{flex:"1 1 auto",visibility:"hidden"}}),React.createElement("div",{ref:"logout",tabIndex:"-1",className:"textbutton signoutButton",onClick:this.props.onSignOut},"Sign Out")))}});

},{"./icons/back.jsx":4,"./icons/info.jsx":5,"./icons/revisions.jsx":7,"./icons/trash.jsx":8,"react":249}],15:[function(require,module,exports){
"use strict";var React=require("react");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{revisions:[],onSelectRevision:function(){},onViewRevision:function(){}}},getInitialState:function(){return{selection:-1}},onAcceptRevision:function(){var e=this.state.selection,t=this.props.revisions[this.props.revisions.length-1-e];this.props.onSelectRevision(t)},onSelectRevision:function(){var e=this.refs.range.getDOMNode().value;this.setState({selection:e});var t=this.props.revisions[this.props.revisions.length-1-e];this.props.onViewRevision(t)},render:function(){var e=0,t=this.props.revisions.length-1,i=this.state.selection&&this.state.selection>-1?this.state.selection:t;return React.createElement("div",{className:"revision-selector"},React.createElement("input",{ref:"range",type:"range",min:e,max:t,value:i,onChange:this.onSelectRevision}),React.createElement("div",{className:"textbutton",onClick:this.onAcceptRevision},"Restore"))}});

},{"react":249}],16:[function(require,module,exports){
"use strict";var React=require("react");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{onSearch:function(){}}},onSearch:function(e){var r=this.refs.search.getDOMNode().value;this.props.onSearch(r)},render:function(){return React.createElement("div",{className:"search-field"},React.createElement("input",{ref:"search",type:"text",placeholder:"Search",onChange:this.onSearch}))}});

},{"react":249}],17:[function(require,module,exports){
"use strict";function StoreProvider(t){this.setup=new Promise(function(e,o){t(e,o)})}function BucketStore(t,e){this.bucket=t,this.setup=e}var Promise=require("promise");module.exports=function(t){return new StoreProvider(t)},StoreProvider.prototype.provider=function(){var t=this.setup;return function(e){return new BucketStore(e,t)}},StoreProvider.prototype.reset=function(){return this.setup.then(function(t){var e=[].map.call(t.objectStoreNames,function(e){return new Promise(function(o,r){var n=t.transaction(e,"readwrite"),u=n.objectStore(e).clear();u.onsuccess=function(t){o(e)},u.onerror=function(t){r(t)}})});return Promise.all(e)},function(t){console.error("Failed to reset stores",t)})},BucketStore.prototype.withBucket=function(t){var e=this.bucket,o=this;this.setup.then(function(r){t.call(o,r,e.name)},function(t){console.error("Failed",t)})},BucketStore.prototype.get=function(t,e){this.withBucket(function(o,r){o.transaction(r).get(t).onsuccess=function(t){e(null,t.target.result)}})},BucketStore.prototype.update=function(t,e,o){var r=this.beforeIndex||function(){return arguments[0]};this.withBucket(function(n,u){n.transaction(u,"readwrite").objectStore(u).put(r({id:t,data:e})).onsuccess=function(t){t.target.result&&o(null,e)}})},BucketStore.prototype.remove=function(t,e){this.withBucket(function(o,r){o.transaction(r,"readwrite").objectStore(r)["delete"](t).onsuccess=function(t){e(null,t.target.result)}})},BucketStore.prototype.find=function(t,e){this.withBucket(function(t,o){var r=[],n=t.transaction(o).objectStore(o).openCursor();n.onsuccess=function(t){var o=t.target.result;o?(r.push(o.value),o["continue"]()):e(null,r)},n.onerror=function(t){console.lor("Failed")}})};

},{"promise":68}],18:[function(require,module,exports){
"use strict";function GhostStore(t){this.bucket=t}var Promise=require("promise"),db=window.indexedDB,setup=new Promise(function(t,e){var o=db.open("ghost",200);o.onupgradeneeded=function(t){var e=t.target.result,o=e.objectStoreNames;o.contains("cv")&&e.deleteObjectStore("cv");var n=e.createObjectStore("cv",{keyPath:"bucket"});n.createIndex("bucket","bucket",{unique:!0}),o.contains("ghosts")&&e.deleteObjectStore("ghosts");var r=e.createObjectStore("ghosts",{keyPath:"full_key"});r.createIndex("bucket","bucket"),r.createIndex("full_key","full_key",{unique:!0})},o.onsuccess=function(e){var o=e.target.result;t(o)},o.onerror=function(t){e(t.target.error)}});setup.then(function(){}),setup["catch"](function(t){console.error(t)}),db.onerror=function(t){console.log("Some kind of error",t)},GhostStore.prototype.getChangeVersion=function(){var t=this.bucket;return new Promise(function(e,o){setup.then(function(o){var n=o.transaction("cv").objectStore("cv").get(t.name);n.onsuccess=function(t){var o=t.target.result,n=null;o&&(n=o.cv),e(n)}})})},GhostStore.prototype.setChangeVersion=function(t){var e=this.bucket;return new Promise(function(o,n){setup.then(function(n){var r=n.transaction("cv","readwrite").objectStore("cv").put({bucket:e.name,cv:t});r.onsuccess=function(t){o()}})})},GhostStore.prototype.put=function(t,e,o){var n=this.bucket,r=new Promise(function(r,c){setup.then(function(c){var s=c.transaction(["ghosts"],"readwrite"),u=s.objectStore("ghosts"),i=n.name+"."+t,a={key:t,version:e,data:o,full_key:i,bucket:n.name};u.put(a).onsuccess=function(t){r(t.target.result)}})});return r},GhostStore.prototype.get=function(t){var e=this.bucket,o=new Promise(function(o,n){setup.then(function(r){var c=r.transaction("ghosts").objectStore("ghosts"),s=e.name+"."+t,u=c.get(s);u.onsuccess=function(e){var n=e.target.result;n||(n={key:t,data:{}}),o(n)},u.onerror=function(t){var e=new Error("failed to get ghost "+s);e.objectStoreEvent=t,n(e)}})});return o},GhostStore.prototype.remove=function(t){var e=this.bucket,o=new Promise(function(o,n){setup.then(function(r){var c=r.transaction("ghosts","readwrite").objectStore("ghosts"),s=e.name+"."+t,u=c["delete"](s);u.onsuccess=function(){o()},u.onerror=function(){n(new Error("Failed to delete ghost "+s))}})});return o},GhostStore.prototype.eachGhost=function(t){var e=this.bucket;setup.then(function(o){var n=o.transaction("ghosts").objectStore("ghosts").index("bucket").openCursor(IDBKeyRange.only(e.name));n.onsuccess=function(e){var o=e.target.result;o&&(t(o.value),o["continue"]())}},function(){console.log("Failed!")})},module.exports=function(t){return new GhostStore(t)},module.exports.GhostStore=GhostStore,module.exports.reset=function(){return setup.then(function(t){return Promise.all([].map.call(t.objectStoreNames,function(e){return new Promise(function(o,n){var r=t.transaction(e,"readwrite").objectStore(e).clear();r.onsuccess=function(t){o(e)},r.onerror=function(t){n(t)}})}))})};

},{"promise":68}],19:[function(require,module,exports){
(function (global){
"use strict";function BrowserClient(e,t,i,r,s){this.databaseName=r||"simperium-objects",this.databaseVersion=s||1;var o=this.bucketConfig=i;this.bucketDB=bucket_store(this.configureDb.bind(this)),this.buckets={};var n=this.bucketDB.provider();this.ghostStore=ghost_store,this.client=simperium(e,t,{ghostStoreProvider:ghost_store,objectStoreProvider:function(e){var t=n.apply(null,arguments);return o[e.name].beforeIndex&&(t.beforeIndex=o[e.name].beforeIndex),t}}),["send","message","connect","reconnect","disconnect","unauthorized"].forEach(function(e){this.client.on(e,function(){var t=[].slice.call(arguments);this.emit.apply(this,[e].concat(t))}.bind(this))}.bind(this));for(var u in i)this.buckets[u]=this.client.bucket(u)}var simperium=require("simperium"),bucket_store=require("./bucket_store"),ghost_store=require("./ghost_store"),util=require("util"),events=require("events"),Bucket=simperium.Client.Bucket;module.exports=function(e,t,i,r,s){return new BrowserClient(e,t,i,r,s)},module.exports.Auth=simperium.Auth,Bucket.prototype.query=function(e){this.store.setup.then(e)},util.inherits(BrowserClient,events.EventEmitter),BrowserClient.prototype.configureDb=function(e,t){var i=window.indexedDB.open(this.databaseName,this.databaseVersion),r=!1;this.buckets;i.onupgradeneeded=function(e){r=!0;var t,i=e.target.result,s=i.objectStoreNames;for(var o in this.bucketConfig){var n=this.bucketConfig[o];"function"!=typeof n&&(n=n.configure),s.contains(o)&&i.deleteObjectStore(o),t=i.createObjectStore(o,{keyPath:"id"}),n(t)}}.bind(this),i.onerror=function(e){console.log("So failed",e)},i.onsuccess=function(t){if(global.bucketDB=t.target.result,e(t.target.result),r)for(var i in this.buckets)this.buckets[i].reload()}.bind(this)},BrowserClient.prototype.isAuthorized=function(){return!!this.client.accessToken},BrowserClient.prototype.reset=function(){return this.bucketDB.reset().then(function(){return ghost_store.reset()},function(e){console.error("Failed to reset",e)})},BrowserClient.prototype.bucket=function(e){return this.buckets[e]},BrowserClient.prototype.setUser=function(e){this.client.setAccessToken(e.access_token),this.emit("authorized")},BrowserClient.prototype.deauthorize=function(){this.client.setAccessToken(null),this.emit("unauthorized"),this.client.disconnect(),this.reset()};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./bucket_store":17,"./ghost_store":18,"events":28,"simperium":256,"util":64}],20:[function(require,module,exports){
"use strict";var React=require("react");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{tag:"",selected:!1,onSelectTag:function(){}}},render:function(){var e="tag-chip"+(this.props.selected?" selected":"");return React.createElement("div",{className:e,onClick:this.props.onSelect},this.props.tag)}});

},{"react":249}],21:[function(require,module,exports){
"use strict";var React=require("react"),TagChip=require("./tag_chip.jsx");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{tags:[],onUpdateTags:function(){}}},getInitialState:function(){return{selectedTag:-1}},componentWillReceiveProps:function(e,t){this.setState({selectedTag:-1})},clearTextField:function(){this.refs.tag.getDOMNode().value=""},addTag:function(e){var t=this.props.tags.concat([e]);this.props.onUpdateTags(t)},onSelectTag:function(e,t){this.setState({selectedTag:t})},hasSelection:function(){return-1!==this.state.selectedTag},deleteTag:function(e){var t=this.props.tags.concat([]);t.splice(this.state.selectedTag,1);var a={};this.state.selectedTag==e&&(a.selectedTag=-1),this.props.onUpdateTags(t),this.setState(a)},deleteSelection:function(){this.hasSelection()&&this.deleteTag(this.state.selectedTag)},selectLastTag:function(){this.setState({selectedTag:this.props.tags.length-1})},onKeyDown:function(e){var t=this.refs.tag.getDOMNode().value.trim();switch(e.which){case 13:if(""===t)return;this.addTag(t),this.clearTextField();break;case 8:if(this.hasSelection()&&this.deleteSelection(),""!==t)return;this.getDOMNode().focus(),this.selectLastTag()}},onBlur:function(){this.setState({selectedTag:-1})},eachTag:function(e){return(this.props.tags||[]).map(e.bind(this))},render:function(){return React.createElement("div",{tabIndex:"-1",onKeyDown:this.onKeyDown,onBlur:this.onBlur,className:"tag-editor"},this.eachTag(function(e,t){var a=t==this.state.selectedTag,s=this.onSelectTag,i=function(a){s(e,t)};return React.createElement(TagChip,{key:e,tag:e,index:t,selected:a,onSelect:i})}),React.createElement("div",{className:"tag-field"},React.createElement("input",{ref:"tag",type:"text",placeholder:"Add tags …"})))}});

},{"./tag_chip.jsx":20,"react":249}],22:[function(require,module,exports){
"use strict";var React=require("react");module.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{tags:[],defaultLabel:"Tags"}},render:function(){var e=this.props.defaultLabel;return React.createElement("div",{className:"tag-menu"},React.createElement("span",{key:"label",tabIndex:"1",className:"tag-menu-label"},e),React.createElement("div",{key:"menu",className:"tag-menu-options"},this.props.children))}});

},{"react":249}],23:[function(require,module,exports){

},{}],24:[function(require,module,exports){
(function (global){
function typedArraySupport(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(r){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(t){return this instanceof Buffer?(this.length=0,this.parent=void 0,"number"==typeof t?fromNumber(this,t):"string"==typeof t?fromString(this,t,arguments.length>1?arguments[1]:"utf8"):fromObject(this,t)):arguments.length>1?new Buffer(t,arguments[1]):new Buffer(t)}function fromNumber(t,e){if(t=allocate(t,0>e?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;e>r;r++)t[r]=0;return t}function fromString(t,e,r){("string"!=typeof r||""===r)&&(r="utf8");var n=0|byteLength(e,r);return t=allocate(t,n),t.write(e,r),t}function fromObject(t,e){if(Buffer.isBuffer(e))return fromBuffer(t,e);if(isArray(e))return fromArray(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return fromTypedArray(t,e);if(e instanceof ArrayBuffer)return fromArrayBuffer(t,e)}return e.length?fromArrayLike(t,e):fromJsonObject(t,e)}function fromBuffer(t,e){var r=0|checked(e.length);return t=allocate(t,r),e.copy(t,0,0,r),t}function fromArray(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function fromTypedArray(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function fromArrayBuffer(t,e){return Buffer.TYPED_ARRAY_SUPPORT?(e.byteLength,t=Buffer._augment(new Uint8Array(e))):t=fromTypedArray(t,new Uint8Array(e)),t}function fromArrayLike(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function fromJsonObject(t,e){var r,n=0;"Buffer"===e.type&&isArray(e.data)&&(r=e.data,n=0|checked(r.length)),t=allocate(t,n);for(var i=0;n>i;i+=1)t[i]=255&r[i];return t}function allocate(t,e){Buffer.TYPED_ARRAY_SUPPORT?(t=Buffer._augment(new Uint8Array(e)),t.__proto__=Buffer.prototype):(t.length=e,t._isBuffer=!0);var r=0!==e&&e<=Buffer.poolSize>>>1;return r&&(t.parent=rootParent),t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function SlowBuffer(t,e){if(!(this instanceof SlowBuffer))return new SlowBuffer(t,e);var r=new Buffer(t,e);return delete r.parent,r}function byteLength(t,e){"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if(e=0|e,r=void 0===r||r===1/0?this.length:0|r,t||(t="utf8"),0>e&&(e=0),r>this.length&&(r=this.length),e>=r)return"";for(;;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"binary":return binarySlice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function hexWrite(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var f=e.length;if(f%2!==0)throw new Error("Invalid hex string");n>f/2&&(n=f/2);for(var o=0;n>o;o++){var u=parseInt(e.substr(2*o,2),16);if(isNaN(u))throw new Error("Invalid hex string");t[r+o]=u}return o}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(asciiToBytes(e),t,r,n)}function binaryWrite(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(utf16leToBytes(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?base64.fromByteArray(t):base64.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;r>i;){var f=t[i],o=null,u=f>239?4:f>223?3:f>191?2:1;if(r>=i+u){var s,a,h,c;switch(u){case 1:128>f&&(o=f);break;case 2:s=t[i+1],128===(192&s)&&(c=(31&f)<<6|63&s,c>127&&(o=c));break;case 3:s=t[i+1],a=t[i+2],128===(192&s)&&128===(192&a)&&(c=(15&f)<<12|(63&s)<<6|63&a,c>2047&&(55296>c||c>57343)&&(o=c));break;case 4:s=t[i+1],a=t[i+2],h=t[i+3],128===(192&s)&&128===(192&a)&&128===(192&h)&&(c=(15&f)<<18|(63&s)<<12|(63&a)<<6|63&h,c>65535&&1114112>c&&(o=c))}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(t){var e=t.length;if(MAX_ARGUMENTS_LENGTH>=e)return String.fromCharCode.apply(String,t);for(var r="",n=0;e>n;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;r>i;i++)n+=String.fromCharCode(127&t[i]);return n}function binarySlice(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;r>i;i++)n+=String.fromCharCode(t[i]);return n}function hexSlice(t,e,r){var n=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>n)&&(r=n);for(var i="",f=e;r>f;f++)i+=toHex(t[f]);return i}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),i="",f=0;f<n.length;f+=2)i+=String.fromCharCode(n[f]+256*n[f+1]);return i}function checkOffset(t,e,r){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,i,f){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>i||f>e)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range")}function objectWriteUInt16(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,f=Math.min(t.length-r,2);f>i;i++)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,f=Math.min(t.length-r,4);f>i;i++)t[r+i]=e>>>8*(n?i:3-i)&255}function checkIEEE754(t,e,r,n,i,f){if(e>i||f>e)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function writeFloat(t,e,r,n,i){return i||checkIEEE754(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,i){return i||checkIEEE754(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(t,e,r,n,52,8),r+8}function base64clean(t){if(t=stringtrim(t).replace(INVALID_BASE64_RE,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return 16>t?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){e=e||1/0;for(var r,n=t.length,i=null,f=[],o=0;n>o;o++){if(r=t.charCodeAt(o),r>55295&&57344>r){if(!i){if(r>56319){(e-=3)>-1&&f.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&f.push(239,191,189);continue}i=r;continue}if(56320>r){(e-=3)>-1&&f.push(239,191,189),i=r;continue}r=i-55296<<10|r-56320|65536}else i&&(e-=3)>-1&&f.push(239,191,189);if(i=null,128>r){if((e-=1)<0)break;f.push(r)}else if(2048>r){if((e-=2)<0)break;f.push(r>>6|192,63&r|128)}else if(65536>r){if((e-=3)<0)break;f.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((e-=4)<0)break;f.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return f}function asciiToBytes(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function utf16leToBytes(t,e){for(var r,n,i,f=[],o=0;o<t.length&&!((e-=2)<0);o++)r=t.charCodeAt(o),n=r>>8,i=r%256,f.push(i),f.push(n);return f}function base64ToBytes(t){return base64.toByteArray(base64clean(t))}function blitBuffer(t,e,r,n){for(var i=0;n>i&&!(i+r>=e.length||i>=t.length);i++)e[i+r]=t[i];return i}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("is-array");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array),Buffer.isBuffer=function(t){return!(null==t||!t._isBuffer)},Buffer.compare=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,f=Math.min(r,n);f>i&&t[i]===e[i];)++i;return i!==f&&(r=t[i],n=e[i]),n>r?-1:r>n?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new Buffer(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var n=new Buffer(e),i=0;for(r=0;r<t.length;r++){var f=t[r];f.copy(n,i),i+=f.length}return n},Buffer.byteLength=byteLength,Buffer.prototype.length=void 0,Buffer.prototype.parent=void 0,Buffer.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:Buffer.compare(this,t)},Buffer.prototype.indexOf=function(t,e){function r(t,e,r){for(var n=-1,i=0;r+i<t.length;i++)if(t[r+i]===e[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===e.length)return r+n}else n=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(Buffer.isBuffer(t))return r(this,t,e);if("number"==typeof t)return Buffer.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):r(this,[t],e);throw new TypeError("val must be string, number or Buffer")},Buffer.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},Buffer.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},Buffer.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var i=n;n=e,e=0|r,r=i}var f=this.length-e;if((void 0===r||r>f)&&(r=f),t.length>0&&(0>r||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"binary":return binaryWrite(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),t>e&&(e=t);var n;if(Buffer.TYPED_ARRAY_SUPPORT)n=Buffer._augment(this.subarray(t,e));else{var i=e-t;n=new Buffer(i,void 0);for(var f=0;i>f;f++)n[f]=this[f+t]}return n.length&&(n.parent=this.parent||this),n},Buffer.prototype.readUIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],i=1,f=0;++f<e&&(i*=256);)n+=this[t+f]*i;return n},Buffer.prototype.readUIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],i=1,f=0;++f<e&&(i*=256);)n+=this[t+f]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=e,i=1,f=this[t+--n];n>0&&(i*=256);)f+=this[t+--n]*i;return i*=128,f>=i&&(f-=Math.pow(2,8*e)),f},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||checkInt(this,t,e,r,Math.pow(2,8*r),0);var i=1,f=0;for(this[e]=255&t;++f<r&&(i*=256);)this[e+f]=t/i&255;return e+r},Buffer.prototype.writeUIntBE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||checkInt(this,t,e,r,Math.pow(2,8*r),0);var i=r-1,f=1;for(this[e+i]=255&t;--i>=0&&(f*=256);)this[e+i]=t/f&255;return e+r},Buffer.prototype.writeUInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);checkInt(this,t,e,r,i-1,-i)}var f=0,o=1,u=0>t?1:0;for(this[e]=255&t;++f<r&&(o*=256);)this[e+f]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);checkInt(this,t,e,r,i-1,-i)}var f=r-1,o=1,u=0>t?1:0;for(this[e+f]=255&t;--f>=0&&(o*=256);)this[e+f]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,f=n-r;if(this===t&&e>r&&n>e)for(i=f-1;i>=0;i--)t[i+e]=this[i+r];else if(1e3>f||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;f>i;i++)t[i+e]=this[i+r];else t._set(this.subarray(r,r+f),e);return f},Buffer.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),e>r)throw new RangeError("end < start");if(r!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;r>n;n++)this[n]=t;else{var i=utf8ToBytes(t.toString()),f=i.length;for(n=e;r>n;n++)this[n]=i[n%f]}return this}},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer.TYPED_ARRAY_SUPPORT)return new Buffer(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;r>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(t){return t.constructor=Buffer,t._isBuffer=!0,t._set=t.set,t.get=BP.get,t.set=BP.set,t.write=BP.write,t.toString=BP.toString,t.toLocaleString=BP.toString,t.toJSON=BP.toJSON,t.equals=BP.equals,t.compare=BP.compare,t.indexOf=BP.indexOf,t.copy=BP.copy,t.slice=BP.slice,t.readUIntLE=BP.readUIntLE,t.readUIntBE=BP.readUIntBE,t.readUInt8=BP.readUInt8,t.readUInt16LE=BP.readUInt16LE,t.readUInt16BE=BP.readUInt16BE,t.readUInt32LE=BP.readUInt32LE,t.readUInt32BE=BP.readUInt32BE,t.readIntLE=BP.readIntLE,t.readIntBE=BP.readIntBE,t.readInt8=BP.readInt8,t.readInt16LE=BP.readInt16LE,t.readInt16BE=BP.readInt16BE,t.readInt32LE=BP.readInt32LE,t.readInt32BE=BP.readInt32BE,t.readFloatLE=BP.readFloatLE,t.readFloatBE=BP.readFloatBE,t.readDoubleLE=BP.readDoubleLE,t.readDoubleBE=BP.readDoubleBE,t.writeUInt8=BP.writeUInt8,t.writeUIntLE=BP.writeUIntLE,t.writeUIntBE=BP.writeUIntBE,t.writeUInt16LE=BP.writeUInt16LE,t.writeUInt16BE=BP.writeUInt16BE,t.writeUInt32LE=BP.writeUInt32LE,t.writeUInt32BE=BP.writeUInt32BE,t.writeIntLE=BP.writeIntLE,t.writeIntBE=BP.writeIntBE,t.writeInt8=BP.writeInt8,t.writeInt16LE=BP.writeInt16LE,t.writeInt16BE=BP.writeInt16BE,t.writeInt32LE=BP.writeInt32LE,t.writeInt32BE=BP.writeInt32BE,t.writeFloatLE=BP.writeFloatLE,t.writeFloatBE=BP.writeFloatBE,t.writeDoubleLE=BP.writeDoubleLE,t.writeDoubleBE=BP.writeDoubleBE,t.fill=BP.fill,t.inspect=BP.inspect,t.toArrayBuffer=BP.toArrayBuffer,t};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"base64-js":25,"ieee754":26,"is-array":27}],25:[function(require,module,exports){
var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===h||r===u?62:r===c||r===f?63:o>r?-1:o+10>r?r-o+26+26:i+26>r?r-i:A+26>r?r-A+26:void 0}function e(t){function e(t){i[f++]=t}var n,h,c,o,A,i;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;A="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,i=new a(3*t.length/4-A),c=A>0?t.length-4:t.length;var f=0;for(n=0,h=0;c>n;n+=4,h+=3)o=r(t.charAt(n))<<18|r(t.charAt(n+1))<<12|r(t.charAt(n+2))<<6|r(t.charAt(n+3)),e((16711680&o)>>16),e((65280&o)>>8),e(255&o);return 2===A?(o=r(t.charAt(n))<<2|r(t.charAt(n+1))>>4,e(255&o)):1===A&&(o=r(t.charAt(n))<<10|r(t.charAt(n+1))<<4|r(t.charAt(n+2))>>2,e(o>>8&255),e(255&o)),i}function n(t){function r(t){return lookup.charAt(t)}function e(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}var n,a,h,c=t.length%3,o="";for(n=0,h=t.length-c;h>n;n+=3)a=(t[n]<<16)+(t[n+1]<<8)+t[n+2],o+=e(a);switch(c){case 1:a=t[t.length-1],o+=r(a>>2),o+=r(a<<4&63),o+="==";break;case 2:a=(t[t.length-2]<<8)+t[t.length-1],o+=r(a>>10),o+=r(a>>4&63),o+=r(a<<2&63),o+="="}return o}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,h="+".charCodeAt(0),c="/".charCodeAt(0),o="0".charCodeAt(0),A="a".charCodeAt(0),i="A".charCodeAt(0),u="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=e,t.fromByteArray=n}("undefined"==typeof exports?this.base64js={}:exports);

},{}],26:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:(s?-1:1)*(1/0);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=0>o||0===o&&0>1/o?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};

},{}],27:[function(require,module,exports){
var isArray=Array.isArray,str=Object.prototype.toString;module.exports=isArray||function(r){return!!r&&"[object Array]"==str.call(r)};

},{}],28:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};

},{}],29:[function(require,module,exports){
var http=require("http"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);https.request=function(t,e){return t||(t={}),t.scheme="https",t.protocol="https:",http.request.call(this,t,e)};

},{"http":52}],30:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};

},{}],31:[function(require,module,exports){
module.exports=function(r){return!(null==r||!(r._isBuffer||r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)))};

},{}],32:[function(require,module,exports){
module.exports=Array.isArray||function(r){return"[object Array]"==Object.prototype.toString.call(r)};

},{}],33:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],34:[function(require,module,exports){
(function (global){
!function(e){function o(e){throw RangeError(T[e])}function n(e,o){for(var n=e.length,r=[];n--;)r[n]=o(e[n]);return r}function r(e,o){var r=e.split("@"),t="";r.length>1&&(t=r[0]+"@",e=r[1]),e=e.replace(S,".");var u=e.split("."),i=n(u,o).join(".");return t+i}function t(e){for(var o,n,r=[],t=0,u=e.length;u>t;)o=e.charCodeAt(t++),o>=55296&&56319>=o&&u>t?(n=e.charCodeAt(t++),56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)):r.push(o);return r}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:b}function f(e,o){return e+22+75*(26>e)-((0!=o)<<5)}function c(e,o,n){var r=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;r+=b)e=M(e/L);return M(r+(L+1)*e/(e+m))}function l(e){var n,r,t,f,l,s,d,a,p,h,v=[],g=e.length,w=0,m=I,j=A;for(r=e.lastIndexOf(E),0>r&&(r=0),t=0;r>t;++t)e.charCodeAt(t)>=128&&o("not-basic"),v.push(e.charCodeAt(t));for(f=r>0?r+1:0;g>f;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),a=i(e.charCodeAt(f++)),(a>=b||a>M((x-w)/s))&&o("overflow"),w+=a*s,p=j>=d?y:d>=j+C?C:d-j,!(p>a);d+=b)h=b-p,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,r,u,i,l,s,d,a,p,h,v,g,w,m,j,F=[];for(e=t(e),g=e.length,n=I,r=0,l=A,s=0;g>s;++s)v=e[s],128>v&&F.push(P(v));for(u=i=F.length,i&&F.push(E);g>u;){for(d=x,s=0;g>s;++s)v=e[s],v>=n&&d>v&&(d=v);for(w=u+1,d-n>M((x-r)/w)&&o("overflow"),r+=(d-n)*w,n=d,s=0;g>s;++s)if(v=e[s],n>v&&++r>x&&o("overflow"),v==n){for(a=r,p=b;h=l>=p?y:p>=l+C?C:p-l,!(h>a);p+=b)j=a-h,m=b-h,F.push(P(f(h+j%m,0))),a=M(j/m);F.push(P(f(a,0))),l=c(r,w,u==i),r=0,++u}++r,++n}return F.join("")}function d(e){return r(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return O.test(e)?"xn--"+s(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;(v.global===v||v.window===v||v.self===v)&&(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.3.2",ucs2:{decode:t,encode:u},decode:l,encode:s,toASCII:a,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&h)if(module.exports==p)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else e.punycode=g}(this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],35:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;p>y;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};

},{}],36:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};

},{}],37:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");

},{"./decode":35,"./encode":36}],38:[function(require,module,exports){
module.exports=require("./lib/_stream_duplex.js");

},{"./lib/_stream_duplex.js":39}],39:[function(require,module,exports){
"use strict";function Duplex(e){return this instanceof Duplex?(Readable.call(this,e),Writable.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(e)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(e){e.end()}function forEach(e,t){for(var r=0,i=e.length;i>r;r++)t(e[r],r)}var objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=Duplex;var processNextTick=require("process-nextick-args"),util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}

},{"./_stream_readable":41,"./_stream_writable":43,"core-util-is":44,"inherits":30,"process-nextick-args":45}],40:[function(require,module,exports){
"use strict";function PassThrough(r){return this instanceof PassThrough?void Transform.call(this,r):new PassThrough(r)}module.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(r,s,i){i(null,r)};

},{"./_stream_transform":42,"core-util-is":44,"inherits":30}],41:[function(require,module,exports){
(function (process){
"use strict";function ReadableState(e,t){var r=require("./_stream_duplex");e=e||{},this.objectMode=!!e.objectMode,t instanceof r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,a=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:a,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){require("./_stream_duplex");return this instanceof Readable?(this._readableState=new ReadableState(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),void Stream.call(this)):new Readable(e)}function readableAddChunk(e,t,r,n,a){var i=chunkInvalid(t,r);if(i)e.emit("error",i);else if(null===r)t.reading=!1,onEofChunk(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!a){var d=new Error("stream.push() after EOF");e.emit("error",d)}else if(t.endEmitted&&a){var d=new Error("stream.unshift() after end event");e.emit("error",d)}else!t.decoder||a||n||(r=t.decoder.write(r)),a||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t);else a||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function roundUpToNextPowerOf2(e){if(e>=MAX_HWM)e=MAX_HWM;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function howMuchToRead(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=roundUpToNextPowerOf2(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function chunkInvalid(e,t){var r=null;return Buffer.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?processNextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,processNextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EE.listenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,processNextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;if(debug("flow",t.flowing),t.flowing)do var r=e.read();while(null!==r&&t.flowing)}function fromList(e,t){var r,n=t.buffer,a=t.length,i=!!t.decoder,d=!!t.objectMode;if(0===n.length)return null;if(0===a)r=null;else if(d)r=n.shift();else if(!e||e>=a)r=i?n.join(""):Buffer.concat(n,a),n.length=0;else if(e<n[0].length){var o=n[0];r=o.slice(0,e),n[0]=o.slice(e)}else if(e===n[0].length)r=n.shift();else{r=i?"":new Buffer(e);for(var l=0,u=0,s=n.length;s>u&&e>l;u++){var o=n[0],h=Math.min(e-l,o.length);i?r+=o.slice(0,h):o.copy(r,l,0,h),h<o.length?n[0]=o.slice(h):n.shift(),l+=h}}return r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,processNextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function forEach(e,t){for(var r=0,n=e.length;n>r;r++)t(e[r],r)}function indexOf(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1}module.exports=Readable;var processNextTick=require("process-nextick-args"),isArray=require("isarray"),Buffer=require("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;EE.listenerCount||(EE.listenerCount=function(e,t){return e.listeners(t).length});var Stream;!function(){try{Stream=require("stream")}catch(e){}finally{Stream||(Stream=require("events").EventEmitter)}}();var Buffer=require("buffer").Buffer,util=require("core-util-is");util.inherits=require("inherits");var debug=require("util");debug=debug&&debug.debuglog?debug.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream),Readable.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding,t!==r.encoding&&(e=new Buffer(e,t),t="")),readableAddChunk(this,r,e,t,!1)},Readable.prototype.unshift=function(e){var t=this._readableState;return readableAddChunk(this,t,e,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;Readable.prototype.read=function(e){debug("read",e);var t=this._readableState,r=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),0===e&&t.ended)return 0===t.length&&endReadable(this),null;var n=t.needReadable;debug("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,debug("length less than watermark",n)),(t.ended||t.reading)&&(n=!1,debug("reading or ended",n)),n&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),n&&!t.reading&&(e=howMuchToRead(r,t));var a;return a=e>0?fromList(e,t):null,null===a&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&endReadable(this),null!==a&&this.emit("data",a),a},Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,t){function r(e){debug("onunpipe"),e===s&&a()}function n(){debug("onend"),e.end()}function a(){debug("cleanup"),e.removeListener("close",o),e.removeListener("finish",l),e.removeListener("drain",b),e.removeListener("error",d),e.removeListener("unpipe",r),s.removeListener("end",n),s.removeListener("end",a),s.removeListener("data",i),!h.awaitDrain||e._writableState&&!e._writableState.needDrain||b()}function i(t){debug("ondata");var r=e.write(t);!1===r&&(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++,s.pause())}function d(t){debug("onerror",t),u(),e.removeListener("error",d),0===EE.listenerCount(e,"error")&&e.emit("error",t)}function o(){e.removeListener("finish",l),u()}function l(){debug("onfinish"),e.removeListener("close",o),u()}function u(){debug("unpipe"),s.unpipe(e)}var s=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,debug("pipe count=%d opts=%j",h.pipesCount,t);var f=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,c=f?n:a;h.endEmitted?processNextTick(c):s.once("end",c),e.on("unpipe",r);var b=pipeOnDrain(s);return e.on("drain",b),s.on("data",i),e._events&&e._events.error?isArray(e._events.error)?e._events.error.unshift(d):e._events.error=[d,e._events.error]:e.on("error",d),e.once("close",o),e.once("finish",l),e.emit("pipe",s),h.flowing||(debug("pipe resume"),s.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;n>a;a++)r[a].emit("unpipe",this);return this}var a=indexOf(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&emitReadable(this,n):processNextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(a){if(debug("wrapped data"),t.decoder&&(a=t.decoder.write(a)),(!t.objectMode||null!==a&&void 0!==a)&&(t.objectMode||a&&a.length)){var i=n.push(a);i||(r=!0,e.pause())}});for(var a in e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));var i=["error","close","destroy","pause","resume"];return forEach(i,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){debug("wrapped _read",t),r&&(r=!1,e.resume())},n},Readable._fromList=fromList;

}).call(this,require('_process'))

},{"./_stream_duplex":39,"_process":33,"buffer":24,"core-util-is":44,"events":28,"inherits":30,"isarray":32,"process-nextick-args":45,"stream":51,"string_decoder/":61,"util":23}],42:[function(require,module,exports){
"use strict";function TransformState(r){this.afterTransform=function(t,n){return afterTransform(r,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function afterTransform(r,t,n){var e=r._transformState;e.transforming=!1;var a=e.writecb;if(!a)return r.emit("error",new Error("no writecb in Transform class"));e.writechunk=null,e.writecb=null,null!==n&&void 0!==n&&r.push(n),a&&a(t);var i=r._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&r._read(i.highWaterMark)}function Transform(r){if(!(this instanceof Transform))return new Transform(r);Duplex.call(this,r),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(r){done(t,r)}):done(t)})}function done(r,t){if(t)return r.emit("error",t);var n=r._writableState,e=r._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(e.transforming)throw new Error("calling transform done when still transforming");return r.push(null)}module.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(r,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,r,t)},Transform.prototype._transform=function(r,t,n){throw new Error("not implemented")},Transform.prototype._write=function(r,t,n){var e=this._transformState;if(e.writecb=n,e.writechunk=r,e.writeencoding=t,!e.transforming){var a=this._readableState;(e.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},Transform.prototype._read=function(r){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};

},{"./_stream_duplex":39,"core-util-is":44,"inherits":30}],43:[function(require,module,exports){
"use strict";function nop(){}function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function WritableState(e,t){var r=require("./_stream_duplex");e=e||{},this.objectMode=!!e.objectMode,t instanceof r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var f=e.decodeStrings===!1;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function Writable(e){var t=require("./_stream_duplex");return this instanceof Writable||this instanceof t?(this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),void Stream.call(this)):new Writable(e)}function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),processNextTick(t,r)}function validChunk(e,t,r,i){var n=!0;if(!Buffer.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!t.objectMode){var f=new TypeError("Invalid non-string/buffer chunk");e.emit("error",f),processNextTick(i,f),n=!1}return n}function decodeChunk(e,t,r){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new Buffer(t,r)),t}function writeOrBuffer(e,t,r,i,n){r=decodeChunk(t,r,i),Buffer.isBuffer(r)&&(i="buffer");var f=t.objectMode?1:r.length;t.length+=f;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest=new WriteReq(r,i,n),u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest}else doWrite(e,t,!1,f,r,i,n);return o}function doWrite(e,t,r,i,n,f,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,f,t.onwrite),t.sync=!1}function onwriteError(e,t,r,i,n){--t.pendingcb,r?processNextTick(n,i):n(i),e._writableState.errorEmitted=!0,e.emit("error",i)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,i,t,n);else{var f=needFinish(r);f||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),i?processNextTick(afterWrite,e,r,f,n):afterWrite(e,r,f,n)}}function afterWrite(e,t,r,i){r||onwriteDrain(e,t),t.pendingcb--,i(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){for(var i=[],n=[];r;)n.push(r.callback),i.push(r),r=r.next;t.pendingcb++,t.lastBufferedRequest=null,doWrite(e,t,!0,t.length,i,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)})}else{for(;r;){var f=r.chunk,o=r.encoding,u=r.callback,s=t.objectMode?1:f.length;if(doWrite(e,t,!1,s,f,o,u),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function prefinish(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,t){var r=needFinish(t);return r&&(0===t.pendingcb?(prefinish(e,t),t.finished=!0,e.emit("finish")):prefinish(e,t)),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?processNextTick(r):e.once("finish",r)),t.ended=!0}module.exports=Writable;var processNextTick=require("process-nextick-args"),Buffer=require("buffer").Buffer;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var Stream;!function(){try{Stream=require("stream")}catch(e){}finally{Stream||(Stream=require("events").EventEmitter)}}();var Buffer=require("buffer").Buffer;util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:require("util-deprecate")(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer() instead.")})}catch(e){}}(),Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(e,t,r){var i=this._writableState,n=!1;return"function"==typeof t&&(r=t,t=null),Buffer.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=nop),i.ended?writeAfterEnd(this,r):validChunk(this,i,e,r)&&(i.pendingcb++,n=writeOrBuffer(this,i,e,t,r)),n},Writable.prototype.cork=function(){var e=this._writableState;e.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},Writable.prototype._write=function(e,t,r){r(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||endWritable(this,i,r)};

},{"./_stream_duplex":39,"buffer":24,"core-util-is":44,"events":28,"inherits":30,"process-nextick-args":45,"stream":51,"util-deprecate":46}],44:[function(require,module,exports){
(function (Buffer){
function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function isBuffer(e){return Buffer.isBuffer(e)}function objectToString(e){return Object.prototype.toString.call(e)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=isBuffer;

}).call(this,{"isBuffer":require("../../../../insert-module-globals/node_modules/is-buffer/index.js")})

},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":31}],45:[function(require,module,exports){
(function (process){
"use strict";function nextTick(n){for(var e=new Array(arguments.length-1),t=0;t<e.length;)e[t++]=arguments[t];process.nextTick(function(){n.apply(null,e)})}module.exports=nextTick;

}).call(this,require('_process'))

},{"_process":33}],46:[function(require,module,exports){
(function (global){
function deprecate(r,e){function o(){if(!t){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}if(config("noDeprecation"))return r;var t=!1;return o}function config(r){try{if(!global.localStorage)return!1}catch(e){return!1}var o=global.localStorage[r];return null==o?!1:"true"===String(o).toLowerCase()}module.exports=deprecate;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],47:[function(require,module,exports){
module.exports=require("./lib/_stream_passthrough.js");

},{"./lib/_stream_passthrough.js":40}],48:[function(require,module,exports){
var Stream=function(){try{return require("stream")}catch(r){}}();exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");

},{"./lib/_stream_duplex.js":39,"./lib/_stream_passthrough.js":40,"./lib/_stream_readable.js":41,"./lib/_stream_transform.js":42,"./lib/_stream_writable.js":43,"stream":51}],49:[function(require,module,exports){
module.exports=require("./lib/_stream_transform.js");

},{"./lib/_stream_transform.js":42}],50:[function(require,module,exports){
module.exports=require("./lib/_stream_writable.js");

},{"./lib/_stream_writable.js":43}],51:[function(require,module,exports){
function Stream(){EE.call(this)}module.exports=Stream;var EE=require("events").EventEmitter,inherits=require("inherits");inherits(Stream,EE),Stream.Readable=require("readable-stream/readable.js"),Stream.Writable=require("readable-stream/writable.js"),Stream.Duplex=require("readable-stream/duplex.js"),Stream.Transform=require("readable-stream/transform.js"),Stream.PassThrough=require("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(e,r){function t(r){e.writable&&!1===e.write(r)&&m.pause&&m.pause()}function n(){m.readable&&m.resume&&m.resume()}function a(){u||(u=!0,e.end())}function o(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function i(e){if(s(),0===EE.listenerCount(this,"error"))throw e}function s(){m.removeListener("data",t),e.removeListener("drain",n),m.removeListener("end",a),m.removeListener("close",o),m.removeListener("error",i),e.removeListener("error",i),m.removeListener("end",s),m.removeListener("close",s),e.removeListener("close",s)}var m=this;m.on("data",t),e.on("drain",n),e._isStdio||r&&r.end===!1||(m.on("end",a),m.on("close",o));var u=!1;return m.on("error",i),e.on("error",i),m.on("end",s),m.on("close",s),e.on("close",s),e.emit("pipe",m),e};

},{"events":28,"inherits":30,"readable-stream/duplex.js":38,"readable-stream/passthrough.js":47,"readable-stream/readable.js":48,"readable-stream/transform.js":49,"readable-stream/writable.js":50}],52:[function(require,module,exports){
var ClientRequest=require("./lib/request"),extend=require("xtend"),statusCodes=require("builtin-status-codes"),url=require("url"),http=exports;http.request=function(t,e){t="string"==typeof t?url.parse(t):extend(t);var r=t.protocol||"",s=t.hostname||t.host,n=t.port,u=t.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),t.url=(s?r+"//"+s:"")+(n?":"+n:"")+u,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var C=new ClientRequest(t);return e&&C.on("response",e),C},http.get=function(t,e){var r=http.request(t,e);return r.end(),r},http.Agent=function(){},http.Agent.defaultMaxSockets=4,http.STATUS_CODES=statusCodes,http.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"];

},{"./lib/request":54,"builtin-status-codes":56,"url":62,"xtend":65}],53:[function(require,module,exports){
(function (global){
function checkTypeSupport(e){try{return xhr.responseType=e,xhr.responseType===e}catch(r){}return!1}function isFunction(e){return"function"==typeof e}exports.fetch=isFunction(global.fetch)&&isFunction(global.ReadableByteStream),exports.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),exports.blobConstructor=!0}catch(e){}var xhr=new global.XMLHttpRequest;xhr.open("GET",global.location.host?"/":"https://example.com");var haveArrayBuffer="undefined"!=typeof global.ArrayBuffer,haveSlice=haveArrayBuffer&&isFunction(global.ArrayBuffer.prototype.slice);exports.arraybuffer=haveArrayBuffer&&checkTypeSupport("arraybuffer"),exports.msstream=!exports.fetch&&haveSlice&&checkTypeSupport("ms-stream"),exports.mozchunkedarraybuffer=!exports.fetch&&haveArrayBuffer&&checkTypeSupport("moz-chunked-arraybuffer"),exports.overrideMimeType=isFunction(xhr.overrideMimeType),exports.vbArray=isFunction(global.VBArray),xhr=null;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],54:[function(require,module,exports){
(function (process,global,Buffer){
function decideMode(e){return capability.fetch?"fetch":capability.mozchunkedarraybuffer?"moz-chunked-arraybuffer":capability.msstream?"ms-stream":capability.arraybuffer&&e?"arraybuffer":capability.vbArray&&e?"text:vbarray":"text"}function statusValid(e){try{return null!==e.status}catch(t){return!1}}var capability=require("./capability"),foreach=require("foreach"),indexOf=require("indexof"),inherits=require("inherits"),keys=require("object-keys"),response=require("./response"),stream=require("stream"),IncomingMessage=response.IncomingMessage,rStates=response.readyStates,ClientRequest=module.exports=function(e){var t=this;stream.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new Buffer(e.auth).toString("base64")),foreach(keys(e.headers),function(r){t.setHeader(r,e.headers[r])});var r;if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!capability.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}t._mode=decideMode(r),t.on("finish",function(){t._onFinish()})};inherits(ClientRequest,stream.Writable),ClientRequest.prototype.setHeader=function(e,t){var r=this,o=e.toLowerCase();-1===indexOf(unsafeHeaders,o)&&(r._headers[o]={name:e,value:t})},ClientRequest.prototype.getHeader=function(e){var t=this;return t._headers[e.toLowerCase()].value},ClientRequest.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},ClientRequest.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t,r=e._opts,o=e._headers;if(("POST"===r.method||"PUT"===r.method)&&(t=capability.blobConstructor?new global.Blob(e._body.map(function(e){return e.toArrayBuffer()}),{type:(o["content-type"]||{}).value||""}):Buffer.concat(e._body).toString()),"fetch"===e._mode){var n=keys(o).map(function(e){return[o[e].name,o[e].value]});global.fetch(e._opts.url,{method:e._opts.method,headers:n,body:t,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t,e._connect()}).then(void 0,function(t){e.emit("error",t)})}else{var s=e._xhr=new global.XMLHttpRequest;try{s.open(e._opts.method,e._opts.url,!0)}catch(i){return void process.nextTick(function(){e.emit("error",i)})}"responseType"in s&&(s.responseType=e._mode.split(":")[0]),"withCredentials"in s&&(s.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),foreach(keys(o),function(e){s.setRequestHeader(o[e].name,o[e].value)}),e._response=null,s.onreadystatechange=function(){switch(s.readyState){case rStates.LOADING:case rStates.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(s.onprogress=function(){e._onXHRProgress()}),s.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{s.send(t)}catch(i){return void process.nextTick(function(){e.emit("error",i)})}}}},ClientRequest.prototype._onXHRProgress=function(){var e=this;statusValid(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},ClientRequest.prototype._connect=function(){var e=this;e._destroyed||(e._response=new IncomingMessage(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},ClientRequest.prototype._write=function(e,t,r){var o=this;o._body.push(e),r()},ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},ClientRequest.prototype.end=function(e,t,r){var o=this;"function"==typeof e&&(r=e,e=void 0),stream.Writable.prototype.end.call(o,e,t,r)},ClientRequest.prototype.flushHeaders=function(){},ClientRequest.prototype.setTimeout=function(){},ClientRequest.prototype.setNoDelay=function(){},ClientRequest.prototype.setSocketKeepAlive=function(){};var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)

},{"./capability":53,"./response":55,"_process":33,"buffer":24,"foreach":57,"indexof":58,"inherits":30,"object-keys":59,"stream":51}],55:[function(require,module,exports){
(function (process,global,Buffer){
var capability=require("./capability"),foreach=require("foreach"),inherits=require("inherits"),stream=require("stream"),rStates=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},IncomingMessage=exports.IncomingMessage=function(e,r,a){function s(){u.read().then(function(e){if(!t._destroyed){if(e.done)return void t.push(null);t.push(new Buffer(e.value)),s()}})}var t=this;if(stream.Readable.call(t),t._mode=a,t.headers={},t.rawHeaders=[],t.trailers={},t.rawTrailers=[],t.on("end",function(){process.nextTick(function(){t.emit("close")})}),"fetch"===a){t._fetchResponse=r,t.statusCode=r.status,t.statusMessage=r.statusText;for(var n,o,i=r.headers[Symbol.iterator]();n=(o=i.next()).value,!o.done;)t.headers[n[0].toLowerCase()]=n[1],t.rawHeaders.push(n[0],n[1]);var u=r.body.getReader();s()}else{t._xhr=e,t._pos=0,t.statusCode=e.status,t.statusMessage=e.statusText;var h=e.getAllResponseHeaders().split(/\r?\n/);if(foreach(h,function(e){var r=e.match(/^([^:]+):\s*(.*)/);if(r){var a=r[1].toLowerCase();void 0!==t.headers[a]?t.headers[a]+=", "+r[2]:t.headers[a]=r[2],t.rawHeaders.push(r[1],r[2])}}),t._charset="x-user-defined",!capability.overrideMimeType){var f=t.rawHeaders["mime-type"];if(f){var c=f.match(/;\s*charset=([^;])(;|$)/);c&&(t._charset=c[1].toLowerCase())}t._charset||(t._charset="utf-8")}}};inherits(IncomingMessage,stream.Readable),IncomingMessage.prototype._read=function(){},IncomingMessage.prototype._onXHRProgress=function(){var e=this,r=e._xhr,a=null;switch(e._mode){case"text:vbarray":if(r.readyState!==rStates.DONE)break;try{a=new global.VBArray(r.responseBody).toArray()}catch(s){}if(null!==a){e.push(new Buffer(a));break}case"text":try{a=r.responseText}catch(s){e._mode="text:vbarray";break}if(a.length>e._pos){var t=a.substr(e._pos);if("x-user-defined"===e._charset){for(var n=new Buffer(t.length),o=0;o<t.length;o++)n[o]=255&t.charCodeAt(o);e.push(n)}else e.push(t,e._charset);e._pos=a.length}break;case"arraybuffer":if(r.readyState!==rStates.DONE)break;a=r.response,e.push(new Buffer(new Uint8Array(a)));break;case"moz-chunked-arraybuffer":if(a=r.response,r.readyState!==rStates.LOADING||!a)break;e.push(new Buffer(new Uint8Array(a)));break;case"ms-stream":if(a=r.response,r.readyState!==rStates.LOADING)break;var i=new global.MSStreamReader;i.onprogress=function(){i.result.byteLength>e._pos&&(e.push(new Buffer(new Uint8Array(i.result.slice(e._pos)))),e._pos=i.result.byteLength)},i.onload=function(){e.push(null)},i.readAsArrayBuffer(a)}e._xhr.readyState===rStates.DONE&&"ms-stream"!==e._mode&&e.push(null)};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)

},{"./capability":53,"_process":33,"buffer":24,"foreach":57,"inherits":30,"stream":51}],56:[function(require,module,exports){
module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};

},{}],57:[function(require,module,exports){
var hasOwn=Object.prototype.hasOwnProperty,toString=Object.prototype.toString;module.exports=function(t,r,o){if("[object Function]"!==toString.call(r))throw new TypeError("iterator must be a function");var e=t.length;if(e===+e)for(var n=0;e>n;n++)r.call(o,t[n],n,t);else for(var a in t)hasOwn.call(t,a)&&r.call(o,t[a],a,t)};

},{}],58:[function(require,module,exports){
var indexOf=[].indexOf;module.exports=function(e,n){if(indexOf)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1};

},{}],59:[function(require,module,exports){
"use strict";var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,slice=Array.prototype.slice,isArgs=require("./isArguments"),hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),hasProtoEnumBug=function(){}.propertyIsEnumerable("prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(t){var r=t.constructor;return r&&r.prototype===t},blacklistedKeys={$console:!0,$frameElement:!0,$frames:!0,$parent:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!blacklistedKeys["$"+t]&&has.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{equalsConstructorPrototype(window[t])}catch(r){return!0}}catch(r){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(t){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(t);try{return equalsConstructorPrototype(t)}catch(r){return!1}},keysShim=function(t){var r=null!==t&&"object"==typeof t,e="[object Function]"===toStr.call(t),o=isArgs(t),n=r&&"[object String]"===toStr.call(t),s=[];if(!r&&!e&&!o)throw new TypeError("Object.keys called on a non-object");var u=hasProtoEnumBug&&e;if(n&&t.length>0&&!has.call(t,0))for(var i=0;i<t.length;++i)s.push(String(i));if(o&&t.length>0)for(var a=0;a<t.length;++a)s.push(String(a));else for(var c in t)u&&"prototype"===c||!has.call(t,c)||s.push(String(c));if(hasDontEnumBug)for(var l=equalsConstructorPrototypeIfNotBuggy(t),y=0;y<dontEnums.length;++y)l&&"constructor"===dontEnums[y]||!has.call(t,dontEnums[y])||s.push(dontEnums[y]);return s};keysShim.shim=function(){if(Object.keys){var t=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!t){var r=Object.keys;Object.keys=function(t){return r(isArgs(t)?slice.call(t):t)}}}else Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim;

},{"./isArguments":60}],60:[function(require,module,exports){
"use strict";var toStr=Object.prototype.toString;module.exports=function(t){var e=toStr.call(t),o="[object Arguments]"===e;return o||(o="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===toStr.call(t.callee)),o};

},{}],61:[function(require,module,exports){
function assertEncoding(e){if(e&&!isBufferEncoding(e))throw new Error("Unknown encoding: "+e)}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var Buffer=require("buffer").Buffer,isBufferEncoding=Buffer.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},StringDecoder=exports.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var h=t.charCodeAt(t.length-1);if(!(h>=55296&&56319>=h)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,h=t.charCodeAt(i);if(h>=55296&&56319>=h){var c=this.surrogateSize;return this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,c,0,c),e.copy(this.charBuffer,0,0,c),t.substring(0,i)}return t},StringDecoder.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(2>=t&&r>>4==14){this.charLength=3;break}if(3>=t&&r>>3==30){this.charLength=4;break}}this.charReceived=t},StringDecoder.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,h=this.charBuffer,i=this.encoding;t+=h.slice(0,r).toString(i)}return t};

},{"buffer":24}],62:[function(require,module,exports){
function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,s,e){if(t&&isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}function isString(t){return"string"==typeof t}function isObject(t){return"object"==typeof t&&null!==t}function isNull(t){return null===t}function isNullOrUndefined(t){return null==t}var punycode=require("punycode");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(t,s,e){if(!isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t;h=h.trim();var r=protocolPattern.exec(h);if(r){r=r[0];var o=r.toLowerCase();this.protocol=o,h=h.substr(r.length)}if(e||r||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===h.substr(0,2);!a||r&&hostlessProtocol[r]||(h=h.substr(2),this.slashes=!0)}if(!hostlessProtocol[r]&&(a||r&&!slashedProtocol[r])){for(var n=-1,i=0;i<hostEndingChars.length;i++){var l=h.indexOf(hostEndingChars[i]);-1!==l&&(-1===n||n>l)&&(n=l)}var c,u;u=-1===n?h.lastIndexOf("@"):h.lastIndexOf("@",n),-1!==u&&(c=h.slice(0,u),h=h.slice(u+1),this.auth=decodeURIComponent(c)),n=-1;for(var i=0;i<nonHostChars.length;i++){var l=h.indexOf(nonHostChars[i]);-1!==l&&(-1===n||n>l)&&(n=l)}-1===n&&(n=h.length),this.host=h.slice(0,n),h=h.slice(n),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var f=this.hostname.split(/\./),i=0,m=f.length;m>i;i++){var v=f[i];if(v&&!v.match(hostnamePartPattern)){for(var g="",y=0,d=v.length;d>y;y++)g+=v.charCodeAt(y)>127?"x":v[y];if(!g.match(hostnamePartPattern)){var P=f.slice(0,i),b=f.slice(i+1),j=v.match(hostnamePartStart);j&&(P.push(j[1]),b.unshift(j[2])),b.length&&(h="/"+b.join(".")+h),this.hostname=P.join(".");break}}}if(this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var O=this.hostname.split("."),q=[],i=0;i<O.length;++i){var x=O[i];q.push(x.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(x):x)}this.hostname=q.join(".")}var U=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+U,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!unsafeProtocol[o])for(var i=0,m=autoEscape.length;m>i;i++){var A=autoEscape[i],E=encodeURIComponent(A);E===A&&(E=escape(A)),h=h.split(A).join(E)}var w=h.indexOf("#");-1!==w&&(this.hash=h.substr(w),h=h.slice(0,w));var R=h.indexOf("?");if(-1!==R?(this.search=h.substr(R),this.query=h.substr(R+1),s&&(this.query=querystring.parse(this.query)),h=h.slice(0,R)):s&&(this.search="",this.query={}),h&&(this.pathname=h),slashedProtocol[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",x=this.search||"";this.path=U+x}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&isObject(this.query)&&Object.keys(this.query).length&&(o=querystring.stringify(this.query));var a=this.search||o&&"?"+o||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&r!==!1?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),a&&"?"!==a.charAt(0)&&(a="?"+a),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),s+r+e+a+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}var e=new Url;if(Object.keys(this).forEach(function(t){e[t]=this[t]},this),e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(s){"protocol"!==s&&(e[s]=t[s])}),slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e;if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol])return Object.keys(t).forEach(function(s){e[s]=t[s]}),e.href=e.format(),e;if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),e.pathname=h.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var r=e.pathname||"",o=e.search||"";e.path=r+o}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var a=e.pathname&&"/"===e.pathname.charAt(0),n=t.host||t.pathname&&"/"===t.pathname.charAt(0),i=n||a||e.host&&t.pathname,l=i,c=e.pathname&&e.pathname.split("/")||[],h=t.pathname&&t.pathname.split("/")||[],u=e.protocol&&!slashedProtocol[e.protocol];if(u&&(e.hostname="",e.port=null,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),i=i&&(""===h[0]||""===c[0])),n)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,c=h;else if(h.length)c||(c=[]),c.pop(),c=c.concat(h),e.search=t.search,e.query=t.query;else if(!isNullOrUndefined(t.search)){if(u){e.hostname=e.host=c.shift();var p=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;p&&(e.auth=p.shift(),e.host=e.hostname=p.shift())}return e.search=t.search,e.query=t.query,isNull(e.pathname)&&isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!c.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var f=c.slice(-1)[0],m=(e.host||t.host)&&("."===f||".."===f)||""===f,v=0,g=c.length;g>=0;g--)f=c[g],"."==f?c.splice(g,1):".."===f?(c.splice(g,1),v++):v&&(c.splice(g,1),v--);if(!i&&!l)for(;v--;v)c.unshift("..");!i||""===c[0]||c[0]&&"/"===c[0].charAt(0)||c.unshift(""),m&&"/"!==c.join("/").substr(-1)&&c.push("");var y=""===c[0]||c[0]&&"/"===c[0].charAt(0);if(u){e.hostname=e.host=y?"":c.length?c.shift():"";var p=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;p&&(e.auth=p.shift(),e.host=e.hostname=p.shift())}return i=i||e.host&&c.length,i&&!y&&c.unshift(""),c.length?e.pathname=c.join("/"):(e.pathname=null,e.path=null),isNull(e.pathname)&&isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};

},{"punycode":34,"querystring":37}],63:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};

},{}],64:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var a="",c=!1,l=["{","}"];if(isArray(r)&&(c=!0,l=["[","]"]),isFunction(r)){var p=r.name?": "+r.name:"";a=" [Function"+p+"]"}if(isRegExp(r)&&(a=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(a=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(a=" "+formatError(r)),0===o.length&&(!c||0==r.length))return l[0]+a+l[1];if(0>t)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var f;return f=c?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,c)}),e.seen.pop(),reduceToSingleString(f,a,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;u>s;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,a;if(a=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},a.get?u=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(a.value)<0?(u=isNull(t)?formatValue(e,a.value,null):formatValue(e,a.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0,i=e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return 10>e?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(r){return"[Circular]"}default:return e}}),s=n[t];i>t;s=n[++t])o+=isNull(s)||!isObject(s)?" "+s:" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(process.noDeprecation===!0)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":63,"_process":33,"inherits":30}],65:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var n=arguments[e];for(var t in n)n.hasOwnProperty(t)&&(r[t]=n[t])}return r}module.exports=extend;

},{}],66:[function(require,module,exports){
!function(){"use strict";function e(){for(var r="",t=0;t<arguments.length;t++){var f=arguments[t];if(f){var o=typeof f;if("string"===o||"number"===o)r+=" "+f;else if(Array.isArray(f))r+=" "+e.apply(null,f);else if("object"===o)for(var s in f)n.call(f,s)&&f[s]&&(r+=" "+s)}}return r.substr(1)}var n={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",function(){return e}):window.classNames=e}();

},{}],67:[function(require,module,exports){
function parse(e,r){if("string"!=typeof e)throw new TypeError("argument str must be a string");var t={},i=r||{},n=e.split(pairSplitRegExp),o=i.decode||decode;return n.forEach(function(e){var r=e.indexOf("=");if(!(0>r)){var i=e.substr(0,r).trim(),n=e.substr(++r,e.length).trim();'"'==n[0]&&(n=n.slice(1,-1)),void 0==t[i]&&(t[i]=tryDecode(n,o))}}),t}function serialize(e,r,t){var i=t||{},n=i.encode||encode;if(!fieldContentRegExp.test(e))throw new TypeError("argument name is invalid");var o=n(r);if(o&&!fieldContentRegExp.test(o))throw new TypeError("argument val is invalid");var a=[e+"="+o];if(null!=i.maxAge){var p=i.maxAge-0;if(isNaN(p))throw new Error("maxAge should be a Number");a.push("Max-Age="+p)}if(i.domain){if(!fieldContentRegExp.test(i.domain))throw new TypeError("option domain is invalid");a.push("Domain="+i.domain)}if(i.path){if(!fieldContentRegExp.test(i.path))throw new TypeError("option path is invalid");a.push("Path="+i.path)}return i.expires&&a.push("Expires="+i.expires.toUTCString()),i.httpOnly&&a.push("HttpOnly"),i.secure&&a.push("Secure"),i.firstPartyOnly&&a.push("First-Party-Only"),a.join("; ")}function tryDecode(e,r){try{return r(e)}catch(t){return e}}exports.parse=parse,exports.serialize=serialize;var decode=decodeURIComponent,encode=encodeURIComponent,pairSplitRegExp=/; */,fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;

},{}],68:[function(require,module,exports){
"use strict";module.exports=require("./lib");

},{"./lib":73}],69:[function(require,module,exports){
"use strict";function noop(){}function getThen(e){try{return e.then}catch(n){return LAST_ERROR=n,IS_ERROR}}function tryCallOne(e,n){try{return e(n)}catch(t){return LAST_ERROR=t,IS_ERROR}}function tryCallTwo(e,n,t){try{e(n,t)}catch(o){return LAST_ERROR=o,IS_ERROR}}function Promise(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._37=0,this._12=null,this._59=[],e!==noop&&doResolve(e,this)}function safeThen(e,n,t){return new e.constructor(function(o,r){var i=new Promise(noop);i.then(o,r),handle(e,new Handler(n,t,i))})}function handle(e,n){for(;3===e._37;)e=e._12;return 0===e._37?void e._59.push(n):void asap(function(){var t=1===e._37?n.onFulfilled:n.onRejected;if(null===t)return void(1===e._37?resolve(n.promise,e._12):reject(n.promise,e._12));var o=tryCallOne(t,e._12);o===IS_ERROR?reject(n.promise,LAST_ERROR):resolve(n.promise,o)})}function resolve(e,n){if(n===e)return reject(e,new TypeError("A promise cannot be resolved with itself."));if(n&&("object"==typeof n||"function"==typeof n)){var t=getThen(n);if(t===IS_ERROR)return reject(e,LAST_ERROR);if(t===e.then&&n instanceof Promise)return e._37=3,e._12=n,void finale(e);if("function"==typeof t)return void doResolve(t.bind(n),e)}e._37=1,e._12=n,finale(e)}function reject(e,n){e._37=2,e._12=n,finale(e)}function finale(e){for(var n=0;n<e._59.length;n++)handle(e,e._59[n]);e._59=null}function Handler(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}function doResolve(e,n){var t=!1,o=tryCallTwo(e,function(e){t||(t=!0,resolve(n,e))},function(e){t||(t=!0,reject(n,e))});t||o!==IS_ERROR||(t=!0,reject(n,LAST_ERROR))}var asap=require("asap/raw"),LAST_ERROR=null,IS_ERROR={};module.exports=Promise,Promise._99=noop,Promise.prototype.then=function(e,n){if(this.constructor!==Promise)return safeThen(this,e,n);var t=new Promise(noop);return handle(this,new Handler(e,n,t)),t};

},{"asap/raw":76}],70:[function(require,module,exports){
"use strict";var Promise=require("./core.js");module.exports=Promise,Promise.prototype.done=function(t,e){var o=arguments.length?this.then.apply(this,arguments):this;o.then(null,function(t){setTimeout(function(){throw t},0)})};

},{"./core.js":69}],71:[function(require,module,exports){
"use strict";function valuePromise(e){var r=new Promise(Promise._99);return r._37=1,r._12=e,r}var Promise=require("./core.js");module.exports=Promise;var TRUE=valuePromise(!0),FALSE=valuePromise(!1),NULL=valuePromise(null),UNDEFINED=valuePromise(void 0),ZERO=valuePromise(0),EMPTYSTRING=valuePromise("");Promise.resolve=function(e){if(e instanceof Promise)return e;if(null===e)return NULL;if(void 0===e)return UNDEFINED;if(e===!0)return TRUE;if(e===!1)return FALSE;if(0===e)return ZERO;if(""===e)return EMPTYSTRING;if("object"==typeof e||"function"==typeof e)try{var r=e.then;if("function"==typeof r)return new Promise(r.bind(e))}catch(n){return new Promise(function(e,r){r(n)})}return valuePromise(e)},Promise.all=function(e){var r=Array.prototype.slice.call(e);return new Promise(function(e,n){function o(i,u){if(u&&("object"==typeof u||"function"==typeof u)){if(u instanceof Promise&&u.then===Promise.prototype.then){for(;3===u._37;)u=u._12;return 1===u._37?o(i,u._12):(2===u._37&&n(u._12),void u.then(function(e){o(i,e)},n))}var f=u.then;if("function"==typeof f){var s=new Promise(f.bind(u));return void s.then(function(e){o(i,e)},n)}}r[i]=u,0===--t&&e(r)}if(0===r.length)return e([]);for(var t=r.length,i=0;i<r.length;i++)o(i,r[i])})},Promise.reject=function(e){return new Promise(function(r,n){n(e)})},Promise.race=function(e){return new Promise(function(r,n){e.forEach(function(e){Promise.resolve(e).then(r,n)})})},Promise.prototype["catch"]=function(e){return this.then(null,e)};

},{"./core.js":69}],72:[function(require,module,exports){
"use strict";var Promise=require("./core.js");module.exports=Promise,Promise.prototype["finally"]=function(e){return this.then(function(r){return Promise.resolve(e()).then(function(){return r})},function(r){return Promise.resolve(e()).then(function(){throw r})})};

},{"./core.js":69}],73:[function(require,module,exports){
"use strict";module.exports=require("./core.js"),require("./done.js"),require("./finally.js"),require("./es6-extensions.js"),require("./node-extensions.js");

},{"./core.js":69,"./done.js":70,"./es6-extensions.js":71,"./finally.js":72,"./node-extensions.js":74}],74:[function(require,module,exports){
"use strict";var Promise=require("./core.js"),asap=require("asap");module.exports=Promise,Promise.denodeify=function(n,t){return t=t||1/0,function(){var e=this,o=Array.prototype.slice.call(arguments,0,t>0?t:0);return new Promise(function(t,i){o.push(function(n,e){n?i(n):t(e)});var r=n.apply(e,o);!r||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then||t(r)})}},Promise.nodeify=function(n){return function(){var t=Array.prototype.slice.call(arguments),e="function"==typeof t[t.length-1]?t.pop():null,o=this;try{return n.apply(this,arguments).nodeify(e,o)}catch(i){if(null===e||"undefined"==typeof e)return new Promise(function(n,t){t(i)});asap(function(){e.call(o,i)})}}},Promise.prototype.nodeify=function(n,t){return"function"!=typeof n?this:void this.then(function(e){asap(function(){n.call(t,null,e)})},function(e){asap(function(){n.call(t,e)})})};

},{"./core.js":69,"asap":75}],75:[function(require,module,exports){
"use strict";function throwFirstError(){if(pendingErrors.length)throw pendingErrors.shift()}function asap(r){var s;s=freeTasks.length?freeTasks.pop():new RawTask,s.task=r,rawAsap(s)}function RawTask(){this.task=null}var rawAsap=require("./raw"),freeTasks=[],pendingErrors=[],requestErrorThrow=rawAsap.makeRequestCallFromTimer(throwFirstError);module.exports=asap,RawTask.prototype.call=function(){try{this.task.call()}catch(r){asap.onerror?asap.onerror(r):(pendingErrors.push(r),requestErrorThrow())}finally{this.task=null,freeTasks[freeTasks.length]=this}};

},{"./raw":76}],76:[function(require,module,exports){
(function (global){
"use strict";function rawAsap(e){queue.length||(requestFlush(),flushing=!0),queue[queue.length]=e}function flush(){for(;index<queue.length;){var e=index;if(index+=1,queue[e].call(),index>capacity){for(var u=0,r=queue.length-index;r>u;u++)queue[u]=queue[u+index];queue.length-=index,index=0}}queue.length=0,index=0,flushing=!1}function makeRequestCallFromMutationObserver(e){var u=1,r=new BrowserMutationObserver(e),t=document.createTextNode("");return r.observe(t,{characterData:!0}),function(){u=-u,t.data=u}}function makeRequestCallFromTimer(e){return function(){function u(){clearTimeout(r),clearInterval(t),e()}var r=setTimeout(u,0),t=setInterval(u,50)}}module.exports=rawAsap;var queue=[],flushing=!1,requestFlush,index=0,capacity=1024,BrowserMutationObserver=global.MutationObserver||global.WebKitMutationObserver;requestFlush="function"==typeof BrowserMutationObserver?makeRequestCallFromMutationObserver(flush):makeRequestCallFromTimer(flush),rawAsap.requestFlush=requestFlush,rawAsap.makeRequestCallFromTimer=makeRequestCallFromTimer;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],77:[function(require,module,exports){
module.exports=require("./lib/ReactWithAddons");

},{"./lib/ReactWithAddons":177}],78:[function(require,module,exports){
"use strict";var focusNode=require("./focusNode"),AutoFocusMixin={componentDidMount:function(){this.props.autoFocus&&focusNode(this.getDOMNode())}};module.exports=AutoFocusMixin;

},{"./focusNode":211}],79:[function(require,module,exports){
"use strict";function isPresto(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function isKeypressCommand(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function getCompositionEventType(e){switch(e){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate}}function isFallbackCompositionStart(e,t){return e===topLevelTypes.topKeyDown&&t.keyCode===START_KEYCODE}function isFallbackCompositionEnd(e,t){switch(e){case topLevelTypes.topKeyUp:return-1!==END_KEYCODES.indexOf(t.keyCode);case topLevelTypes.topKeyDown:return t.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return!0;default:return!1}}function getDataFromCustomEvent(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function extractCompositionEvent(e,t,o,n){var p,s;if(canUseCompositionEvent?p=getCompositionEventType(e):currentComposition?isFallbackCompositionEnd(e,n)&&(p=eventTypes.compositionEnd):isFallbackCompositionStart(e,n)&&(p=eventTypes.compositionStart),!p)return null;useFallbackCompositionData&&(currentComposition||p!==eventTypes.compositionStart?p===eventTypes.compositionEnd&&currentComposition&&(s=currentComposition.getData()):currentComposition=FallbackCompositionState.getPooled(t));var i=SyntheticCompositionEvent.getPooled(p,o,n);if(s)i.data=s;else{var r=getDataFromCustomEvent(n);null!==r&&(i.data=r)}return EventPropagators.accumulateTwoPhaseDispatches(i),i}function getNativeBeforeInputChars(e,t){switch(e){case topLevelTypes.topCompositionEnd:return getDataFromCustomEvent(t);case topLevelTypes.topKeyPress:var o=t.which;return o!==SPACEBAR_CODE?null:(hasSpaceKeypress=!0,SPACEBAR_CHAR);case topLevelTypes.topTextInput:var n=t.data;return n===SPACEBAR_CHAR&&hasSpaceKeypress?null:n;default:return null}}function getFallbackBeforeInputChars(e,t){if(currentComposition){if(e===topLevelTypes.topCompositionEnd||isFallbackCompositionEnd(e,t)){var o=currentComposition.getData();return FallbackCompositionState.release(currentComposition),currentComposition=null,o}return null}switch(e){case topLevelTypes.topPaste:return null;case topLevelTypes.topKeyPress:return t.which&&!isKeypressCommand(t)?String.fromCharCode(t.which):null;case topLevelTypes.topCompositionEnd:return useFallbackCompositionData?null:t.data;default:return null}}function extractBeforeInputEvent(e,t,o,n){var p;if(p=canUseTextInputEvent?getNativeBeforeInputChars(e,n):getFallbackBeforeInputChars(e,n),!p)return null;var s=SyntheticInputEvent.getPooled(eventTypes.beforeInput,o,n);return s.data=p,EventPropagators.accumulateTwoPhaseDispatches(s),s}var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),ExecutionEnvironment=require("./ExecutionEnvironment"),FallbackCompositionState=require("./FallbackCompositionState"),SyntheticCompositionEvent=require("./SyntheticCompositionEvent"),SyntheticInputEvent=require("./SyntheticInputEvent"),keyOf=require("./keyOf"),END_KEYCODES=[9,13,27,32],START_KEYCODE=229,canUseCompositionEvent=ExecutionEnvironment.canUseDOM&&"CompositionEvent"in window,documentMode=null;ExecutionEnvironment.canUseDOM&&"documentMode"in document&&(documentMode=document.documentMode);var canUseTextInputEvent=ExecutionEnvironment.canUseDOM&&"TextEvent"in window&&!documentMode&&!isPresto(),useFallbackCompositionData=ExecutionEnvironment.canUseDOM&&(!canUseCompositionEvent||documentMode&&documentMode>8&&11>=documentMode),SPACEBAR_CODE=32,SPACEBAR_CHAR=String.fromCharCode(SPACEBAR_CODE),topLevelTypes=EventConstants.topLevelTypes,eventTypes={beforeInput:{phasedRegistrationNames:{bubbled:keyOf({onBeforeInput:null}),captured:keyOf({onBeforeInputCapture:null})},dependencies:[topLevelTypes.topCompositionEnd,topLevelTypes.topKeyPress,topLevelTypes.topTextInput,topLevelTypes.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}},hasSpaceKeypress=!1,currentComposition=null,BeforeInputEventPlugin={eventTypes:eventTypes,extractEvents:function(e,t,o,n){return[extractCompositionEvent(e,t,o,n),extractBeforeInputEvent(e,t,o,n)]}};module.exports=BeforeInputEventPlugin;

},{"./EventConstants":92,"./EventPropagators":97,"./ExecutionEnvironment":98,"./FallbackCompositionState":99,"./SyntheticCompositionEvent":183,"./SyntheticInputEvent":187,"./keyOf":234}],80:[function(require,module,exports){
(function (process){
var invariant=require("./invariant"),CSSCore={addClass:function(s,a){return"production"!==process.env.NODE_ENV?invariant(!/\s/.test(a),'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',a):invariant(!/\s/.test(a)),a&&(s.classList?s.classList.add(a):CSSCore.hasClass(s,a)||(s.className=s.className+" "+a)),s},removeClass:function(s,a){return"production"!==process.env.NODE_ENV?invariant(!/\s/.test(a),'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',a):invariant(!/\s/.test(a)),a&&(s.classList?s.classList.remove(a):CSSCore.hasClass(s,a)&&(s.className=s.className.replace(new RegExp("(^|\\s)"+a+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),s},conditionClass:function(s,a,e){return(e?CSSCore.addClass:CSSCore.removeClass)(s,a)},hasClass:function(s,a){return"production"!==process.env.NODE_ENV?invariant(!/\s/.test(a),"CSS.hasClass takes only a single class name."):invariant(!/\s/.test(a)),s.classList?!!a&&s.classList.contains(a):(" "+s.className+" ").indexOf(" "+a+" ")>-1}};module.exports=CSSCore;

}).call(this,require('_process'))

},{"./invariant":227,"_process":33}],81:[function(require,module,exports){
"use strict";function prefixKey(o,r){return o+r.charAt(0).toUpperCase()+r.substring(1)}var isUnitlessNumber={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},prefixes=["Webkit","ms","Moz","O"];Object.keys(isUnitlessNumber).forEach(function(o){prefixes.forEach(function(r){isUnitlessNumber[prefixKey(r,o)]=isUnitlessNumber[o]})});var shorthandPropertyExpansions={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};module.exports=CSSProperty;

},{}],82:[function(require,module,exports){
(function (process){
"use strict";var CSSProperty=require("./CSSProperty"),ExecutionEnvironment=require("./ExecutionEnvironment"),camelizeStyleName=require("./camelizeStyleName"),dangerousStyleValue=require("./dangerousStyleValue"),hyphenateStyleName=require("./hyphenateStyleName"),memoizeStringOnly=require("./memoizeStringOnly"),warning=require("./warning"),processStyleName=memoizeStringOnly(function(e){return hyphenateStyleName(e)}),styleFloatAccessor="cssFloat";if(ExecutionEnvironment.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(styleFloatAccessor="styleFloat"),"production"!==process.env.NODE_ENV)var badVendoredStyleNamePattern=/^(?:webkit|moz|o)[A-Z]/,badStyleValueWithSemicolonPattern=/;\s*$/,warnedStyleNames={},warnedStyleValues={},warnHyphenatedStyleName=function(e){warnedStyleNames.hasOwnProperty(e)&&warnedStyleNames[e]||(warnedStyleNames[e]=!0,"production"!==process.env.NODE_ENV?warning(!1,"Unsupported style property %s. Did you mean %s?",e,camelizeStyleName(e)):null)},warnBadVendoredStyleName=function(e){warnedStyleNames.hasOwnProperty(e)&&warnedStyleNames[e]||(warnedStyleNames[e]=!0,"production"!==process.env.NODE_ENV?warning(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)):null)},warnStyleValueWithSemicolon=function(e,r){warnedStyleValues.hasOwnProperty(r)&&warnedStyleValues[r]||(warnedStyleValues[r]=!0,"production"!==process.env.NODE_ENV?warning(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,r.replace(badStyleValueWithSemicolonPattern,"")):null)},warnValidStyle=function(e,r){e.indexOf("-")>-1?warnHyphenatedStyleName(e):badVendoredStyleNamePattern.test(e)?warnBadVendoredStyleName(e):badStyleValueWithSemicolonPattern.test(r)&&warnStyleValueWithSemicolon(e,r)};var CSSPropertyOperations={createMarkupForStyles:function(e){var r="";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];"production"!==process.env.NODE_ENV&&warnValidStyle(t,n),null!=n&&(r+=processStyleName(t)+":",r+=dangerousStyleValue(t,n)+";")}return r||null},setValueForStyles:function(e,r){var t=e.style;for(var n in r)if(r.hasOwnProperty(n)){"production"!==process.env.NODE_ENV&&warnValidStyle(n,r[n]);var a=dangerousStyleValue(n,r[n]);if("float"===n&&(n=styleFloatAccessor),a)t[n]=a;else{var o=CSSProperty.shorthandPropertyExpansions[n];if(o)for(var l in o)t[l]="";else t[n]=""}}}};module.exports=CSSPropertyOperations;

}).call(this,require('_process'))

},{"./CSSProperty":81,"./ExecutionEnvironment":98,"./camelizeStyleName":198,"./dangerousStyleValue":205,"./hyphenateStyleName":225,"./memoizeStringOnly":236,"./warning":248,"_process":33}],83:[function(require,module,exports){
(function (process){
"use strict";function CallbackQueue(){this._callbacks=null,this._contexts=null}var PooledClass=require("./PooledClass"),assign=require("./Object.assign"),invariant=require("./invariant");assign(CallbackQueue.prototype,{enqueue:function(t,l){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(l)},notifyAll:function(){var t=this._callbacks,l=this._contexts;if(t){"production"!==process.env.NODE_ENV?invariant(t.length===l.length,"Mismatched list of contexts in callback queue"):invariant(t.length===l.length),this._callbacks=null,this._contexts=null;for(var s=0,e=t.length;e>s;s++)t[s].call(l[s]);t.length=0,l.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),PooledClass.addPoolingTo(CallbackQueue),module.exports=CallbackQueue;

}).call(this,require('_process'))

},{"./Object.assign":105,"./PooledClass":106,"./invariant":227,"_process":33}],84:[function(require,module,exports){
"use strict";function shouldUseChangeEvent(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function manualDispatchChangeEvent(e){var t=SyntheticEvent.getPooled(eventTypes.change,activeElementID,e);EventPropagators.accumulateTwoPhaseDispatches(t),ReactUpdates.batchedUpdates(runEventInBatch,t)}function runEventInBatch(e){EventPluginHub.enqueueEvents(e),EventPluginHub.processEventQueue()}function startWatchingForChangeEventIE8(e,t){activeElement=e,activeElementID=t,activeElement.attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){activeElement&&(activeElement.detachEvent("onchange",manualDispatchChangeEvent),activeElement=null,activeElementID=null)}function getTargetIDForChangeEvent(e,t,n){return e===topLevelTypes.topChange?n:void 0}function handleEventsForChangeEventIE8(e,t,n){e===topLevelTypes.topFocus?(stopWatchingForChangeEventIE8(),startWatchingForChangeEventIE8(t,n)):e===topLevelTypes.topBlur&&stopWatchingForChangeEventIE8()}function startWatchingForValueChange(e,t){activeElement=e,activeElementID=t,activeElementValue=e.value,activeElementValueProp=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(activeElement,"value",newValueProp),activeElement.attachEvent("onpropertychange",handlePropertyChange)}function stopWatchingForValueChange(){activeElement&&(delete activeElement.value,activeElement.detachEvent("onpropertychange",handlePropertyChange),activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null)}function handlePropertyChange(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==activeElementValue&&(activeElementValue=t,manualDispatchChangeEvent(e))}}function getTargetIDForInputEvent(e,t,n){return e===topLevelTypes.topInput?n:void 0}function handleEventsForInputEventIE(e,t,n){e===topLevelTypes.topFocus?(stopWatchingForValueChange(),startWatchingForValueChange(t,n)):e===topLevelTypes.topBlur&&stopWatchingForValueChange()}function getTargetIDForInputEventIE(e,t,n){return e!==topLevelTypes.topSelectionChange&&e!==topLevelTypes.topKeyUp&&e!==topLevelTypes.topKeyDown||!activeElement||activeElement.value===activeElementValue?void 0:(activeElementValue=activeElement.value,activeElementID)}function shouldUseClickEvent(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function getTargetIDForClickEvent(e,t,n){return e===topLevelTypes.topClick?n:void 0}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),EventPropagators=require("./EventPropagators"),ExecutionEnvironment=require("./ExecutionEnvironment"),ReactUpdates=require("./ReactUpdates"),SyntheticEvent=require("./SyntheticEvent"),isEventSupported=require("./isEventSupported"),isTextInputElement=require("./isTextInputElement"),keyOf=require("./keyOf"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null,doesChangeEventBubble=!1;ExecutionEnvironment.canUseDOM&&(doesChangeEventBubble=isEventSupported("change")&&(!("documentMode"in document)||document.documentMode>8));var isInputEventSupported=!1;ExecutionEnvironment.canUseDOM&&(isInputEventSupported=isEventSupported("input")&&(!("documentMode"in document)||document.documentMode>9));var newValueProp={get:function(){return activeElementValueProp.get.call(this)},set:function(e){activeElementValue=""+e,activeElementValueProp.set.call(this,e)}},ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(e,t,n,a){var o,l;if(shouldUseChangeEvent(t)?doesChangeEventBubble?o=getTargetIDForChangeEvent:l=handleEventsForChangeEventIE8:isTextInputElement(t)?isInputEventSupported?o=getTargetIDForInputEvent:(o=getTargetIDForInputEventIE,l=handleEventsForInputEventIE):shouldUseClickEvent(t)&&(o=getTargetIDForClickEvent),o){var u=o(e,t,n);if(u){var v=SyntheticEvent.getPooled(eventTypes.change,u,a);return EventPropagators.accumulateTwoPhaseDispatches(v),v}}l&&l(e,t,n)}};module.exports=ChangeEventPlugin;

},{"./EventConstants":92,"./EventPluginHub":94,"./EventPropagators":97,"./ExecutionEnvironment":98,"./ReactUpdates":176,"./SyntheticEvent":185,"./isEventSupported":228,"./isTextInputElement":230,"./keyOf":234}],85:[function(require,module,exports){
"use strict";var nextReactRootIndex=0,ClientReactRootIndex={createReactRootIndex:function(){return nextReactRootIndex++}};module.exports=ClientReactRootIndex;

},{}],86:[function(require,module,exports){
(function (process){
"use strict";function insertChildAt(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var Danger=require("./Danger"),ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes"),setTextContent=require("./setTextContent"),invariant=require("./invariant"),DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:Danger.dangerouslyReplaceNodeWithMarkup,updateTextContent:setTextContent,processUpdates:function(e,t){for(var n,a=null,r=null,i=0;i<e.length;i++)if(n=e[i],n.type===ReactMultiChildUpdateTypes.MOVE_EXISTING||n.type===ReactMultiChildUpdateTypes.REMOVE_NODE){var s=n.fromIndex,d=n.parentNode.childNodes[s],l=n.parentID;"production"!==process.env.NODE_ENV?invariant(d,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",s,l):invariant(d),a=a||{},a[l]=a[l]||[],a[l][s]=d,r=r||[],r.push(d)}var o=Danger.dangerouslyRenderMarkup(t);if(r)for(var p=0;p<r.length;p++)r[p].parentNode.removeChild(r[p]);for(var u=0;u<e.length;u++)switch(n=e[u],n.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertChildAt(n.parentNode,o[n.markupIndex],n.toIndex);break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:insertChildAt(n.parentNode,a[n.parentID][n.fromIndex],n.toIndex);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:setTextContent(n.parentNode,n.textContent);break;case ReactMultiChildUpdateTypes.REMOVE_NODE:}}};module.exports=DOMChildrenOperations;

}).call(this,require('_process'))

},{"./Danger":89,"./ReactMultiChildUpdateTypes":155,"./invariant":227,"./setTextContent":242,"_process":33}],87:[function(require,module,exports){
(function (process){
"use strict";function checkMask(e,t){return(e&t)===t}var invariant=require("./invariant"),DOMPropertyInjection={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},r=e.DOMAttributeNames||{},o=e.DOMPropertyNames||{},a=e.DOMMutationMethods||{};e.isCustomAttribute&&DOMProperty._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var n in t){"production"!==process.env.NODE_ENV?invariant(!DOMProperty.isStandardName.hasOwnProperty(n),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",n):invariant(!DOMProperty.isStandardName.hasOwnProperty(n)),DOMProperty.isStandardName[n]=!0;var i=n.toLowerCase();if(DOMProperty.getPossibleStandardName[i]=n,r.hasOwnProperty(n)){var s=r[n];DOMProperty.getPossibleStandardName[s]=n,DOMProperty.getAttributeName[n]=s}else DOMProperty.getAttributeName[n]=i;DOMProperty.getPropertyName[n]=o.hasOwnProperty(n)?o[n]:n,a.hasOwnProperty(n)?DOMProperty.getMutationMethod[n]=a[n]:DOMProperty.getMutationMethod[n]=null;var u=t[n];DOMProperty.mustUseAttribute[n]=checkMask(u,DOMPropertyInjection.MUST_USE_ATTRIBUTE),DOMProperty.mustUseProperty[n]=checkMask(u,DOMPropertyInjection.MUST_USE_PROPERTY),DOMProperty.hasSideEffects[n]=checkMask(u,DOMPropertyInjection.HAS_SIDE_EFFECTS),DOMProperty.hasBooleanValue[n]=checkMask(u,DOMPropertyInjection.HAS_BOOLEAN_VALUE),DOMProperty.hasNumericValue[n]=checkMask(u,DOMPropertyInjection.HAS_NUMERIC_VALUE),DOMProperty.hasPositiveNumericValue[n]=checkMask(u,DOMPropertyInjection.HAS_POSITIVE_NUMERIC_VALUE),DOMProperty.hasOverloadedBooleanValue[n]=checkMask(u,DOMPropertyInjection.HAS_OVERLOADED_BOOLEAN_VALUE),"production"!==process.env.NODE_ENV?invariant(!DOMProperty.mustUseAttribute[n]||!DOMProperty.mustUseProperty[n],"DOMProperty: Cannot require using both attribute and property: %s",n):invariant(!DOMProperty.mustUseAttribute[n]||!DOMProperty.mustUseProperty[n]),"production"!==process.env.NODE_ENV?invariant(DOMProperty.mustUseProperty[n]||!DOMProperty.hasSideEffects[n],"DOMProperty: Properties that have side effects must use property: %s",n):invariant(DOMProperty.mustUseProperty[n]||!DOMProperty.hasSideEffects[n]),"production"!==process.env.NODE_ENV?invariant(!!DOMProperty.hasBooleanValue[n]+!!DOMProperty.hasNumericValue[n]+!!DOMProperty.hasOverloadedBooleanValue[n]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",n):invariant(!!DOMProperty.hasBooleanValue[n]+!!DOMProperty.hasNumericValue[n]+!!DOMProperty.hasOverloadedBooleanValue[n]<=1)}}},defaultValueCache={},DOMProperty={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<DOMProperty._isCustomAttributeFunctions.length;t++){var r=DOMProperty._isCustomAttributeFunctions[t];if(r(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var r,o=defaultValueCache[e];return o||(defaultValueCache[e]=o={}),t in o||(r=document.createElement(e),o[t]=r[t]),o[t]},injection:DOMPropertyInjection};module.exports=DOMProperty;

}).call(this,require('_process'))

},{"./invariant":227,"_process":33}],88:[function(require,module,exports){
(function (process){
"use strict";function shouldIgnoreValue(r,e){return null==e||DOMProperty.hasBooleanValue[r]&&!e||DOMProperty.hasNumericValue[r]&&isNaN(e)||DOMProperty.hasPositiveNumericValue[r]&&1>e||DOMProperty.hasOverloadedBooleanValue[r]&&e===!1}var DOMProperty=require("./DOMProperty"),quoteAttributeValueForBrowser=require("./quoteAttributeValueForBrowser"),warning=require("./warning");if("production"!==process.env.NODE_ENV)var reactProps={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},warnedProperties={},warnUnknownProperty=function(r){if(!(reactProps.hasOwnProperty(r)&&reactProps[r]||warnedProperties.hasOwnProperty(r)&&warnedProperties[r])){warnedProperties[r]=!0;var e=r.toLowerCase(),t=DOMProperty.isCustomAttribute(e)?e:DOMProperty.getPossibleStandardName.hasOwnProperty(e)?DOMProperty.getPossibleStandardName[e]:null;"production"!==process.env.NODE_ENV?warning(null==t,"Unknown DOM property %s. Did you mean %s?",r,t):null}};var DOMPropertyOperations={createMarkupForID:function(r){return DOMProperty.ID_ATTRIBUTE_NAME+"="+quoteAttributeValueForBrowser(r)},createMarkupForProperty:function(r,e){if(DOMProperty.isStandardName.hasOwnProperty(r)&&DOMProperty.isStandardName[r]){if(shouldIgnoreValue(r,e))return"";var t=DOMProperty.getAttributeName[r];return DOMProperty.hasBooleanValue[r]||DOMProperty.hasOverloadedBooleanValue[r]&&e===!0?t:t+"="+quoteAttributeValueForBrowser(e)}return DOMProperty.isCustomAttribute(r)?null==e?"":r+"="+quoteAttributeValueForBrowser(e):("production"!==process.env.NODE_ENV&&warnUnknownProperty(r),null)},setValueForProperty:function(r,e,t){if(DOMProperty.isStandardName.hasOwnProperty(e)&&DOMProperty.isStandardName[e]){var o=DOMProperty.getMutationMethod[e];if(o)o(r,t);else if(shouldIgnoreValue(e,t))this.deleteValueForProperty(r,e);else if(DOMProperty.mustUseAttribute[e])r.setAttribute(DOMProperty.getAttributeName[e],""+t);else{var a=DOMProperty.getPropertyName[e];DOMProperty.hasSideEffects[e]&&""+r[a]==""+t||(r[a]=t)}}else DOMProperty.isCustomAttribute(e)?null==t?r.removeAttribute(e):r.setAttribute(e,""+t):"production"!==process.env.NODE_ENV&&warnUnknownProperty(e)},deleteValueForProperty:function(r,e){if(DOMProperty.isStandardName.hasOwnProperty(e)&&DOMProperty.isStandardName[e]){var t=DOMProperty.getMutationMethod[e];if(t)t(r,void 0);else if(DOMProperty.mustUseAttribute[e])r.removeAttribute(DOMProperty.getAttributeName[e]);else{var o=DOMProperty.getPropertyName[e],a=DOMProperty.getDefaultValueForProperty(r.nodeName,o);DOMProperty.hasSideEffects[e]&&""+r[o]===a||(r[o]=a)}}else DOMProperty.isCustomAttribute(e)?r.removeAttribute(e):"production"!==process.env.NODE_ENV&&warnUnknownProperty(e)}};module.exports=DOMPropertyOperations;

}).call(this,require('_process'))

},{"./DOMProperty":87,"./quoteAttributeValueForBrowser":240,"./warning":248,"_process":33}],89:[function(require,module,exports){
(function (process){
"use strict";function getNodeName(e){return e.substring(1,e.indexOf(" "))}var ExecutionEnvironment=require("./ExecutionEnvironment"),createNodesFromMarkup=require("./createNodesFromMarkup"),emptyFunction=require("./emptyFunction"),getMarkupWrap=require("./getMarkupWrap"),invariant=require("./invariant"),OPEN_TAG_NAME_EXP=/^(<[^ \/>]+)/,RESULT_INDEX_ATTR="data-danger-index",Danger={dangerouslyRenderMarkup:function(e){"production"!==process.env.NODE_ENV?invariant(ExecutionEnvironment.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):invariant(ExecutionEnvironment.canUseDOM);for(var r,n={},a=0;a<e.length;a++)"production"!==process.env.NODE_ENV?invariant(e[a],"dangerouslyRenderMarkup(...): Missing markup."):invariant(e[a]),r=getNodeName(e[a]),r=getMarkupWrap(r)?r:"*",n[r]=n[r]||[],n[r][a]=e[a];var t=[],i=0;for(r in n)if(n.hasOwnProperty(r)){var o,u=n[r];for(o in u)if(u.hasOwnProperty(o)){var s=u[o];u[o]=s.replace(OPEN_TAG_NAME_EXP,"$1 "+RESULT_INDEX_ATTR+'="'+o+'" ')}for(var d=createNodesFromMarkup(u.join(""),emptyFunction),c=0;c<d.length;++c){var p=d[c];p.hasAttribute&&p.hasAttribute(RESULT_INDEX_ATTR)?(o=+p.getAttribute(RESULT_INDEX_ATTR),p.removeAttribute(RESULT_INDEX_ATTR),"production"!==process.env.NODE_ENV?invariant(!t.hasOwnProperty(o),"Danger: Assigning to an already-occupied result index."):invariant(!t.hasOwnProperty(o)),t[o]=p,i+=1):"production"!==process.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",p)}}return"production"!==process.env.NODE_ENV?invariant(i===t.length,"Danger: Did not assign to every index of resultList."):invariant(i===t.length),"production"!==process.env.NODE_ENV?invariant(t.length===e.length,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,t.length):invariant(t.length===e.length),t},dangerouslyReplaceNodeWithMarkup:function(e,r){"production"!==process.env.NODE_ENV?invariant(ExecutionEnvironment.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):invariant(ExecutionEnvironment.canUseDOM),"production"!==process.env.NODE_ENV?invariant(r,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):invariant(r),"production"!==process.env.NODE_ENV?invariant("html"!==e.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See React.renderToString()."):invariant("html"!==e.tagName.toLowerCase());var n=createNodesFromMarkup(r,emptyFunction)[0];e.parentNode.replaceChild(n,e)}};module.exports=Danger;

}).call(this,require('_process'))

},{"./ExecutionEnvironment":98,"./createNodesFromMarkup":203,"./emptyFunction":206,"./getMarkupWrap":219,"./invariant":227,"_process":33}],90:[function(require,module,exports){
"use strict";var keyOf=require("./keyOf"),DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({BeforeInputEventPlugin:null}),keyOf({AnalyticsEventPlugin:null}),keyOf({MobileSafariClickEventPlugin:null})];module.exports=DefaultEventPluginOrder;

},{"./keyOf":234}],91:[function(require,module,exports){
"use strict";var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),SyntheticMouseEvent=require("./SyntheticMouseEvent"),ReactMount=require("./ReactMount"),keyOf=require("./keyOf"),topLevelTypes=EventConstants.topLevelTypes,getFirstReactDOM=ReactMount.getFirstReactDOM,eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}},extractedEvents=[null,null],EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(e,t,n,o){if(e===topLevelTypes.topMouseOver&&(o.relatedTarget||o.fromElement))return null;if(e!==topLevelTypes.topMouseOut&&e!==topLevelTypes.topMouseOver)return null;var r;if(t.window===t)r=t;else{var s=t.ownerDocument;r=s?s.defaultView||s.parentWindow:window}var a,u;if(e===topLevelTypes.topMouseOut?(a=t,u=getFirstReactDOM(o.relatedTarget||o.toElement)||r):(a=r,u=t),a===u)return null;var v=a?ReactMount.getID(a):"",p=u?ReactMount.getID(u):"",l=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,v,o);l.type="mouseleave",l.target=a,l.relatedTarget=u;var i=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,p,o);return i.type="mouseenter",i.target=u,i.relatedTarget=a,EventPropagators.accumulateEnterLeaveDispatches(l,i,v,p),extractedEvents[0]=l,extractedEvents[1]=i,extractedEvents}};module.exports=EnterLeaveEventPlugin;

},{"./EventConstants":92,"./EventPropagators":97,"./ReactMount":153,"./SyntheticMouseEvent":189,"./keyOf":234}],92:[function(require,module,exports){
"use strict";var keyMirror=require("./keyMirror"),PropagationPhases=keyMirror({bubbled:null,captured:null}),topLevelTypes=keyMirror({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};module.exports=EventConstants;

},{"./keyMirror":233}],93:[function(require,module,exports){
(function (process){
var emptyFunction=require("./emptyFunction"),EventListener={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):("production"!==process.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:emptyFunction})},registerDefault:function(){}};module.exports=EventListener;

}).call(this,require('_process'))

},{"./emptyFunction":206,"_process":33}],94:[function(require,module,exports){
(function (process){
"use strict";function validateInstanceHandle(){var e=InstanceHandle&&InstanceHandle.traverseTwoPhase&&InstanceHandle.traverseEnterLeave;"production"!==process.env.NODE_ENV?invariant(e,"InstanceHandle not injected before use!"):invariant(e)}var EventPluginRegistry=require("./EventPluginRegistry"),EventPluginUtils=require("./EventPluginUtils"),accumulateInto=require("./accumulateInto"),forEachAccumulated=require("./forEachAccumulated"),invariant=require("./invariant"),listenerBank={},eventQueue=null,executeDispatchesAndRelease=function(e){if(e){var n=EventPluginUtils.executeDispatch,t=EventPluginRegistry.getPluginModuleForEvent(e);t&&t.executeDispatch&&(n=t.executeDispatch),EventPluginUtils.executeDispatchesInOrder(e,n),e.isPersistent()||e.constructor.release(e)}},InstanceHandle=null,EventPluginHub={injection:{injectMount:EventPluginUtils.injection.injectMount,injectInstanceHandle:function(e){InstanceHandle=e,"production"!==process.env.NODE_ENV&&validateInstanceHandle()},getInstanceHandle:function(){return"production"!==process.env.NODE_ENV&&validateInstanceHandle(),InstanceHandle},injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},eventNameDispatchConfigs:EventPluginRegistry.eventNameDispatchConfigs,registrationNameModules:EventPluginRegistry.registrationNameModules,putListener:function(e,n,t){"production"!==process.env.NODE_ENV?invariant(!t||"function"==typeof t,"Expected %s listener to be a function, instead got type %s",n,typeof t):invariant(!t||"function"==typeof t);var i=listenerBank[n]||(listenerBank[n]={});i[e]=t},getListener:function(e,n){var t=listenerBank[n];return t&&t[e]},deleteListener:function(e,n){var t=listenerBank[n];t&&delete t[e]},deleteAllListeners:function(e){for(var n in listenerBank)delete listenerBank[n][e]},extractEvents:function(e,n,t,i){for(var u,a=EventPluginRegistry.plugins,r=0,s=a.length;s>r;r++){var c=a[r];if(c){var l=c.extractEvents(e,n,t,i);l&&(u=accumulateInto(u,l))}}return u},enqueueEvents:function(e){e&&(eventQueue=accumulateInto(eventQueue,e))},processEventQueue:function(){var e=eventQueue;eventQueue=null,forEachAccumulated(e,executeDispatchesAndRelease),"production"!==process.env.NODE_ENV?invariant(!eventQueue,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):invariant(!eventQueue)},__purge:function(){listenerBank={}},__getListenerBank:function(){return listenerBank}};module.exports=EventPluginHub;

}).call(this,require('_process'))

},{"./EventPluginRegistry":95,"./EventPluginUtils":96,"./accumulateInto":195,"./forEachAccumulated":212,"./invariant":227,"_process":33}],95:[function(require,module,exports){
(function (process){
"use strict";function recomputePluginOrdering(){if(EventPluginOrder)for(var n in namesToPlugins){var e=namesToPlugins[n],i=EventPluginOrder.indexOf(n);if("production"!==process.env.NODE_ENV?invariant(i>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",n):invariant(i>-1),!EventPluginRegistry.plugins[i]){"production"!==process.env.NODE_ENV?invariant(e.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",n):invariant(e.extractEvents),EventPluginRegistry.plugins[i]=e;var t=e.eventTypes;for(var r in t)"production"!==process.env.NODE_ENV?invariant(publishEventForPlugin(t[r],e,r),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",r,n):invariant(publishEventForPlugin(t[r],e,r))}}}function publishEventForPlugin(n,e,i){"production"!==process.env.NODE_ENV?invariant(!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(i),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",i):invariant(!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(i)),EventPluginRegistry.eventNameDispatchConfigs[i]=n;var t=n.phasedRegistrationNames;if(t){for(var r in t)if(t.hasOwnProperty(r)){var s=t[r];publishRegistrationName(s,e,i)}return!0}return n.registrationName?(publishRegistrationName(n.registrationName,e,i),!0):!1}function publishRegistrationName(n,e,i){"production"!==process.env.NODE_ENV?invariant(!EventPluginRegistry.registrationNameModules[n],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",n):invariant(!EventPluginRegistry.registrationNameModules[n]),EventPluginRegistry.registrationNameModules[n]=e,EventPluginRegistry.registrationNameDependencies[n]=e.eventTypes[i].dependencies}var invariant=require("./invariant"),EventPluginOrder=null,namesToPlugins={},EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(n){"production"!==process.env.NODE_ENV?invariant(!EventPluginOrder,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):invariant(!EventPluginOrder),EventPluginOrder=Array.prototype.slice.call(n),recomputePluginOrdering()},injectEventPluginsByName:function(n){var e=!1;for(var i in n)if(n.hasOwnProperty(i)){var t=n[i];namesToPlugins.hasOwnProperty(i)&&namesToPlugins[i]===t||("production"!==process.env.NODE_ENV?invariant(!namesToPlugins[i],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",i):invariant(!namesToPlugins[i]),namesToPlugins[i]=t,e=!0)}e&&recomputePluginOrdering()},getPluginModuleForEvent:function(n){var e=n.dispatchConfig;if(e.registrationName)return EventPluginRegistry.registrationNameModules[e.registrationName]||null;for(var i in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(i)){var t=EventPluginRegistry.registrationNameModules[e.phasedRegistrationNames[i]];if(t)return t}return null},_resetEventPlugins:function(){EventPluginOrder=null;for(var n in namesToPlugins)namesToPlugins.hasOwnProperty(n)&&delete namesToPlugins[n];EventPluginRegistry.plugins.length=0;var e=EventPluginRegistry.eventNameDispatchConfigs;for(var i in e)e.hasOwnProperty(i)&&delete e[i];var t=EventPluginRegistry.registrationNameModules;for(var r in t)t.hasOwnProperty(r)&&delete t[r]}};module.exports=EventPluginRegistry;

}).call(this,require('_process'))

},{"./invariant":227,"_process":33}],96:[function(require,module,exports){
(function (process){
"use strict";function isEndish(e){return e===topLevelTypes.topMouseUp||e===topLevelTypes.topTouchEnd||e===topLevelTypes.topTouchCancel}function isMoveish(e){return e===topLevelTypes.topMouseMove||e===topLevelTypes.topTouchMove}function isStartish(e){return e===topLevelTypes.topMouseDown||e===topLevelTypes.topTouchStart}function forEachEventDispatch(e,t){var n=e._dispatchListeners,s=e._dispatchIDs;if("production"!==process.env.NODE_ENV&&validateEventDispatches(e),Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)t(e,n[i],s[i]);else n&&t(e,n,s)}function executeDispatch(e,t,n){e.currentTarget=injection.Mount.getNode(n);var s=t(e,n);return e.currentTarget=null,s}function executeDispatchesInOrder(e,t){forEachEventDispatch(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function executeDispatchesInOrderStopAtTrueImpl(e){var t=e._dispatchListeners,n=e._dispatchIDs;if("production"!==process.env.NODE_ENV&&validateEventDispatches(e),Array.isArray(t)){for(var s=0;s<t.length&&!e.isPropagationStopped();s++)if(t[s](e,n[s]))return n[s]}else if(t&&t(e,n))return n;return null}function executeDispatchesInOrderStopAtTrue(e){var t=executeDispatchesInOrderStopAtTrueImpl(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function executeDirectDispatch(e){"production"!==process.env.NODE_ENV&&validateEventDispatches(e);var t=e._dispatchListeners,n=e._dispatchIDs;"production"!==process.env.NODE_ENV?invariant(!Array.isArray(t),"executeDirectDispatch(...): Invalid `event`."):invariant(!Array.isArray(t));var s=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,s}function hasDispatches(e){return!!e._dispatchListeners}var EventConstants=require("./EventConstants"),invariant=require("./invariant"),injection={Mount:null,injectMount:function(e){injection.Mount=e,"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?invariant(e&&e.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode."):invariant(e&&e.getNode))}},topLevelTypes=EventConstants.topLevelTypes,validateEventDispatches;"production"!==process.env.NODE_ENV&&(validateEventDispatches=function(e){var t=e._dispatchListeners,n=e._dispatchIDs,s=Array.isArray(t),i=Array.isArray(n),r=i?n.length:n?1:0,a=s?t.length:t?1:0;"production"!==process.env.NODE_ENV?invariant(i===s&&r===a,"EventPluginUtils: Invalid `event`."):invariant(i===s&&r===a)});var EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatch:executeDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,injection:injection,useTouchEvents:!1};module.exports=EventPluginUtils;

}).call(this,require('_process'))

},{"./EventConstants":92,"./invariant":227,"_process":33}],97:[function(require,module,exports){
(function (process){
"use strict";function listenerAtPhase(e,t,a){var c=t.dispatchConfig.phasedRegistrationNames[a];return getListener(e,c)}function accumulateDirectionalDispatches(e,t,a){if("production"!==process.env.NODE_ENV&&!e)throw new Error("Dispatching id must not be null");var c=t?PropagationPhases.bubbled:PropagationPhases.captured,s=listenerAtPhase(e,a,c);s&&(a._dispatchListeners=accumulateInto(a._dispatchListeners,s),a._dispatchIDs=accumulateInto(a._dispatchIDs,e))}function accumulateTwoPhaseDispatchesSingle(e){e&&e.dispatchConfig.phasedRegistrationNames&&EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,accumulateDirectionalDispatches,e)}function accumulateDispatches(e,t,a){if(a&&a.dispatchConfig.registrationName){var c=a.dispatchConfig.registrationName,s=getListener(e,c);s&&(a._dispatchListeners=accumulateInto(a._dispatchListeners,s),a._dispatchIDs=accumulateInto(a._dispatchIDs,e))}}function accumulateDirectDispatchesSingle(e){e&&e.dispatchConfig.registrationName&&accumulateDispatches(e.dispatchMarker,null,e)}function accumulateTwoPhaseDispatches(e){forEachAccumulated(e,accumulateTwoPhaseDispatchesSingle)}function accumulateEnterLeaveDispatches(e,t,a,c){EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(a,c,accumulateDispatches,e,t)}function accumulateDirectDispatches(e){forEachAccumulated(e,accumulateDirectDispatchesSingle)}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),accumulateInto=require("./accumulateInto"),forEachAccumulated=require("./forEachAccumulated"),PropagationPhases=EventConstants.PropagationPhases,getListener=EventPluginHub.getListener,EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};module.exports=EventPropagators;

}).call(this,require('_process'))

},{"./EventConstants":92,"./EventPluginHub":94,"./accumulateInto":195,"./forEachAccumulated":212,"_process":33}],98:[function(require,module,exports){
"use strict";var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:canUseDOM&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment;

},{}],99:[function(require,module,exports){
"use strict";function FallbackCompositionState(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var PooledClass=require("./PooledClass"),assign=require("./Object.assign"),getTextContentAccessor=require("./getTextContentAccessor");assign(FallbackCompositionState.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[getTextContentAccessor()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,o=this._startText,s=o.length,a=this.getText(),i=a.length;for(t=0;s>t&&o[t]===a[t];t++);var l=s-t;for(e=1;l>=e&&o[s-e]===a[i-e];e++);var r=e>1?1-e:void 0;return this._fallbackText=a.slice(t,r),this._fallbackText}}),PooledClass.addPoolingTo(FallbackCompositionState),module.exports=FallbackCompositionState;

},{"./Object.assign":105,"./PooledClass":106,"./getTextContentAccessor":222}],100:[function(require,module,exports){
"use strict";var DOMProperty=require("./DOMProperty"),ExecutionEnvironment=require("./ExecutionEnvironment"),MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE,MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY,HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE,HAS_SIDE_EFFECTS=DOMProperty.injection.HAS_SIDE_EFFECTS,HAS_NUMERIC_VALUE=DOMProperty.injection.HAS_NUMERIC_VALUE,HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE,HAS_OVERLOADED_BOOLEAN_VALUE=DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE,hasSVG;if(ExecutionEnvironment.canUseDOM){var implementation=document.implementation;hasSVG=implementation&&implementation.hasFeature&&implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var HTMLDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,allowTransparency:MUST_USE_ATTRIBUTE,alt:null,async:HAS_BOOLEAN_VALUE,autoComplete:null,autoPlay:HAS_BOOLEAN_VALUE,cellPadding:null,cellSpacing:null,charSet:MUST_USE_ATTRIBUTE,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,classID:MUST_USE_ATTRIBUTE,className:hasSVG?MUST_USE_ATTRIBUTE:MUST_USE_PROPERTY,cols:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,colSpan:null,content:null,contentEditable:null,contextMenu:MUST_USE_ATTRIBUTE,controls:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,coords:null,crossOrigin:null,data:null,dateTime:MUST_USE_ATTRIBUTE,defer:HAS_BOOLEAN_VALUE,dir:null,disabled:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,download:HAS_OVERLOADED_BOOLEAN_VALUE,draggable:null,encType:null,form:MUST_USE_ATTRIBUTE,formAction:MUST_USE_ATTRIBUTE,formEncType:MUST_USE_ATTRIBUTE,formMethod:MUST_USE_ATTRIBUTE,formNoValidate:HAS_BOOLEAN_VALUE,formTarget:MUST_USE_ATTRIBUTE,frameBorder:MUST_USE_ATTRIBUTE,headers:null,height:MUST_USE_ATTRIBUTE,hidden:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:MUST_USE_PROPERTY,label:null,lang:null,list:MUST_USE_ATTRIBUTE,loop:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,low:null,manifest:MUST_USE_ATTRIBUTE,marginHeight:null,marginWidth:null,max:null,maxLength:MUST_USE_ATTRIBUTE,media:MUST_USE_ATTRIBUTE,mediaGroup:null,method:null,min:null,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:null,noValidate:HAS_BOOLEAN_VALUE,open:HAS_BOOLEAN_VALUE,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,rel:null,required:HAS_BOOLEAN_VALUE,role:MUST_USE_ATTRIBUTE,rows:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,rowSpan:null,sandbox:null,scope:null,scoped:HAS_BOOLEAN_VALUE,scrolling:null,seamless:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,shape:null,size:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,sizes:MUST_USE_ATTRIBUTE,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:null,src:null,srcDoc:MUST_USE_PROPERTY,srcSet:MUST_USE_ATTRIBUTE,start:HAS_NUMERIC_VALUE,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:MUST_USE_PROPERTY|HAS_SIDE_EFFECTS,width:MUST_USE_ATTRIBUTE,wmode:MUST_USE_ATTRIBUTE,autoCapitalize:null,autoCorrect:null,itemProp:MUST_USE_ATTRIBUTE,itemScope:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,itemType:MUST_USE_ATTRIBUTE,itemID:MUST_USE_ATTRIBUTE,itemRef:MUST_USE_ATTRIBUTE,property:null,unselectable:MUST_USE_ATTRIBUTE},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};module.exports=HTMLDOMPropertyConfig;

},{"./DOMProperty":87,"./ExecutionEnvironment":98}],101:[function(require,module,exports){
"use strict";var ReactLink=require("./ReactLink"),ReactStateSetters=require("./ReactStateSetters"),LinkedStateMixin={linkState:function(t){return new ReactLink(this.state[t],ReactStateSetters.createStateKeySetter(this,t))}};module.exports=LinkedStateMixin;

},{"./ReactLink":151,"./ReactStateSetters":170}],102:[function(require,module,exports){
(function (process){
"use strict";function _assertSingleLink(e){"production"!==process.env.NODE_ENV?invariant(null==e.props.checkedLink||null==e.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):invariant(null==e.props.checkedLink||null==e.props.valueLink)}function _assertValueLink(e){_assertSingleLink(e),"production"!==process.env.NODE_ENV?invariant(null==e.props.value&&null==e.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):invariant(null==e.props.value&&null==e.props.onChange)}function _assertCheckedLink(e){_assertSingleLink(e),"production"!==process.env.NODE_ENV?invariant(null==e.props.checked&&null==e.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):invariant(null==e.props.checked&&null==e.props.onChange)}function _handleLinkedValueChange(e){this.props.valueLink.requestChange(e.target.value)}function _handleLinkedCheckChange(e){this.props.checkedLink.requestChange(e.target.checked)}var ReactPropTypes=require("./ReactPropTypes"),invariant=require("./invariant"),hasReadOnlyValue={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},LinkedValueUtils={Mixin:{propTypes:{value:function(e,n,a){return!e[n]||hasReadOnlyValue[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,n,a){return!e[n]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:ReactPropTypes.func}},getValue:function(e){return e.props.valueLink?(_assertValueLink(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(_assertCheckedLink(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(_assertValueLink(e),_handleLinkedValueChange):e.props.checkedLink?(_assertCheckedLink(e),_handleLinkedCheckChange):e.props.onChange}};module.exports=LinkedValueUtils;

}).call(this,require('_process'))

},{"./ReactPropTypes":162,"./invariant":227,"_process":33}],103:[function(require,module,exports){
(function (process){
"use strict";function remove(e){e.remove()}var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),accumulateInto=require("./accumulateInto"),forEachAccumulated=require("./forEachAccumulated"),invariant=require("./invariant"),LocalEventTrapMixin={trapBubbledEvent:function(e,t){"production"!==process.env.NODE_ENV?invariant(this.isMounted(),"Must be mounted to trap events"):invariant(this.isMounted());var n=this.getDOMNode();"production"!==process.env.NODE_ENV?invariant(n,"LocalEventTrapMixin.trapBubbledEvent(...): Requires node to be rendered."):invariant(n);var r=ReactBrowserEventEmitter.trapBubbledEvent(e,t,n);this._localEventListeners=accumulateInto(this._localEventListeners,r)},componentWillUnmount:function(){this._localEventListeners&&forEachAccumulated(this._localEventListeners,remove)}};module.exports=LocalEventTrapMixin;

}).call(this,require('_process'))

},{"./ReactBrowserEventEmitter":109,"./accumulateInto":195,"./forEachAccumulated":212,"./invariant":227,"_process":33}],104:[function(require,module,exports){
"use strict";var EventConstants=require("./EventConstants"),emptyFunction=require("./emptyFunction"),topLevelTypes=EventConstants.topLevelTypes,MobileSafariClickEventPlugin={eventTypes:null,extractEvents:function(t,e,n,i){if(t===topLevelTypes.topTouchStart){var o=i.target;o&&!o.onclick&&(o.onclick=emptyFunction)}}};module.exports=MobileSafariClickEventPlugin;

},{"./EventConstants":92,"./emptyFunction":206}],105:[function(require,module,exports){
"use strict";function assign(r,e){if(null==r)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(r),t=Object.prototype.hasOwnProperty,a=1;a<arguments.length;a++){var o=arguments[a];if(null!=o){var s=Object(o);for(var l in s)t.call(s,l)&&(n[l]=s[l])}}return n}module.exports=assign;

},{}],106:[function(require,module,exports){
(function (process){
"use strict";var invariant=require("./invariant"),oneArgumentPooler=function(e){var o=this;if(o.instancePool.length){var n=o.instancePool.pop();return o.call(n,e),n}return new o(e)},twoArgumentPooler=function(e,o){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,o),r}return new n(e,o)},threeArgumentPooler=function(e,o,n){var r=this;if(r.instancePool.length){var t=r.instancePool.pop();return r.call(t,e,o,n),t}return new r(e,o,n)},fiveArgumentPooler=function(e,o,n,r,t){var l=this;if(l.instancePool.length){var a=l.instancePool.pop();return l.call(a,e,o,n,r,t),a}return new l(e,o,n,r,t)},standardReleaser=function(e){var o=this;"production"!==process.env.NODE_ENV?invariant(e instanceof o,"Trying to release an instance into a pool of a different type."):invariant(e instanceof o),e.destructor&&e.destructor(),o.instancePool.length<o.poolSize&&o.instancePool.push(e)},DEFAULT_POOL_SIZE=10,DEFAULT_POOLER=oneArgumentPooler,addPoolingTo=function(e,o){var n=e;return n.instancePool=[],n.getPooled=o||DEFAULT_POOLER,n.poolSize||(n.poolSize=DEFAULT_POOL_SIZE),n.release=standardReleaser,n},PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass;

}).call(this,require('_process'))

},{"./invariant":227,"_process":33}],107:[function(require,module,exports){
(function (process){
"use strict";var EventPluginUtils=require("./EventPluginUtils"),ReactChildren=require("./ReactChildren"),ReactComponent=require("./ReactComponent"),ReactClass=require("./ReactClass"),ReactContext=require("./ReactContext"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactElement=require("./ReactElement"),ReactElementValidator=require("./ReactElementValidator"),ReactDOM=require("./ReactDOM"),ReactDOMTextComponent=require("./ReactDOMTextComponent"),ReactDefaultInjection=require("./ReactDefaultInjection"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),ReactPropTypes=require("./ReactPropTypes"),ReactReconciler=require("./ReactReconciler"),ReactServerRendering=require("./ReactServerRendering"),assign=require("./Object.assign"),findDOMNode=require("./findDOMNode"),onlyChild=require("./onlyChild");ReactDefaultInjection.inject();var createElement=ReactElement.createElement,createFactory=ReactElement.createFactory,cloneElement=ReactElement.cloneElement;"production"!==process.env.NODE_ENV&&(createElement=ReactElementValidator.createElement,createFactory=ReactElementValidator.createFactory,cloneElement=ReactElementValidator.cloneElement);var render=ReactPerf.measure("React","render",ReactMount.render),React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,count:ReactChildren.count,only:onlyChild},Component:ReactComponent,DOM:ReactDOM,PropTypes:ReactPropTypes,initializeTouchEvents:function(e){EventPluginUtils.useTouchEvents=e},createClass:ReactClass.createClass,createElement:createElement,cloneElement:cloneElement,createFactory:createFactory,createMixin:function(e){return e},constructAndRenderComponent:ReactMount.constructAndRenderComponent,constructAndRenderComponentByID:ReactMount.constructAndRenderComponentByID,findDOMNode:findDOMNode,render:render,renderToString:ReactServerRendering.renderToString,renderToStaticMarkup:ReactServerRendering.renderToStaticMarkup,unmountComponentAtNode:ReactMount.unmountComponentAtNode,isValidElement:ReactElement.isValidElement,withContext:ReactContext.withContext,__spread:assign};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:ReactCurrentOwner,InstanceHandles:ReactInstanceHandles,Mount:ReactMount,Reconciler:ReactReconciler,TextComponent:ReactDOMTextComponent}),"production"!==process.env.NODE_ENV){var ExecutionEnvironment=require("./ExecutionEnvironment");if(ExecutionEnvironment.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");for(var expectedFeatures=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],i=0;i<expectedFeatures.length;i++)if(!expectedFeatures[i]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}}React.version="0.13.3",module.exports=React;

}).call(this,require('_process'))

},{"./EventPluginUtils":96,"./ExecutionEnvironment":98,"./Object.assign":105,"./ReactChildren":113,"./ReactClass":114,"./ReactComponent":115,"./ReactContext":120,"./ReactCurrentOwner":121,"./ReactDOM":122,"./ReactDOMTextComponent":133,"./ReactDefaultInjection":136,"./ReactElement":139,"./ReactElementValidator":140,"./ReactInstanceHandles":148,"./ReactMount":153,"./ReactPerf":158,"./ReactPropTypes":162,"./ReactReconciler":165,"./ReactServerRendering":168,"./findDOMNode":209,"./onlyChild":237,"_process":33}],108:[function(require,module,exports){
"use strict";var findDOMNode=require("./findDOMNode"),ReactBrowserComponentMixin={getDOMNode:function(){return findDOMNode(this)}};module.exports=ReactBrowserComponentMixin;

},{"./findDOMNode":209}],109:[function(require,module,exports){
"use strict";function getListeningForDocument(e){return Object.prototype.hasOwnProperty.call(e,topListenersIDKey)||(e[topListenersIDKey]=reactTopListenersCounter++,alreadyListeningTo[e[topListenersIDKey]]={}),alreadyListeningTo[e[topListenersIDKey]]}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),EventPluginRegistry=require("./EventPluginRegistry"),ReactEventEmitterMixin=require("./ReactEventEmitterMixin"),ViewportMetrics=require("./ViewportMetrics"),assign=require("./Object.assign"),isEventSupported=require("./isEventSupported"),alreadyListeningTo={},isMonitoringScrollValue=!1,reactTopListenersCounter=0,topEventMapping={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},topListenersIDKey="_reactListenersID"+String(Math.random()).slice(2),ReactBrowserEventEmitter=assign({},ReactEventEmitterMixin,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel),ReactBrowserEventEmitter.ReactEventListener=e}},setEnabled:function(e){ReactBrowserEventEmitter.ReactEventListener&&ReactBrowserEventEmitter.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!ReactBrowserEventEmitter.ReactEventListener||!ReactBrowserEventEmitter.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var r=t,n=getListeningForDocument(r),o=EventPluginRegistry.registrationNameDependencies[e],i=EventConstants.topLevelTypes,s=0,a=o.length;a>s;s++){var p=o[s];n.hasOwnProperty(p)&&n[p]||(p===i.topWheel?isEventSupported("wheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(i.topWheel,"wheel",r):isEventSupported("mousewheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(i.topWheel,"mousewheel",r):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(i.topWheel,"DOMMouseScroll",r):p===i.topScroll?isEventSupported("scroll",!0)?ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(i.topScroll,"scroll",r):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(i.topScroll,"scroll",ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE):p===i.topFocus||p===i.topBlur?(isEventSupported("focus",!0)?(ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(i.topFocus,"focus",r),ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(i.topBlur,"blur",r)):isEventSupported("focusin")&&(ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(i.topFocus,"focusin",r),ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(i.topBlur,"focusout",r)),n[i.topBlur]=!0,n[i.topFocus]=!0):topEventMapping.hasOwnProperty(p)&&ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(p,topEventMapping[p],r),n[p]=!0)}},trapBubbledEvent:function(e,t,r){return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(e,t,r)},trapCapturedEvent:function(e,t,r){return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(e,t,r)},ensureScrollValueMonitoring:function(){if(!isMonitoringScrollValue){var e=ViewportMetrics.refreshScrollValues;ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(e),isMonitoringScrollValue=!0}},eventNameDispatchConfigs:EventPluginHub.eventNameDispatchConfigs,registrationNameModules:EventPluginHub.registrationNameModules,putListener:EventPluginHub.putListener,getListener:EventPluginHub.getListener,deleteListener:EventPluginHub.deleteListener,deleteAllListeners:EventPluginHub.deleteAllListeners});module.exports=ReactBrowserEventEmitter;

},{"./EventConstants":92,"./EventPluginHub":94,"./EventPluginRegistry":95,"./Object.assign":105,"./ReactEventEmitterMixin":143,"./ViewportMetrics":194,"./isEventSupported":228}],110:[function(require,module,exports){
"use strict";var React=require("./React"),assign=require("./Object.assign"),ReactTransitionGroup=React.createFactory(require("./ReactTransitionGroup")),ReactCSSTransitionGroupChild=React.createFactory(require("./ReactCSSTransitionGroupChild")),ReactCSSTransitionGroup=React.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:React.PropTypes.string.isRequired,transitionAppear:React.PropTypes.bool,transitionEnter:React.PropTypes.bool,transitionLeave:React.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(t){return ReactCSSTransitionGroupChild({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},t)},render:function(){return ReactTransitionGroup(assign({},this.props,{childFactory:this._wrapChild}))}});module.exports=ReactCSSTransitionGroup;

},{"./Object.assign":105,"./React":107,"./ReactCSSTransitionGroupChild":111,"./ReactTransitionGroup":174}],111:[function(require,module,exports){
(function (process){
"use strict";var React=require("./React"),CSSCore=require("./CSSCore"),ReactTransitionEvents=require("./ReactTransitionEvents"),onlyChild=require("./onlyChild"),warning=require("./warning"),TICK=17,NO_EVENT_TIMEOUT=5e3,noEventListener=null;"production"!==process.env.NODE_ENV&&(noEventListener=function(){"production"!==process.env.NODE_ENV?warning(!1,"transition(): tried to perform an animation without an animationend or transitionend event after timeout (%sms). You should either disable this transition in JS or add a CSS animation/transition.",NO_EVENT_TIMEOUT):null});var ReactCSSTransitionGroupChild=React.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(e,t){var n=this.getDOMNode(),i=this.props.name+"-"+e,o=i+"-active",s=null,r=function(e){e&&e.target!==n||("production"!==process.env.NODE_ENV&&clearTimeout(s),CSSCore.removeClass(n,i),CSSCore.removeClass(n,o),ReactTransitionEvents.removeEndEventListener(n,r),t&&t())};ReactTransitionEvents.addEndEventListener(n,r),CSSCore.addClass(n,i),this.queueClass(o),"production"!==process.env.NODE_ENV&&(s=setTimeout(noEventListener,NO_EVENT_TIMEOUT))},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,TICK))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(CSSCore.addClass.bind(CSSCore,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(e){this.props.appear?this.transition("appear",e):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e):e()},render:function(){return onlyChild(this.props.children)}});module.exports=ReactCSSTransitionGroupChild;

}).call(this,require('_process'))

},{"./CSSCore":80,"./React":107,"./ReactTransitionEvents":173,"./onlyChild":237,"./warning":248,"_process":33}],112:[function(require,module,exports){
"use strict";var ReactReconciler=require("./ReactReconciler"),flattenChildren=require("./flattenChildren"),instantiateReactComponent=require("./instantiateReactComponent"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent"),ReactChildReconciler={instantiateChildren:function(e,n,t){var r=flattenChildren(e);for(var o in r)if(r.hasOwnProperty(o)){var a=r[o],i=instantiateReactComponent(a,null);r[o]=i}return r},updateChildren:function(e,n,t,r){var o=flattenChildren(n);if(!o&&!e)return null;var a;for(a in o)if(o.hasOwnProperty(a)){var i=e&&e[a],c=i&&i._currentElement,l=o[a];if(shouldUpdateReactComponent(c,l))ReactReconciler.receiveComponent(i,l,t,r),o[a]=i;else{i&&ReactReconciler.unmountComponent(i,a);var u=instantiateReactComponent(l,null);o[a]=u}}for(a in e)!e.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||ReactReconciler.unmountComponent(e[a]);return o},unmountChildren:function(e){for(var n in e){var t=e[n];ReactReconciler.unmountComponent(t)}}};module.exports=ReactChildReconciler;

},{"./ReactReconciler":165,"./flattenChildren":210,"./instantiateReactComponent":226,"./shouldUpdateReactComponent":244}],113:[function(require,module,exports){
(function (process){
"use strict";function ForEachBookKeeping(e,o){this.forEachFunction=e,this.forEachContext=o}function forEachSingleChild(e,o,n,r){var l=e;l.forEachFunction.call(l.forEachContext,o,r)}function forEachChildren(e,o,n){if(null==e)return e;var r=ForEachBookKeeping.getPooled(o,n);traverseAllChildren(e,forEachSingleChild,r),ForEachBookKeeping.release(r)}function MapBookKeeping(e,o,n){this.mapResult=e,this.mapFunction=o,this.mapContext=n}function mapSingleChildIntoContext(e,o,n,r){var l=e,t=l.mapResult,i=!t.hasOwnProperty(n);if("production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(i,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n):null),i){var a=l.mapFunction.call(l.mapContext,o,r);t[n]=a}}function mapChildren(e,o,n){if(null==e)return e;var r={},l=MapBookKeeping.getPooled(r,o,n);return traverseAllChildren(e,mapSingleChildIntoContext,l),MapBookKeeping.release(l),ReactFragment.create(r)}function forEachSingleChildDummy(e,o,n,r){return null}function countChildren(e,o){return traverseAllChildren(e,forEachSingleChildDummy,null)}var PooledClass=require("./PooledClass"),ReactFragment=require("./ReactFragment"),traverseAllChildren=require("./traverseAllChildren"),warning=require("./warning"),twoArgumentPooler=PooledClass.twoArgumentPooler,threeArgumentPooler=PooledClass.threeArgumentPooler;PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler),PooledClass.addPoolingTo(MapBookKeeping,threeArgumentPooler);var ReactChildren={forEach:forEachChildren,map:mapChildren,count:countChildren};module.exports=ReactChildren;

}).call(this,require('_process'))

},{"./PooledClass":106,"./ReactFragment":145,"./traverseAllChildren":246,"./warning":248,"_process":33}],114:[function(require,module,exports){
(function (process){
"use strict";function validateTypeDef(e,t,n){for(var o in t)t.hasOwnProperty(o)&&("production"!==process.env.NODE_ENV?warning("function"==typeof t[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",ReactPropTypeLocationNames[n],o):null)}function validateMethodOverride(e,t){var n=ReactClassInterface.hasOwnProperty(t)?ReactClassInterface[t]:null;ReactClassMixin.hasOwnProperty(t)&&("production"!==process.env.NODE_ENV?invariant(n===SpecPolicy.OVERRIDE_BASE,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t):invariant(n===SpecPolicy.OVERRIDE_BASE)),e.hasOwnProperty(t)&&("production"!==process.env.NODE_ENV?invariant(n===SpecPolicy.DEFINE_MANY||n===SpecPolicy.DEFINE_MANY_MERGED,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t):invariant(n===SpecPolicy.DEFINE_MANY||n===SpecPolicy.DEFINE_MANY_MERGED))}function mixSpecIntoComponent(e,t){if(t){"production"!==process.env.NODE_ENV?invariant("function"!=typeof t,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):invariant("function"!=typeof t),"production"!==process.env.NODE_ENV?invariant(!ReactElement.isValidElement(t),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):invariant(!ReactElement.isValidElement(t));var n=e.prototype;t.hasOwnProperty(MIXINS_KEY)&&RESERVED_SPEC_KEYS.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==MIXINS_KEY){var a=t[o];if(validateMethodOverride(n,o),RESERVED_SPEC_KEYS.hasOwnProperty(o))RESERVED_SPEC_KEYS[o](e,a);else{var i=ReactClassInterface.hasOwnProperty(o),r=n.hasOwnProperty(o),c=a&&a.__reactDontBind,s="function"==typeof a,p=s&&!i&&!r&&!c;if(p)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[o]=a,n[o]=a;else if(r){var u=ReactClassInterface[o];"production"!==process.env.NODE_ENV?invariant(i&&(u===SpecPolicy.DEFINE_MANY_MERGED||u===SpecPolicy.DEFINE_MANY),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",u,o):invariant(i&&(u===SpecPolicy.DEFINE_MANY_MERGED||u===SpecPolicy.DEFINE_MANY)),u===SpecPolicy.DEFINE_MANY_MERGED?n[o]=createMergedResultFunction(n[o],a):u===SpecPolicy.DEFINE_MANY&&(n[o]=createChainedFunction(n[o],a))}else n[o]=a,"production"!==process.env.NODE_ENV&&"function"==typeof a&&t.displayName&&(n[o].displayName=t.displayName+"_"+o)}}}}function mixStaticSpecIntoComponent(e,t){if(t)for(var n in t){var o=t[n];if(t.hasOwnProperty(n)){var a=n in RESERVED_SPEC_KEYS;"production"!==process.env.NODE_ENV?invariant(!a,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n):invariant(!a);var i=n in e;"production"!==process.env.NODE_ENV?invariant(!i,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):invariant(!i),e[n]=o}}}function mergeIntoWithNoDuplicateKeys(e,t){"production"!==process.env.NODE_ENV?invariant(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):invariant(e&&t&&"object"==typeof e&&"object"==typeof t);for(var n in t)t.hasOwnProperty(n)&&("production"!==process.env.NODE_ENV?invariant(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n):invariant(void 0===e[n]),e[n]=t[n]);return e}function createMergedResultFunction(e,t){return function(){var n=e.apply(this,arguments),o=t.apply(this,arguments);if(null==n)return o;if(null==o)return n;var a={};return mergeIntoWithNoDuplicateKeys(a,n),mergeIntoWithNoDuplicateKeys(a,o),a}}function createChainedFunction(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function bindAutoBindMethod(e,t){var n=t.bind(e);if("production"!==process.env.NODE_ENV){n.__reactBoundContext=e,n.__reactBoundMethod=t,n.__reactBoundArguments=null;var o=e.constructor.displayName,a=n.bind;n.bind=function(i){for(var r=[],c=1,s=arguments.length;s>c;c++)r.push(arguments[c]);if(i!==e&&null!==i)"production"!==process.env.NODE_ENV?warning(!1,"bind(): React component methods may only be bound to the component instance. See %s",o):null;else if(!r.length)return"production"!==process.env.NODE_ENV?warning(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",o):null,n;var p=a.apply(n,arguments);return p.__reactBoundContext=e,p.__reactBoundMethod=t,p.__reactBoundArguments=r,p}}return n}function bindAutoBindMethods(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=bindAutoBindMethod(e,ReactErrorUtils.guard(n,e.constructor.displayName+"."+t))}}var ReactComponent=require("./ReactComponent"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactElement=require("./ReactElement"),ReactErrorUtils=require("./ReactErrorUtils"),ReactInstanceMap=require("./ReactInstanceMap"),ReactLifeCycle=require("./ReactLifeCycle"),ReactPropTypeLocations=require("./ReactPropTypeLocations"),ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames"),ReactUpdateQueue=require("./ReactUpdateQueue"),assign=require("./Object.assign"),invariant=require("./invariant"),keyMirror=require("./keyMirror"),keyOf=require("./keyOf"),warning=require("./warning"),MIXINS_KEY=keyOf({mixins:null}),SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),injectedMixins=[],ReactClassInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE},RESERVED_SPEC_KEYS={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)mixSpecIntoComponent(e,t[n])},childContextTypes:function(e,t){"production"!==process.env.NODE_ENV&&validateTypeDef(e,t,ReactPropTypeLocations.childContext),e.childContextTypes=assign({},e.childContextTypes,t)},contextTypes:function(e,t){"production"!==process.env.NODE_ENV&&validateTypeDef(e,t,ReactPropTypeLocations.context),e.contextTypes=assign({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=createMergedResultFunction(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){"production"!==process.env.NODE_ENV&&validateTypeDef(e,t,ReactPropTypeLocations.prop),e.propTypes=assign({},e.propTypes,t)},statics:function(e,t){mixStaticSpecIntoComponent(e,t)}},typeDeprecationDescriptor={enumerable:!1,get:function(){var e=this.displayName||this.name||"Component";return"production"!==process.env.NODE_ENV?warning(!1,"%s.type is deprecated. Use %s directly to access the class.",e,e):null,Object.defineProperty(this,"type",{value:this}),this}},ReactClassMixin={replaceState:function(e,t){ReactUpdateQueue.enqueueReplaceState(this,e),t&&ReactUpdateQueue.enqueueCallback(this,t)},isMounted:function(){if("production"!==process.env.NODE_ENV){var e=ReactCurrentOwner.current;null!==e&&("production"!==process.env.NODE_ENV?warning(e._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",e.getName()||"A component"):null,e._warnedAboutRefsInRender=!0)}var t=ReactInstanceMap.get(this);return t&&t!==ReactLifeCycle.currentlyMountingInstance},setProps:function(e,t){ReactUpdateQueue.enqueueSetProps(this,e),t&&ReactUpdateQueue.enqueueCallback(this,t)},replaceProps:function(e,t){ReactUpdateQueue.enqueueReplaceProps(this,e),t&&ReactUpdateQueue.enqueueCallback(this,t)}},ReactClassComponent=function(){};assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin);var ReactClass={createClass:function(e){var t=function(e,n){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(this instanceof t,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):null),this.__reactAutoBindMap&&bindAutoBindMethods(this),this.props=e,this.context=n,this.state=null;var o=this.getInitialState?this.getInitialState():null;"production"!==process.env.NODE_ENV&&"undefined"==typeof o&&this.getInitialState._isMockFunction&&(o=null),"production"!==process.env.NODE_ENV?invariant("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"):invariant("object"==typeof o&&!Array.isArray(o)),this.state=o};t.prototype=new ReactClassComponent,t.prototype.constructor=t,injectedMixins.forEach(mixSpecIntoComponent.bind(null,t)),mixSpecIntoComponent(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),"production"!==process.env.NODE_ENV&&(t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved={}),t.prototype.getInitialState&&(t.prototype.getInitialState.isReactClassApproved={})),"production"!==process.env.NODE_ENV?invariant(t.prototype.render,"createClass(...): Class specification must implement a `render` method."):invariant(t.prototype.render),"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!t.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"):null);for(var n in ReactClassInterface)t.prototype[n]||(t.prototype[n]=null);if(t.type=t,"production"!==process.env.NODE_ENV)try{Object.defineProperty(t,"type",typeDeprecationDescriptor)}catch(o){}return t},injection:{injectMixin:function(e){injectedMixins.push(e)}}};module.exports=ReactClass;

}).call(this,require('_process'))

},{"./Object.assign":105,"./ReactComponent":115,"./ReactCurrentOwner":121,"./ReactElement":139,"./ReactErrorUtils":142,"./ReactInstanceMap":149,"./ReactLifeCycle":150,"./ReactPropTypeLocationNames":160,"./ReactPropTypeLocations":161,"./ReactUpdateQueue":175,"./invariant":227,"./keyMirror":233,"./keyOf":234,"./warning":248,"_process":33}],115:[function(require,module,exports){
(function (process){
"use strict";function ReactComponent(e,t){this.props=e,this.context=t}var ReactUpdateQueue=require("./ReactUpdateQueue"),invariant=require("./invariant"),warning=require("./warning");if(ReactComponent.prototype.setState=function(e,t){"production"!==process.env.NODE_ENV?invariant("object"==typeof e||"function"==typeof e||null==e,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):invariant("object"==typeof e||"function"==typeof e||null==e),"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):null),ReactUpdateQueue.enqueueSetState(this,e),t&&ReactUpdateQueue.enqueueCallback(this,t)},ReactComponent.prototype.forceUpdate=function(e){ReactUpdateQueue.enqueueForceUpdate(this),e&&ReactUpdateQueue.enqueueCallback(this,e)},"production"!==process.env.NODE_ENV){var deprecatedAPIs={getDOMNode:["getDOMNode","Use React.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call React.render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call React.render again at the top level."]},defineDeprecationWarning=function(e,t){try{Object.defineProperty(ReactComponent.prototype,e,{get:function(){return void("production"!==process.env.NODE_ENV?warning(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1]):null)}})}catch(n){}};for(var fnName in deprecatedAPIs)deprecatedAPIs.hasOwnProperty(fnName)&&defineDeprecationWarning(fnName,deprecatedAPIs[fnName])}module.exports=ReactComponent;

}).call(this,require('_process'))

},{"./ReactUpdateQueue":175,"./invariant":227,"./warning":248,"_process":33}],116:[function(require,module,exports){
"use strict";var ReactDOMIDOperations=require("./ReactDOMIDOperations"),ReactMount=require("./ReactMount"),ReactComponentBrowserEnvironment={processChildrenUpdates:ReactDOMIDOperations.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:ReactDOMIDOperations.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){ReactMount.purgeID(e)}};module.exports=ReactComponentBrowserEnvironment;

},{"./ReactDOMIDOperations":126,"./ReactMount":153}],117:[function(require,module,exports){
(function (process){
"use strict";var invariant=require("./invariant"),injected=!1,ReactComponentEnvironment={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(n){"production"!==process.env.NODE_ENV?invariant(!injected,"ReactCompositeComponent: injectEnvironment() can only be called once."):invariant(!injected),ReactComponentEnvironment.unmountIDFromEnvironment=n.unmountIDFromEnvironment,ReactComponentEnvironment.replaceNodeWithMarkupByID=n.replaceNodeWithMarkupByID,ReactComponentEnvironment.processChildrenUpdates=n.processChildrenUpdates,injected=!0}}};module.exports=ReactComponentEnvironment;

}).call(this,require('_process'))

},{"./invariant":227,"_process":33}],118:[function(require,module,exports){
"use strict";var shallowEqual=require("./shallowEqual"),ReactComponentWithPureRenderMixin={shouldComponentUpdate:function(e,t){return!shallowEqual(this.props,e)||!shallowEqual(this.state,t)}};module.exports=ReactComponentWithPureRenderMixin;

},{"./shallowEqual":243}],119:[function(require,module,exports){
(function (process){
"use strict";function getDeclarationErrorAddendum(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}var ReactComponentEnvironment=require("./ReactComponentEnvironment"),ReactContext=require("./ReactContext"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactElement=require("./ReactElement"),ReactElementValidator=require("./ReactElementValidator"),ReactInstanceMap=require("./ReactInstanceMap"),ReactLifeCycle=require("./ReactLifeCycle"),ReactNativeComponent=require("./ReactNativeComponent"),ReactPerf=require("./ReactPerf"),ReactPropTypeLocations=require("./ReactPropTypeLocations"),ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames"),ReactReconciler=require("./ReactReconciler"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),emptyObject=require("./emptyObject"),invariant=require("./invariant"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent"),warning=require("./warning"),nextMountID=1,ReactCompositeComponentMixin={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=nextMountID++,this._rootNodeID=e;var o=this._processProps(this._currentElement.props),r=this._processContext(this._currentElement._context),i=ReactNativeComponent.getComponentClassForElement(this._currentElement),a=new i(o,r);"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(null!=a.render,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render` in your component or you may have accidentally tried to render an element whose type is a function that isn't a React component.",i.displayName||i.name||"Component"):null),a.props=o,a.context=r,a.refs=emptyObject,this._instance=a,ReactInstanceMap.set(a,this),"production"!==process.env.NODE_ENV&&this._warnIfContextsDiffer(this._currentElement._context,n),"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!a.getInitialState||a.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):null,"production"!==process.env.NODE_ENV?warning(!a.getDefaultProps||a.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):null,"production"!==process.env.NODE_ENV?warning(!a.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):null,"production"!==process.env.NODE_ENV?warning(!a.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):null,"production"!==process.env.NODE_ENV?warning("function"!=typeof a.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):null);var s=a.state;void 0===s&&(a.state=s=null),"production"!==process.env.NODE_ENV?invariant("object"==typeof s&&!Array.isArray(s),"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):invariant("object"==typeof s&&!Array.isArray(s)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var c,p,u=ReactLifeCycle.currentlyMountingInstance;ReactLifeCycle.currentlyMountingInstance=this;try{a.componentWillMount&&(a.componentWillMount(),this._pendingStateQueue&&(a.state=this._processPendingState(a.props,a.context))),c=this._getValidatedChildContext(n),p=this._renderValidatedComponent(c)}finally{ReactLifeCycle.currentlyMountingInstance=u}this._renderedComponent=this._instantiateReactComponent(p,this._currentElement.type);var l=ReactReconciler.mountComponent(this._renderedComponent,e,t,this._mergeChildContext(n,c));return a.componentDidMount&&t.getReactMountReady().enqueue(a.componentDidMount,a),l},unmountComponent:function(){var e=this._instance;if(e.componentWillUnmount){var t=ReactLifeCycle.currentlyUnmountingInstance;ReactLifeCycle.currentlyUnmountingInstance=this;try{e.componentWillUnmount()}finally{ReactLifeCycle.currentlyUnmountingInstance=t}}ReactReconciler.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,ReactInstanceMap.remove(e)},_setPropsInternal:function(e,t){var n=this._pendingElement||this._currentElement;this._pendingElement=ReactElement.cloneAndReplaceProps(n,assign({},n.props,e)),ReactUpdates.enqueueUpdate(this,t)},_maskContext:function(e){var t=null;if("string"==typeof this._currentElement.type)return emptyObject;var n=this._currentElement.type.contextTypes;if(!n)return emptyObject;t={};for(var o in n)t[o]=e[o];return t},_processContext:function(e){var t=this._maskContext(e);if("production"!==process.env.NODE_ENV){var n=ReactNativeComponent.getComponentClassForElement(this._currentElement);n.contextTypes&&this._checkPropTypes(n.contextTypes,t,ReactPropTypeLocations.context)}return t},_getValidatedChildContext:function(e){var t=this._instance,n=t.getChildContext&&t.getChildContext();if(n){"production"!==process.env.NODE_ENV?invariant("object"==typeof t.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):invariant("object"==typeof t.constructor.childContextTypes),"production"!==process.env.NODE_ENV&&this._checkPropTypes(t.constructor.childContextTypes,n,ReactPropTypeLocations.childContext);for(var o in n)"production"!==process.env.NODE_ENV?invariant(o in t.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",o):invariant(o in t.constructor.childContextTypes);return n}return null},_mergeChildContext:function(e,t){return t?assign({},e,t):e},_processProps:function(e){if("production"!==process.env.NODE_ENV){var t=ReactNativeComponent.getComponentClassForElement(this._currentElement);t.propTypes&&this._checkPropTypes(t.propTypes,e,ReactPropTypeLocations.prop)}return e},_checkPropTypes:function(e,t,n){var o=this.getName();for(var r in e)if(e.hasOwnProperty(r)){var i;try{"production"!==process.env.NODE_ENV?invariant("function"==typeof e[r],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",o||"React class",ReactPropTypeLocationNames[n],r):invariant("function"==typeof e[r]),i=e[r](t,r,o,n)}catch(a){i=a}if(i instanceof Error){var s=getDeclarationErrorAddendum(this);n===ReactPropTypeLocations.prop?"production"!==process.env.NODE_ENV?warning(!1,"Failed Composite propType: %s%s",i.message,s):null:"production"!==process.env.NODE_ENV?warning(!1,"Failed Context Types: %s%s",i.message,s):null}}},receiveComponent:function(e,t,n){var o=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(t,o,e,r,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&ReactReconciler.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&("production"!==process.env.NODE_ENV&&ReactElementValidator.checkAndWarnForMutatedProps(this._currentElement),this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context))},_warnIfContextsDiffer:function(e,t){e=this._maskContext(e),t=this._maskContext(t);for(var n=Object.keys(t).sort(),o=this.getName()||"ReactCompositeComponent",r=0;r<n.length;r++){var i=n[r];"production"!==process.env.NODE_ENV?warning(e[i]===t[i],"owner-based and parent-based contexts differ (values: `%s` vs `%s`) for key (%s) while mounting %s (see: http://fb.me/react-context-by-parent)",e[i],t[i],i,o):null}},updateComponent:function(e,t,n,o,r){var i=this._instance,a=i.context,s=i.props;t!==n&&(a=this._processContext(n._context),s=this._processProps(n.props),"production"!==process.env.NODE_ENV&&null!=r&&this._warnIfContextsDiffer(n._context,r),i.componentWillReceiveProps&&i.componentWillReceiveProps(s,a));var c=this._processPendingState(s,a),p=this._pendingForceUpdate||!i.shouldComponentUpdate||i.shouldComponentUpdate(s,c,a);"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning("undefined"!=typeof p,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):null),p?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,s,c,a,e,r)):(this._currentElement=n,this._context=r,i.props=s,i.state=c,i.context=a)},_processPendingState:function(e,t){var n=this._instance,o=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!o)return n.state;if(r&&1===o.length)return o[0];for(var i=assign({},r?o[0]:n.state),a=r?1:0;a<o.length;a++){var s=o[a];assign(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,o,r,i){var a=this._instance,s=a.props,c=a.state,p=a.context;a.componentWillUpdate&&a.componentWillUpdate(t,n,o),this._currentElement=e,this._context=i,a.props=t,a.state=n,a.context=o,this._updateRenderedComponent(r,i),a.componentDidUpdate&&r.getReactMountReady().enqueue(a.componentDidUpdate.bind(a,s,c,p),a)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,o=n._currentElement,r=this._getValidatedChildContext(),i=this._renderValidatedComponent(r);if(shouldUpdateReactComponent(o,i))ReactReconciler.receiveComponent(n,i,e,this._mergeChildContext(t,r));else{var a=this._rootNodeID,s=n._rootNodeID;ReactReconciler.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i,this._currentElement.type);var c=ReactReconciler.mountComponent(this._renderedComponent,a,e,this._mergeChildContext(t,r));this._replaceNodeWithMarkupByID(s,c)}},_replaceNodeWithMarkupByID:function(e,t){ReactComponentEnvironment.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return"production"!==process.env.NODE_ENV&&"undefined"==typeof t&&e.render._isMockFunction&&(t=null),t},_renderValidatedComponent:function(e){var t,n=ReactContext.current;ReactContext.current=this._mergeChildContext(this._currentElement._context,e),ReactCurrentOwner.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{ReactContext.current=n,ReactCurrentOwner.current=null}return"production"!==process.env.NODE_ENV?invariant(null===t||t===!1||ReactElement.isValidElement(t),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):invariant(null===t||t===!1||ReactElement.isValidElement(t)),t},attachRef:function(e,t){var n=this.getPublicInstance(),o=n.refs===emptyObject?n.refs={}:n.refs;o[e]=t.getPublicInstance()},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};ReactPerf.measureMethods(ReactCompositeComponentMixin,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var ReactCompositeComponent={Mixin:ReactCompositeComponentMixin};module.exports=ReactCompositeComponent;

}).call(this,require('_process'))

},{"./Object.assign":105,"./ReactComponentEnvironment":117,"./ReactContext":120,"./ReactCurrentOwner":121,"./ReactElement":139,"./ReactElementValidator":140,"./ReactInstanceMap":149,"./ReactLifeCycle":150,"./ReactNativeComponent":156,"./ReactPerf":158,"./ReactPropTypeLocationNames":160,"./ReactPropTypeLocations":161,"./ReactReconciler":165,"./ReactUpdates":176,"./emptyObject":207,"./invariant":227,"./shouldUpdateReactComponent":244,"./warning":248,"_process":33}],120:[function(require,module,exports){
(function (process){
"use strict";var assign=require("./Object.assign"),emptyObject=require("./emptyObject"),warning=require("./warning"),didWarn=!1,ReactContext={current:emptyObject,withContext:function(e,t){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(didWarn,"withContext is deprecated and will be removed in a future version. Use a wrapper component with getChildContext instead."):null,didWarn=!0);var n,r=ReactContext.current;ReactContext.current=assign({},r,e);try{n=t()}finally{ReactContext.current=r}return n}};module.exports=ReactContext;

}).call(this,require('_process'))

},{"./Object.assign":105,"./emptyObject":207,"./warning":248,"_process":33}],121:[function(require,module,exports){
"use strict";var ReactCurrentOwner={current:null};module.exports=ReactCurrentOwner;

},{}],122:[function(require,module,exports){
(function (process){
"use strict";function createDOMFactory(e){return"production"!==process.env.NODE_ENV?ReactElementValidator.createFactory(e):ReactElement.createFactory(e)}var ReactElement=require("./ReactElement"),ReactElementValidator=require("./ReactElementValidator"),mapObject=require("./mapObject"),ReactDOM=mapObject({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},createDOMFactory);module.exports=ReactDOM;

}).call(this,require('_process'))

},{"./ReactElement":139,"./ReactElementValidator":140,"./mapObject":235,"_process":33}],123:[function(require,module,exports){
"use strict";var AutoFocusMixin=require("./AutoFocusMixin"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactClass=require("./ReactClass"),ReactElement=require("./ReactElement"),keyMirror=require("./keyMirror"),button=ReactElement.createFactory("button"),mouseListenerNames=keyMirror({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),ReactDOMButton=ReactClass.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[AutoFocusMixin,ReactBrowserComponentMixin],render:function(){var e={};for(var o in this.props)!this.props.hasOwnProperty(o)||this.props.disabled&&mouseListenerNames[o]||(e[o]=this.props[o]);return button(e,this.props.children)}});module.exports=ReactDOMButton;

},{"./AutoFocusMixin":78,"./ReactBrowserComponentMixin":108,"./ReactClass":114,"./ReactElement":139,"./keyMirror":233}],124:[function(require,module,exports){
(function (process){
"use strict";function assertValidProps(e){e&&(null!=e.dangerouslySetInnerHTML&&("production"!==process.env.NODE_ENV?invariant(null==e.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):invariant(null==e.children),"production"!==process.env.NODE_ENV?invariant("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):invariant("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML)),"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(null==e.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):null,"production"!==process.env.NODE_ENV?warning(!e.contentEditable||null==e.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):null),"production"!==process.env.NODE_ENV?invariant(null==e.style||"object"==typeof e.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."):invariant(null==e.style||"object"==typeof e.style))}function putListener(e,t,n,r){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning("onScroll"!==t||isEventSupported("scroll",!0),"This browser doesn't support the `onScroll` event"):null);var o=ReactMount.findReactContainerForID(e);if(o){var i=o.nodeType===ELEMENT_NODE_TYPE?o.ownerDocument:o;listenTo(t,i)}r.getPutListenerQueue().enqueuePutListener(e,t,n)}function validateDangerousTag(e){hasOwnProperty.call(validatedTagCache,e)||("production"!==process.env.NODE_ENV?invariant(VALID_TAG_REGEX.test(e),"Invalid tag: %s",e):invariant(VALID_TAG_REGEX.test(e)),validatedTagCache[e]=!0)}function ReactDOMComponent(e){validateDangerousTag(e),this._tag=e,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var CSSPropertyOperations=require("./CSSPropertyOperations"),DOMProperty=require("./DOMProperty"),DOMPropertyOperations=require("./DOMPropertyOperations"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment"),ReactMount=require("./ReactMount"),ReactMultiChild=require("./ReactMultiChild"),ReactPerf=require("./ReactPerf"),assign=require("./Object.assign"),escapeTextContentForBrowser=require("./escapeTextContentForBrowser"),invariant=require("./invariant"),isEventSupported=require("./isEventSupported"),keyOf=require("./keyOf"),warning=require("./warning"),deleteListener=ReactBrowserEventEmitter.deleteListener,listenTo=ReactBrowserEventEmitter.listenTo,registrationNameModules=ReactBrowserEventEmitter.registrationNameModules,CONTENT_TYPES={string:!0,number:!0},STYLE=keyOf({style:null}),ELEMENT_NODE_TYPE=1,BackendIDOperations=null,omittedCloseTags={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},VALID_TAG_REGEX=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,validatedTagCache={},hasOwnProperty={}.hasOwnProperty;ReactDOMComponent.displayName="ReactDOMComponent",ReactDOMComponent.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e,assertValidProps(this._currentElement.props);var r=omittedCloseTags[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t,n)+r},_createOpenTagMarkupAndPutListeners:function(e){var t=this._currentElement.props,n="<"+this._tag;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(registrationNameModules.hasOwnProperty(r))putListener(this._rootNodeID,r,o,e);else{r===STYLE&&(o&&(o=this._previousStyleCopy=assign({},t.style)),o=CSSPropertyOperations.createMarkupForStyles(o));var i=DOMPropertyOperations.createMarkupForProperty(r,o);i&&(n+=" "+i)}}if(e.renderToStaticMarkup)return n+">";var a=DOMPropertyOperations.createMarkupForID(this._rootNodeID);return n+" "+a+">"},_createContentMarkup:function(e,t){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var r=this._currentElement.props,o=r.dangerouslySetInnerHTML;if(null!=o){if(null!=o.__html)return n+o.__html}else{var i=CONTENT_TYPES[typeof r.children]?r.children:null,a=null!=i?null:r.children;if(null!=i)return n+escapeTextContentForBrowser(i);if(null!=a){var s=this.mountChildren(a,e,t);return n+s.join("")}}return n},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){assertValidProps(this._currentElement.props),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e,r)},_updateDOMProperties:function(e,t){var n,r,o,i=this._currentElement.props;for(n in e)if(!i.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===STYLE){var a=this._previousStyleCopy;for(r in a)a.hasOwnProperty(r)&&(o=o||{},o[r]="");this._previousStyleCopy=null}else registrationNameModules.hasOwnProperty(n)?deleteListener(this._rootNodeID,n):(DOMProperty.isStandardName[n]||DOMProperty.isCustomAttribute(n))&&BackendIDOperations.deletePropertyByID(this._rootNodeID,n);for(n in i){var s=i[n],l=n===STYLE?this._previousStyleCopy:e[n];if(i.hasOwnProperty(n)&&s!==l)if(n===STYLE)if(s?s=this._previousStyleCopy=assign({},s):this._previousStyleCopy=null,l){for(r in l)!l.hasOwnProperty(r)||s&&s.hasOwnProperty(r)||(o=o||{},o[r]="");for(r in s)s.hasOwnProperty(r)&&l[r]!==s[r]&&(o=o||{},o[r]=s[r])}else o=s;else registrationNameModules.hasOwnProperty(n)?putListener(this._rootNodeID,n,s,t):(DOMProperty.isStandardName[n]||DOMProperty.isCustomAttribute(n))&&BackendIDOperations.updatePropertyByID(this._rootNodeID,n,s)}o&&BackendIDOperations.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(e,t,n){var r=this._currentElement.props,o=CONTENT_TYPES[typeof e.children]?e.children:null,i=CONTENT_TYPES[typeof r.children]?r.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=r.dangerouslySetInnerHTML&&r.dangerouslySetInnerHTML.__html,l=null!=o?null:e.children,p=null!=i?null:r.children,u=null!=o||null!=a,d=null!=i||null!=s;null!=l&&null==p?this.updateChildren(null,t,n):u&&!d&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,s):null!=p&&this.updateChildren(p,t,n)},unmountComponent:function(){this.unmountChildren(),ReactBrowserEventEmitter.deleteAllListeners(this._rootNodeID),ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},ReactPerf.measureMethods(ReactDOMComponent,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),assign(ReactDOMComponent.prototype,ReactDOMComponent.Mixin,ReactMultiChild.Mixin),ReactDOMComponent.injection={injectIDOperations:function(e){ReactDOMComponent.BackendIDOperations=BackendIDOperations=e}},module.exports=ReactDOMComponent;

}).call(this,require('_process'))

},{"./CSSPropertyOperations":82,"./DOMProperty":87,"./DOMPropertyOperations":88,"./Object.assign":105,"./ReactBrowserEventEmitter":109,"./ReactComponentBrowserEnvironment":116,"./ReactMount":153,"./ReactMultiChild":154,"./ReactPerf":158,"./escapeTextContentForBrowser":208,"./invariant":227,"./isEventSupported":228,"./keyOf":234,"./warning":248,"_process":33}],125:[function(require,module,exports){
"use strict";var EventConstants=require("./EventConstants"),LocalEventTrapMixin=require("./LocalEventTrapMixin"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactClass=require("./ReactClass"),ReactElement=require("./ReactElement"),form=ReactElement.createFactory("form"),ReactDOMForm=ReactClass.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[ReactBrowserComponentMixin,LocalEventTrapMixin],render:function(){return form(this.props)},componentDidMount:function(){this.trapBubbledEvent(EventConstants.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,"submit")}});module.exports=ReactDOMForm;

},{"./EventConstants":92,"./LocalEventTrapMixin":103,"./ReactBrowserComponentMixin":108,"./ReactClass":114,"./ReactElement":139}],126:[function(require,module,exports){
(function (process){
"use strict";var CSSPropertyOperations=require("./CSSPropertyOperations"),DOMChildrenOperations=require("./DOMChildrenOperations"),DOMPropertyOperations=require("./DOMPropertyOperations"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),invariant=require("./invariant"),setInnerHTML=require("./setInnerHTML"),INVALID_PROPERTY_ERRORS={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},ReactDOMIDOperations={updatePropertyByID:function(e,t,r){var n=ReactMount.getNode(e);"production"!==process.env.NODE_ENV?invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(t),"updatePropertyByID(...): %s",INVALID_PROPERTY_ERRORS[t]):invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(t)),null!=r?DOMPropertyOperations.setValueForProperty(n,t,r):DOMPropertyOperations.deleteValueForProperty(n,t)},deletePropertyByID:function(e,t,r){var n=ReactMount.getNode(e);"production"!==process.env.NODE_ENV?invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(t),"updatePropertyByID(...): %s",INVALID_PROPERTY_ERRORS[t]):invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(t)),DOMPropertyOperations.deleteValueForProperty(n,t,r)},updateStylesByID:function(e,t){var r=ReactMount.getNode(e);CSSPropertyOperations.setValueForStyles(r,t)},updateInnerHTMLByID:function(e,t){var r=ReactMount.getNode(e);setInnerHTML(r,t)},updateTextContentByID:function(e,t){var r=ReactMount.getNode(e);DOMChildrenOperations.updateTextContent(r,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var r=ReactMount.getNode(e);DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(r,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var r=0;r<e.length;r++)e[r].parentNode=ReactMount.getNode(e[r].parentID);DOMChildrenOperations.processUpdates(e,t)}};ReactPerf.measureMethods(ReactDOMIDOperations,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),module.exports=ReactDOMIDOperations;

}).call(this,require('_process'))

},{"./CSSPropertyOperations":82,"./DOMChildrenOperations":86,"./DOMPropertyOperations":88,"./ReactMount":153,"./ReactPerf":158,"./invariant":227,"./setInnerHTML":241,"_process":33}],127:[function(require,module,exports){
"use strict";var EventConstants=require("./EventConstants"),LocalEventTrapMixin=require("./LocalEventTrapMixin"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactClass=require("./ReactClass"),ReactElement=require("./ReactElement"),iframe=ReactElement.createFactory("iframe"),ReactDOMIframe=ReactClass.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[ReactBrowserComponentMixin,LocalEventTrapMixin],render:function(){return iframe(this.props)},componentDidMount:function(){this.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load")}});module.exports=ReactDOMIframe;

},{"./EventConstants":92,"./LocalEventTrapMixin":103,"./ReactBrowserComponentMixin":108,"./ReactClass":114,"./ReactElement":139}],128:[function(require,module,exports){
"use strict";var EventConstants=require("./EventConstants"),LocalEventTrapMixin=require("./LocalEventTrapMixin"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactClass=require("./ReactClass"),ReactElement=require("./ReactElement"),img=ReactElement.createFactory("img"),ReactDOMImg=ReactClass.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[ReactBrowserComponentMixin,LocalEventTrapMixin],render:function(){return img(this.props)},componentDidMount:function(){this.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error")}});module.exports=ReactDOMImg;

},{"./EventConstants":92,"./LocalEventTrapMixin":103,"./ReactBrowserComponentMixin":108,"./ReactClass":114,"./ReactElement":139}],129:[function(require,module,exports){
(function (process){
"use strict";function forceUpdateIfMounted(){this.isMounted()&&this.forceUpdate()}var AutoFocusMixin=require("./AutoFocusMixin"),DOMPropertyOperations=require("./DOMPropertyOperations"),LinkedValueUtils=require("./LinkedValueUtils"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactClass=require("./ReactClass"),ReactElement=require("./ReactElement"),ReactMount=require("./ReactMount"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),invariant=require("./invariant"),input=ReactElement.createFactory("input"),instancesByReactID={},ReactDOMInput=ReactClass.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],getInitialState:function(){var e=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=e?e:null}},render:function(){var e=assign({},this.props);e.defaultChecked=null,e.defaultValue=null;var t=LinkedValueUtils.getValue(this);e.value=null!=t?t:this.state.initialValue;var n=LinkedValueUtils.getChecked(this);return e.checked=null!=n?n:this.state.initialChecked,e.onChange=this._handleChange,input(e,this.props.children)},componentDidMount:function(){var e=ReactMount.getID(this.getDOMNode());instancesByReactID[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=ReactMount.getID(e);delete instancesByReactID[t]},componentDidUpdate:function(e,t,n){var a=this.getDOMNode();null!=this.props.checked&&DOMPropertyOperations.setValueForProperty(a,"checked",this.props.checked||!1);var i=LinkedValueUtils.getValue(this);null!=i&&DOMPropertyOperations.setValueForProperty(a,"value",""+i)},_handleChange:function(e){var t,n=LinkedValueUtils.getOnChange(this);n&&(t=n.call(this,e)),ReactUpdates.asap(forceUpdateIfMounted,this);var a=this.props.name;if("radio"===this.props.type&&null!=a){for(var i=this.getDOMNode(),r=i;r.parentNode;)r=r.parentNode;for(var s=r.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),o=0,u=s.length;u>o;o++){var c=s[o];if(c!==i&&c.form===i.form){var l=ReactMount.getID(c);"production"!==process.env.NODE_ENV?invariant(l,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):invariant(l);var p=instancesByReactID[l];"production"!==process.env.NODE_ENV?invariant(p,"ReactDOMInput: Unknown radio button ID %s.",l):invariant(p),ReactUpdates.asap(forceUpdateIfMounted,p)}}}return t}});module.exports=ReactDOMInput;

}).call(this,require('_process'))

},{"./AutoFocusMixin":78,"./DOMPropertyOperations":88,"./LinkedValueUtils":102,"./Object.assign":105,"./ReactBrowserComponentMixin":108,"./ReactClass":114,"./ReactElement":139,"./ReactMount":153,"./ReactUpdates":176,"./invariant":227,"_process":33}],130:[function(require,module,exports){
(function (process){
"use strict";var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactClass=require("./ReactClass"),ReactElement=require("./ReactElement"),warning=require("./warning"),option=ReactElement.createFactory("option"),ReactDOMOption=ReactClass.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[ReactBrowserComponentMixin],componentWillMount:function(){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):null)},render:function(){return option(this.props,this.props.children)}});module.exports=ReactDOMOption;

}).call(this,require('_process'))

},{"./ReactBrowserComponentMixin":108,"./ReactClass":114,"./ReactElement":139,"./warning":248,"_process":33}],131:[function(require,module,exports){
"use strict";function updateOptionsIfPendingUpdateAndMounted(){if(this._pendingUpdate){this._pendingUpdate=!1;var e=LinkedValueUtils.getValue(this);null!=e&&this.isMounted()&&updateOptions(this,e)}}function selectValueType(e,t,i){if(null==e[t])return null;if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function updateOptions(e,t){var i,n,s,a=e.getDOMNode().options;if(e.props.multiple){for(i={},n=0,s=t.length;s>n;n++)i[""+t[n]]=!0;for(n=0,s=a.length;s>n;n++){var l=i.hasOwnProperty(a[n].value);a[n].selected!==l&&(a[n].selected=l)}}else{for(i=""+t,n=0,s=a.length;s>n;n++)if(a[n].value===i)return void(a[n].selected=!0);a.length&&(a[0].selected=!0)}}var AutoFocusMixin=require("./AutoFocusMixin"),LinkedValueUtils=require("./LinkedValueUtils"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactClass=require("./ReactClass"),ReactElement=require("./ReactElement"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),select=ReactElement.createFactory("select"),ReactDOMSelect=ReactClass.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],propTypes:{defaultValue:selectValueType,value:selectValueType},render:function(){var e=assign({},this.props);return e.onChange=this._handleChange,e.value=null,select(e,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var e=LinkedValueUtils.getValue(this);null!=e?updateOptions(this,e):null!=this.props.defaultValue&&updateOptions(this,this.props.defaultValue)},componentDidUpdate:function(e){var t=LinkedValueUtils.getValue(this);null!=t?(this._pendingUpdate=!1,updateOptions(this,t)):!e.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?updateOptions(this,this.props.defaultValue):updateOptions(this,this.props.multiple?[]:""))},_handleChange:function(e){var t,i=LinkedValueUtils.getOnChange(this);return i&&(t=i.call(this,e)),this._pendingUpdate=!0,ReactUpdates.asap(updateOptionsIfPendingUpdateAndMounted,this),t}});module.exports=ReactDOMSelect;

},{"./AutoFocusMixin":78,"./LinkedValueUtils":102,"./Object.assign":105,"./ReactBrowserComponentMixin":108,"./ReactClass":114,"./ReactElement":139,"./ReactUpdates":176}],132:[function(require,module,exports){
"use strict";function isCollapsed(e,t,n,o){return e===n&&t===o}function getIEOffsets(e){var t=document.selection,n=t.createRange(),o=n.text.length,s=n.duplicate();s.moveToElementText(e),s.setEndPoint("EndToStart",n);var r=s.text.length,a=r+o;return{start:r,end:a}}function getModernOffsets(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,s=t.focusNode,r=t.focusOffset,a=t.getRangeAt(0),f=isCollapsed(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),d=f?0:a.toString().length,c=a.cloneRange();c.selectNodeContents(e),c.setEnd(a.startContainer,a.startOffset);var i=isCollapsed(c.startContainer,c.startOffset,c.endContainer,c.endOffset),g=i?0:c.toString().length,l=g+d,u=document.createRange();u.setStart(n,o),u.setEnd(s,r);var O=u.collapsed;return{start:O?l:g,end:O?g:l}}function setIEOffsets(e,t){var n,o,s=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,o=n):t.start>t.end?(n=t.end,o=t.start):(n=t.start,o=t.end),s.moveToElementText(e),s.moveStart("character",n),s.setEndPoint("EndToStart",s),s.moveEnd("character",o-n),s.select()}function setModernOffsets(e,t){if(window.getSelection){var n=window.getSelection(),o=e[getTextContentAccessor()].length,s=Math.min(t.start,o),r="undefined"==typeof t.end?s:Math.min(t.end,o);if(!n.extend&&s>r){var a=r;r=s,s=a}var f=getNodeForCharacterOffset(e,s),d=getNodeForCharacterOffset(e,r);if(f&&d){var c=document.createRange();c.setStart(f.node,f.offset),n.removeAllRanges(),s>r?(n.addRange(c),n.extend(d.node,d.offset)):(c.setEnd(d.node,d.offset),n.addRange(c))}}}var ExecutionEnvironment=require("./ExecutionEnvironment"),getNodeForCharacterOffset=require("./getNodeForCharacterOffset"),getTextContentAccessor=require("./getTextContentAccessor"),useIEOffsets=ExecutionEnvironment.canUseDOM&&"selection"in document&&!("getSelection"in window),ReactDOMSelection={getOffsets:useIEOffsets?getIEOffsets:getModernOffsets,setOffsets:useIEOffsets?setIEOffsets:setModernOffsets};module.exports=ReactDOMSelection;

},{"./ExecutionEnvironment":98,"./getNodeForCharacterOffset":220,"./getTextContentAccessor":222}],133:[function(require,module,exports){
"use strict";var DOMPropertyOperations=require("./DOMPropertyOperations"),ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment"),ReactDOMComponent=require("./ReactDOMComponent"),assign=require("./Object.assign"),escapeTextContentForBrowser=require("./escapeTextContentForBrowser"),ReactDOMTextComponent=function(t){};assign(ReactDOMTextComponent.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){this._rootNodeID=t;var o=escapeTextContentForBrowser(this._stringText);return e.renderToStaticMarkup?o:"<span "+DOMPropertyOperations.createMarkupForID(t)+">"+o+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;n!==this._stringText&&(this._stringText=n,ReactDOMComponent.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID)}}),module.exports=ReactDOMTextComponent;

},{"./DOMPropertyOperations":88,"./Object.assign":105,"./ReactComponentBrowserEnvironment":116,"./ReactDOMComponent":124,"./escapeTextContentForBrowser":208}],134:[function(require,module,exports){
(function (process){
"use strict";function forceUpdateIfMounted(){this.isMounted()&&this.forceUpdate()}var AutoFocusMixin=require("./AutoFocusMixin"),DOMPropertyOperations=require("./DOMPropertyOperations"),LinkedValueUtils=require("./LinkedValueUtils"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactClass=require("./ReactClass"),ReactElement=require("./ReactElement"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),invariant=require("./invariant"),warning=require("./warning"),textarea=ReactElement.createFactory("textarea"),ReactDOMTextarea=ReactClass.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&("production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):null),"production"!==process.env.NODE_ENV?invariant(null==e,"If you supply `defaultValue` on a <textarea>, do not pass children."):invariant(null==e),Array.isArray(t)&&("production"!==process.env.NODE_ENV?invariant(t.length<=1,"<textarea> can only have at most one child."):invariant(t.length<=1),t=t[0]),e=""+t),null==e&&(e="");var a=LinkedValueUtils.getValue(this);return{initialValue:""+(null!=a?a:e)}},render:function(){var e=assign({},this.props);return"production"!==process.env.NODE_ENV?invariant(null==e.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):invariant(null==e.dangerouslySetInnerHTML),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,textarea(e,this.state.initialValue)},componentDidUpdate:function(e,t,a){var n=LinkedValueUtils.getValue(this);if(null!=n){var r=this.getDOMNode();DOMPropertyOperations.setValueForProperty(r,"value",""+n)}},_handleChange:function(e){var t,a=LinkedValueUtils.getOnChange(this);return a&&(t=a.call(this,e)),ReactUpdates.asap(forceUpdateIfMounted,this),t}});module.exports=ReactDOMTextarea;

}).call(this,require('_process'))

},{"./AutoFocusMixin":78,"./DOMPropertyOperations":88,"./LinkedValueUtils":102,"./Object.assign":105,"./ReactBrowserComponentMixin":108,"./ReactClass":114,"./ReactElement":139,"./ReactUpdates":176,"./invariant":227,"./warning":248,"_process":33}],135:[function(require,module,exports){
"use strict";function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}var ReactUpdates=require("./ReactUpdates"),Transaction=require("./Transaction"),assign=require("./Object.assign"),emptyFunction=require("./emptyFunction"),RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=!1}},FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)},TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];assign(ReactDefaultBatchingStrategyTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS}});var transaction=new ReactDefaultBatchingStrategyTransaction,ReactDefaultBatchingStrategy={isBatchingUpdates:!1,batchedUpdates:function(t,a,e,n,i){var c=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=!0,c?t(a,e,n,i):transaction.perform(t,null,a,e,n,i)}};module.exports=ReactDefaultBatchingStrategy;

},{"./Object.assign":105,"./ReactUpdates":176,"./Transaction":193,"./emptyFunction":206}],136:[function(require,module,exports){
(function (process){
"use strict";function autoGenerateWrapperClass(e){return ReactClass.createClass({tagName:e.toUpperCase(),render:function(){return new ReactElement(e,null,null,null,null,this.props)}})}function inject(){if(ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener),ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder),ReactInjection.EventPluginHub.injectInstanceHandle(ReactInstanceHandles),ReactInjection.EventPluginHub.injectMount(ReactMount),ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,MobileSafariClickEventPlugin:MobileSafariClickEventPlugin,SelectEventPlugin:SelectEventPlugin,BeforeInputEventPlugin:BeforeInputEventPlugin}),ReactInjection.NativeComponent.injectGenericComponentClass(ReactDOMComponent),ReactInjection.NativeComponent.injectTextComponentClass(ReactDOMTextComponent),ReactInjection.NativeComponent.injectAutoWrapper(autoGenerateWrapperClass),ReactInjection.Class.injectMixin(ReactBrowserComponentMixin),ReactInjection.NativeComponent.injectComponentClasses({button:ReactDOMButton,form:ReactDOMForm,iframe:ReactDOMIframe,img:ReactDOMImg,input:ReactDOMInput,option:ReactDOMOption,select:ReactDOMSelect,textarea:ReactDOMTextarea,html:createFullPageComponent("html"),head:createFullPageComponent("head"),body:createFullPageComponent("body")}),ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig),ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig),ReactInjection.EmptyComponent.injectEmptyComponent("noscript"),ReactInjection.Updates.injectReconcileTransaction(ReactReconcileTransaction),ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy),ReactInjection.RootIndex.injectCreateReactRootIndex(ExecutionEnvironment.canUseDOM?ClientReactRootIndex.createReactRootIndex:ServerReactRootIndex.createReactRootIndex),ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment),ReactInjection.DOMComponent.injectIDOperations(ReactDOMIDOperations),"production"!==process.env.NODE_ENV){var e=ExecutionEnvironment.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(e)){var t=require("./ReactDefaultPerf");t.start()}}}var BeforeInputEventPlugin=require("./BeforeInputEventPlugin"),ChangeEventPlugin=require("./ChangeEventPlugin"),ClientReactRootIndex=require("./ClientReactRootIndex"),DefaultEventPluginOrder=require("./DefaultEventPluginOrder"),EnterLeaveEventPlugin=require("./EnterLeaveEventPlugin"),ExecutionEnvironment=require("./ExecutionEnvironment"),HTMLDOMPropertyConfig=require("./HTMLDOMPropertyConfig"),MobileSafariClickEventPlugin=require("./MobileSafariClickEventPlugin"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactClass=require("./ReactClass"),ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment"),ReactDefaultBatchingStrategy=require("./ReactDefaultBatchingStrategy"),ReactDOMComponent=require("./ReactDOMComponent"),ReactDOMButton=require("./ReactDOMButton"),ReactDOMForm=require("./ReactDOMForm"),ReactDOMImg=require("./ReactDOMImg"),ReactDOMIDOperations=require("./ReactDOMIDOperations"),ReactDOMIframe=require("./ReactDOMIframe"),ReactDOMInput=require("./ReactDOMInput"),ReactDOMOption=require("./ReactDOMOption"),ReactDOMSelect=require("./ReactDOMSelect"),ReactDOMTextarea=require("./ReactDOMTextarea"),ReactDOMTextComponent=require("./ReactDOMTextComponent"),ReactElement=require("./ReactElement"),ReactEventListener=require("./ReactEventListener"),ReactInjection=require("./ReactInjection"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),ReactReconcileTransaction=require("./ReactReconcileTransaction"),SelectEventPlugin=require("./SelectEventPlugin"),ServerReactRootIndex=require("./ServerReactRootIndex"),SimpleEventPlugin=require("./SimpleEventPlugin"),SVGDOMPropertyConfig=require("./SVGDOMPropertyConfig"),createFullPageComponent=require("./createFullPageComponent");module.exports={inject:inject};

}).call(this,require('_process'))

},{"./BeforeInputEventPlugin":79,"./ChangeEventPlugin":84,"./ClientReactRootIndex":85,"./DefaultEventPluginOrder":90,"./EnterLeaveEventPlugin":91,"./ExecutionEnvironment":98,"./HTMLDOMPropertyConfig":100,"./MobileSafariClickEventPlugin":104,"./ReactBrowserComponentMixin":108,"./ReactClass":114,"./ReactComponentBrowserEnvironment":116,"./ReactDOMButton":123,"./ReactDOMComponent":124,"./ReactDOMForm":125,"./ReactDOMIDOperations":126,"./ReactDOMIframe":127,"./ReactDOMImg":128,"./ReactDOMInput":129,"./ReactDOMOption":130,"./ReactDOMSelect":131,"./ReactDOMTextComponent":133,"./ReactDOMTextarea":134,"./ReactDefaultBatchingStrategy":135,"./ReactDefaultPerf":137,"./ReactElement":139,"./ReactEventListener":144,"./ReactInjection":146,"./ReactInstanceHandles":148,"./ReactMount":153,"./ReactReconcileTransaction":164,"./SVGDOMPropertyConfig":178,"./SelectEventPlugin":179,"./ServerReactRootIndex":180,"./SimpleEventPlugin":181,"./createFullPageComponent":202,"_process":33}],137:[function(require,module,exports){
"use strict";function roundFloat(e){return Math.floor(100*e)/100}function addValue(e,t,a){e[t]=(e[t]||0)+a}var DOMProperty=require("./DOMProperty"),ReactDefaultPerfAnalysis=require("./ReactDefaultPerfAnalysis"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),performanceNow=require("./performanceNow"),ReactDefaultPerf={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){ReactDefaultPerf._injected||ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure),ReactDefaultPerf._allMeasurements.length=0,ReactPerf.enableMeasure=!0},stop:function(){ReactPerf.enableMeasure=!1},getLastMeasurements:function(){return ReactDefaultPerf._allMeasurements},printExclusive:function(e){e=e||ReactDefaultPerf._allMeasurements;var t=ReactDefaultPerfAnalysis.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":roundFloat(e.inclusive),"Exclusive mount time (ms)":roundFloat(e.exclusive),"Exclusive render time (ms)":roundFloat(e.render),"Mount time per instance (ms)":roundFloat(e.exclusive/e.count),"Render time per instance (ms)":roundFloat(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||ReactDefaultPerf._allMeasurements;var t=ReactDefaultPerfAnalysis.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":roundFloat(e.time),Instances:e.count}})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=ReactDefaultPerfAnalysis.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||ReactDefaultPerf._allMeasurements,console.table(ReactDefaultPerf.getMeasurementsSummaryMap(e)),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||ReactDefaultPerf._allMeasurements;var t=ReactDefaultPerfAnalysis.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[DOMProperty.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,a,n){var r=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].writes;r[e]=r[e]||[],r[e].push({type:t,time:a,args:n})},measure:function(e,t,a){return function(){for(var n=[],r=0,o=arguments.length;o>r;r++)n.push(arguments[r]);var u,l,s;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return ReactDefaultPerf._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),s=performanceNow(),l=a.apply(this,n),ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].totalTime=performanceNow()-s,l;if("_mountImageIntoNode"===t||"ReactDOMIDOperations"===e){if(s=performanceNow(),l=a.apply(this,n),u=performanceNow()-s,"_mountImageIntoNode"===t){var c=ReactMount.getID(n[1]);ReactDefaultPerf._recordWrite(c,t,u,n[0])}else"dangerouslyProcessChildrenUpdates"===t?n[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=n[1][e.markupIndex]),ReactDefaultPerf._recordWrite(e.parentID,e.type,u,t)}):ReactDefaultPerf._recordWrite(n[0],t,u,Array.prototype.slice.call(n,1));return l}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return a.apply(this,n);if("string"==typeof this._currentElement.type)return a.apply(this,n);var i="mountComponent"===t?n[0]:this._rootNodeID,m="_renderValidatedComponent"===t,f="mountComponent"===t,p=ReactDefaultPerf._mountStack,d=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1];if(m?addValue(d.counts,i,1):f&&p.push(0),s=performanceNow(),l=a.apply(this,n),u=performanceNow()-s,m)addValue(d.render,i,u);else if(f){var R=p.pop();p[p.length-1]+=u,addValue(d.exclusive,i,u-R),addValue(d.inclusive,i,u)}else addValue(d.inclusive,i,u);return d.displayNames[i]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},l}}};module.exports=ReactDefaultPerf;

},{"./DOMProperty":87,"./ReactDefaultPerfAnalysis":138,"./ReactMount":153,"./ReactPerf":158,"./performanceNow":239}],138:[function(require,module,exports){
function getTotalTime(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.totalTime}return t}function getDOMSummary(e){for(var t=[],n=0;n<e.length;n++){var r,i=e[n];for(r in i.writes)i.writes[r].forEach(function(e){t.push({id:r,type:DOM_OPERATION_TYPES[e.type]||e.type,args:e.args})})}return t}function getExclusiveSummary(e){for(var t,n={},r=0;r<e.length;r++){var i=e[r],u=assign({},i.exclusive,i.inclusive);for(var s in u)t=i.displayNames[s].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},i.render[s]&&(n[t].render+=i.render[s]),i.exclusive[s]&&(n[t].exclusive+=i.exclusive[s]),i.inclusive[s]&&(n[t].inclusive+=i.inclusive[s]),i.counts[s]&&(n[t].count+=i.counts[s])}var a=[];for(t in n)n[t].exclusive>=DONT_CARE_THRESHOLD&&a.push(n[t]);return a.sort(function(e,t){return t.exclusive-e.exclusive}),a}function getInclusiveSummary(e,t){for(var n,r={},i=0;i<e.length;i++){var u,s=e[i],a=assign({},s.exclusive,s.inclusive);t&&(u=getUnchangedComponents(s));for(var o in a)if(!t||u[o]){var c=s.displayNames[o];n=c.owner+" > "+c.current,r[n]=r[n]||{componentName:n,time:0,count:0},s.inclusive[o]&&(r[n].time+=s.inclusive[o]),s.counts[o]&&(r[n].count+=s.counts[o])}}var l=[];for(n in r)r[n].time>=DONT_CARE_THRESHOLD&&l.push(r[n]);return l.sort(function(e,t){return t.time-e.time}),l}function getUnchangedComponents(e){var t={},n=Object.keys(e.writes),r=assign({},e.exclusive,e.inclusive);for(var i in r){for(var u=!1,s=0;s<n.length;s++)if(0===n[s].indexOf(i)){u=!0;break}!u&&e.counts[i]>0&&(t[i]=!0)}return t}var assign=require("./Object.assign"),DONT_CARE_THRESHOLD=1.2,DOM_OPERATION_TYPES={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},ReactDefaultPerfAnalysis={getExclusiveSummary:getExclusiveSummary,getInclusiveSummary:getInclusiveSummary,getDOMSummary:getDOMSummary,getTotalTime:getTotalTime};module.exports=ReactDefaultPerfAnalysis;

},{"./Object.assign":105}],139:[function(require,module,exports){
(function (process){
"use strict";function defineWarningProperty(e,t){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[t]:null},set:function(e){"production"!==process.env.NODE_ENV?warning(!1,"Don't set the %s property of the React element. Instead, specify the correct value when initially creating the element.",t):null,this._store[t]=e}})}function defineMutationMembrane(e){try{var t={props:!0};for(var r in t)defineWarningProperty(e,r);useMutationMembrane=!0}catch(n){}}var ReactContext=require("./ReactContext"),ReactCurrentOwner=require("./ReactCurrentOwner"),assign=require("./Object.assign"),warning=require("./warning"),RESERVED_PROPS={key:!0,ref:!0},useMutationMembrane=!1,ReactElement=function(e,t,r,n,i,a){if(this.type=e,this.key=t,this.ref=r,this._owner=n,this._context=i,"production"!==process.env.NODE_ENV){this._store={props:a,originalProps:assign({},a)};try{Object.defineProperty(this._store,"validated",{configurable:!1,enumerable:!1,writable:!0})}catch(o){}if(this._store.validated=!1,useMutationMembrane)return void Object.freeze(this)}this.props=a};ReactElement.prototype={_isReactElement:!0},"production"!==process.env.NODE_ENV&&defineMutationMembrane(ReactElement.prototype),ReactElement.createElement=function(e,t,r){var n,i={},a=null,o=null;if(null!=t){o=void 0===t.ref?null:t.ref,a=void 0===t.key?null:""+t.key;for(n in t)t.hasOwnProperty(n)&&!RESERVED_PROPS.hasOwnProperty(n)&&(i[n]=t[n])}var c=arguments.length-2;if(1===c)i.children=r;else if(c>1){for(var s=Array(c),l=0;c>l;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps){var u=e.defaultProps;for(n in u)"undefined"==typeof i[n]&&(i[n]=u[n])}return new ReactElement(e,a,o,ReactCurrentOwner.current,ReactContext.current,i)},ReactElement.createFactory=function(e){var t=ReactElement.createElement.bind(null,e);return t.type=e,t},ReactElement.cloneAndReplaceProps=function(e,t){var r=new ReactElement(e.type,e.key,e.ref,e._owner,e._context,t);return"production"!==process.env.NODE_ENV&&(r._store.validated=e._store.validated),r},ReactElement.cloneElement=function(e,t,r){var n,i=assign({},e.props),a=e.key,o=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(o=t.ref,c=ReactCurrentOwner.current),void 0!==t.key&&(a=""+t.key);for(n in t)t.hasOwnProperty(n)&&!RESERVED_PROPS.hasOwnProperty(n)&&(i[n]=t[n])}var s=arguments.length-2;if(1===s)i.children=r;else if(s>1){for(var l=Array(s),u=0;s>u;u++)l[u]=arguments[u+2];i.children=l}return new ReactElement(e.type,a,o,c,e._context,i)},ReactElement.isValidElement=function(e){var t=!(!e||!e._isReactElement);return t},module.exports=ReactElement;

}).call(this,require('_process'))

},{"./Object.assign":105,"./ReactContext":120,"./ReactCurrentOwner":121,"./warning":248,"_process":33}],140:[function(require,module,exports){
(function (process){
"use strict";function getDeclarationErrorAddendum(){if(ReactCurrentOwner.current){var e=ReactCurrentOwner.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function getName(e){var r=e&&e.getPublicInstance();if(!r)return void 0;var t=r.constructor;return t?t.displayName||t.name||void 0:void 0}function getCurrentOwnerDisplayName(){var e=ReactCurrentOwner.current;return e&&getName(e)||void 0}function validateExplicitKey(e,r){e._store.validated||null!=e.key||(e._store.validated=!0,warnAndMonitorForKeyUse('Each child in an array or iterator should have a unique "key" prop.',e,r))}function validatePropertyKey(e,r,t){NUMERIC_PROPERTY_REGEX.test(e)&&warnAndMonitorForKeyUse("Child objects should have non-numeric keys so ordering is preserved.",r,t)}function warnAndMonitorForKeyUse(e,r,t){var n=getCurrentOwnerDisplayName(),a="string"==typeof t?t:t.displayName||t.name,o=n||a,i=ownerHasKeyUseWarning[e]||(ownerHasKeyUseWarning[e]={});if(!i.hasOwnProperty(o)){i[o]=!0;var s=n?" Check the render method of "+n+".":a?" Check the React.render call using <"+a+">.":"",c="";if(r&&r._owner&&r._owner!==ReactCurrentOwner.current){var l=getName(r._owner);c=" It was passed a child from "+l+"."}"production"!==process.env.NODE_ENV?warning(!1,e+"%s%s See https://fb.me/react-warning-keys for more information.",s,c):null}}function validateChildKeys(e,r){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];ReactElement.isValidElement(n)&&validateExplicitKey(n,r)}else if(ReactElement.isValidElement(e))e._store.validated=!0;else if(e){var a=getIteratorFn(e);if(a){if(a!==e.entries)for(var o,i=a.call(e);!(o=i.next()).done;)ReactElement.isValidElement(o.value)&&validateExplicitKey(o.value,r)}else if("object"==typeof e){var s=ReactFragment.extractIfFragment(e);for(var c in s)s.hasOwnProperty(c)&&validatePropertyKey(c,s[c],r)}}}function checkPropTypes(e,r,t,n){for(var a in r)if(r.hasOwnProperty(a)){var o;try{"production"!==process.env.NODE_ENV?invariant("function"==typeof r[a],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",ReactPropTypeLocationNames[n],a):invariant("function"==typeof r[a]),o=r[a](t,a,e,n)}catch(i){o=i}if(o instanceof Error&&!(o.message in loggedTypeFailures)){loggedTypeFailures[o.message]=!0;var s=getDeclarationErrorAddendum(this);"production"!==process.env.NODE_ENV?warning(!1,"Failed propType: %s%s",o.message,s):null}}}function warnForPropsMutation(e,r){var t=r.type,n="string"==typeof t?t:t.displayName,a=r._owner?r._owner.getPublicInstance().constructor.displayName:null,o=e+"|"+n+"|"+a;if(!warnedPropsMutations.hasOwnProperty(o)){warnedPropsMutations[o]=!0;var i="";n&&(i=" <"+n+" />");var s="";a&&(s=" The element was created by "+a+"."),"production"!==process.env.NODE_ENV?warning(!1,"Don't set .props.%s of the React component%s. Instead, specify the correct value when initially creating the element or use React.cloneElement to make a new element with updated props.%s",e,i,s):null}}function is(e,r){return e!==e?r!==r:0===e&&0===r?1/e===1/r:e===r}function checkAndWarnForMutatedProps(e){if(e._store){var r=e._store.originalProps,t=e.props;for(var n in t)t.hasOwnProperty(n)&&(r.hasOwnProperty(n)&&is(r[n],t[n])||(warnForPropsMutation(n,e),r[n]=t[n]))}}function validatePropTypes(e){if(null!=e.type){var r=ReactNativeComponent.getComponentClassForElement(e),t=r.displayName||r.name;r.propTypes&&checkPropTypes(t,r.propTypes,e.props,ReactPropTypeLocations.prop),"function"==typeof r.getDefaultProps&&("production"!==process.env.NODE_ENV?warning(r.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):null)}}var ReactElement=require("./ReactElement"),ReactFragment=require("./ReactFragment"),ReactPropTypeLocations=require("./ReactPropTypeLocations"),ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactNativeComponent=require("./ReactNativeComponent"),getIteratorFn=require("./getIteratorFn"),invariant=require("./invariant"),warning=require("./warning"),ownerHasKeyUseWarning={},loggedTypeFailures={},NUMERIC_PROPERTY_REGEX=/^\d+$/,warnedPropsMutations={},ReactElementValidator={checkAndWarnForMutatedProps:checkAndWarnForMutatedProps,createElement:function(e,r,t){"production"!==process.env.NODE_ENV?warning(null!=e,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components)."):null;var n=ReactElement.createElement.apply(this,arguments);if(null==n)return n;for(var a=2;a<arguments.length;a++)validateChildKeys(arguments[a],e);return validatePropTypes(n),n},createFactory:function(e){var r=ReactElementValidator.createElement.bind(null,e);if(r.type=e,"production"!==process.env.NODE_ENV)try{Object.defineProperty(r,"type",{enumerable:!1,get:function(){return"production"!==process.env.NODE_ENV?warning(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):null,Object.defineProperty(this,"type",{value:e}),e}})}catch(t){}return r},cloneElement:function(e,r,t){for(var n=ReactElement.cloneElement.apply(this,arguments),a=2;a<arguments.length;a++)validateChildKeys(arguments[a],n.type);return validatePropTypes(n),n}};module.exports=ReactElementValidator;

}).call(this,require('_process'))

},{"./ReactCurrentOwner":121,"./ReactElement":139,"./ReactFragment":145,"./ReactNativeComponent":156,"./ReactPropTypeLocationNames":160,"./ReactPropTypeLocations":161,"./getIteratorFn":218,"./invariant":227,"./warning":248,"_process":33}],141:[function(require,module,exports){
(function (process){
"use strict";function registerNullComponentID(e){nullComponentIDsRegistry[e]=!0}function deregisterNullComponentID(e){delete nullComponentIDsRegistry[e]}function isNullComponentID(e){return!!nullComponentIDsRegistry[e]}var ReactElement=require("./ReactElement"),ReactInstanceMap=require("./ReactInstanceMap"),invariant=require("./invariant"),component,nullComponentIDsRegistry={},ReactEmptyComponentInjection={injectEmptyComponent:function(e){component=ReactElement.createFactory(e)}},ReactEmptyComponentType=function(){};ReactEmptyComponentType.prototype.componentDidMount=function(){var e=ReactInstanceMap.get(this);e&&registerNullComponentID(e._rootNodeID)},ReactEmptyComponentType.prototype.componentWillUnmount=function(){var e=ReactInstanceMap.get(this);e&&deregisterNullComponentID(e._rootNodeID)},ReactEmptyComponentType.prototype.render=function(){return"production"!==process.env.NODE_ENV?invariant(component,"Trying to return null from a render, but no null placeholder component was injected."):invariant(component),component()};var emptyElement=ReactElement.createElement(ReactEmptyComponentType),ReactEmptyComponent={emptyElement:emptyElement,injection:ReactEmptyComponentInjection,isNullComponentID:isNullComponentID};module.exports=ReactEmptyComponent;

}).call(this,require('_process'))

},{"./ReactElement":139,"./ReactInstanceMap":149,"./invariant":227,"_process":33}],142:[function(require,module,exports){
"use strict";var ReactErrorUtils={guard:function(r,t){return r}};module.exports=ReactErrorUtils;

},{}],143:[function(require,module,exports){
"use strict";function runEventQueueInBatch(e){EventPluginHub.enqueueEvents(e),EventPluginHub.processEventQueue()}var EventPluginHub=require("./EventPluginHub"),ReactEventEmitterMixin={handleTopLevel:function(e,n,t,u){var i=EventPluginHub.extractEvents(e,n,t,u);runEventQueueInBatch(i)}};module.exports=ReactEventEmitterMixin;

},{"./EventPluginHub":94}],144:[function(require,module,exports){
"use strict";function findParent(e){var t=ReactMount.getID(e),n=ReactInstanceHandles.getReactRootIDFromNodeID(t),o=ReactMount.findReactContainerForID(n),a=ReactMount.getFirstReactDOM(o);return a}function TopLevelCallbackBookKeeping(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function handleTopLevelImpl(e){for(var t=ReactMount.getFirstReactDOM(getEventTarget(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=findParent(n);for(var o=0,a=e.ancestors.length;a>o;o++){t=e.ancestors[o];var l=ReactMount.getID(t)||"";ReactEventListener._handleTopLevel(e.topLevelType,t,l,e.nativeEvent)}}function scrollValueMonitor(e){var t=getUnboundedScrollPosition(window);e(t)}var EventListener=require("./EventListener"),ExecutionEnvironment=require("./ExecutionEnvironment"),PooledClass=require("./PooledClass"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),getEventTarget=require("./getEventTarget"),getUnboundedScrollPosition=require("./getUnboundedScrollPosition");assign(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),PooledClass.addPoolingTo(TopLevelCallbackBookKeeping,PooledClass.twoArgumentPooler);var ReactEventListener={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:ExecutionEnvironment.canUseDOM?window:null,setHandleTopLevel:function(e){ReactEventListener._handleTopLevel=e},setEnabled:function(e){ReactEventListener._enabled=!!e},isEnabled:function(){return ReactEventListener._enabled},trapBubbledEvent:function(e,t,n){var o=n;return o?EventListener.listen(o,t,ReactEventListener.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var o=n;return o?EventListener.capture(o,t,ReactEventListener.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=scrollValueMonitor.bind(null,e);EventListener.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(ReactEventListener._enabled){var n=TopLevelCallbackBookKeeping.getPooled(e,t);try{ReactUpdates.batchedUpdates(handleTopLevelImpl,n)}finally{TopLevelCallbackBookKeeping.release(n)}}}};module.exports=ReactEventListener;

},{"./EventListener":93,"./ExecutionEnvironment":98,"./Object.assign":105,"./PooledClass":106,"./ReactInstanceHandles":148,"./ReactMount":153,"./ReactUpdates":176,"./getEventTarget":217,"./getUnboundedScrollPosition":223}],145:[function(require,module,exports){
(function (process){
"use strict";var ReactElement=require("./ReactElement"),warning=require("./warning");if("production"!==process.env.NODE_ENV){var fragmentKey="_reactFragment",didWarnKey="_reactDidWarn",canWarnForReactFragment=!1;try{var dummy=function(){return 1};Object.defineProperty({},fragmentKey,{enumerable:!1,value:!0}),Object.defineProperty({},"key",{enumerable:!0,get:dummy}),canWarnForReactFragment=!0}catch(x){}var proxyPropertyAccessWithWarning=function(e,r){Object.defineProperty(e,r,{enumerable:!0,get:function(){return"production"!==process.env.NODE_ENV?warning(this[didWarnKey],"A ReactFragment is an opaque type. Accessing any of its properties is deprecated. Pass it to one of the React.Children helpers."):null,this[didWarnKey]=!0,this[fragmentKey][r]},set:function(e){"production"!==process.env.NODE_ENV?warning(this[didWarnKey],"A ReactFragment is an immutable opaque type. Mutating its properties is deprecated."):null,this[didWarnKey]=!0,this[fragmentKey][r]=e}})},issuedWarnings={},didWarnForFragment=function(e){var r="";for(var n in e)r+=n+":"+typeof e[n]+",";var t=!!issuedWarnings[r];return issuedWarnings[r]=!0,t}}var ReactFragment={create:function(e){if("production"!==process.env.NODE_ENV){if("object"!=typeof e||!e||Array.isArray(e))return"production"!==process.env.NODE_ENV?warning(!1,"React.addons.createFragment only accepts a single object.",e):null,e;if(ReactElement.isValidElement(e))return"production"!==process.env.NODE_ENV?warning(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."):null,e;if(canWarnForReactFragment){var r={};Object.defineProperty(r,fragmentKey,{enumerable:!1,value:e}),Object.defineProperty(r,didWarnKey,{writable:!0,enumerable:!1,value:!1});for(var n in e)proxyPropertyAccessWithWarning(r,n);return Object.preventExtensions(r),r}}return e},extract:function(e){return"production"!==process.env.NODE_ENV&&canWarnForReactFragment?e[fragmentKey]?e[fragmentKey]:("production"!==process.env.NODE_ENV?warning(didWarnForFragment(e),"Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child."):null,e):e},extractIfFragment:function(e){if("production"!==process.env.NODE_ENV&&canWarnForReactFragment){if(e[fragmentKey])return e[fragmentKey];for(var r in e)if(e.hasOwnProperty(r)&&ReactElement.isValidElement(e[r]))return ReactFragment.extract(e)}return e}};module.exports=ReactFragment;

}).call(this,require('_process'))

},{"./ReactElement":139,"./warning":248,"_process":33}],146:[function(require,module,exports){
"use strict";var DOMProperty=require("./DOMProperty"),EventPluginHub=require("./EventPluginHub"),ReactComponentEnvironment=require("./ReactComponentEnvironment"),ReactClass=require("./ReactClass"),ReactEmptyComponent=require("./ReactEmptyComponent"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactNativeComponent=require("./ReactNativeComponent"),ReactDOMComponent=require("./ReactDOMComponent"),ReactPerf=require("./ReactPerf"),ReactRootIndex=require("./ReactRootIndex"),ReactUpdates=require("./ReactUpdates"),ReactInjection={Component:ReactComponentEnvironment.injection,Class:ReactClass.injection,DOMComponent:ReactDOMComponent.injection,DOMProperty:DOMProperty.injection,EmptyComponent:ReactEmptyComponent.injection,EventPluginHub:EventPluginHub.injection,EventEmitter:ReactBrowserEventEmitter.injection,NativeComponent:ReactNativeComponent.injection,Perf:ReactPerf.injection,RootIndex:ReactRootIndex.injection,Updates:ReactUpdates.injection};module.exports=ReactInjection;

},{"./DOMProperty":87,"./EventPluginHub":94,"./ReactBrowserEventEmitter":109,"./ReactClass":114,"./ReactComponentEnvironment":117,"./ReactDOMComponent":124,"./ReactEmptyComponent":141,"./ReactNativeComponent":156,"./ReactPerf":158,"./ReactRootIndex":167,"./ReactUpdates":176}],147:[function(require,module,exports){
"use strict";function isInDocument(e){return containsNode(document.documentElement,e)}var ReactDOMSelection=require("./ReactDOMSelection"),containsNode=require("./containsNode"),focusNode=require("./focusNode"),getActiveElement=require("./getActiveElement"),ReactInputSelection={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=getActiveElement();return{focusedElem:e,selectionRange:ReactInputSelection.hasSelectionCapabilities(e)?ReactInputSelection.getSelection(e):null}},restoreSelection:function(e){var t=getActiveElement(),n=e.focusedElem,c=e.selectionRange;t!==n&&isInDocument(n)&&(ReactInputSelection.hasSelectionCapabilities(n)&&ReactInputSelection.setSelection(n,c),focusNode(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=ReactDOMSelection.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,c=t.end;if("undefined"==typeof c&&(c=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(c,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",c-n),o.select()}else ReactDOMSelection.setOffsets(e,t)}};module.exports=ReactInputSelection;

},{"./ReactDOMSelection":132,"./containsNode":200,"./focusNode":211,"./getActiveElement":213}],148:[function(require,module,exports){
(function (process){
"use strict";function getReactRootIDString(t){return SEPARATOR+t.toString(36)}function isBoundary(t,e){return t.charAt(e)===SEPARATOR||e===t.length}function isValidID(t){return""===t||t.charAt(0)===SEPARATOR&&t.charAt(t.length-1)!==SEPARATOR}function isAncestorIDOf(t,e){return 0===e.indexOf(t)&&isBoundary(e,t.length)}function getParentID(t){return t?t.substr(0,t.lastIndexOf(SEPARATOR)):""}function getNextDescendantID(t,e){if("production"!==process.env.NODE_ENV?invariant(isValidID(t)&&isValidID(e),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",t,e):invariant(isValidID(t)&&isValidID(e)),"production"!==process.env.NODE_ENV?invariant(isAncestorIDOf(t,e),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",t,e):invariant(isAncestorIDOf(t,e)),t===e)return t;var n,r=t.length+SEPARATOR_LENGTH;for(n=r;n<e.length&&!isBoundary(e,n);n++);return e.substr(0,n)}function getFirstCommonAncestorID(t,e){var n=Math.min(t.length,e.length);if(0===n)return"";for(var r=0,a=0;n>=a;a++)if(isBoundary(t,a)&&isBoundary(e,a))r=a;else if(t.charAt(a)!==e.charAt(a))break;var s=t.substr(0,r);return"production"!==process.env.NODE_ENV?invariant(isValidID(s),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",t,e,s):invariant(isValidID(s)),s}function traverseParentPath(t,e,n,r,a,s){t=t||"",e=e||"","production"!==process.env.NODE_ENV?invariant(t!==e,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",t):invariant(t!==e);var i=isAncestorIDOf(e,t);"production"!==process.env.NODE_ENV?invariant(i||isAncestorIDOf(t,e),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",t,e):invariant(i||isAncestorIDOf(t,e));for(var o=0,c=i?getParentID:getNextDescendantID,D=t;;D=c(D,e)){var R;if(a&&D===t||s&&D===e||(R=n(D,i,r)),R===!1||D===e)break;"production"!==process.env.NODE_ENV?invariant(o++<MAX_TREE_DEPTH,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",t,e):invariant(o++<MAX_TREE_DEPTH)}}var ReactRootIndex=require("./ReactRootIndex"),invariant=require("./invariant"),SEPARATOR=".",SEPARATOR_LENGTH=SEPARATOR.length,MAX_TREE_DEPTH=100,ReactInstanceHandles={createReactRootID:function(){return getReactRootIDString(ReactRootIndex.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===SEPARATOR&&t.length>1){var e=t.indexOf(SEPARATOR,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,r,a){var s=getFirstCommonAncestorID(t,e);s!==t&&traverseParentPath(t,s,n,r,!1,!0),s!==e&&traverseParentPath(s,e,n,a,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(traverseParentPath("",t,e,n,!0,!1),traverseParentPath(t,"",e,n,!1,!0))},traverseAncestors:function(t,e,n){traverseParentPath("",t,e,n,!0,!1)},_getFirstCommonAncestorID:getFirstCommonAncestorID,_getNextDescendantID:getNextDescendantID,isAncestorIDOf:isAncestorIDOf,SEPARATOR:SEPARATOR};module.exports=ReactInstanceHandles;

}).call(this,require('_process'))

},{"./ReactRootIndex":167,"./invariant":227,"_process":33}],149:[function(require,module,exports){
"use strict";var ReactInstanceMap={remove:function(n){n._reactInternalInstance=void 0},get:function(n){return n._reactInternalInstance},has:function(n){return void 0!==n._reactInternalInstance},set:function(n,t){n._reactInternalInstance=t}};module.exports=ReactInstanceMap;

},{}],150:[function(require,module,exports){
"use strict";var ReactLifeCycle={currentlyMountingInstance:null,currentlyUnmountingInstance:null};module.exports=ReactLifeCycle;

},{}],151:[function(require,module,exports){
"use strict";function ReactLink(e,r){this.value=e,this.requestChange=r}function createLinkTypeChecker(e){var r={value:"undefined"==typeof e?React.PropTypes.any.isRequired:e.isRequired,requestChange:React.PropTypes.func.isRequired};return React.PropTypes.shape(r)}var React=require("./React");ReactLink.PropTypes={link:createLinkTypeChecker},module.exports=ReactLink;

},{"./React":107}],152:[function(require,module,exports){
"use strict";var adler32=require("./adler32"),ReactMarkupChecksum={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var r=adler32(e);return e.replace(">"," "+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+r+'">')},canReuseMarkup:function(e,r){var a=r.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);a=a&&parseInt(a,10);var u=adler32(e);return u===a}};module.exports=ReactMarkupChecksum;

},{"./adler32":196}],153:[function(require,module,exports){
(function (process){
"use strict";function firstDifferenceIndex(e,t){for(var n=Math.min(e.length,t.length),o=0;n>o;o++)if(e.charAt(o)!==t.charAt(o))return o;return e.length===t.length?-1:n}function getReactRootID(e){var t=getReactRootElementInContainer(e);return t&&ReactMount.getID(t)}function getID(e){var t=internalGetID(e);if(t)if(nodeCache.hasOwnProperty(t)){var n=nodeCache[t];n!==e&&("production"!==process.env.NODE_ENV?invariant(!isValid(n,t),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",ATTR_NAME,t):invariant(!isValid(n,t)),nodeCache[t]=e)}else nodeCache[t]=e;return t}function internalGetID(e){return e&&e.getAttribute&&e.getAttribute(ATTR_NAME)||""}function setID(e,t){var n=internalGetID(e);n!==t&&delete nodeCache[n],e.setAttribute(ATTR_NAME,t),nodeCache[t]=e}function getNode(e){return nodeCache.hasOwnProperty(e)&&isValid(nodeCache[e],e)||(nodeCache[e]=ReactMount.findReactNodeByID(e)),nodeCache[e]}function getNodeFromInstance(e){var t=ReactInstanceMap.get(e)._rootNodeID;return ReactEmptyComponent.isNullComponentID(t)?null:(nodeCache.hasOwnProperty(t)&&isValid(nodeCache[t],t)||(nodeCache[t]=ReactMount.findReactNodeByID(t)),nodeCache[t])}function isValid(e,t){if(e){"production"!==process.env.NODE_ENV?invariant(internalGetID(e)===t,"ReactMount: Unexpected modification of `%s`",ATTR_NAME):invariant(internalGetID(e)===t);var n=ReactMount.findReactContainerForID(t);if(n&&containsNode(n,e))return!0}return!1}function purgeID(e){delete nodeCache[e]}function findDeepestCachedAncestorImpl(e){var t=nodeCache[e];return t&&isValid(t,e)?void(deepestNodeSoFar=t):!1}function findDeepestCachedAncestor(e){deepestNodeSoFar=null,ReactInstanceHandles.traverseAncestors(e,findDeepestCachedAncestorImpl);var t=deepestNodeSoFar;return deepestNodeSoFar=null,t}function mountComponentIntoNode(e,t,n,o,r){var a=ReactReconciler.mountComponent(e,t,o,emptyObject);e._isTopLevel=!0,ReactMount._mountImageIntoNode(a,n,r)}function batchedMountComponentIntoNode(e,t,n,o){var r=ReactUpdates.ReactReconcileTransaction.getPooled();r.perform(mountComponentIntoNode,null,e,t,n,r,o),ReactUpdates.ReactReconcileTransaction.release(r)}var DOMProperty=require("./DOMProperty"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactElement=require("./ReactElement"),ReactElementValidator=require("./ReactElementValidator"),ReactEmptyComponent=require("./ReactEmptyComponent"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactInstanceMap=require("./ReactInstanceMap"),ReactMarkupChecksum=require("./ReactMarkupChecksum"),ReactPerf=require("./ReactPerf"),ReactReconciler=require("./ReactReconciler"),ReactUpdateQueue=require("./ReactUpdateQueue"),ReactUpdates=require("./ReactUpdates"),emptyObject=require("./emptyObject"),containsNode=require("./containsNode"),getReactRootElementInContainer=require("./getReactRootElementInContainer"),instantiateReactComponent=require("./instantiateReactComponent"),invariant=require("./invariant"),setInnerHTML=require("./setInnerHTML"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent"),warning=require("./warning"),SEPARATOR=ReactInstanceHandles.SEPARATOR,ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME,nodeCache={},ELEMENT_NODE_TYPE=1,DOC_NODE_TYPE=9,instancesByReactRootID={},containersByReactRootID={};if("production"!==process.env.NODE_ENV)var rootElementsByReactRootID={};var findComponentRootReusableArray=[],deepestNodeSoFar=null,ReactMount={_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,o){return"production"!==process.env.NODE_ENV&&ReactElementValidator.checkAndWarnForMutatedProps(t),ReactMount.scrollMonitor(n,function(){ReactUpdateQueue.enqueueElementInternal(e,t),o&&ReactUpdateQueue.enqueueCallbackInternal(e,o)}),"production"!==process.env.NODE_ENV&&(rootElementsByReactRootID[getReactRootID(n)]=getReactRootElementInContainer(n)),e},_registerComponent:function(e,t){"production"!==process.env.NODE_ENV?invariant(t&&(t.nodeType===ELEMENT_NODE_TYPE||t.nodeType===DOC_NODE_TYPE),"_registerComponent(...): Target container is not a DOM element."):invariant(t&&(t.nodeType===ELEMENT_NODE_TYPE||t.nodeType===DOC_NODE_TYPE)),ReactBrowserEventEmitter.ensureScrollValueMonitoring();var n=ReactMount.registerContainer(t);return instancesByReactRootID[n]=e,n},_renderNewRootComponent:function(e,t,n){"production"!==process.env.NODE_ENV?warning(null==ReactCurrentOwner.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null;var o=instantiateReactComponent(e,null),r=ReactMount._registerComponent(o,t);return ReactUpdates.batchedUpdates(batchedMountComponentIntoNode,o,r,t,n),"production"!==process.env.NODE_ENV&&(rootElementsByReactRootID[r]=getReactRootElementInContainer(t)),o},render:function(e,t,n){"production"!==process.env.NODE_ENV?invariant(ReactElement.isValidElement(e),"React.render(): Invalid component element.%s","string"==typeof e?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof e?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=e&&void 0!==e.props?" This may be caused by unintentionally loading two independent copies of React.":""):invariant(ReactElement.isValidElement(e));var o=instancesByReactRootID[getReactRootID(t)];if(o){var r=o._currentElement;if(shouldUpdateReactComponent(r,e))return ReactMount._updateRootComponent(o,e,t,n).getPublicInstance();ReactMount.unmountComponentAtNode(t)}var a=getReactRootElementInContainer(t),i=a&&ReactMount.isRenderedByReact(a);if("production"!==process.env.NODE_ENV&&(!i||a.nextSibling))for(var c=a;c;){if(ReactMount.isRenderedByReact(c)){"production"!==process.env.NODE_ENV?warning(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):null;break}c=c.nextSibling}var s=i&&!o,u=ReactMount._renderNewRootComponent(e,t,s).getPublicInstance();return n&&n.call(u),u},constructAndRenderComponent:function(e,t,n){var o=ReactElement.createElement(e,t);return ReactMount.render(o,n)},constructAndRenderComponentByID:function(e,t,n){var o=document.getElementById(n);return"production"!==process.env.NODE_ENV?invariant(o,'Tried to get element with id of "%s" but it is not present on the page.',n):invariant(o),ReactMount.constructAndRenderComponent(e,t,o)},registerContainer:function(e){var t=getReactRootID(e);return t&&(t=ReactInstanceHandles.getReactRootIDFromNodeID(t)),t||(t=ReactInstanceHandles.createReactRootID()),containersByReactRootID[t]=e,t},unmountComponentAtNode:function(e){"production"!==process.env.NODE_ENV?warning(null==ReactCurrentOwner.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,"production"!==process.env.NODE_ENV?invariant(e&&(e.nodeType===ELEMENT_NODE_TYPE||e.nodeType===DOC_NODE_TYPE),"unmountComponentAtNode(...): Target container is not a DOM element."):invariant(e&&(e.nodeType===ELEMENT_NODE_TYPE||e.nodeType===DOC_NODE_TYPE));var t=getReactRootID(e),n=instancesByReactRootID[t];return n?(ReactMount.unmountComponentFromNode(n,e),delete instancesByReactRootID[t],delete containersByReactRootID[t],"production"!==process.env.NODE_ENV&&delete rootElementsByReactRootID[t],!0):!1},unmountComponentFromNode:function(e,t){for(ReactReconciler.unmountComponent(e),t.nodeType===DOC_NODE_TYPE&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=ReactInstanceHandles.getReactRootIDFromNodeID(e),n=containersByReactRootID[t];if("production"!==process.env.NODE_ENV){var o=rootElementsByReactRootID[t];if(o&&o.parentNode!==n){"production"!==process.env.NODE_ENV?invariant(internalGetID(o)===t,"ReactMount: Root element ID differed from reactRootID."):invariant(internalGetID(o)===t);var r=n.firstChild;r&&t===internalGetID(r)?rootElementsByReactRootID[t]=r:"production"!==process.env.NODE_ENV?warning(!1,"ReactMount: Root element has been removed from its original container. New container:",o.parentNode):null}}return n},findReactNodeByID:function(e){var t=ReactMount.findReactContainerForID(e);return ReactMount.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=ReactMount.getID(e);return t?t.charAt(0)===SEPARATOR:!1},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(ReactMount.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=findComponentRootReusableArray,o=0,r=findDeepestCachedAncestor(t)||e;for(n[0]=r.firstChild,n.length=1;o<n.length;){for(var a,i=n[o++];i;){var c=ReactMount.getID(i);c?t===c?a=i:ReactInstanceHandles.isAncestorIDOf(c,t)&&(n.length=o=0,n.push(i.firstChild)):n.push(i.firstChild),i=i.nextSibling}if(a)return n.length=0,a}n.length=0,"production"!==process.env.NODE_ENV?invariant(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,ReactMount.getID(e)):invariant(!1)},_mountImageIntoNode:function(e,t,n){if("production"!==process.env.NODE_ENV?invariant(t&&(t.nodeType===ELEMENT_NODE_TYPE||t.nodeType===DOC_NODE_TYPE),"mountComponentIntoNode(...): Target container is not valid."):invariant(t&&(t.nodeType===ELEMENT_NODE_TYPE||t.nodeType===DOC_NODE_TYPE)),n){var o=getReactRootElementInContainer(t);if(ReactMarkupChecksum.canReuseMarkup(e,o))return;var r=o.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);o.removeAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);var a=o.outerHTML;o.setAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME,r);var i=firstDifferenceIndex(e,a),c=" (client) "+e.substring(i-20,i+20)+"\n (server) "+a.substring(i-20,i+20);"production"!==process.env.NODE_ENV?invariant(t.nodeType!==DOC_NODE_TYPE,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",c):invariant(t.nodeType!==DOC_NODE_TYPE),"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",c):null)}"production"!==process.env.NODE_ENV?invariant(t.nodeType!==DOC_NODE_TYPE,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See React.renderToString() for server rendering."):invariant(t.nodeType!==DOC_NODE_TYPE),setInnerHTML(t,e)},getReactRootID:getReactRootID,getID:getID,setID:setID,getNode:getNode,getNodeFromInstance:getNodeFromInstance,purgeID:purgeID};ReactPerf.measureMethods(ReactMount,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),module.exports=ReactMount;

}).call(this,require('_process'))

},{"./DOMProperty":87,"./ReactBrowserEventEmitter":109,"./ReactCurrentOwner":121,"./ReactElement":139,"./ReactElementValidator":140,"./ReactEmptyComponent":141,"./ReactInstanceHandles":148,"./ReactInstanceMap":149,"./ReactMarkupChecksum":152,"./ReactPerf":158,"./ReactReconciler":165,"./ReactUpdateQueue":175,"./ReactUpdates":176,"./containsNode":200,"./emptyObject":207,"./getReactRootElementInContainer":221,"./instantiateReactComponent":226,"./invariant":227,"./setInnerHTML":241,"./shouldUpdateReactComponent":244,"./warning":248,"_process":33}],154:[function(require,module,exports){
"use strict";function enqueueMarkup(e,t,n){updateQueue.push({parentID:e,parentNode:null,type:ReactMultiChildUpdateTypes.INSERT_MARKUP,markupIndex:markupQueue.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function enqueueMove(e,t,n){updateQueue.push({parentID:e,parentNode:null,type:ReactMultiChildUpdateTypes.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function enqueueRemove(e,t){updateQueue.push({parentID:e,parentNode:null,type:ReactMultiChildUpdateTypes.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function enqueueTextContent(e,t){updateQueue.push({parentID:e,parentNode:null,type:ReactMultiChildUpdateTypes.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function processQueue(){updateQueue.length&&(ReactComponentEnvironment.processChildrenUpdates(updateQueue,markupQueue),clearQueue())}function clearQueue(){updateQueue.length=0,markupQueue.length=0}var ReactComponentEnvironment=require("./ReactComponentEnvironment"),ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes"),ReactReconciler=require("./ReactReconciler"),ReactChildReconciler=require("./ReactChildReconciler"),updateDepth=0,updateQueue=[],markupQueue=[],ReactMultiChild={Mixin:{mountChildren:function(e,t,n){var u=ReactChildReconciler.instantiateChildren(e,t,n);this._renderedChildren=u;var o=[],r=0;for(var i in u)if(u.hasOwnProperty(i)){var d=u[i],a=this._rootNodeID+i,l=ReactReconciler.mountComponent(d,a,t,n);d._mountIndex=r,o.push(l),r++}return o},updateTextContent:function(e){updateDepth++;var t=!0;try{var n=this._renderedChildren;ReactChildReconciler.unmountChildren(n);for(var u in n)n.hasOwnProperty(u)&&this._unmountChildByName(n[u],u);this.setTextContent(e),t=!1}finally{updateDepth--,updateDepth||(t?clearQueue():processQueue())}},updateChildren:function(e,t,n){updateDepth++;var u=!0;try{this._updateChildren(e,t,n),u=!1}finally{updateDepth--,updateDepth||(u?clearQueue():processQueue())}},_updateChildren:function(e,t,n){var u=this._renderedChildren,o=ReactChildReconciler.updateChildren(u,e,t,n);if(this._renderedChildren=o,o||u){var r,i=0,d=0;for(r in o)if(o.hasOwnProperty(r)){var a=u&&u[r],l=o[r];a===l?(this.moveChild(a,d,i),i=Math.max(a._mountIndex,i),a._mountIndex=d):(a&&(i=Math.max(a._mountIndex,i),this._unmountChildByName(a,r)),this._mountChildByNameAtIndex(l,r,d,t,n)),d++}for(r in u)!u.hasOwnProperty(r)||o&&o.hasOwnProperty(r)||this._unmountChildByName(u[r],r)}},unmountChildren:function(){var e=this._renderedChildren;ReactChildReconciler.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&enqueueMove(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){enqueueMarkup(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){enqueueRemove(this._rootNodeID,e._mountIndex)},setTextContent:function(e){enqueueTextContent(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,u,o){var r=this._rootNodeID+t,i=ReactReconciler.mountComponent(e,r,u,o);e._mountIndex=n,this.createChild(e,i)},_unmountChildByName:function(e,t){this.removeChild(e),e._mountIndex=null}}};module.exports=ReactMultiChild;

},{"./ReactChildReconciler":112,"./ReactComponentEnvironment":117,"./ReactMultiChildUpdateTypes":155,"./ReactReconciler":165}],155:[function(require,module,exports){
"use strict";var keyMirror=require("./keyMirror"),ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});module.exports=ReactMultiChildUpdateTypes;

},{"./keyMirror":233}],156:[function(require,module,exports){
(function (process){
"use strict";function getComponentClassForElement(e){if("function"==typeof e.type)return e.type;var n=e.type,t=tagToComponentClass[n];return null==t&&(tagToComponentClass[n]=t=autoGenerateWrapperClass(n)),t}function createInternalComponent(e){return"production"!==process.env.NODE_ENV?invariant(genericComponentClass,"There is no registered component for the tag %s",e.type):invariant(genericComponentClass),new genericComponentClass(e.type,e.props)}function createInstanceForText(e){return new textComponentClass(e)}function isTextComponent(e){return e instanceof textComponentClass}var assign=require("./Object.assign"),invariant=require("./invariant"),autoGenerateWrapperClass=null,genericComponentClass=null,tagToComponentClass={},textComponentClass=null,ReactNativeComponentInjection={injectGenericComponentClass:function(e){genericComponentClass=e},injectTextComponentClass:function(e){textComponentClass=e},injectComponentClasses:function(e){assign(tagToComponentClass,e)},injectAutoWrapper:function(e){autoGenerateWrapperClass=e}},ReactNativeComponent={getComponentClassForElement:getComponentClassForElement,createInternalComponent:createInternalComponent,createInstanceForText:createInstanceForText,isTextComponent:isTextComponent,injection:ReactNativeComponentInjection};module.exports=ReactNativeComponent;

}).call(this,require('_process'))

},{"./Object.assign":105,"./invariant":227,"_process":33}],157:[function(require,module,exports){
(function (process){
"use strict";var invariant=require("./invariant"),ReactOwner={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,n,t){"production"!==process.env.NODE_ENV?invariant(ReactOwner.isValidOwner(t),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):invariant(ReactOwner.isValidOwner(t)),t.attachRef(n,e)},removeComponentAsRefFrom:function(e,n,t){"production"!==process.env.NODE_ENV?invariant(ReactOwner.isValidOwner(t),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):invariant(ReactOwner.isValidOwner(t)),t.getPublicInstance().refs[n]===e.getPublicInstance()&&t.detachRef(n)}};module.exports=ReactOwner;

}).call(this,require('_process'))

},{"./invariant":227,"_process":33}],158:[function(require,module,exports){
(function (process){
"use strict";function _noMeasure(e,r,t){return t}var ReactPerf={enableMeasure:!1,storedMeasure:_noMeasure,measureMethods:function(e,r,t){if("production"!==process.env.NODE_ENV)for(var n in t)t.hasOwnProperty(n)&&(e[n]=ReactPerf.measure(r,t[n],e[n]))},measure:function(e,r,t){if("production"!==process.env.NODE_ENV){var n=null,a=function(){return ReactPerf.enableMeasure?(n||(n=ReactPerf.storedMeasure(e,r,t)),n.apply(this,arguments)):t.apply(this,arguments)};return a.displayName=e+"_"+r,a}return t},injection:{injectMeasure:function(e){ReactPerf.storedMeasure=e}}};module.exports=ReactPerf;

}).call(this,require('_process'))

},{"_process":33}],159:[function(require,module,exports){
"use strict";function createTransferStrategy(r){return function(e,t,n){e.hasOwnProperty(t)?e[t]=r(e[t],n):e[t]=n}}function transferInto(r,e){for(var t in e)if(e.hasOwnProperty(t)){var n=TransferStrategies[t];n&&TransferStrategies.hasOwnProperty(t)?n(r,t,e[t]):r.hasOwnProperty(t)||(r[t]=e[t])}return r}var assign=require("./Object.assign"),emptyFunction=require("./emptyFunction"),joinClasses=require("./joinClasses"),transferStrategyMerge=createTransferStrategy(function(r,e){return assign({},e,r)}),TransferStrategies={children:emptyFunction,className:createTransferStrategy(joinClasses),style:transferStrategyMerge},ReactPropTransferer={mergeProps:function(r,e){return transferInto(assign({},r),e)}};module.exports=ReactPropTransferer;

},{"./Object.assign":105,"./emptyFunction":206,"./joinClasses":232}],160:[function(require,module,exports){
(function (process){
"use strict";var ReactPropTypeLocationNames={};"production"!==process.env.NODE_ENV&&(ReactPropTypeLocationNames={prop:"prop",context:"context",childContext:"child context"}),module.exports=ReactPropTypeLocationNames;

}).call(this,require('_process'))

},{"_process":33}],161:[function(require,module,exports){
"use strict";var keyMirror=require("./keyMirror"),ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});module.exports=ReactPropTypeLocations;

},{"./keyMirror":233}],162:[function(require,module,exports){
"use strict";function createChainableTypeChecker(e){function r(r,t,n,a,c){if(a=a||ANONYMOUS,null==t[n]){var i=ReactPropTypeLocationNames[c];return r?new Error("Required "+i+" `"+n+"` was not specified in "+("`"+a+"`.")):null}return e(t,n,a,c)}var t=r.bind(null,!1);return t.isRequired=r.bind(null,!0),t}function createPrimitiveTypeChecker(e){function r(r,t,n,a){var c=r[t],i=getPropType(c);if(i!==e){var o=ReactPropTypeLocationNames[a],p=getPreciseType(c);return new Error("Invalid "+o+" `"+t+"` of type `"+p+"` "+("supplied to `"+n+"`, expected `"+e+"`."))}return null}return createChainableTypeChecker(r)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturns(null))}function createArrayOfTypeChecker(e){function r(r,t,n,a){var c=r[t];if(!Array.isArray(c)){var i=ReactPropTypeLocationNames[a],o=getPropType(c);return new Error("Invalid "+i+" `"+t+"` of type "+("`"+o+"` supplied to `"+n+"`, expected an array."))}for(var p=0;p<c.length;p++){var u=e(c,p,n,a);if(u instanceof Error)return u}return null}return createChainableTypeChecker(r)}function createElementTypeChecker(){function e(e,r,t,n){if(!ReactElement.isValidElement(e[r])){var a=ReactPropTypeLocationNames[n];return new Error("Invalid "+a+" `"+r+"` supplied to "+("`"+t+"`, expected a ReactElement."))}return null}return createChainableTypeChecker(e)}function createInstanceTypeChecker(e){function r(r,t,n,a){if(!(r[t]instanceof e)){var c=ReactPropTypeLocationNames[a],i=e.name||ANONYMOUS;return new Error("Invalid "+c+" `"+t+"` supplied to "+("`"+n+"`, expected instance of `"+i+"`."))}return null}return createChainableTypeChecker(r)}function createEnumTypeChecker(e){function r(r,t,n,a){for(var c=r[t],i=0;i<e.length;i++)if(c===e[i])return null;var o=ReactPropTypeLocationNames[a],p=JSON.stringify(e);return new Error("Invalid "+o+" `"+t+"` of value `"+c+"` "+("supplied to `"+n+"`, expected one of "+p+"."))}return createChainableTypeChecker(r)}function createObjectOfTypeChecker(e){function r(r,t,n,a){var c=r[t],i=getPropType(c);if("object"!==i){var o=ReactPropTypeLocationNames[a];return new Error("Invalid "+o+" `"+t+"` of type "+("`"+i+"` supplied to `"+n+"`, expected an object."))}for(var p in c)if(c.hasOwnProperty(p)){var u=e(c,p,n,a);if(u instanceof Error)return u}return null}return createChainableTypeChecker(r)}function createUnionTypeChecker(e){function r(r,t,n,a){for(var c=0;c<e.length;c++){var i=e[c];if(null==i(r,t,n,a))return null}var o=ReactPropTypeLocationNames[a];return new Error("Invalid "+o+" `"+t+"` supplied to "+("`"+n+"`."))}return createChainableTypeChecker(r)}function createNodeChecker(){function e(e,r,t,n){if(!isNode(e[r])){var a=ReactPropTypeLocationNames[n];return new Error("Invalid "+a+" `"+r+"` supplied to "+("`"+t+"`, expected a ReactNode."))}return null}return createChainableTypeChecker(e)}function createShapeTypeChecker(e){function r(r,t,n,a){var c=r[t],i=getPropType(c);if("object"!==i){var o=ReactPropTypeLocationNames[a];return new Error("Invalid "+o+" `"+t+"` of type `"+i+"` "+("supplied to `"+n+"`, expected `object`."))}for(var p in e){var u=e[p];if(u){var y=u(c,p,n,a);if(y)return y}}return null}return createChainableTypeChecker(r)}function isNode(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(isNode);if(null===e||ReactElement.isValidElement(e))return!0;e=ReactFragment.extractIfFragment(e);for(var r in e)if(!isNode(e[r]))return!1;return!0;default:return!1}}function getPropType(e){var r=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":r}function getPreciseType(e){var r=getPropType(e);if("object"===r){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return r}var ReactElement=require("./ReactElement"),ReactFragment=require("./ReactFragment"),ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames"),emptyFunction=require("./emptyFunction"),ANONYMOUS="<<anonymous>>",elementTypeChecker=createElementTypeChecker(),nodeTypeChecker=createNodeChecker(),ReactPropTypes={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:elementTypeChecker,instanceOf:createInstanceTypeChecker,node:nodeTypeChecker,objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};module.exports=ReactPropTypes;

},{"./ReactElement":139,"./ReactFragment":145,"./ReactPropTypeLocationNames":160,"./emptyFunction":206}],163:[function(require,module,exports){
"use strict";function ReactPutListenerQueue(){this.listenersToPut=[]}var PooledClass=require("./PooledClass"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),assign=require("./Object.assign");assign(ReactPutListenerQueue.prototype,{enqueuePutListener:function(e,t,s){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:s})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];ReactBrowserEventEmitter.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),PooledClass.addPoolingTo(ReactPutListenerQueue),module.exports=ReactPutListenerQueue;

},{"./Object.assign":105,"./PooledClass":106,"./ReactBrowserEventEmitter":109}],164:[function(require,module,exports){
"use strict";function ReactReconcileTransaction(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=CallbackQueue.getPooled(null),this.putListenerQueue=ReactPutListenerQueue.getPooled()}var CallbackQueue=require("./CallbackQueue"),PooledClass=require("./PooledClass"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactInputSelection=require("./ReactInputSelection"),ReactPutListenerQueue=require("./ReactPutListenerQueue"),Transaction=require("./Transaction"),assign=require("./Object.assign"),SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection},EVENT_SUPPRESSION={initialize:function(){var e=ReactBrowserEventEmitter.isEnabled();return ReactBrowserEventEmitter.setEnabled(!1),e},close:function(e){ReactBrowserEventEmitter.setEnabled(e)}},ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},PUT_LISTENER_QUEUEING={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},TRANSACTION_WRAPPERS=[PUT_LISTENER_QUEUEING,SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){CallbackQueue.release(this.reactMountReady),this.reactMountReady=null,ReactPutListenerQueue.release(this.putListenerQueue),this.putListenerQueue=null}};assign(ReactReconcileTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactReconcileTransaction),module.exports=ReactReconcileTransaction;

},{"./CallbackQueue":83,"./Object.assign":105,"./PooledClass":106,"./ReactBrowserEventEmitter":109,"./ReactInputSelection":147,"./ReactPutListenerQueue":163,"./Transaction":193}],165:[function(require,module,exports){
(function (process){
"use strict";function attachRefs(){ReactRef.attachRefs(this,this._currentElement)}var ReactRef=require("./ReactRef"),ReactElementValidator=require("./ReactElementValidator"),ReactReconciler={mountComponent:function(e,t,n,a){var c=e.mountComponent(t,n,a);return"production"!==process.env.NODE_ENV&&ReactElementValidator.checkAndWarnForMutatedProps(e._currentElement),n.getReactMountReady().enqueue(attachRefs,e),c},unmountComponent:function(e){ReactRef.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,a){var c=e._currentElement;if(t!==c||null==t._owner){"production"!==process.env.NODE_ENV&&ReactElementValidator.checkAndWarnForMutatedProps(t);var o=ReactRef.shouldUpdateRefs(c,t);o&&ReactRef.detachRefs(e,c),e.receiveComponent(t,n,a),o&&n.getReactMountReady().enqueue(attachRefs,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};module.exports=ReactReconciler;

}).call(this,require('_process'))

},{"./ReactElementValidator":140,"./ReactRef":166,"_process":33}],166:[function(require,module,exports){
"use strict";function attachRef(e,t,n){"function"==typeof e?e(t.getPublicInstance()):ReactOwner.addComponentAsRefTo(t,e,n)}function detachRef(e,t,n){"function"==typeof e?e(null):ReactOwner.removeComponentAsRefFrom(t,e,n)}var ReactOwner=require("./ReactOwner"),ReactRef={};ReactRef.attachRefs=function(e,t){var n=t.ref;null!=n&&attachRef(n,e,t._owner)},ReactRef.shouldUpdateRefs=function(e,t){return t._owner!==e._owner||t.ref!==e.ref},ReactRef.detachRefs=function(e,t){var n=t.ref;null!=n&&detachRef(n,e,t._owner)},module.exports=ReactRef;

},{"./ReactOwner":157}],167:[function(require,module,exports){
"use strict";var ReactRootIndexInjection={injectCreateReactRootIndex:function(e){ReactRootIndex.createReactRootIndex=e}},ReactRootIndex={createReactRootIndex:null,injection:ReactRootIndexInjection};module.exports=ReactRootIndex;

},{}],168:[function(require,module,exports){
(function (process){
"use strict";function renderToString(e){"production"!==process.env.NODE_ENV?invariant(ReactElement.isValidElement(e),"renderToString(): You must pass a valid ReactElement."):invariant(ReactElement.isValidElement(e));var t;try{var n=ReactInstanceHandles.createReactRootID();return t=ReactServerRenderingTransaction.getPooled(!1),t.perform(function(){var a=instantiateReactComponent(e,null),r=a.mountComponent(n,t,emptyObject);return ReactMarkupChecksum.addChecksumToMarkup(r)},null)}finally{ReactServerRenderingTransaction.release(t)}}function renderToStaticMarkup(e){"production"!==process.env.NODE_ENV?invariant(ReactElement.isValidElement(e),"renderToStaticMarkup(): You must pass a valid ReactElement."):invariant(ReactElement.isValidElement(e));var t;try{var n=ReactInstanceHandles.createReactRootID();return t=ReactServerRenderingTransaction.getPooled(!0),t.perform(function(){var a=instantiateReactComponent(e,null);return a.mountComponent(n,t,emptyObject)},null)}finally{ReactServerRenderingTransaction.release(t)}}var ReactElement=require("./ReactElement"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMarkupChecksum=require("./ReactMarkupChecksum"),ReactServerRenderingTransaction=require("./ReactServerRenderingTransaction"),emptyObject=require("./emptyObject"),instantiateReactComponent=require("./instantiateReactComponent"),invariant=require("./invariant");module.exports={renderToString:renderToString,renderToStaticMarkup:renderToStaticMarkup};

}).call(this,require('_process'))

},{"./ReactElement":139,"./ReactInstanceHandles":148,"./ReactMarkupChecksum":152,"./ReactServerRenderingTransaction":169,"./emptyObject":207,"./instantiateReactComponent":226,"./invariant":227,"_process":33}],169:[function(require,module,exports){
"use strict";function ReactServerRenderingTransaction(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=CallbackQueue.getPooled(null),this.putListenerQueue=ReactPutListenerQueue.getPooled()}var PooledClass=require("./PooledClass"),CallbackQueue=require("./CallbackQueue"),ReactPutListenerQueue=require("./ReactPutListenerQueue"),Transaction=require("./Transaction"),assign=require("./Object.assign"),emptyFunction=require("./emptyFunction"),ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:emptyFunction},PUT_LISTENER_QUEUEING={initialize:function(){this.putListenerQueue.reset()},close:emptyFunction},TRANSACTION_WRAPPERS=[PUT_LISTENER_QUEUEING,ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){CallbackQueue.release(this.reactMountReady),this.reactMountReady=null,ReactPutListenerQueue.release(this.putListenerQueue),this.putListenerQueue=null}};assign(ReactServerRenderingTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactServerRenderingTransaction),module.exports=ReactServerRenderingTransaction;

},{"./CallbackQueue":83,"./Object.assign":105,"./PooledClass":106,"./ReactPutListenerQueue":163,"./Transaction":193,"./emptyFunction":206}],170:[function(require,module,exports){
"use strict";function createStateKeySetter(t,e){var r={};return function(a){r[e]=a,t.setState(r)}}var ReactStateSetters={createStateSetter:function(t,e){return function(r,a,S,c,n,s){var u=e.call(t,r,a,S,c,n,s);u&&t.setState(u)}},createStateKeySetter:function(t,e){var r=t.__keySetters||(t.__keySetters={});return r[e]||(r[e]=createStateKeySetter(t,e))}};ReactStateSetters.Mixin={createStateSetter:function(t){return ReactStateSetters.createStateSetter(this,t)},createStateKeySetter:function(t){return ReactStateSetters.createStateKeySetter(this,t)}},module.exports=ReactStateSetters;

},{}],171:[function(require,module,exports){
"use strict";function Event(e){}function makeSimulator(e){return function(t,n){var o;ReactTestUtils.isDOMComponent(t)?o=t.getDOMNode():t.tagName&&(o=t);var i=new Event;i.target=o;var r=new SyntheticEvent(ReactBrowserEventEmitter.eventNameDispatchConfigs[e],ReactMount.getID(o),i);assign(r,n),EventPropagators.accumulateTwoPhaseDispatches(r),ReactUpdates.batchedUpdates(function(){EventPluginHub.enqueueEvents(r),EventPluginHub.processEventQueue()})}}function buildSimulators(){ReactTestUtils.Simulate={};var e;for(e in ReactBrowserEventEmitter.eventNameDispatchConfigs)ReactTestUtils.Simulate[e]=makeSimulator(e)}function makeNativeSimulator(e){return function(t,n){var o=new Event(e);assign(o,n),ReactTestUtils.isDOMComponent(t)?ReactTestUtils.simulateNativeEventOnDOMComponent(e,t,o):t.tagName&&ReactTestUtils.simulateNativeEventOnNode(e,t,o)}}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),EventPropagators=require("./EventPropagators"),React=require("./React"),ReactElement=require("./ReactElement"),ReactEmptyComponent=require("./ReactEmptyComponent"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactCompositeComponent=require("./ReactCompositeComponent"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactInstanceMap=require("./ReactInstanceMap"),ReactMount=require("./ReactMount"),ReactUpdates=require("./ReactUpdates"),SyntheticEvent=require("./SyntheticEvent"),assign=require("./Object.assign"),emptyObject=require("./emptyObject"),topLevelTypes=EventConstants.topLevelTypes,ReactTestUtils={renderIntoDocument:function(e){var t=document.createElement("div");return React.render(e,t)},isElement:function(e){return ReactElement.isValidElement(e)},isElementOfType:function(e,t){return ReactElement.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!!(e&&e.tagName&&e.getDOMNode)},isDOMComponentElement:function(e){return!!(e&&ReactElement.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){return!(!ReactTestUtils.isCompositeComponent(e)||e.constructor!==t)},isCompositeComponentElement:function(e){if(!ReactElement.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){return!(!ReactTestUtils.isCompositeComponentElement(e)||e.constructor!==t)},getRenderedChildOfCompositeComponent:function(e){if(!ReactTestUtils.isCompositeComponent(e))return null;var t=ReactInstanceMap.get(e);return t._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(e,t){if(!e)return[];var n=t(e)?[e]:[];if(ReactTestUtils.isDOMComponent(e)){var o,i=ReactInstanceMap.get(e),r=i._renderedComponent._renderedChildren;for(o in r)r.hasOwnProperty(o)&&r[o].getPublicInstance&&(n=n.concat(ReactTestUtils.findAllInRenderedTree(r[o].getPublicInstance(),t)))}else ReactTestUtils.isCompositeComponent(e)&&(n=n.concat(ReactTestUtils.findAllInRenderedTree(ReactTestUtils.getRenderedChildOfCompositeComponent(e),t)));return n},scryRenderedDOMComponentsWithClass:function(e,t){return ReactTestUtils.findAllInRenderedTree(e,function(e){var n=e.props.className;return ReactTestUtils.isDOMComponent(e)&&n&&-1!==(" "+n+" ").indexOf(" "+t+" ")})},findRenderedDOMComponentWithClass:function(e,t){var n=ReactTestUtils.scryRenderedDOMComponentsWithClass(e,t);if(1!==n.length)throw new Error("Did not find exactly one match (found: "+n.length+") for class:"+t);return n[0]},scryRenderedDOMComponentsWithTag:function(e,t){return ReactTestUtils.findAllInRenderedTree(e,function(e){return ReactTestUtils.isDOMComponent(e)&&e.tagName===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var n=ReactTestUtils.scryRenderedDOMComponentsWithTag(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for tag:"+t);return n[0]},scryRenderedComponentsWithType:function(e,t){return ReactTestUtils.findAllInRenderedTree(e,function(e){return ReactTestUtils.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var n=ReactTestUtils.scryRenderedComponentsWithType(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for componentType:"+t);return n[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return React.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,n){n.target=t,ReactBrowserEventEmitter.ReactEventListener.dispatchEvent(e,n)},simulateNativeEventOnDOMComponent:function(e,t,n){ReactTestUtils.simulateNativeEventOnNode(e,t.getDOMNode(),n)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new ReactShallowRenderer},Simulate:null,SimulateNative:{}},ReactShallowRenderer=function(){this._instance=null};ReactShallowRenderer.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var NoopInternalComponent=function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?ReactEmptyComponent.emptyElement:e};NoopInternalComponent.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?ReactEmptyComponent.emptyElement:e},unmountComponent:function(){}};var ShallowComponentWrapper=function(){};assign(ShallowComponentWrapper.prototype,ReactCompositeComponent.Mixin,{_instantiateReactComponent:function(e){return new NoopInternalComponent(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:ReactCompositeComponent.Mixin._renderValidatedComponentWithoutOwnerOrContext}),ReactShallowRenderer.prototype.render=function(e,t){t||(t=emptyObject);var n=ReactUpdates.ReactReconcileTransaction.getPooled();this._render(e,n,t),ReactUpdates.ReactReconcileTransaction.release(n)},ReactShallowRenderer.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},ReactShallowRenderer.prototype._render=function(e,t,n){if(this._instance)this._instance.receiveComponent(e,t,n);else{var o=ReactInstanceHandles.createReactRootID(),i=new ShallowComponentWrapper(e.type);i.construct(e),i.mountComponent(o,t,n),this._instance=i}};var oldInjectEventPluginOrder=EventPluginHub.injection.injectEventPluginOrder;EventPluginHub.injection.injectEventPluginOrder=function(){oldInjectEventPluginOrder.apply(this,arguments),buildSimulators()};var oldInjectEventPlugins=EventPluginHub.injection.injectEventPluginsByName;EventPluginHub.injection.injectEventPluginsByName=function(){oldInjectEventPlugins.apply(this,arguments),buildSimulators()},buildSimulators();var eventType;for(eventType in topLevelTypes){var convenienceName=0===eventType.indexOf("top")?eventType.charAt(3).toLowerCase()+eventType.substr(4):eventType;ReactTestUtils.SimulateNative[convenienceName]=makeNativeSimulator(eventType)}module.exports=ReactTestUtils;

},{"./EventConstants":92,"./EventPluginHub":94,"./EventPropagators":97,"./Object.assign":105,"./React":107,"./ReactBrowserEventEmitter":109,"./ReactCompositeComponent":119,"./ReactElement":139,"./ReactEmptyComponent":141,"./ReactInstanceHandles":148,"./ReactInstanceMap":149,"./ReactMount":153,"./ReactUpdates":176,"./SyntheticEvent":185,"./emptyObject":207}],172:[function(require,module,exports){
"use strict";var ReactChildren=require("./ReactChildren"),ReactFragment=require("./ReactFragment"),ReactTransitionChildMapping={getChildMapping:function(r){return r?ReactFragment.extract(ReactChildren.map(r,function(r){return r})):r},mergeChildMappings:function(r,e){function n(n){return e.hasOwnProperty(n)?e[n]:r[n]}r=r||{},e=e||{};var t={},a=[];for(var i in r)e.hasOwnProperty(i)?a.length&&(t[i]=a,a=[]):a.push(i);var o,c={};for(var h in e){if(t.hasOwnProperty(h))for(o=0;o<t[h].length;o++){var p=t[h][o];c[t[h][o]]=n(p)}c[h]=n(h)}for(o=0;o<a.length;o++)c[a[o]]=n(a[o]);return c}};module.exports=ReactTransitionChildMapping;

},{"./ReactChildren":113,"./ReactFragment":145}],173:[function(require,module,exports){
"use strict";function detectEvents(){var n=document.createElement("div"),i=n.style;"AnimationEvent"in window||delete EVENT_NAME_MAP.animationend.animation,"TransitionEvent"in window||delete EVENT_NAME_MAP.transitionend.transition;for(var t in EVENT_NAME_MAP){var e=EVENT_NAME_MAP[t];for(var o in e)if(o in i){endEvents.push(e[o]);break}}}function addEventListener(n,i,t){n.addEventListener(i,t,!1)}function removeEventListener(n,i,t){n.removeEventListener(i,t,!1)}var ExecutionEnvironment=require("./ExecutionEnvironment"),EVENT_NAME_MAP={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},endEvents=[];ExecutionEnvironment.canUseDOM&&detectEvents();var ReactTransitionEvents={addEndEventListener:function(n,i){return 0===endEvents.length?void window.setTimeout(i,0):void endEvents.forEach(function(t){addEventListener(n,t,i)})},removeEndEventListener:function(n,i){0!==endEvents.length&&endEvents.forEach(function(t){removeEventListener(n,t,i)})}};module.exports=ReactTransitionEvents;

},{"./ExecutionEnvironment":98}],174:[function(require,module,exports){
"use strict";var React=require("./React"),ReactTransitionChildMapping=require("./ReactTransitionChildMapping"),assign=require("./Object.assign"),cloneWithProps=require("./cloneWithProps"),emptyFunction=require("./emptyFunction"),ReactTransitionGroup=React.createClass({displayName:"ReactTransitionGroup",propTypes:{component:React.PropTypes.any,childFactory:React.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:emptyFunction.thatReturnsArgument}},getInitialState:function(){return{children:ReactTransitionChildMapping.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var n in e)e[n]&&this.performAppear(n)},componentWillReceiveProps:function(e){var n=ReactTransitionChildMapping.getChildMapping(e.children),i=this.state.children;this.setState({children:ReactTransitionChildMapping.mergeChildMappings(i,n)});var t;for(t in n){var r=i&&i.hasOwnProperty(t);!n[t]||r||this.currentlyTransitioningKeys[t]||this.keysToEnter.push(t)}for(t in i){var s=n&&n.hasOwnProperty(t);!i[t]||s||this.currentlyTransitioningKeys[t]||this.keysToLeave.push(t)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var n=this.keysToLeave;this.keysToLeave=[],n.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var n=this.refs[e];n.componentWillAppear?n.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var n=this.refs[e];n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var i=ReactTransitionChildMapping.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var n=this.refs[e];n.componentWillEnter?n.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var n=this.refs[e];n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var i=ReactTransitionChildMapping.getChildMapping(this.props.children);i&&i.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var n=this.refs[e];n.componentWillLeave?n.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var n=this.refs[e];n.componentDidLeave&&n.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var i=ReactTransitionChildMapping.getChildMapping(this.props.children);if(i&&i.hasOwnProperty(e))this.performEnter(e);else{var t=assign({},this.state.children);delete t[e],this.setState({children:t})}},render:function(){var e=[];for(var n in this.state.children){var i=this.state.children[n];i&&e.push(cloneWithProps(this.props.childFactory(i),{ref:n,key:n}))}return React.createElement(this.props.component,this.props,e)}});module.exports=ReactTransitionGroup;

},{"./Object.assign":105,"./React":107,"./ReactTransitionChildMapping":172,"./cloneWithProps":199,"./emptyFunction":206}],175:[function(require,module,exports){
(function (process){
"use strict";function enqueueUpdate(e){e!==ReactLifeCycle.currentlyMountingInstance&&ReactUpdates.enqueueUpdate(e)}function getInternalInstanceReadyForUpdate(e,n){"production"!==process.env.NODE_ENV?invariant(null==ReactCurrentOwner.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",n):invariant(null==ReactCurrentOwner.current);var t=ReactInstanceMap.get(e);return t?t===ReactLifeCycle.currentlyUnmountingInstance?null:t:("production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!n,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.",n,n):null),null)}var ReactLifeCycle=require("./ReactLifeCycle"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactElement=require("./ReactElement"),ReactInstanceMap=require("./ReactInstanceMap"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),invariant=require("./invariant"),warning=require("./warning"),ReactUpdateQueue={enqueueCallback:function(e,n){"production"!==process.env.NODE_ENV?invariant("function"==typeof n,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):invariant("function"==typeof n);var t=getInternalInstanceReadyForUpdate(e);return t&&t!==ReactLifeCycle.currentlyMountingInstance?(t._pendingCallbacks?t._pendingCallbacks.push(n):t._pendingCallbacks=[n],void enqueueUpdate(t)):null},enqueueCallbackInternal:function(e,n){"production"!==process.env.NODE_ENV?invariant("function"==typeof n,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):invariant("function"==typeof n),e._pendingCallbacks?e._pendingCallbacks.push(n):e._pendingCallbacks=[n],enqueueUpdate(e)},enqueueForceUpdate:function(e){var n=getInternalInstanceReadyForUpdate(e,"forceUpdate");n&&(n._pendingForceUpdate=!0,enqueueUpdate(n))},enqueueReplaceState:function(e,n){var t=getInternalInstanceReadyForUpdate(e,"replaceState");t&&(t._pendingStateQueue=[n],t._pendingReplaceState=!0,enqueueUpdate(t))},enqueueSetState:function(e,n){var t=getInternalInstanceReadyForUpdate(e,"setState");if(t){var a=t._pendingStateQueue||(t._pendingStateQueue=[]);a.push(n),enqueueUpdate(t)}},enqueueSetProps:function(e,n){var t=getInternalInstanceReadyForUpdate(e,"setProps");if(t){"production"!==process.env.NODE_ENV?invariant(t._isTopLevel,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):invariant(t._isTopLevel);var a=t._pendingElement||t._currentElement,r=assign({},a.props,n);t._pendingElement=ReactElement.cloneAndReplaceProps(a,r),enqueueUpdate(t)}},enqueueReplaceProps:function(e,n){var t=getInternalInstanceReadyForUpdate(e,"replaceProps");if(t){"production"!==process.env.NODE_ENV?invariant(t._isTopLevel,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):invariant(t._isTopLevel);var a=t._pendingElement||t._currentElement;t._pendingElement=ReactElement.cloneAndReplaceProps(a,n),enqueueUpdate(t)}},enqueueElementInternal:function(e,n){e._pendingElement=n,enqueueUpdate(e)}};module.exports=ReactUpdateQueue;

}).call(this,require('_process'))

},{"./Object.assign":105,"./ReactCurrentOwner":121,"./ReactElement":139,"./ReactInstanceMap":149,"./ReactLifeCycle":150,"./ReactUpdates":176,"./invariant":227,"./warning":248,"_process":33}],176:[function(require,module,exports){
(function (process){
"use strict";function ensureInjected(){"production"!==process.env.NODE_ENV?invariant(ReactUpdates.ReactReconcileTransaction&&batchingStrategy,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):invariant(ReactUpdates.ReactReconcileTransaction&&batchingStrategy)}function ReactUpdatesFlushTransaction(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=CallbackQueue.getPooled(),this.reconcileTransaction=ReactUpdates.ReactReconcileTransaction.getPooled()}function batchedUpdates(e,t,a,n,i){ensureInjected(),batchingStrategy.batchedUpdates(e,t,a,n,i)}function mountOrderComparator(e,t){return e._mountOrder-t._mountOrder}function runBatchedUpdates(e){var t=e.dirtyComponentsLength;"production"!==process.env.NODE_ENV?invariant(t===dirtyComponents.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,dirtyComponents.length):invariant(t===dirtyComponents.length),dirtyComponents.sort(mountOrderComparator);for(var a=0;t>a;a++){var n=dirtyComponents[a],i=n._pendingCallbacks;if(n._pendingCallbacks=null,ReactReconciler.performUpdateIfNecessary(n,e.reconcileTransaction),i)for(var c=0;c<i.length;c++)e.callbackQueue.enqueue(i[c],n.getPublicInstance())}}function enqueueUpdate(e){return ensureInjected(),"production"!==process.env.NODE_ENV?warning(null==ReactCurrentOwner.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,batchingStrategy.isBatchingUpdates?void dirtyComponents.push(e):void batchingStrategy.batchedUpdates(enqueueUpdate,e)}function asap(e,t){"production"!==process.env.NODE_ENV?invariant(batchingStrategy.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):invariant(batchingStrategy.isBatchingUpdates),asapCallbackQueue.enqueue(e,t),asapEnqueued=!0}var CallbackQueue=require("./CallbackQueue"),PooledClass=require("./PooledClass"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactPerf=require("./ReactPerf"),ReactReconciler=require("./ReactReconciler"),Transaction=require("./Transaction"),assign=require("./Object.assign"),invariant=require("./invariant"),warning=require("./warning"),dirtyComponents=[],asapCallbackQueue=CallbackQueue.getPooled(),asapEnqueued=!1,batchingStrategy=null,NESTED_UPDATES={initialize:function(){this.dirtyComponentsLength=dirtyComponents.length},close:function(){this.dirtyComponentsLength!==dirtyComponents.length?(dirtyComponents.splice(0,this.dirtyComponentsLength),flushBatchedUpdates()):dirtyComponents.length=0}},UPDATE_QUEUEING={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];assign(ReactUpdatesFlushTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},destructor:function(){this.dirtyComponentsLength=null,CallbackQueue.release(this.callbackQueue),this.callbackQueue=null,ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,a){return Transaction.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,a)}}),PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);var flushBatchedUpdates=function(){for(;dirtyComponents.length||asapEnqueued;){if(dirtyComponents.length){var e=ReactUpdatesFlushTransaction.getPooled();e.perform(runBatchedUpdates,null,e),ReactUpdatesFlushTransaction.release(e)}if(asapEnqueued){asapEnqueued=!1;var t=asapCallbackQueue;asapCallbackQueue=CallbackQueue.getPooled(),t.notifyAll(),CallbackQueue.release(t)}}};flushBatchedUpdates=ReactPerf.measure("ReactUpdates","flushBatchedUpdates",flushBatchedUpdates);var ReactUpdatesInjection={injectReconcileTransaction:function(e){"production"!==process.env.NODE_ENV?invariant(e,"ReactUpdates: must provide a reconcile transaction class"):invariant(e),ReactUpdates.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){"production"!==process.env.NODE_ENV?invariant(e,"ReactUpdates: must provide a batching strategy"):invariant(e),"production"!==process.env.NODE_ENV?invariant("function"==typeof e.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"):invariant("function"==typeof e.batchedUpdates),"production"!==process.env.NODE_ENV?invariant("boolean"==typeof e.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):invariant("boolean"==typeof e.isBatchingUpdates),batchingStrategy=e}},ReactUpdates={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection,asap:asap};module.exports=ReactUpdates;

}).call(this,require('_process'))

},{"./CallbackQueue":83,"./Object.assign":105,"./PooledClass":106,"./ReactCurrentOwner":121,"./ReactPerf":158,"./ReactReconciler":165,"./Transaction":193,"./invariant":227,"./warning":248,"_process":33}],177:[function(require,module,exports){
(function (process){
"use strict";var LinkedStateMixin=require("./LinkedStateMixin"),React=require("./React"),ReactComponentWithPureRenderMixin=require("./ReactComponentWithPureRenderMixin"),ReactCSSTransitionGroup=require("./ReactCSSTransitionGroup"),ReactFragment=require("./ReactFragment"),ReactTransitionGroup=require("./ReactTransitionGroup"),ReactUpdates=require("./ReactUpdates"),cx=require("./cx"),cloneWithProps=require("./cloneWithProps"),update=require("./update");React.addons={CSSTransitionGroup:ReactCSSTransitionGroup,LinkedStateMixin:LinkedStateMixin,PureRenderMixin:ReactComponentWithPureRenderMixin,TransitionGroup:ReactTransitionGroup,batchedUpdates:ReactUpdates.batchedUpdates,classSet:cx,cloneWithProps:cloneWithProps,createFragment:ReactFragment.create,update:update},"production"!==process.env.NODE_ENV&&(React.addons.Perf=require("./ReactDefaultPerf"),React.addons.TestUtils=require("./ReactTestUtils")),module.exports=React;

}).call(this,require('_process'))

},{"./LinkedStateMixin":101,"./React":107,"./ReactCSSTransitionGroup":110,"./ReactComponentWithPureRenderMixin":118,"./ReactDefaultPerf":137,"./ReactFragment":145,"./ReactTestUtils":171,"./ReactTransitionGroup":174,"./ReactUpdates":176,"./cloneWithProps":199,"./cx":204,"./update":247,"_process":33}],178:[function(require,module,exports){
"use strict";var DOMProperty=require("./DOMProperty"),MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE,SVGDOMPropertyConfig={Properties:{clipPath:MUST_USE_ATTRIBUTE,cx:MUST_USE_ATTRIBUTE,cy:MUST_USE_ATTRIBUTE,d:MUST_USE_ATTRIBUTE,dx:MUST_USE_ATTRIBUTE,dy:MUST_USE_ATTRIBUTE,fill:MUST_USE_ATTRIBUTE,fillOpacity:MUST_USE_ATTRIBUTE,fontFamily:MUST_USE_ATTRIBUTE,fontSize:MUST_USE_ATTRIBUTE,fx:MUST_USE_ATTRIBUTE,fy:MUST_USE_ATTRIBUTE,gradientTransform:MUST_USE_ATTRIBUTE,gradientUnits:MUST_USE_ATTRIBUTE,markerEnd:MUST_USE_ATTRIBUTE,markerMid:MUST_USE_ATTRIBUTE,markerStart:MUST_USE_ATTRIBUTE,offset:MUST_USE_ATTRIBUTE,opacity:MUST_USE_ATTRIBUTE,patternContentUnits:MUST_USE_ATTRIBUTE,patternUnits:MUST_USE_ATTRIBUTE,points:MUST_USE_ATTRIBUTE,preserveAspectRatio:MUST_USE_ATTRIBUTE,r:MUST_USE_ATTRIBUTE,rx:MUST_USE_ATTRIBUTE,ry:MUST_USE_ATTRIBUTE,spreadMethod:MUST_USE_ATTRIBUTE,stopColor:MUST_USE_ATTRIBUTE,stopOpacity:MUST_USE_ATTRIBUTE,stroke:MUST_USE_ATTRIBUTE,strokeDasharray:MUST_USE_ATTRIBUTE,strokeLinecap:MUST_USE_ATTRIBUTE,strokeOpacity:MUST_USE_ATTRIBUTE,strokeWidth:MUST_USE_ATTRIBUTE,textAnchor:MUST_USE_ATTRIBUTE,transform:MUST_USE_ATTRIBUTE,version:MUST_USE_ATTRIBUTE,viewBox:MUST_USE_ATTRIBUTE,x1:MUST_USE_ATTRIBUTE,x2:MUST_USE_ATTRIBUTE,x:MUST_USE_ATTRIBUTE,y1:MUST_USE_ATTRIBUTE,y2:MUST_USE_ATTRIBUTE,y:MUST_USE_ATTRIBUTE},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};module.exports=SVGDOMPropertyConfig;

},{"./DOMProperty":87}],179:[function(require,module,exports){
"use strict";function getSelection(e){if("selectionStart"in e&&ReactInputSelection.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function constructSelectEvent(e){if(mouseDown||null==activeElement||activeElement!==getActiveElement())return null;var t=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,t)){lastSelection=t;var n=SyntheticEvent.getPooled(eventTypes.select,activeElementID,e);return n.type="select",n.target=activeElement,EventPropagators.accumulateTwoPhaseDispatches(n),n}}var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),ReactInputSelection=require("./ReactInputSelection"),SyntheticEvent=require("./SyntheticEvent"),getActiveElement=require("./getActiveElement"),isTextInputElement=require("./isTextInputElement"),keyOf=require("./keyOf"),shallowEqual=require("./shallowEqual"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,lastSelection=null,mouseDown=!1,SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(e,t,n,o){switch(e){case topLevelTypes.topFocus:(isTextInputElement(t)||"true"===t.contentEditable)&&(activeElement=t,activeElementID=n,lastSelection=null);break;case topLevelTypes.topBlur:activeElement=null,activeElementID=null,lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=!0;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:return mouseDown=!1,constructSelectEvent(o);case topLevelTypes.topSelectionChange:case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(o)}}};module.exports=SelectEventPlugin;

},{"./EventConstants":92,"./EventPropagators":97,"./ReactInputSelection":147,"./SyntheticEvent":185,"./getActiveElement":213,"./isTextInputElement":230,"./keyOf":234,"./shallowEqual":243}],180:[function(require,module,exports){
"use strict";var GLOBAL_MOUNT_POINT_MAX=Math.pow(2,53),ServerReactRootIndex={createReactRootIndex:function(){return Math.ceil(Math.random()*GLOBAL_MOUNT_POINT_MAX)}};module.exports=ServerReactRootIndex;

},{}],181:[function(require,module,exports){
(function (process){
"use strict";var EventConstants=require("./EventConstants"),EventPluginUtils=require("./EventPluginUtils"),EventPropagators=require("./EventPropagators"),SyntheticClipboardEvent=require("./SyntheticClipboardEvent"),SyntheticEvent=require("./SyntheticEvent"),SyntheticFocusEvent=require("./SyntheticFocusEvent"),SyntheticKeyboardEvent=require("./SyntheticKeyboardEvent"),SyntheticMouseEvent=require("./SyntheticMouseEvent"),SyntheticDragEvent=require("./SyntheticDragEvent"),SyntheticTouchEvent=require("./SyntheticTouchEvent"),SyntheticUIEvent=require("./SyntheticUIEvent"),SyntheticWheelEvent=require("./SyntheticWheelEvent"),getEventCharCode=require("./getEventCharCode"),invariant=require("./invariant"),keyOf=require("./keyOf"),warning=require("./warning"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:!0}),captured:keyOf({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:!0}),captured:keyOf({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:!0}),captured:keyOf({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:!0}),captured:keyOf({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:!0}),captured:keyOf({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:!0}),captured:keyOf({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:!0}),captured:keyOf({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:!0}),captured:keyOf({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:!0}),captured:keyOf({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:!0}),captured:keyOf({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:!0}),captured:keyOf({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:!0}),captured:keyOf({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:!0}),captured:keyOf({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:!0}),captured:keyOf({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:!0}),captured:keyOf({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:!0}),captured:keyOf({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:!0}),captured:keyOf({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:!0}),captured:keyOf({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:!0}),captured:keyOf({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:!0}),captured:keyOf({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:!0}),captured:keyOf({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:!0}),captured:keyOf({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:!0}),captured:keyOf({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:!0}),captured:keyOf({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:!0}),captured:keyOf({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:!0}),captured:keyOf({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:!0}),captured:keyOf({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:!0}),captured:keyOf({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:!0}),captured:keyOf({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:!0}),captured:keyOf({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:!0}),captured:keyOf({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:!0}),captured:keyOf({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:!0}),captured:keyOf({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:!0}),captured:keyOf({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:!0}),captured:keyOf({onWheelCapture:!0})}}},topLevelEventsToDispatchConfig={topBlur:eventTypes.blur,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSubmit:eventTypes.submit,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topWheel:eventTypes.wheel};for(var type in topLevelEventsToDispatchConfig)topLevelEventsToDispatchConfig[type].dependencies=[type];var SimpleEventPlugin={eventTypes:eventTypes,executeDispatch:function(e,t,o){var a=EventPluginUtils.executeDispatch(e,t,o);"production"!==process.env.NODE_ENV?warning("boolean"!=typeof a,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."):null,a===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,o,a){var p=topLevelEventsToDispatchConfig[e];if(!p)return null;var n;switch(e){case topLevelTypes.topInput:case topLevelTypes.topLoad:case topLevelTypes.topError:case topLevelTypes.topReset:case topLevelTypes.topSubmit:n=SyntheticEvent;break;case topLevelTypes.topKeyPress:if(0===getEventCharCode(a))return null;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:n=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:n=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(2===a.button)return null;case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:n=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:n=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:n=SyntheticTouchEvent;break;case topLevelTypes.topScroll:n=SyntheticUIEvent;break;case topLevelTypes.topWheel:n=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:n=SyntheticClipboardEvent}"production"!==process.env.NODE_ENV?invariant(n,"SimpleEventPlugin: Unhandled event type, `%s`.",e):invariant(n);var s=n.getPooled(p,o,a);return EventPropagators.accumulateTwoPhaseDispatches(s),s}};module.exports=SimpleEventPlugin;

}).call(this,require('_process'))

},{"./EventConstants":92,"./EventPluginUtils":96,"./EventPropagators":97,"./SyntheticClipboardEvent":182,"./SyntheticDragEvent":184,"./SyntheticEvent":185,"./SyntheticFocusEvent":186,"./SyntheticKeyboardEvent":188,"./SyntheticMouseEvent":189,"./SyntheticTouchEvent":190,"./SyntheticUIEvent":191,"./SyntheticWheelEvent":192,"./getEventCharCode":214,"./invariant":227,"./keyOf":234,"./warning":248,"_process":33}],182:[function(require,module,exports){
"use strict";function SyntheticClipboardEvent(t,e,n){SyntheticEvent.call(this,t,e,n)}var SyntheticEvent=require("./SyntheticEvent"),ClipboardEventInterface={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface),module.exports=SyntheticClipboardEvent;

},{"./SyntheticEvent":185}],183:[function(require,module,exports){
"use strict";function SyntheticCompositionEvent(t,n,e){SyntheticEvent.call(this,t,n,e)}var SyntheticEvent=require("./SyntheticEvent"),CompositionEventInterface={data:null};SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface),module.exports=SyntheticCompositionEvent;

},{"./SyntheticEvent":185}],184:[function(require,module,exports){
"use strict";function SyntheticDragEvent(t,e,n){SyntheticMouseEvent.call(this,t,e,n)}var SyntheticMouseEvent=require("./SyntheticMouseEvent"),DragEventInterface={dataTransfer:null};SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface),module.exports=SyntheticDragEvent;

},{"./SyntheticMouseEvent":189}],185:[function(require,module,exports){
"use strict";function SyntheticEvent(t,e,n){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n;var r=this.constructor.Interface;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];s?this[a]=s(n):this[a]=n[a]}var i=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;i?this.isDefaultPrevented=emptyFunction.thatReturnsTrue:this.isDefaultPrevented=emptyFunction.thatReturnsFalse,this.isPropagationStopped=emptyFunction.thatReturnsFalse}var PooledClass=require("./PooledClass"),assign=require("./Object.assign"),emptyFunction=require("./emptyFunction"),getEventTarget=require("./getEventTarget"),EventInterface={type:null,target:getEventTarget,currentTarget:emptyFunction.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};assign(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=emptyFunction.thatReturnsTrue},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=emptyFunction.thatReturnsTrue},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),SyntheticEvent.Interface=EventInterface,SyntheticEvent.augmentClass=function(t,e){var n=this,r=Object.create(n.prototype);assign(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=assign({},n.Interface,e),t.augmentClass=n.augmentClass,PooledClass.addPoolingTo(t,PooledClass.threeArgumentPooler)},PooledClass.addPoolingTo(SyntheticEvent,PooledClass.threeArgumentPooler),module.exports=SyntheticEvent;

},{"./Object.assign":105,"./PooledClass":106,"./emptyFunction":206,"./getEventTarget":217}],186:[function(require,module,exports){
"use strict";function SyntheticFocusEvent(t,e,n){SyntheticUIEvent.call(this,t,e,n)}var SyntheticUIEvent=require("./SyntheticUIEvent"),FocusEventInterface={relatedTarget:null};SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface),module.exports=SyntheticFocusEvent;

},{"./SyntheticUIEvent":191}],187:[function(require,module,exports){
"use strict";function SyntheticInputEvent(t,n,e){SyntheticEvent.call(this,t,n,e)}var SyntheticEvent=require("./SyntheticEvent"),InputEventInterface={data:null};SyntheticEvent.augmentClass(SyntheticInputEvent,InputEventInterface),module.exports=SyntheticInputEvent;

},{"./SyntheticEvent":185}],188:[function(require,module,exports){
"use strict";function SyntheticKeyboardEvent(e,t,n){SyntheticUIEvent.call(this,e,t,n)}var SyntheticUIEvent=require("./SyntheticUIEvent"),getEventCharCode=require("./getEventCharCode"),getEventKey=require("./getEventKey"),getEventModifierState=require("./getEventModifierState"),KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:getEventModifierState,charCode:function(e){return"keypress"===e.type?getEventCharCode(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?getEventCharCode(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface),module.exports=SyntheticKeyboardEvent;

},{"./SyntheticUIEvent":191,"./getEventCharCode":214,"./getEventKey":215,"./getEventModifierState":216}],189:[function(require,module,exports){
"use strict";function SyntheticMouseEvent(e,t,n){SyntheticUIEvent.call(this,e,t,n)}var SyntheticUIEvent=require("./SyntheticUIEvent"),ViewportMetrics=require("./ViewportMetrics"),getEventModifierState=require("./getEventModifierState"),MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:getEventModifierState,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+ViewportMetrics.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+ViewportMetrics.currentScrollTop}};SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface),module.exports=SyntheticMouseEvent;

},{"./SyntheticUIEvent":191,"./ViewportMetrics":194,"./getEventModifierState":216}],190:[function(require,module,exports){
"use strict";function SyntheticTouchEvent(e,t,n){SyntheticUIEvent.call(this,e,t,n)}var SyntheticUIEvent=require("./SyntheticUIEvent"),getEventModifierState=require("./getEventModifierState"),TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:getEventModifierState};SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface),module.exports=SyntheticTouchEvent;

},{"./SyntheticUIEvent":191,"./getEventModifierState":216}],191:[function(require,module,exports){
"use strict";function SyntheticUIEvent(e,t,n){SyntheticEvent.call(this,e,t,n)}var SyntheticEvent=require("./SyntheticEvent"),getEventTarget=require("./getEventTarget"),UIEventInterface={view:function(e){if(e.view)return e.view;var t=getEventTarget(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface),module.exports=SyntheticUIEvent;

},{"./SyntheticEvent":185,"./getEventTarget":217}],192:[function(require,module,exports){
"use strict";function SyntheticWheelEvent(e,t,n){SyntheticMouseEvent.call(this,e,t,n)}var SyntheticMouseEvent=require("./SyntheticMouseEvent"),WheelEventInterface={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface),module.exports=SyntheticWheelEvent;

},{"./SyntheticMouseEvent":189}],193:[function(require,module,exports){
(function (process){
"use strict";var invariant=require("./invariant"),Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(i,n,a,t,r,s,e,l){"production"!==process.env.NODE_ENV?invariant(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):invariant(!this.isInTransaction());var o,c;try{this._isInTransaction=!0,o=!0,this.initializeAll(0),c=i.call(n,a,t,r,s,e,l),o=!1}finally{try{if(o)try{this.closeAll(0)}catch(h){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(i){for(var n=this.transactionWrappers,a=i;a<n.length;a++){var t=n[a];try{this.wrapperInitData[a]=Transaction.OBSERVED_ERROR,this.wrapperInitData[a]=t.initialize?t.initialize.call(this):null}finally{if(this.wrapperInitData[a]===Transaction.OBSERVED_ERROR)try{this.initializeAll(a+1)}catch(r){}}}},closeAll:function(i){"production"!==process.env.NODE_ENV?invariant(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open."):invariant(this.isInTransaction());for(var n=this.transactionWrappers,a=i;a<n.length;a++){var t,r=n[a],s=this.wrapperInitData[a];try{t=!0,s!==Transaction.OBSERVED_ERROR&&r.close&&r.close.call(this,s),t=!1}finally{if(t)try{this.closeAll(a+1)}catch(e){}}}this.wrapperInitData.length=0}},Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction;

}).call(this,require('_process'))

},{"./invariant":227,"_process":33}],194:[function(require,module,exports){
"use strict";var ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(r){ViewportMetrics.currentScrollLeft=r.x,ViewportMetrics.currentScrollTop=r.y}};module.exports=ViewportMetrics;

},{}],195:[function(require,module,exports){
(function (process){
"use strict";function accumulateInto(n,r){if("production"!==process.env.NODE_ENV?invariant(null!=r,"accumulateInto(...): Accumulated items must not be null or undefined."):invariant(null!=r),null==n)return r;var a=Array.isArray(n),u=Array.isArray(r);return a&&u?(n.push.apply(n,r),n):a?(n.push(r),n):u?[n].concat(r):[n,r]}var invariant=require("./invariant");module.exports=accumulateInto;

}).call(this,require('_process'))

},{"./invariant":227,"_process":33}],196:[function(require,module,exports){
"use strict";function adler32(r){for(var e=1,t=0,a=0;a<r.length;a++)e=(e+r.charCodeAt(a))%MOD,t=(t+e)%MOD;return e|t<<16}var MOD=65521;module.exports=adler32;

},{}],197:[function(require,module,exports){
function camelize(e){return e.replace(_hyphenPattern,function(e,n){return n.toUpperCase()})}var _hyphenPattern=/-(.)/g;module.exports=camelize;

},{}],198:[function(require,module,exports){
"use strict";function camelizeStyleName(e){return camelize(e.replace(msPattern,"ms-"))}var camelize=require("./camelize"),msPattern=/^-ms-/;module.exports=camelizeStyleName;

},{"./camelize":197}],199:[function(require,module,exports){
(function (process){
"use strict";function cloneWithProps(e,r){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!e.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent."):null);var n=ReactPropTransferer.mergeProps(r,e.props);return!n.hasOwnProperty(CHILDREN_PROP)&&e.props.hasOwnProperty(CHILDREN_PROP)&&(n.children=e.props.children),ReactElement.createElement(e.type,n)}var ReactElement=require("./ReactElement"),ReactPropTransferer=require("./ReactPropTransferer"),keyOf=require("./keyOf"),warning=require("./warning"),CHILDREN_PROP=keyOf({children:null});module.exports=cloneWithProps;

}).call(this,require('_process'))

},{"./ReactElement":139,"./ReactPropTransferer":159,"./keyOf":234,"./warning":248,"_process":33}],200:[function(require,module,exports){
function containsNode(o,e){return o&&e?o===e?!0:isTextNode(o)?!1:isTextNode(e)?containsNode(o,e.parentNode):o.contains?o.contains(e):o.compareDocumentPosition?!!(16&o.compareDocumentPosition(e)):!1:!1}var isTextNode=require("./isTextNode");module.exports=containsNode;

},{"./isTextNode":231}],201:[function(require,module,exports){
function hasArrayNature(r){return!!r&&("object"==typeof r||"function"==typeof r)&&"length"in r&&!("setInterval"in r)&&"number"!=typeof r.nodeType&&(Array.isArray(r)||"callee"in r||"item"in r)}function createArrayFromMixed(r){return hasArrayNature(r)?Array.isArray(r)?r.slice():toArray(r):[r]}var toArray=require("./toArray");module.exports=createArrayFromMixed;

},{"./toArray":245}],202:[function(require,module,exports){
(function (process){
"use strict";function createFullPageComponent(e){var t=ReactElement.createFactory(e),n=ReactClass.createClass({tagName:e.toUpperCase(),displayName:"ReactFullPageComponent"+e,componentWillUnmount:function(){"production"!==process.env.NODE_ENV?invariant(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName):invariant(!1)},render:function(){return t(this.props)}});return n}var ReactClass=require("./ReactClass"),ReactElement=require("./ReactElement"),invariant=require("./invariant");module.exports=createFullPageComponent;

}).call(this,require('_process'))

},{"./ReactClass":114,"./ReactElement":139,"./invariant":227,"_process":33}],203:[function(require,module,exports){
(function (process){
function getNodeName(e){var r=e.match(nodeNamePattern);return r&&r[1].toLowerCase()}function createNodesFromMarkup(e,r){var a=dummyNode;"production"!==process.env.NODE_ENV?invariant(!!dummyNode,"createNodesFromMarkup dummy not initialized"):invariant(!!dummyNode);var n=getNodeName(e),t=n&&getMarkupWrap(n);if(t){a.innerHTML=t[1]+e+t[2];for(var i=t[0];i--;)a=a.lastChild}else a.innerHTML=e;var o=a.getElementsByTagName("script");o.length&&("production"!==process.env.NODE_ENV?invariant(r,"createNodesFromMarkup(...): Unexpected <script> element rendered."):invariant(r),createArrayFromMixed(o).forEach(r));for(var d=createArrayFromMixed(a.childNodes);a.lastChild;)a.removeChild(a.lastChild);return d}var ExecutionEnvironment=require("./ExecutionEnvironment"),createArrayFromMixed=require("./createArrayFromMixed"),getMarkupWrap=require("./getMarkupWrap"),invariant=require("./invariant"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,nodeNamePattern=/^\s*<(\w+)/;module.exports=createNodesFromMarkup;

}).call(this,require('_process'))

},{"./ExecutionEnvironment":98,"./createArrayFromMixed":201,"./getMarkupWrap":219,"./invariant":227,"_process":33}],204:[function(require,module,exports){
(function (process){
"use strict";function cx(e){return"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(warned,"React.addons.classSet will be deprecated in a future version. See http://fb.me/react-addons-classset"):null,warned=!0),"object"==typeof e?Object.keys(e).filter(function(r){return e[r]}).join(" "):Array.prototype.join.call(arguments," ")}var warning=require("./warning"),warned=!1;module.exports=cx;

}).call(this,require('_process'))

},{"./warning":248,"_process":33}],205:[function(require,module,exports){
"use strict";function dangerousStyleValue(e,r){var s=null==r||"boolean"==typeof r||""===r;if(s)return"";var t=isNaN(r);return t||0===r||isUnitlessNumber.hasOwnProperty(e)&&isUnitlessNumber[e]?""+r:("string"==typeof r&&(r=r.trim()),r+"px")}var CSSProperty=require("./CSSProperty"),isUnitlessNumber=CSSProperty.isUnitlessNumber;module.exports=dangerousStyleValue;

},{"./CSSProperty":81}],206:[function(require,module,exports){
function makeEmptyFunction(t){return function(){return t}}function emptyFunction(){}emptyFunction.thatReturns=makeEmptyFunction,emptyFunction.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction.thatReturnsNull=makeEmptyFunction(null),emptyFunction.thatReturnsThis=function(){return this},emptyFunction.thatReturnsArgument=function(t){return t},module.exports=emptyFunction;

},{}],207:[function(require,module,exports){
(function (process){
"use strict";var emptyObject={};"production"!==process.env.NODE_ENV&&Object.freeze(emptyObject),module.exports=emptyObject;

}).call(this,require('_process'))

},{"_process":33}],208:[function(require,module,exports){
"use strict";function escaper(e){return ESCAPE_LOOKUP[e]}function escapeTextContentForBrowser(e){return(""+e).replace(ESCAPE_REGEX,escaper)}var ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;module.exports=escapeTextContentForBrowser;

},{}],209:[function(require,module,exports){
(function (process){
"use strict";function findDOMNode(e){if("production"!==process.env.NODE_ENV){var n=ReactCurrentOwner.current;null!==n&&("production"!==process.env.NODE_ENV?warning(n._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):null,n._warnedAboutRefsInRender=!0)}return null==e?null:isNode(e)?e:ReactInstanceMap.has(e)?ReactMount.getNodeFromInstance(e):("production"!==process.env.NODE_ENV?invariant(null==e.render||"function"!=typeof e.render,"Component (with keys: %s) contains `render` method but is not mounted in the DOM",Object.keys(e)):invariant(null==e.render||"function"!=typeof e.render),void("production"!==process.env.NODE_ENV?invariant(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)):invariant(!1)))}var ReactCurrentOwner=require("./ReactCurrentOwner"),ReactInstanceMap=require("./ReactInstanceMap"),ReactMount=require("./ReactMount"),invariant=require("./invariant"),isNode=require("./isNode"),warning=require("./warning");module.exports=findDOMNode;

}).call(this,require('_process'))

},{"./ReactCurrentOwner":121,"./ReactInstanceMap":149,"./ReactMount":153,"./invariant":227,"./isNode":229,"./warning":248,"_process":33}],210:[function(require,module,exports){
(function (process){
"use strict";function flattenSingleChildIntoContext(e,n,r){var t=e,l=!t.hasOwnProperty(r);"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(l,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r):null),l&&null!=n&&(t[r]=n)}function flattenChildren(e){if(null==e)return e;var n={};return traverseAllChildren(e,flattenSingleChildIntoContext,n),n}var traverseAllChildren=require("./traverseAllChildren"),warning=require("./warning");module.exports=flattenChildren;

}).call(this,require('_process'))

},{"./traverseAllChildren":246,"./warning":248,"_process":33}],211:[function(require,module,exports){
"use strict";function focusNode(o){try{o.focus()}catch(c){}}module.exports=focusNode;

},{}],212:[function(require,module,exports){
"use strict";var forEachAccumulated=function(c,r,a){Array.isArray(c)?c.forEach(r,a):c&&r.call(a,c)};module.exports=forEachAccumulated;

},{}],213:[function(require,module,exports){
function getActiveElement(){try{return document.activeElement||document.body}catch(e){return document.body}}module.exports=getActiveElement;

},{}],214:[function(require,module,exports){
"use strict";function getEventCharCode(e){var r,t=e.keyCode;return"charCode"in e?(r=e.charCode,0===r&&13===t&&(r=13)):r=t,r>=32||13===r?r:0}module.exports=getEventCharCode;

},{}],215:[function(require,module,exports){
"use strict";function getEventKey(e){if(e.key){var r=normalizeKey[e.key]||e.key;if("Unidentified"!==r)return r}if("keypress"===e.type){var t=getEventCharCode(e);return 13===t?"Enter":String.fromCharCode(t)}return"keydown"===e.type||"keyup"===e.type?translateToKey[e.keyCode]||"Unidentified":""}var getEventCharCode=require("./getEventCharCode"),normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};module.exports=getEventKey;

},{"./getEventCharCode":214}],216:[function(require,module,exports){
"use strict";function modifierStateGetter(t){var e=this,r=e.nativeEvent;if(r.getModifierState)return r.getModifierState(t);var i=modifierKeyToProp[t];return i?!!r[i]:!1}function getEventModifierState(t){return modifierStateGetter}var modifierKeyToProp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};module.exports=getEventModifierState;

},{}],217:[function(require,module,exports){
"use strict";function getEventTarget(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}module.exports=getEventTarget;

},{}],218:[function(require,module,exports){
"use strict";function getIteratorFn(t){var o=t&&(ITERATOR_SYMBOL&&t[ITERATOR_SYMBOL]||t[FAUX_ITERATOR_SYMBOL]);return"function"==typeof o?o:void 0}var ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator";module.exports=getIteratorFn;

},{}],219:[function(require,module,exports){
(function (process){
function getMarkupWrap(a){return"production"!==process.env.NODE_ENV?invariant(!!dummyNode,"Markup wrapping node not initialized"):invariant(!!dummyNode),markupWrap.hasOwnProperty(a)||(a="*"),shouldWrap.hasOwnProperty(a)||("*"===a?dummyNode.innerHTML="<link />":dummyNode.innerHTML="<"+a+"></"+a+">",shouldWrap[a]=!dummyNode.firstChild),shouldWrap[a]?markupWrap[a]:null}var ExecutionEnvironment=require("./ExecutionEnvironment"),invariant=require("./invariant"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,shouldWrap={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},selectWrap=[1,'<select multiple="true">',"</select>"],tableWrap=[1,"<table>","</table>"],trWrap=[3,"<table><tbody><tr>","</tr></tbody></table>"],svgWrap=[1,"<svg>","</svg>"],markupWrap={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:selectWrap,option:selectWrap,caption:tableWrap,colgroup:tableWrap,tbody:tableWrap,tfoot:tableWrap,thead:tableWrap,td:trWrap,th:trWrap,circle:svgWrap,clipPath:svgWrap,defs:svgWrap,ellipse:svgWrap,g:svgWrap,line:svgWrap,linearGradient:svgWrap,path:svgWrap,polygon:svgWrap,polyline:svgWrap,radialGradient:svgWrap,rect:svgWrap,stop:svgWrap,text:svgWrap};module.exports=getMarkupWrap;

}).call(this,require('_process'))

},{"./ExecutionEnvironment":98,"./invariant":227,"_process":33}],220:[function(require,module,exports){
"use strict";function getLeafNode(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function getSiblingNode(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function getNodeForCharacterOffset(e,t){for(var o=getLeafNode(e),n=0,r=0;o;){if(3===o.nodeType){if(r=n+o.textContent.length,t>=n&&r>=t)return{node:o,offset:t-n};n=r}o=getLeafNode(getSiblingNode(o))}}module.exports=getNodeForCharacterOffset;

},{}],221:[function(require,module,exports){
"use strict";function getReactRootElementInContainer(e){return e?e.nodeType===DOC_NODE_TYPE?e.documentElement:e.firstChild:null}var DOC_NODE_TYPE=9;module.exports=getReactRootElementInContainer;

},{}],222:[function(require,module,exports){
"use strict";function getTextContentAccessor(){return!contentKey&&ExecutionEnvironment.canUseDOM&&(contentKey="textContent"in document.documentElement?"textContent":"innerText"),contentKey}var ExecutionEnvironment=require("./ExecutionEnvironment"),contentKey=null;module.exports=getTextContentAccessor;

},{"./ExecutionEnvironment":98}],223:[function(require,module,exports){
"use strict";function getUnboundedScrollPosition(o){return o===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:o.scrollLeft,y:o.scrollTop}}module.exports=getUnboundedScrollPosition;

},{}],224:[function(require,module,exports){
function hyphenate(e){return e.replace(_uppercasePattern,"-$1").toLowerCase()}var _uppercasePattern=/([A-Z])/g;module.exports=hyphenate;

},{}],225:[function(require,module,exports){
"use strict";function hyphenateStyleName(e){return hyphenate(e).replace(msPattern,"-ms-")}var hyphenate=require("./hyphenate"),msPattern=/^ms-/;module.exports=hyphenateStyleName;

},{"./hyphenate":224}],226:[function(require,module,exports){
(function (process){
"use strict";function isInternalComponentType(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function instantiateReactComponent(e,n){var t;if((null===e||e===!1)&&(e=ReactEmptyComponent.emptyElement),"object"==typeof e){var o=e;"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(o&&("function"==typeof o.type||"string"==typeof o.type),"Only functions or strings can be mounted as React components."):null),t=n===o.type&&"string"==typeof o.type?ReactNativeComponent.createInternalComponent(o):isInternalComponentType(o.type)?new o.type(o):new ReactCompositeComponentWrapper}else"string"==typeof e||"number"==typeof e?t=ReactNativeComponent.createInstanceForText(e):"production"!==process.env.NODE_ENV?invariant(!1,"Encountered invalid React node of type %s",typeof e):invariant(!1);return"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning("function"==typeof t.construct&&"function"==typeof t.mountComponent&&"function"==typeof t.receiveComponent&&"function"==typeof t.unmountComponent,"Only React Components can be mounted."):null),t.construct(e),t._mountIndex=0,t._mountImage=null,"production"!==process.env.NODE_ENV&&(t._isOwnerNecessary=!1,t._warnedAboutRefsInRender=!1),"production"!==process.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(t),t}var ReactCompositeComponent=require("./ReactCompositeComponent"),ReactEmptyComponent=require("./ReactEmptyComponent"),ReactNativeComponent=require("./ReactNativeComponent"),assign=require("./Object.assign"),invariant=require("./invariant"),warning=require("./warning"),ReactCompositeComponentWrapper=function(){};assign(ReactCompositeComponentWrapper.prototype,ReactCompositeComponent.Mixin,{_instantiateReactComponent:instantiateReactComponent}),module.exports=instantiateReactComponent;

}).call(this,require('_process'))

},{"./Object.assign":105,"./ReactCompositeComponent":119,"./ReactEmptyComponent":141,"./ReactNativeComponent":156,"./invariant":227,"./warning":248,"_process":33}],227:[function(require,module,exports){
(function (process){
"use strict";var invariant=function(r,e,n,i,o,a,t,s){if("production"!==process.env.NODE_ENV&&void 0===e)throw new Error("invariant requires an error message argument");if(!r){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[n,i,o,a,t,s],d=0;u=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return v[d++]}))}throw u.framesToPop=1,u}};module.exports=invariant;

}).call(this,require('_process'))

},{"_process":33}],228:[function(require,module,exports){
"use strict";function isEventSupported(e,t){if(!ExecutionEnvironment.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,u=n in document;if(!u){var i=document.createElement("div");i.setAttribute(n,"return;"),u="function"==typeof i[n]}return!u&&useHasFeature&&"wheel"===e&&(u=document.implementation.hasFeature("Events.wheel","3.0")),u}var ExecutionEnvironment=require("./ExecutionEnvironment"),useHasFeature;ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),module.exports=isEventSupported;

},{"./ExecutionEnvironment":98}],229:[function(require,module,exports){
function isNode(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}module.exports=isNode;

},{}],230:[function(require,module,exports){
"use strict";function isTextInputElement(e){return e&&("INPUT"===e.nodeName&&supportedInputTypes[e.type]||"TEXTAREA"===e.nodeName)}var supportedInputTypes={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};module.exports=isTextInputElement;

},{}],231:[function(require,module,exports){
function isTextNode(e){return isNode(e)&&3==e.nodeType}var isNode=require("./isNode");module.exports=isTextNode;

},{"./isNode":229}],232:[function(require,module,exports){
"use strict";function joinClasses(s){s||(s="");var e,r=arguments.length;if(r>1)for(var n=1;r>n;n++)e=arguments[n],e&&(s=(s?s+" ":"")+e);return s}module.exports=joinClasses;

},{}],233:[function(require,module,exports){
(function (process){
"use strict";var invariant=require("./invariant"),keyMirror=function(r){var n,i={};"production"!==process.env.NODE_ENV?invariant(r instanceof Object&&!Array.isArray(r),"keyMirror(...): Argument must be an object."):invariant(r instanceof Object&&!Array.isArray(r));for(n in r)r.hasOwnProperty(n)&&(i[n]=n);return i};module.exports=keyMirror;

}).call(this,require('_process'))

},{"./invariant":227,"_process":33}],234:[function(require,module,exports){
var keyOf=function(r){var e;for(e in r)if(r.hasOwnProperty(e))return e;return null};module.exports=keyOf;

},{}],235:[function(require,module,exports){
"use strict";function mapObject(r,t,e){if(!r)return null;var a={};for(var n in r)hasOwnProperty.call(r,n)&&(a[n]=t.call(e,r[n],n,r));return a}var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=mapObject;

},{}],236:[function(require,module,exports){
"use strict";function memoizeStringOnly(n){var r={};return function(t){return r.hasOwnProperty(t)||(r[t]=n.call(this,t)),r[t]}}module.exports=memoizeStringOnly;

},{}],237:[function(require,module,exports){
(function (process){
"use strict";function onlyChild(e){return"production"!==process.env.NODE_ENV?invariant(ReactElement.isValidElement(e),"onlyChild must be passed a children with exactly one child."):invariant(ReactElement.isValidElement(e)),e}var ReactElement=require("./ReactElement"),invariant=require("./invariant");module.exports=onlyChild;

}).call(this,require('_process'))

},{"./ReactElement":139,"./invariant":227,"_process":33}],238:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment"),performance;ExecutionEnvironment.canUseDOM&&(performance=window.performance||window.msPerformance||window.webkitPerformance),module.exports=performance||{};

},{"./ExecutionEnvironment":98}],239:[function(require,module,exports){
var performance=require("./performance");performance&&performance.now||(performance=Date);var performanceNow=performance.now.bind(performance);module.exports=performanceNow;

},{"./performance":238}],240:[function(require,module,exports){
"use strict";function quoteAttributeValueForBrowser(e){return'"'+escapeTextContentForBrowser(e)+'"'}var escapeTextContentForBrowser=require("./escapeTextContentForBrowser");module.exports=quoteAttributeValueForBrowser;

},{"./escapeTextContentForBrowser":208}],241:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment"),WHITESPACE_TEST=/^[ \r\n\t\f]/,NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,setInnerHTML=function(e,n){e.innerHTML=n};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(setInnerHTML=function(e,n){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=n})}),ExecutionEnvironment.canUseDOM){var testElement=document.createElement("div");testElement.innerHTML=" ",""===testElement.innerHTML&&(setInnerHTML=function(e,n){if(e.parentNode&&e.parentNode.replaceChild(e,e),WHITESPACE_TEST.test(n)||"<"===n[0]&&NONVISIBLE_TEST.test(n)){e.innerHTML="\ufeff"+n;var t=e.firstChild;1===t.data.length?e.removeChild(t):t.deleteData(0,1)}else e.innerHTML=n})}module.exports=setInnerHTML;

},{"./ExecutionEnvironment":98}],242:[function(require,module,exports){
"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment"),escapeTextContentForBrowser=require("./escapeTextContentForBrowser"),setInnerHTML=require("./setInnerHTML"),setTextContent=function(e,t){e.textContent=t};ExecutionEnvironment.canUseDOM&&("textContent"in document.documentElement||(setTextContent=function(e,t){setInnerHTML(e,escapeTextContentForBrowser(t))})),module.exports=setTextContent;

},{"./ExecutionEnvironment":98,"./escapeTextContentForBrowser":208,"./setInnerHTML":241}],243:[function(require,module,exports){
"use strict";function shallowEqual(r,n){if(r===n)return!0;var t;for(t in r)if(r.hasOwnProperty(t)&&(!n.hasOwnProperty(t)||r[t]!==n[t]))return!1;for(t in n)if(n.hasOwnProperty(t)&&!r.hasOwnProperty(t))return!1;return!0}module.exports=shallowEqual;

},{}],244:[function(require,module,exports){
(function (process){
"use strict";function shouldUpdateReactComponent(e,n){if(null!=e&&null!=n){var t=typeof e,r=typeof n;if("string"===t||"number"===t)return"string"===r||"number"===r;if("object"===r&&e.type===n.type&&e.key===n.key){var o=e._owner===n._owner,s=null,l=null,a=null;return"production"!==process.env.NODE_ENV&&(o||(null!=e._owner&&null!=e._owner.getPublicInstance()&&null!=e._owner.getPublicInstance().constructor&&(s=e._owner.getPublicInstance().constructor.displayName),null!=n._owner&&null!=n._owner.getPublicInstance()&&null!=n._owner.getPublicInstance().constructor&&(l=n._owner.getPublicInstance().constructor.displayName),null!=n.type&&null!=n.type.displayName&&(a=n.type.displayName),null!=n.type&&"string"==typeof n.type&&(a=n.type),("string"!=typeof n.type||"input"===n.type||"textarea"===n.type)&&(null!=e._owner&&e._owner._isOwnerNecessary===!1||null!=n._owner&&n._owner._isOwnerNecessary===!1)&&(null!=e._owner&&(e._owner._isOwnerNecessary=!0),null!=n._owner&&(n._owner._isOwnerNecessary=!0),"production"!==process.env.NODE_ENV?warning(!1,"<%s /> is being rendered by both %s and %s using the same key (%s) in the same place. Currently, this means that they don't preserve state. This behavior should be very rare so we're considering deprecating it. Please contact the React team and explain your use case so that we can take that into consideration.",a||"Unknown Component",s||"[Unknown]",l||"[Unknown]",e.key):null))),o}}return!1}var warning=require("./warning");module.exports=shouldUpdateReactComponent;

}).call(this,require('_process'))

},{"./warning":248,"_process":33}],245:[function(require,module,exports){
(function (process){
function toArray(r){var t=r.length;if("production"!==process.env.NODE_ENV?invariant(!Array.isArray(r)&&("object"==typeof r||"function"==typeof r),"toArray: Array-like object expected"):invariant(!Array.isArray(r)&&("object"==typeof r||"function"==typeof r)),"production"!==process.env.NODE_ENV?invariant("number"==typeof t,"toArray: Object needs a length property"):invariant("number"==typeof t),"production"!==process.env.NODE_ENV?invariant(0===t||t-1 in r,"toArray: Object should have keys for indices"):invariant(0===t||t-1 in r),r.hasOwnProperty)try{return Array.prototype.slice.call(r)}catch(e){}for(var n=Array(t),a=0;t>a;a++)n[a]=r[a];return n}var invariant=require("./invariant");module.exports=toArray;

}).call(this,require('_process'))

},{"./invariant":227,"_process":33}],246:[function(require,module,exports){
(function (process){
"use strict";function userProvidedKeyEscaper(e){return userProvidedKeyEscaperLookup[e]}function getComponentKey(e,r){return e&&null!=e.key?wrapUserProvidedKey(e.key):r.toString(36)}function escapeUserProvidedKey(e){return(""+e).replace(userProvidedKeyEscapeRegex,userProvidedKeyEscaper)}function wrapUserProvidedKey(e){return"$"+escapeUserProvidedKey(e)}function traverseAllChildrenImpl(e,r,n,t,a){var i=typeof e;if(("undefined"===i||"boolean"===i)&&(e=null),null===e||"string"===i||"number"===i||ReactElement.isValidElement(e))return t(a,e,""===r?SEPARATOR+getComponentKey(e,0):r,n),1;var o,l,s,d=0;if(Array.isArray(e))for(var u=0;u<e.length;u++)o=e[u],l=(""!==r?r+SUBSEPARATOR:SEPARATOR)+getComponentKey(o,u),s=n+d,d+=traverseAllChildrenImpl(o,l,s,t,a);else{var p=getIteratorFn(e);if(p){var c,v=p.call(e);if(p!==e.entries)for(var A=0;!(c=v.next()).done;)o=c.value,l=(""!==r?r+SUBSEPARATOR:SEPARATOR)+getComponentKey(o,A++),s=n+d,d+=traverseAllChildrenImpl(o,l,s,t,a);else for("production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(didWarnAboutMaps,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):null,didWarnAboutMaps=!0);!(c=v.next()).done;){var R=c.value;R&&(o=R[1],l=(""!==r?r+SUBSEPARATOR:SEPARATOR)+wrapUserProvidedKey(R[0])+SUBSEPARATOR+getComponentKey(o,0),s=n+d,d+=traverseAllChildrenImpl(o,l,s,t,a))}}else if("object"===i){"production"!==process.env.NODE_ENV?invariant(1!==e.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components."):invariant(1!==e.nodeType);var E=ReactFragment.extract(e);for(var y in E)E.hasOwnProperty(y)&&(o=E[y],l=(""!==r?r+SUBSEPARATOR:SEPARATOR)+wrapUserProvidedKey(y)+SUBSEPARATOR+getComponentKey(o,0),s=n+d,d+=traverseAllChildrenImpl(o,l,s,t,a))}}return d}function traverseAllChildren(e,r,n){return null==e?0:traverseAllChildrenImpl(e,"",0,r,n)}var ReactElement=require("./ReactElement"),ReactFragment=require("./ReactFragment"),ReactInstanceHandles=require("./ReactInstanceHandles"),getIteratorFn=require("./getIteratorFn"),invariant=require("./invariant"),warning=require("./warning"),SEPARATOR=ReactInstanceHandles.SEPARATOR,SUBSEPARATOR=":",userProvidedKeyEscaperLookup={"=":"=0",".":"=1",":":"=2"},userProvidedKeyEscapeRegex=/[=.:]/g,didWarnAboutMaps=!1;module.exports=traverseAllChildren;

}).call(this,require('_process'))

},{"./ReactElement":139,"./ReactFragment":145,"./ReactInstanceHandles":148,"./getIteratorFn":218,"./invariant":227,"./warning":248,"_process":33}],247:[function(require,module,exports){
(function (process){
"use strict";function shallowCopy(r){return Array.isArray(r)?r.concat():r&&"object"==typeof r?assign(new r.constructor,r):r}function invariantArrayCase(r,a,t){"production"!==process.env.NODE_ENV?invariant(Array.isArray(r),"update(): expected target of %s to be an array; got %s.",t,r):invariant(Array.isArray(r));var e=a[t];"production"!==process.env.NODE_ENV?invariant(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e):invariant(Array.isArray(e))}function update(r,a){if("production"!==process.env.NODE_ENV?invariant("object"==typeof a,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",ALL_COMMANDS_LIST.join(", "),COMMAND_SET):invariant("object"==typeof a),hasOwnProperty.call(a,COMMAND_SET))return"production"!==process.env.NODE_ENV?invariant(1===Object.keys(a).length,"Cannot have more than one key in an object with %s",COMMAND_SET):invariant(1===Object.keys(a).length),a[COMMAND_SET];var t=shallowCopy(r);if(hasOwnProperty.call(a,COMMAND_MERGE)){var e=a[COMMAND_MERGE];"production"!==process.env.NODE_ENV?invariant(e&&"object"==typeof e,"update(): %s expects a spec of type 'object'; got %s",COMMAND_MERGE,e):invariant(e&&"object"==typeof e),"production"!==process.env.NODE_ENV?invariant(t&&"object"==typeof t,"update(): %s expects a target of type 'object'; got %s",COMMAND_MERGE,t):invariant(t&&"object"==typeof t),assign(t,a[COMMAND_MERGE])}hasOwnProperty.call(a,COMMAND_PUSH)&&(invariantArrayCase(r,a,COMMAND_PUSH),a[COMMAND_PUSH].forEach(function(r){t.push(r)})),hasOwnProperty.call(a,COMMAND_UNSHIFT)&&(invariantArrayCase(r,a,COMMAND_UNSHIFT),a[COMMAND_UNSHIFT].forEach(function(r){t.unshift(r)})),hasOwnProperty.call(a,COMMAND_SPLICE)&&("production"!==process.env.NODE_ENV?invariant(Array.isArray(r),"Expected %s target to be an array; got %s",COMMAND_SPLICE,r):invariant(Array.isArray(r)),"production"!==process.env.NODE_ENV?invariant(Array.isArray(a[COMMAND_SPLICE]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",COMMAND_SPLICE,a[COMMAND_SPLICE]):invariant(Array.isArray(a[COMMAND_SPLICE])),a[COMMAND_SPLICE].forEach(function(r){"production"!==process.env.NODE_ENV?invariant(Array.isArray(r),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",COMMAND_SPLICE,a[COMMAND_SPLICE]):invariant(Array.isArray(r)),t.splice.apply(t,r)})),hasOwnProperty.call(a,COMMAND_APPLY)&&("production"!==process.env.NODE_ENV?invariant("function"==typeof a[COMMAND_APPLY],"update(): expected spec of %s to be a function; got %s.",COMMAND_APPLY,a[COMMAND_APPLY]):invariant("function"==typeof a[COMMAND_APPLY]),t=a[COMMAND_APPLY](t));for(var n in a)ALL_COMMANDS_SET.hasOwnProperty(n)&&ALL_COMMANDS_SET[n]||(t[n]=update(r[n],a[n]));return t}var assign=require("./Object.assign"),keyOf=require("./keyOf"),invariant=require("./invariant"),hasOwnProperty={}.hasOwnProperty,COMMAND_PUSH=keyOf({$push:null}),COMMAND_UNSHIFT=keyOf({$unshift:null}),COMMAND_SPLICE=keyOf({$splice:null}),COMMAND_SET=keyOf({$set:null}),COMMAND_MERGE=keyOf({$merge:null}),COMMAND_APPLY=keyOf({$apply:null}),ALL_COMMANDS_LIST=[COMMAND_PUSH,COMMAND_UNSHIFT,COMMAND_SPLICE,COMMAND_SET,COMMAND_MERGE,COMMAND_APPLY],ALL_COMMANDS_SET={};ALL_COMMANDS_LIST.forEach(function(r){ALL_COMMANDS_SET[r]=!0}),module.exports=update;

}).call(this,require('_process'))

},{"./Object.assign":105,"./invariant":227,"./keyOf":234,"_process":33}],248:[function(require,module,exports){
(function (process){
"use strict";var emptyFunction=require("./emptyFunction"),warning=emptyFunction;"production"!==process.env.NODE_ENV&&(warning=function(r,n){for(var e=[],t=2,i=arguments.length;i>t;t++)e.push(arguments[t]);if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(n.length<10||/^[s\W]*$/.test(n))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+n);if(0!==n.indexOf("Failed Composite propType: ")&&!r){var o=0,a="Warning: "+n.replace(/%s/g,function(){return e[o++]});console.warn(a);try{throw new Error(a)}catch(s){}}}),module.exports=warning;

}).call(this,require('_process'))

},{"./emptyFunction":206,"_process":33}],249:[function(require,module,exports){
module.exports=require("./lib/React");

},{"./lib/React":107}],250:[function(require,module,exports){
function Auth(t,r){this.appId=t,this.appSecret=r}var EventEmitter=require("events").EventEmitter,User=require("./user"),util=require("util"),format=util.format,https=require("https"),url=require("url"),Promise=require("promise"),arglock=require("./util/fn").arglock,URL="https://auth.simperium.com/1";module.exports=Auth,util.inherits(Auth,EventEmitter),Auth.prototype.authorize=function(t,r){var e=JSON.stringify({username:t,password:r}),i=this.request("authorize/",e);return i},Auth.prototype.create=function(t,r){},Auth.prototype.getUrlOptions=function(t){var r=url.parse(format("%s/%s/%s",URL,this.appId,t));return r.method="POST",r.headers={"X-Simperium-API-Key":this.appSecret},r},Auth.prototype.request=function(t,r){var e=this,i=new Promise(function(i,u){var o=https.request(e.getUrlOptions(t),function(t){var r="";t.on("data",function(t){r+=t.toString()}),t.on("end",function(){var t=User.fromJSON(r);e.emit("authorize",t),i(t)})});o.on("error",function(t){u(t)}),o.end(r)});return i};

},{"./user":261,"./util/fn":263,"events":28,"https":29,"promise":68,"url":62,"util":64}],251:[function(require,module,exports){
function Bucket(t,e){EventEmitter.call(this),this.name=t,this.store=e(this)}var util=require("util"),EventEmitter=require("events").EventEmitter,format=util.format,uuid=require("node-uuid"),arglock=require("./util/fn").arglock;module.exports=Bucket,util.inherits(Bucket,EventEmitter),Bucket.prototype.reload=function(){this.emit("reload")},Bucket.prototype.add=function(t,e){var r=uuid.v4();return this.update(r,t,e)},Bucket.prototype.get=function(t,e){return this.store.get(t,e)},Bucket.prototype.update=function(t,e,r){return this.store.update(t,e,r)},Bucket.prototype.remove=function(t,e){return this.store.remove(t,e)},Bucket.prototype.find=function(t,e){return this.store.find(t,e)},Bucket.prototype.getRevisions=function(t,e){};

},{"./util/fn":263,"events":28,"node-uuid":267,"util":64}],252:[function(require,module,exports){
function log_error(e){console.error(e)}function Channel(e,t,n,i){var r=this;this.appid=e,this.bucket=n,this.store=i,this.access_token=t,this.session_id="node-"+uuid.v4();var o=this.message=new EventEmitter;o.on("auth",this.onAuth.bind(this)),o.on("i",this.onIndex.bind(this)),o.on("c",this.onChanges.bind(this)),o.on("e",this.onVersion.bind(this)),o.on("o",function(){}),this.networkQueue=new NetworkQueue,this.localQueue=new LocalQueue(this.store),this.localQueue.on("send",internal.sendChange.bind(this)),this.localQueue.on("error",internal.handleChangeError.bind(this)),this.on("index",function(e){internal.updateChangeVersion.call(r,e).then(function(){r.localQueue.start()},log_error),n.emit("index")});var s=new EventEmitter,a=n.update,u=n.remove;n.update=function(e,t,i){return a.call(n,e,t,function(t,n){t||s.emit("update",e,n),i&&i.apply(this,arguments)})},n.remove=function(e,t){return u.call(n,e,function(n){n||s.emit("remove",e),t&&t.apply(this,arguments)})},n.getRevisions=function(e,t){new RevisionsCollector(r,e,t)},s.on("update",internal.diffAndSend.bind(this)).on("remove",internal.removeAndSend.bind(this)),this.on("update",function(e,t){var i=[].slice.call(arguments);a.call(n,e,t,function(e){n.emit.apply(n,["update"].concat(i))})}).on("remove",function(e){u.call(n,e,function(t){n.emit("remove",e)})}),n.on("reload",this.onReload.bind(this)),this.on("change-version",internal.updateChangeVersion.bind(this))}function NetworkQueue(){this.queues={}}function Queue(){this.queue=[],this.running=!1}function LocalQueue(e){this.store=e,this.sent={},this.queues={},this.ready=!1}function RevisionsCollector(e,t,n){var i=-1,r=function(n){var r=Math.min(n.version,30);i=r;for(var o=0;r>o;o++)e.send("e:"+t+"."+(n.version-o))},o=[],s=function(t,r,a){o.push({id:t,version:r,data:a}),i==o.length&&(e.removeListener("version."+t,s),n(null,o.sort(function(e,t){return e.version>t.version?-1:1})))};e.on("version."+t,s),e.store.get(t).then(r,function(e){n(e)})}var util=require("util"),format=util.format,EventEmitter=require("events").EventEmitter,simperiumUtil=require("./util"),arglock=simperiumUtil.fn.arglock,parseMessage=simperiumUtil.parseMessage,parseVersionMessage=simperiumUtil.parseVersionMessage,jsondiff=require("./jsondiff")({list_diff:!1}),change_util=require("./util/change"),uuid=require("node-uuid");if(this&&!this.setImmediate)var setImmediate=this.setImmediate=function(e){return setTimeout(e,1)};module.exports=Channel;var operation={MODIFY:"M",REMOVE:"-"};util.inherits(Channel,EventEmitter),Channel.prototype.handleMessage=function(e){var t=parseMessage(e);this.message.emit(t.command,t.data)},Channel.prototype.send=function(e){this.emit("send",e)},Channel.prototype.onReload=function(){var e=arglock(this.emit,"update").bind(this);this.store.eachGhost(function(t){e(t.key,t.data)})},Channel.prototype.onAuth=function(e){try{var t=JSON.parse(e);return void this.emit("unauthorized",t)}catch(n){var i=function(e){e?(this.localQueue.start(),this.sendChangeVersionRequest(e)):this.sendIndexRequest()};return void this.store.getChangeVersion().then(i.bind(this),log_error)}},Channel.prototype.onConnect=function(){var e={name:this.bucket.name,clientid:this.session_id,api:"1.1",token:this.access_token,app_id:this.appid,library:"node-simperium",version:"0.0.1"};this.send(format("init:%s",JSON.stringify(e)))},Channel.prototype.onIndex=function(e){var t=JSON.parse(e),n=t.index,i=t.mark,r=(t.current,internal.updateObjectVersion.bind(this));n.forEach(function(e,t){r(e.id,e.v,e.d)}),i?this.sendIndexRequest(i):this.emit("index",t.current)},Channel.prototype.sendIndexRequest=function(e){this.send(format("i:1:%s::10",e?e:""))},Channel.prototype.sendChangeVersionRequest=function(e){this.send(format("cv:%s",e))},Channel.prototype.onChanges=function(e){var t=JSON.parse(e),n=internal.changeObject.bind(this);t.forEach(function(e){n(e.id,e)})},Channel.prototype.onVersion=function(e){var t=parseVersionMessage(e);this.emit("version",t.id,t.version,t.data),this.emit("version."+t.id,t.id,t.version,t.data)},NetworkQueue.prototype.queueFor=function(e){var t=this.queues,n=t[e];return n||(n=new Queue,n.on("finish",function(){delete t[e]}),t[e]=n),n},util.inherits(Queue,EventEmitter),Queue.prototype.add=function(e){return this.queue.push(e),this.start(),this},Queue.prototype.start=function(){this.running||(this.running=!0,this.emit("start"),setImmediate(this.run.bind(this)))},Queue.prototype.run=function(){if(this.running=!0,0===this.queue.length)return this.running=!1,void this.emit("finish");var e=this.queue.shift();e(this.run.bind(this))},util.inherits(LocalQueue,EventEmitter),LocalQueue.prototype.start=function(){this.ready=!0;for(var e in this.queues)this.processQueue(e)},LocalQueue.prototype.acknowledge=function(e){this.sent[e.id]==e&&delete this.sent[e.id],this.processQueue(e.id)},LocalQueue.prototype.queue=function(e){var t=this.queues[e.id];t||(t=[],this.queues[e.id]=t),t.push(e),this.emit("queued",e.id,e,t),this.ready&&this.processQueue(e.id)},LocalQueue.prototype.dequeueChangesFor=function(e){var t=[],n=this.sent[e],i=this.queues[e];return n&&(delete this.sent[e],t.push(n)),i&&(delete this.queues[e],t=t.concat(i)),t},LocalQueue.prototype.processQueue=function(e){var t=this.queues[e];this.sent;if(t){if(0===t.length)return void delete this.queues[e];if(this.sent[e])return void this.emit("wait",e);var n=t,i=arglock(this.compressAndSend,e,n).bind(this);this.store.get(e).then(i,log_error)}},LocalQueue.prototype.compressAndSend=function(e,t,n){var i;if(this.sent[e])return void this.emit("wait",e);if(1==t.length)return i=t.shift(),this.sent[e]=i,void this.emit("send",i);t.length>1&&t[0].type==change_util.type.REMOVE&&(i=t.shift(),this.sent[e]=i,this.emit("send",i));for(var r=n.data;t.length>0;){var o=t.shift();if(o.o==change_util.type.REMOVE){t.unshift(o);break}r=jsondiff.apply_object_diff(r,o.v)}var s=null===r?change_util.type.REMOVE:change_util.type.MODIFY;i=change_util.buildChange(s,e,r,n),this.sent[e]=i,this.emit("send",i)};var internal={};internal.updateChangeVersion=function(e,t){return this.store.setChangeVersion(e)},internal.changeObject=function(e,t){var n=arglock(internal.performChange,t).bind(this);this.networkQueue.queueFor(e).add(function(e){n().then(function(){e.apply(null,arguments)},log_error)})},internal.buildModifyChange=function(e,t,n){var i=change_util.buildChange(change_util.type.MODIFY,e,t,n),r=!0;for(var o in i.v)if(o){r=!1;break}return r?this.emit("unmodified",e,t,n):void this.localQueue.queue(i)},internal.buildRemoveChange=function(e,t,n){var i=change_util.buildChange(change_util.type.REMOVE,e,t,n);this.localQueue.queue(i)},internal.sendChange=function(e){this.emit("send",format("c:%s",JSON.stringify(e)))},internal.diffAndSend=function(e,t){var n=arglock(internal.buildModifyChange,e,t).bind(this);return this.store.get(e).then(n,log_error)},internal.removeAndSend=function(e,t){var n=arglock(internal.buildRemoveChange,e,t).bind(this);return this.store.get(e).then(n,log_error)},internal.updateObjectVersion=function(e,t,n,i,r,o){var s;if(o)s=arglock(internal.updateAcknowledged,o).bind(this);else{var a=this.localQueue.dequeueChangesFor(e),u=change_util.compressChanges(a,i),h=r,l=change_util.transform(u,h,i),d=n;if(l){r=l,d=jsondiff.apply_object_diff(n,l);var c=change_util.modify(e,t,r);this.localQueue.queue(c)}s=arglock(this.emit,"update",e,d,i,r).bind(this)}return this.store.put(e,t,n).then(s,log_error)},internal.removeObject=function(e,t){var n;return n=t?arglock(internal.updateAcknowledged,t).bind(this):arglock(this.emit,"remove",e).bind(this),this.store.remove(e).then(n,log_error)},internal.updateAcknowledged=function(e){var t=e.id;this.localQueue.sent[t]==e&&(this.localQueue.acknowledge(e),this.emit("acknowledge",t,e))},internal.performChange=function(e){var t=arglock(internal.applyChange,e).bind(this);return this.store.get(e.id).then(function(){t.apply(null,arguments)},log_error)},internal.findAcknowledgedChange=function(e){var t=this.localQueue.sent[e.id];return t&&(e.ccids||[]).indexOf(t.ccid)>-1?t:void 0},internal.applyChange=function(e,t){var n=internal.findAcknowledgedChange.bind(this)(e);if(e.error){var i=new Error("Could not apply change to "+t.key);return i.code=e.error,i.change=e,i.ghost=t,void internal.handleChangeError.call(this,i,e,n)}var r=arglock(this.emit,"change-version",e.cv,e).bind(this);if(e.o==operation.MODIFY){if(t&&t.version!==e.sv)return;var o=t.data,s=e.v,a=jsondiff.apply_object_diff(o,s);return internal.updateObjectVersion.bind(this)(e.id,e.ev,a,o,s,n).then(r,log_error)}return e.o==operation.REMOVE?internal.removeObject.bind(this)(e.id,n).then(r,log_error):void 0},internal.handleChangeError=function(e,t,n){switch(e.code){case 412:internal.updateAcknowledged.call(this,n);break;default:this.emit("error",e,t)}};

},{"./jsondiff":258,"./util":264,"./util/change":262,"events":28,"node-uuid":267,"util":64}],253:[function(require,module,exports){
function Client(t,e,n){n=n||{},n.ghostStoreProvider=n.ghostStoreProvider||defaultGhostStoreProvider,n.objectStoreProvider=n.objectStoreProvider||defaultObjectStoreProvider,n.hearbeatInterval=n.heartbeatInterval||4,this.accessToken=e,this.open=!1,this.options=n,this.heartbeat=new Heartbeat(n.hearbeatInterval,this.sendHeartbeat.bind(this)),this.heartbeat.on("timeout",this.onConnectionTimeout.bind(this)),this.reconnectionTimer=new ReconnectionTimer(function(t){var e=(t>=3?3e3*(t-3):0)+3e3;return e},this.onReconnect.bind(this)),this.appId=t,n.url=n.url||format("wss://api.simperium.com/sock/1/%s/websocket",this.appId),this.reconnect=!0,this.on("message:h",this.onHeartbeat.bind(this)),this.buckets=[],this.connect()}function Heartbeat(t,e){this.count=0,this.seconds=t,EventEmitter.call(this),e&&this.on("beat",e)}function ReconnectionTimer(t,e){EventEmitter.call(this),this.started=!1,this.interval=t||function(t){return 1e3},e&&this.on("tripped",e),this.reset()}var util=require("util"),format=util.format,EventEmitter=require("events").EventEmitter,Bucket=require("./bucket"),Channel=require("./channel"),simperiumUtil=require("./util"),arglock=simperiumUtil.fn.arglock,defaultGhostStoreProvider=require("./ghost/default"),defaultObjectStoreProvider=require("./storage/default"),WebSocketClient;WebSocketClient="undefined"!=typeof window&&window.WebSocket?window.WebSocket:require("websocket").w3cwebsocket,module.exports=Client,module.exports.Bucket=Bucket,module.exports.Channel=Channel,util.inherits(Client,EventEmitter),Client.prototype.bucket=function(t){var e=this.buckets.length,n=new Bucket(t,this.options.objectStoreProvider),i=new Channel(this.appId,this.accessToken,n,this.options.ghostStoreProvider(n)),o=arglock(this.sendChannelMessage,e).bind(this),s=i.handleMessage.bind(i);return this.buckets.push(n),i.on("unauthorized",this.onUnauthorized.bind(this)),i.on("send",o),this.on("connect",i.onConnect.bind(i)),this.on(format("channel:%d",e),s),this.on("access-token",function(t){i.access_token=t}),this.open&&i.onConnect(),n},Client.prototype.onHeartbeat=function(t){var e=parseInt(t);this.heartbeat.tick(e)},Client.prototype.onConnect=function(t){this.open=!0,this.emit("connect"),this.heartbeat.start(),this.reconnectionTimer.reset()},Client.prototype.onReconnect=function(t){this.emit("reconnect",t),this.connect()},Client.prototype.onConnectionTimeout=function(){this.disconnect()},Client.prototype.onConnectionFailed=function(){this.emit("disconnect"),this.reconnect&&this.reconnectionTimer.start()},Client.prototype.onMessage=function(t){this.parseMessage(t),this.heartbeat.tick()},Client.prototype.onUnauthorized=function(t){this.reconnect=!1,this.emit("unauthorized",t)},Client.prototype.parseMessage=function(t){var e=t.data,n=e.indexOf(":"),i=e.slice(0,n),o=parseInt(i),s=e.slice(n+1);this.emit("message",e),isNaN(o)?this.emit(format("message:%s",i),s):this.emit(format("channel:%d",o),s)},Client.prototype.sendHeartbeat=function(t){this.send(format("h:%d",t))},Client.prototype.send=function(t){this.emit("send",t);try{this.socket.send(t)}catch(e){}},Client.prototype.sendChannelMessage=function(t,e){this.send(format("%d:%s",t,e))},Client.prototype.connect=function(){this.reconnect=!0,this.socket=new WebSocketClient(this.options.url),this.socket.onopen=this.onConnect.bind(this),this.socket.onmessage=this.onMessage.bind(this),this.socket.onclose=this.onConnectionFailed.bind(this)},Client.prototype.disconnect=function(){this.open?this.socket.close():this.onClose()},Client.prototype.end=function(){this.reconnect=!1,this.reconnectionTimer.stop(),this.disconnect()},Client.prototype.onClose=function(){this.connection=null,this.heartbeat.stop(),this.reconnect!==!1&&this.reconnectionTimer.start(),this.emit("close")},Client.prototype.setAccessToken=function(t){this.accessToken=t,this.emit("access-token",t),this.connect()},util.inherits(Heartbeat,EventEmitter),Heartbeat.prototype.onBeat=function(){this.count++,this.timeout=setTimeout(this.onTimeout.bind(this),1e3*this.seconds*2),this.emit("beat",this.count)},Heartbeat.prototype.onTimeout=function(){this.emit("timeout"),this.stop()},Heartbeat.prototype.tick=function(t){t>0&&"number"==typeof t&&(this.count=t),this.start()},Heartbeat.prototype.start=function(){this.stop(),this.timer=setTimeout(this.onBeat.bind(this),1e3*this.seconds)},Heartbeat.prototype.stop=function(){clearTimeout(this.timer),clearTimeout(this.timeout)},util.inherits(ReconnectionTimer,EventEmitter),ReconnectionTimer.prototype.onInterval=function(){this.emit("tripped",this.attempt),this.attempt++},ReconnectionTimer.prototype.start=function(){this.started=!0,this.timer=setTimeout(this.onInterval.bind(this),this.interval(this.attempt))},ReconnectionTimer.prototype.restart=function(){this.reset(),this.start()},ReconnectionTimer.prototype.reset=ReconnectionTimer.prototype.stop=function(){this.attempt=0,this.started=!1,clearTimeout(this.timer)};

},{"./bucket":251,"./channel":252,"./ghost/default":254,"./storage/default":260,"./util":264,"events":28,"util":64,"websocket":268}],254:[function(require,module,exports){
var Store=require("./store");module.exports=function(e){return new Store(e)};

},{"./store":255}],255:[function(require,module,exports){
(function (process){
function log_error(){return function(r){console.error(r)}}function Store(r){this.bucket=r,this.index={}}var Promise=require("promise");module.exports=Store,Store.prototype.getChangeVersion=function(){var r=this,e=new Promise(function(e,o){process.nextTick(function(){e(r.cv)})});return e["catch"](log_error)},Store.prototype.setChangeVersion=function(r){var e=this,o=new Promise(function(o,t){process.nextTick(function(){e.cv=r,o(r)})});return o["catch"](log_error)},Store.prototype.put=function(r,e,o){var t=this,n=new Promise(function(n,i){process.nextTick(function(){t.index[r]=JSON.stringify({version:e,data:o}),n(!0)})});return n["catch"](log_error)},Store.prototype.get=function(r){var e=this;return promise=new Promise(function(o,t){process.nextTick(function(){var t=e.index[r];t?t=JSON.parse(t):(t={data:{}},e.index[r]=JSON.stringify(t)),o(t)})}),promise["catch"](log_error)},Store.prototype.remove=function(r){var e=this;return promise=new Promise(function(o,t){process.nextTick(function(){delete e.index[r],o()})}),promise["catch"](log_error)};

}).call(this,require('_process'))

},{"_process":33,"promise":68}],256:[function(require,module,exports){
var User=require("./user"),Client=require("./client"),Auth=require("./auth");module.exports=function(e,r,t){return new Client(e,r,t)},module.exports.Auth=Auth,module.exports.User=User,module.exports.Client=Client;

},{"./auth":250,"./client":253,"./user":261}],257:[function(require,module,exports){
function diff_match_patch(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}module.exports=diff_match_patch;var DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;diff_match_patch.Diff,diff_match_patch.prototype.diff_main=function(t,e,n,i){"undefined"==typeof i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var h=i;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[DIFF_EQUAL,t]]:[];"undefined"==typeof n&&(n=!0);var r=n,a=this.diff_commonPrefix(t,e),f=t.substring(0,a);t=t.substring(a),e=e.substring(a),a=this.diff_commonSuffix(t,e);var s=t.substring(t.length-a);t=t.substring(0,t.length-a),e=e.substring(0,e.length-a);var l=this.diff_compute_(t,e,r,h);return f&&l.unshift([DIFF_EQUAL,f]),s&&l.push([DIFF_EQUAL,s]),this.diff_cleanupMerge(l),l},diff_match_patch.prototype.diff_compute_=function(t,e,n,i){var h;if(!t)return[[DIFF_INSERT,e]];if(!e)return[[DIFF_DELETE,t]];var r=t.length>e.length?t:e,a=t.length>e.length?e:t,f=r.indexOf(a);if(-1!=f)return h=[[DIFF_INSERT,r.substring(0,f)],[DIFF_EQUAL,a],[DIFF_INSERT,r.substring(f+a.length)]],t.length>e.length&&(h[0][0]=h[2][0]=DIFF_DELETE),h;if(1==a.length)return[[DIFF_DELETE,t],[DIFF_INSERT,e]];var s=this.diff_halfMatch_(t,e);if(s){var l=s[0],_=s[1],c=s[2],g=s[3],o=s[4],p=this.diff_main(l,c,n,i),u=this.diff_main(_,g,n,i);return p.concat([[DIFF_EQUAL,o]],u)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,i):this.diff_bisect_(t,e,i)},diff_match_patch.prototype.diff_lineMode_=function(t,e,n){var i=this.diff_linesToChars_(t,e);t=i.chars1,e=i.chars2;var h=i.lineArray,r=this.diff_main(t,e,!1,n);this.diff_charsToLines_(r,h),this.diff_cleanupSemantic(r),r.push([DIFF_EQUAL,""]);for(var a=0,f=0,s=0,l="",_="";a<r.length;){switch(r[a][0]){case DIFF_INSERT:s++,_+=r[a][1];break;case DIFF_DELETE:f++,l+=r[a][1];break;case DIFF_EQUAL:if(f>=1&&s>=1){r.splice(a-f-s,f+s),a=a-f-s;for(var i=this.diff_main(l,_,!1,n),c=i.length-1;c>=0;c--)r.splice(a,0,i[c]);a+=i.length}s=0,f=0,l="",_=""}a++}return r.pop(),r},diff_match_patch.prototype.diff_bisect_=function(t,e,n){for(var i=t.length,h=e.length,r=Math.ceil((i+h)/2),a=r,f=2*r,s=new Array(f),l=new Array(f),_=0;f>_;_++)s[_]=-1,l[_]=-1;s[a+1]=0,l[a+1]=0;for(var c=i-h,g=c%2!=0,o=0,p=0,u=0,d=0,F=0;r>F&&!((new Date).getTime()>n);F++){for(var E=-F+o;F-p>=E;E+=2){var m,D=a+E;m=E==-F||E!=F&&s[D-1]<s[D+1]?s[D+1]:s[D-1]+1;for(var I=m-E;i>m&&h>I&&t.charAt(m)==e.charAt(I);)m++,I++;if(s[D]=m,m>i)p+=2;else if(I>h)o+=2;else if(g){var b=a+c-E;if(b>=0&&f>b&&-1!=l[b]){var v=i-l[b];if(m>=v)return this.diff_bisectSplit_(t,e,m,I,n)}}}for(var L=-F+u;F-d>=L;L+=2){var v,b=a+L;v=L==-F||L!=F&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1;for(var T=v-L;i>v&&h>T&&t.charAt(i-v-1)==e.charAt(h-T-1);)v++,T++;if(l[b]=v,v>i)d+=2;else if(T>h)u+=2;else if(!g){var D=a+c-L;if(D>=0&&f>D&&-1!=s[D]){var m=s[D],I=a+m-D;if(v=i-v,m>=v)return this.diff_bisectSplit_(t,e,m,I,n)}}}}return[[DIFF_DELETE,t],[DIFF_INSERT,e]]},diff_match_patch.prototype.diff_bisectSplit_=function(t,e,n,i,h){var r=t.substring(0,n),a=e.substring(0,i),f=t.substring(n),s=e.substring(i),l=this.diff_main(r,a,!1,h),_=this.diff_main(f,s,!1,h);return l.concat(_)},diff_match_patch.prototype.diff_linesToChars_=function(t,e){function n(t){for(var e="",n=0,r=-1,a=i.length;r<t.length-1;){r=t.indexOf("\n",n),-1==r&&(r=t.length-1);var f=t.substring(n,r+1);n=r+1,(h.hasOwnProperty?h.hasOwnProperty(f):void 0!==h[f])?e+=String.fromCharCode(h[f]):(e+=String.fromCharCode(a),h[f]=a,i[a++]=f)}return e}var i=[],h={};i[0]="";var r=n(t),a=n(e);return{chars1:r,chars2:a,lineArray:i}},diff_match_patch.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var i=t[n][1],h=[],r=0;r<i.length;r++)h[r]=e[i.charCodeAt(r)];t[n][1]=h.join("")}},diff_match_patch.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),h=i,r=0;h>n;)t.substring(r,h)==e.substring(r,h)?(n=h,r=n):i=h,h=Math.floor((i-n)/2+n);return h},diff_match_patch.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),h=i,r=0;h>n;)t.substring(t.length-h,t.length-r)==e.substring(e.length-h,e.length-r)?(n=h,r=n):i=h,h=Math.floor((i-n)/2+n);return h},diff_match_patch.prototype.diff_commonOverlap_=function(t,e){var n=t.length,i=e.length;if(0==n||0==i)return 0;n>i?t=t.substring(n-i):i>n&&(e=e.substring(0,n));var h=Math.min(n,i);if(t==e)return h;for(var r=0,a=1;;){var f=t.substring(h-a),s=e.indexOf(f);if(-1==s)return r;a+=s,(0==s||t.substring(h-a)==e.substring(0,a))&&(r=a,a++)}},diff_match_patch.prototype.diff_halfMatch_=function(t,e){function n(t,e,n){for(var i,h,r,f,s=t.substring(n,n+Math.floor(t.length/4)),l=-1,_="";-1!=(l=e.indexOf(s,l+1));){var c=a.diff_commonPrefix(t.substring(n),e.substring(l)),g=a.diff_commonSuffix(t.substring(0,n),e.substring(0,l));_.length<g+c&&(_=e.substring(l-g,l)+e.substring(l,l+c),i=t.substring(0,n-g),h=t.substring(n+c),r=e.substring(0,l-g),f=e.substring(l+c))}return 2*_.length>=t.length?[i,h,r,f,_]:null}if(this.Diff_Timeout<=0)return null;var i=t.length>e.length?t:e,h=t.length>e.length?e:t;if(i.length<4||2*h.length<i.length)return null;var r,a=this,f=n(i,h,Math.ceil(i.length/4)),s=n(i,h,Math.ceil(i.length/2));if(!f&&!s)return null;r=s?f&&f[4].length>s[4].length?f:s:f;var l,_,c,g;t.length>e.length?(l=r[0],_=r[1],c=r[2],g=r[3]):(c=r[0],g=r[1],l=r[2],_=r[3]);var o=r[4];return[l,_,c,g,o]},diff_match_patch.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],i=0,h=null,r=0,a=0,f=0,s=0,l=0;r<t.length;)t[r][0]==DIFF_EQUAL?(n[i++]=r,a=s,f=l,s=0,l=0,h=t[r][1]):(t[r][0]==DIFF_INSERT?s+=t[r][1].length:l+=t[r][1].length,h&&h.length<=Math.max(a,f)&&h.length<=Math.max(s,l)&&(t.splice(n[i-1],0,[DIFF_DELETE,h]),t[n[i-1]+1][0]=DIFF_INSERT,i--,i--,r=i>0?n[i-1]:-1,a=0,f=0,s=0,l=0,h=null,e=!0)),r++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),r=1;r<t.length;){if(t[r-1][0]==DIFF_DELETE&&t[r][0]==DIFF_INSERT){var _=t[r-1][1],c=t[r][1],g=this.diff_commonOverlap_(_,c),o=this.diff_commonOverlap_(c,_);g>=o?(g>=_.length/2||g>=c.length/2)&&(t.splice(r,0,[DIFF_EQUAL,c.substring(0,g)]),t[r-1][1]=_.substring(0,_.length-g),t[r+1][1]=c.substring(g),r++):(o>=_.length/2||o>=c.length/2)&&(t.splice(r,0,[DIFF_EQUAL,_.substring(0,o)]),t[r-1][0]=DIFF_INSERT,t[r-1][1]=c.substring(0,c.length-o),t[r+1][0]=DIFF_DELETE,t[r+1][1]=_.substring(o),r++),r++}r++}},diff_match_patch.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),i=e.charAt(0),h=n.match(diff_match_patch.nonAlphaNumericRegex_),r=i.match(diff_match_patch.nonAlphaNumericRegex_),a=h&&n.match(diff_match_patch.whitespaceRegex_),f=r&&i.match(diff_match_patch.whitespaceRegex_),s=a&&n.match(diff_match_patch.linebreakRegex_),l=f&&i.match(diff_match_patch.linebreakRegex_),_=s&&t.match(diff_match_patch.blanklineEndRegex_),c=l&&e.match(diff_match_patch.blanklineStartRegex_);return _||c?5:s||l?4:h&&!a&&f?3:a||f?2:h||r?1:0}for(var n=1;n<t.length-1;){if(t[n-1][0]==DIFF_EQUAL&&t[n+1][0]==DIFF_EQUAL){var i=t[n-1][1],h=t[n][1],r=t[n+1][1],a=this.diff_commonSuffix(i,h);if(a){var f=h.substring(h.length-a);i=i.substring(0,i.length-a),h=f+h.substring(0,h.length-a),r=f+r}for(var s=i,l=h,_=r,c=e(i,h)+e(h,r);h.charAt(0)===r.charAt(0);){i+=h.charAt(0),h=h.substring(1)+r.charAt(0),r=r.substring(1);var g=e(i,h)+e(h,r);g>=c&&(c=g,s=i,l=h,_=r)}t[n-1][1]!=s&&(s?t[n-1][1]=s:(t.splice(n-1,1),n--),t[n][1]=l,_?t[n+1][1]=_:(t.splice(n+1,1),n--))}n++}},diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,diff_match_patch.whitespaceRegex_=/\s/,diff_match_patch.linebreakRegex_=/[\r\n]/,diff_match_patch.blanklineEndRegex_=/\n\r?\n$/,diff_match_patch.blanklineStartRegex_=/^\r?\n\r?\n/,diff_match_patch.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],i=0,h=null,r=0,a=!1,f=!1,s=!1,l=!1;r<t.length;)t[r][0]==DIFF_EQUAL?(t[r][1].length<this.Diff_EditCost&&(s||l)?(n[i++]=r,a=s,f=l,h=t[r][1]):(i=0,h=null),s=l=!1):(t[r][0]==DIFF_DELETE?l=!0:s=!0,h&&(a&&f&&s&&l||h.length<this.Diff_EditCost/2&&a+f+s+l==3)&&(t.splice(n[i-1],0,[DIFF_DELETE,h]),t[n[i-1]+1][0]=DIFF_INSERT,i--,h=null,a&&f?(s=l=!0,i=0):(i--,r=i>0?n[i-1]:-1,s=l=!1),e=!0)),r++;e&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_cleanupMerge=function(t){t.push([DIFF_EQUAL,""]);for(var e,n=0,i=0,h=0,r="",a="";n<t.length;)switch(t[n][0]){case DIFF_INSERT:h++,a+=t[n][1],n++;break;case DIFF_DELETE:i++,r+=t[n][1],n++;break;case DIFF_EQUAL:i+h>1?(0!==i&&0!==h&&(e=this.diff_commonPrefix(a,r),0!==e&&(n-i-h>0&&t[n-i-h-1][0]==DIFF_EQUAL?t[n-i-h-1][1]+=a.substring(0,e):(t.splice(0,0,[DIFF_EQUAL,a.substring(0,e)]),n++),a=a.substring(e),r=r.substring(e)),e=this.diff_commonSuffix(a,r),0!==e&&(t[n][1]=a.substring(a.length-e)+t[n][1],a=a.substring(0,a.length-e),r=r.substring(0,r.length-e))),0===i?t.splice(n-h,i+h,[DIFF_INSERT,a]):0===h?t.splice(n-i,i+h,[DIFF_DELETE,r]):t.splice(n-i-h,i+h,[DIFF_DELETE,r],[DIFF_INSERT,a]),n=n-i-h+(i?1:0)+(h?1:0)+1):0!==n&&t[n-1][0]==DIFF_EQUAL?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,h=0,i=0,r="",a=""}""===t[t.length-1][1]&&t.pop();var f=!1;for(n=1;n<t.length-1;)t[n-1][0]==DIFF_EQUAL&&t[n+1][0]==DIFF_EQUAL&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),f=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),f=!0)),n++;f&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_xIndex=function(t,e){var n,i=0,h=0,r=0,a=0;for(n=0;n<t.length&&(t[n][0]!==DIFF_INSERT&&(i+=t[n][1].length),t[n][0]!==DIFF_DELETE&&(h+=t[n][1].length),!(i>e));n++)r=i,a=h;return t.length!=n&&t[n][0]===DIFF_DELETE?a:a+(e-r)},diff_match_patch.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,i=/</g,h=/>/g,r=/\n/g,a=0;a<t.length;a++){var f=t[a][0],s=t[a][1],l=s.replace(n,"&amp;").replace(i,"&lt;").replace(h,"&gt;").replace(r,"&para;<br>");switch(f){case DIFF_INSERT:e[a]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case DIFF_DELETE:e[a]='<del style="background:#ffe6e6;">'+l+"</del>";break;case DIFF_EQUAL:e[a]="<span>"+l+"</span>"}}return e.join("")},diff_match_patch.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)t[n][0]!==DIFF_INSERT&&(e[n]=t[n][1]);return e.join("")},diff_match_patch.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)t[n][0]!==DIFF_DELETE&&(e[n]=t[n][1]);return e.join("")},diff_match_patch.prototype.diff_levenshtein=function(t){for(var e=0,n=0,i=0,h=0;h<t.length;h++){var r=t[h][0],a=t[h][1];switch(r){case DIFF_INSERT:n+=a.length;break;case DIFF_DELETE:i+=a.length;break;case DIFF_EQUAL:e+=Math.max(n,i),n=0,i=0}}return e+=Math.max(n,i)},diff_match_patch.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case DIFF_INSERT:e[n]="+"+encodeURI(t[n][1]);break;case DIFF_DELETE:e[n]="-"+t[n][1].length;break;case DIFF_EQUAL:e[n]="="+t[n][1].length}return e.join("	").replace(/%20/g," ")},diff_match_patch.prototype.diff_fromDelta=function(t,e){for(var n=[],i=0,h=0,r=e.split(/\t/g),a=0;a<r.length;a++){var f=r[a].substring(1);switch(r[a].charAt(0)){case"+":try{n[i++]=[DIFF_INSERT,decodeURI(f)]}catch(s){throw new Error("Illegal escape in diff_fromDelta: "+f)}break;case"-":case"=":var l=parseInt(f,10);if(isNaN(l)||0>l)throw new Error("Invalid number in diff_fromDelta: "+f);var _=t.substring(h,h+=l);"="==r[a].charAt(0)?n[i++]=[DIFF_EQUAL,_]:n[i++]=[DIFF_DELETE,_];break;default:if(r[a])throw new Error("Invalid diff operation in diff_fromDelta: "+r[a])}}if(h!=t.length)throw new Error("Delta length ("+h+") does not equal source text length ("+t.length+").");return n},diff_match_patch.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},diff_match_patch.prototype.match_bitap_=function(t,e,n){function i(t,i){var h=t/e.length,a=Math.abs(n-i);return r.Match_Distance?h+a/r.Match_Distance:a?1:h}if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var h=this.match_alphabet_(e),r=this,a=this.Match_Threshold,f=t.indexOf(e,n);-1!=f&&(a=Math.min(i(0,f),a),f=t.lastIndexOf(e,n+e.length),-1!=f&&(a=Math.min(i(0,f),a)));var s=1<<e.length-1;f=-1;for(var l,_,c,g=e.length+t.length,o=0;o<e.length;o++){for(l=0,_=g;_>l;)i(o,n+_)<=a?l=_:g=_,_=Math.floor((g-l)/2+l);g=_;var p=Math.max(1,n-_+1),u=Math.min(n+_,t.length)+e.length,d=Array(u+2);d[u+1]=(1<<o)-1;for(var F=u;F>=p;F--){var E=h[t.charAt(F-1)];if(0===o?d[F]=(d[F+1]<<1|1)&E:d[F]=(d[F+1]<<1|1)&E|((c[F+1]|c[F])<<1|1)|c[F+1],d[F]&s){var m=i(o,F-1);if(a>=m){if(a=m,f=F-1,!(f>n))break;p=Math.max(1,2*n-f)}}}if(i(o+1,n)>a)break;c=d}return f},diff_match_patch.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(var n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},diff_match_patch.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),i=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=e.substring(t.start2-i,t.start2+t.length1+i);i+=this.Patch_Margin;var h=e.substring(t.start2-i,t.start2);h&&t.diffs.unshift([DIFF_EQUAL,h]);var r=e.substring(t.start2+t.length1,t.start2+t.length1+i);r&&t.diffs.push([DIFF_EQUAL,r]),t.start1-=h.length,t.start2-=h.length,t.length1+=h.length+r.length,t.length2+=h.length+r.length}},diff_match_patch.prototype.patch_make=function(t,e,n){var i,h;if("string"==typeof t&&"string"==typeof e&&"undefined"==typeof n)i=t,h=this.diff_main(i,e,!0),h.length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h));else if(t&&"object"==typeof t&&"undefined"==typeof e&&"undefined"==typeof n)h=t,i=this.diff_text1(h);else if("string"==typeof t&&e&&"object"==typeof e&&"undefined"==typeof n)i=t,h=e;else{if("string"!=typeof t||"string"!=typeof e||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");i=t,h=n}if(0===h.length)return[];for(var r=[],a=new diff_match_patch.patch_obj,f=0,s=0,l=0,_=i,c=i,g=0;g<h.length;g++){var o=h[g][0],p=h[g][1];switch(f||o===DIFF_EQUAL||(a.start1=s,a.start2=l),o){case DIFF_INSERT:a.diffs[f++]=h[g],a.length2+=p.length,c=c.substring(0,l)+p+c.substring(l);break;case DIFF_DELETE:a.length1+=p.length,a.diffs[f++]=h[g],c=c.substring(0,l)+c.substring(l+p.length);break;case DIFF_EQUAL:p.length<=2*this.Patch_Margin&&f&&h.length!=g+1?(a.diffs[f++]=h[g],a.length1+=p.length,a.length2+=p.length):p.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(a,_),r.push(a),a=new diff_match_patch.patch_obj,f=0,_=c,s=l)}o!==DIFF_INSERT&&(s+=p.length),o!==DIFF_DELETE&&(l+=p.length)}return f&&(this.patch_addContext_(a,_),r.push(a)),r},diff_match_patch.prototype.patch_deepCopy=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],h=new diff_match_patch.patch_obj;h.diffs=[];for(var r=0;r<i.diffs.length;r++)h.diffs[r]=i.diffs[r].slice();h.start1=i.start1,h.start2=i.start2,h.length1=i.length1,h.length2=i.length2,e[n]=h}return e},diff_match_patch.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var i=0,h=[],r=0;r<t.length;r++){var a,f=t[r].start2+i,s=this.diff_text1(t[r].diffs),l=-1;if(s.length>this.Match_MaxBits?(a=this.match_main(e,s.substring(0,this.Match_MaxBits),f),-1!=a&&(l=this.match_main(e,s.substring(s.length-this.Match_MaxBits),f+s.length-this.Match_MaxBits),(-1==l||a>=l)&&(a=-1))):a=this.match_main(e,s,f),-1==a)h[r]=!1,i-=t[r].length2-t[r].length1;else{h[r]=!0,i=a-f;var _;if(_=-1==l?e.substring(a,a+s.length):e.substring(a,l+this.Match_MaxBits),s==_)e=e.substring(0,a)+this.diff_text2(t[r].diffs)+e.substring(a+s.length);else{var c=this.diff_main(s,_,!1);if(s.length>this.Match_MaxBits&&this.diff_levenshtein(c)/s.length>this.Patch_DeleteThreshold)h[r]=!1;else{this.diff_cleanupSemanticLossless(c);for(var g,o=0,p=0;p<t[r].diffs.length;p++){var u=t[r].diffs[p];u[0]!==DIFF_EQUAL&&(g=this.diff_xIndex(c,o)),u[0]===DIFF_INSERT?e=e.substring(0,a+g)+u[1]+e.substring(a+g):u[0]===DIFF_DELETE&&(e=e.substring(0,a+g)+e.substring(a+this.diff_xIndex(c,o+u[1].length))),u[0]!==DIFF_DELETE&&(o+=u[1].length)}}}}}return e=e.substring(n.length,e.length-n.length),[e,h]},diff_match_patch.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",i=1;e>=i;i++)n+=String.fromCharCode(i);for(var i=0;i<t.length;i++)t[i].start1+=e,t[i].start2+=e;var h=t[0],r=h.diffs;if(0==r.length||r[0][0]!=DIFF_EQUAL)r.unshift([DIFF_EQUAL,n]),h.start1-=e,h.start2-=e,h.length1+=e,h.length2+=e;else if(e>r[0][1].length){var a=e-r[0][1].length;r[0][1]=n.substring(r[0][1].length)+r[0][1],h.start1-=a,h.start2-=a,h.length1+=a,h.length2+=a}if(h=t[t.length-1],r=h.diffs,0==r.length||r[r.length-1][0]!=DIFF_EQUAL)r.push([DIFF_EQUAL,n]),h.length1+=e,h.length2+=e;else if(e>r[r.length-1][1].length){var a=e-r[r.length-1][1].length;r[r.length-1][1]+=n.substring(0,a),h.length1+=a,h.length2+=a}return n},diff_match_patch.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,n=0;n<t.length;n++)if(!(t[n].length1<=e)){var i=t[n];t.splice(n--,1);for(var h=i.start1,r=i.start2,a="";0!==i.diffs.length;){var f=new diff_match_patch.patch_obj,s=!0;for(f.start1=h-a.length,f.start2=r-a.length,""!==a&&(f.length1=f.length2=a.length,f.diffs.push([DIFF_EQUAL,a]));0!==i.diffs.length&&f.length1<e-this.Patch_Margin;){var l=i.diffs[0][0],_=i.diffs[0][1];l===DIFF_INSERT?(f.length2+=_.length,r+=_.length,f.diffs.push(i.diffs.shift()),s=!1):l===DIFF_DELETE&&1==f.diffs.length&&f.diffs[0][0]==DIFF_EQUAL&&_.length>2*e?(f.length1+=_.length,h+=_.length,s=!1,f.diffs.push([l,_]),i.diffs.shift()):(_=_.substring(0,e-f.length1-this.Patch_Margin),f.length1+=_.length,h+=_.length,l===DIFF_EQUAL?(f.length2+=_.length,r+=_.length):s=!1,f.diffs.push([l,_]),_==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(_.length))}a=this.diff_text2(f.diffs),a=a.substring(a.length-this.Patch_Margin);var c=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==c&&(f.length1+=c.length,f.length2+=c.length,0!==f.diffs.length&&f.diffs[f.diffs.length-1][0]===DIFF_EQUAL?f.diffs[f.diffs.length-1][1]+=c:f.diffs.push([DIFF_EQUAL,c])),s||t.splice(++n,0,f)}}},diff_match_patch.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},diff_match_patch.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var n=t.split("\n"),i=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var r=n[i].match(h);if(!r)throw new Error("Invalid patch string: "+n[i]);var a=new diff_match_patch.patch_obj;for(e.push(a),a.start1=parseInt(r[1],10),""===r[2]?(a.start1--,a.length1=1):"0"==r[2]?a.length1=0:(a.start1--,a.length1=parseInt(r[2],10)),a.start2=parseInt(r[3],10),""===r[4]?(a.start2--,a.length2=1):"0"==r[4]?a.length2=0:(a.start2--,a.length2=parseInt(r[4],10)),i++;i<n.length;){var f=n[i].charAt(0);try{var s=decodeURI(n[i].substring(1))}catch(l){throw new Error("Illegal escape in patch_fromText: "+s)}if("-"==f)a.diffs.push([DIFF_DELETE,s]);else if("+"==f)a.diffs.push([DIFF_INSERT,s]);else if(" "==f)a.diffs.push([DIFF_EQUAL,s]);else{if("@"==f)break;if(""!==f)throw new Error('Invalid patch mode "'+f+'" in: '+s)}i++}}return e},diff_match_patch.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},diff_match_patch.patch_obj.prototype.toString=function(){var t,e;t=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,e=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var n,i=["@@ -"+t+" +"+e+" @@\n"],h=0;h<this.diffs.length;h++){switch(this.diffs[h][0]){case DIFF_INSERT:n="+";break;case DIFF_DELETE:n="-";break;case DIFF_EQUAL:n=" "}i[h+1]=n+encodeURI(this.diffs[h][1])+"\n"}return i.join("").replace(/%20/g," ")},module.exports.diff_match_patch=diff_match_patch,module.exports.DIFF_DELETE=DIFF_DELETE,module.exports.DIFF_INSERT=DIFF_INSERT,module.exports.DIFF_EQUAL=DIFF_EQUAL;

},{}],258:[function(require,module,exports){
function init(f){return new jsondiff(f)}var jsondiff=require("./jsondiff"),diff_match_patch=require("./diff_match_patch");module.exports=init,module.exports.jsondiff=jsondiff,module.exports.diff_match_patch=diff_match_patch;

},{"./diff_match_patch":257,"./jsondiff":259}],259:[function(require,module,exports){
var diff_match_patch=require("./diff_match_patch");(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=Object.prototype.hasOwnProperty;t=function(){function t(t){this.options=t||{list_diff:!0},this.patch_apply_with_offsets=e(this.patch_apply_with_offsets,this),this.transform_object_diff=e(this.transform_object_diff,this),this.transform_list_diff=e(this.transform_list_diff,this),this.apply_object_diff_with_offsets=e(this.apply_object_diff_with_offsets,this),this.apply_object_diff=e(this.apply_object_diff,this),this.apply_list_diff=e(this.apply_list_diff,this),this.diff=e(this.diff,this),this.object_diff=e(this.object_diff,this),this.list_diff=e(this.list_diff,this),this._common_suffix=e(this._common_suffix,this),this._common_prefix=e(this._common_prefix,this),this.object_equals=e(this.object_equals,this),this.list_equals=e(this.list_equals,this),this.equals=e(this.equals,this),this.deepCopy=e(this.deepCopy,this),this.typeOf=e(this.typeOf,this),this.entries=e(this.entries,this)}return t.dmp=new diff_match_patch,t.prototype.entries=function(t){var e,f,r;f=0;for(e in t)i.call(t,e)&&(r=t[e],f++);return f},t.prototype.typeOf=function(t){var e;return e=typeof t,"object"===e&&(t?"number"!=typeof t.length||"function"!=typeof t.splice||t.propertyIsEnumerable("length")||(e="array"):e="null"),e},t.prototype.deepCopy=function(t){var e,i,f;if("[object Array]"===Object.prototype.toString.call(t)){for(i=[],e=0,f=t.length;f>=0?f>e:e>f;f>=0?e++:e--)i[e]=arguments.callee(t[e]);return i}if("object"==typeof t){i={};for(e in t)i[e]=arguments.callee(t[e]);return i}return t},t.prototype.equals=function(t,e){var i,f;return i=this.typeOf(t),f=this.typeOf(e),"boolean"===i&&"number"===f?Number(t)===e:"number"===i&&"boolean"===i?Number(e)===t:i!==f?!1:"array"===i?this.list_equals(t,e):"object"===i?this.object_equals(t,e):t===e},t.prototype.list_equals=function(t,e){var i,f;if(i=t.length,i!==e.length)return!1;for(f=0;i>=0?i>f:f>i;i>=0?f++:f--)if(!this.equals(t[f],e[f]))return!1;return!0},t.prototype.object_equals=function(t,e){var f;for(f in t)if(i.call(t,f)){if(!(f in e))return!1;if(!this.equals(t[f],e[f]))return!1}for(f in e)if(i.call(e,f)&&!(f in t))return!1;return!0},t.prototype._common_prefix=function(t,e){var i,f;for(f=Math.min(t.length,e.length),i=0;f>=0?f>i:i>f;f>=0?i++:i--)if(!this.equals(t[i],e[i]))return i;return f},t.prototype._common_suffix=function(t,e){var i,f,r,s;if(f=t.length,r=e.length,s=Math.min(t.length,e.length),0===s)return 0;for(i=0;s>=0?s>i:i>s;s>=0?i++:i--)if(!this.equals(t[f-i-1],e[r-i-1]))return i;return s},t.prototype.list_diff=function(t,e){var i,f,r,s,n,a,o;for(i={},r=t.length,s=e.length,a=this._common_prefix(t,e),o=this._common_suffix(t,e),t=t.slice(a,r-o),e=e.slice(a,s-o),r=t.length,s=e.length,n=Math.max(r,s),f=0;n>=0?n>=f:f>=n;n>=0?f++:f--)r>f&&s>f?this.equals(t[f],e[f])||(i[f+a]=this.diff(t[f],e[f])):r>f?i[f+a]={o:"-"}:s>f&&(i[f+a]={o:"+",v:e[f]});return i},t.prototype.object_diff=function(t,e){var f,r;if(f={},null==t||null==e)return{};for(r in t)i.call(t,r)&&(r in e?this.equals(t[r],e[r])||(f[r]=this.diff(t[r],e[r])):f[r]={o:"-"});for(r in e)i.call(e,r)&&(r in t||(f[r]={o:"+",v:e[r]}));return f},t.prototype.diff=function(e,i){var f,r;if(this.equals(e,i))return{};if(r=this.typeOf(e),r!==this.typeOf(i))return{o:"r",v:i};switch(r){case"boolean":return{o:"r",v:i};case"number":return{o:"r",v:i};case"array":return this.options.list_diff?{o:"L",v:this.list_diff(e,i)}:{o:"r",v:i};case"object":return{o:"O",v:this.object_diff(e,i)};case"string":if(f=t.dmp.diff_main(e,i),f.length>2&&t.dmp.diff_cleanupEfficiency(f),f.length>0)return{o:"d",v:t.dmp.diff_toDelta(f)}}return{}},t.prototype.apply_list_diff=function(e,f){var r,s,n,a,o,p,h,l,c,_,d,u,m,v,y,b;c=this.deepCopy(e),p=[],r=[];for(h in f)i.call(f,h)&&(p.push(h),p.sort());for(m=0,v=p.length;v>m;m++)switch(o=p[m],l=f[o],d=function(){var t,e,i;for(i=[],t=0,e=r.length;e>t;t++)u=r[t],o>=u&&i.push(u);return i}().length,_=o-d,l.o){case"+":[].splice.apply(c,[_,_-_+1].concat(y=l.v)),y;break;case"-":[].splice.apply(c,[_,_-_+1].concat(b=[])),b,r[r.length]=_;break;case"r":c[_]=l.v;break;case"I":c[_]+=l.v;break;case"L":c[_]=this.apply_list_diff(c[_],l.v);break;case"O":c[_]=this.apply_object_diff(c[_],l.v);break;case"d":s=t.dmp.diff_fromDelta(c[_],l.v),n=t.dmp.patch_make(c[_],s),a=t.dmp.patch_apply(n,c[_]),c[_]=a[0]}return c},t.prototype.apply_object_diff=function(e,f){var r,s,n,a,o,p;p=this.deepCopy(e);for(a in f)if(i.call(f,a))switch(o=f[a],o.o){case"+":p[a]=o.v;break;case"-":delete p[a];break;case"r":p[a]=o.v;break;case"I":p[a]+=o.v;break;case"L":p[a]=this.apply_list_diff(p[a],o.v);break;case"O":p[a]=this.apply_object_diff(p[a],o.v);break;case"d":r=t.dmp.diff_fromDelta(p[a],o.v),s=t.dmp.patch_make(p[a],r),n=t.dmp.patch_apply(s,p[a]),p[a]=n[0]}return p},t.prototype.apply_object_diff_with_offsets=function(e,f,r,s){var n,a,o,p,h,l;l=this.deepCopy(e);for(p in f)if(i.call(f,p))switch(h=f[p],h.o){case"+":l[p]=h.v;break;case"-":delete l[p];break;case"r":l[p]=h.v;break;case"I":l[p]+=h.v;break;case"L":l[p]=this.apply_list_diff(l[p],h.v);break;case"O":l[p]=this.apply_object_diff(l[p],h.v);break;case"d":n=t.dmp.diff_fromDelta(l[p],h.v),a=t.dmp.patch_make(l[p],n),p===r?l[p]=this.patch_apply_with_offsets(a,l[p],s):(o=t.dmp.patch_apply(a,l[p]),l[p]=o[0])}return l},t.prototype.transform_list_diff=function(t,e,f){var r,s,n,a,o,p,h,l,c,_;r={},n=[],s=[];for(o in e)i.call(e,o)&&(p=e[o],"+"===p.o&&n.push(o),"-"===p.o&&s.push(o));for(o in t)if(i.call(t,o)&&(p=t[o],l=[function(){var t,e,i;for(i=[],t=0,e=n.length;e>t;t++)_=n[t],o>=_&&i.push(_);return i}()].length,h=[function(){var t,e,i;for(i=[],t=0,e=s.length;e>t;t++)_=s[t],o>=_&&i.push(_);return i}()].length,o=o+l-h,c=String(o),r[c]=p,o in e)){if("+"===p.o&&"+"===e.index.o)continue;"-"===p.o&&"-"===e.index.o?delete r[c]:(a=this.transform_object_diff({sindex:p},{sindex:e.index},f),r[c]=a[c])}return r},t.prototype.transform_object_diff=function(e,f,r){var s,n,a,o,p,h,l,c,_,d,u,m,v;a=this.deepCopy(e);for(u in e)if(i.call(e,u)&&(o=e[u],u in f))return m=r[u],l=f[u],"+"===o.o&&"+"===l.o?this.equals(o.v,l.v)?delete a[u]:a[u]=this.diff(l.v,o.v):"-"===o.o&&"-"===l.o?delete a[u]:"-"!==l.o||"O"!==(v=o.o)&&"L"!==v&&"I"!==v&&"d"!==v?"O"===o.o&&"O"===l.o?a[u]={o:"O",v:this.transform_object_diff(o.v,l.v,m)}:"L"===o.o&&"L"===l.o?a[u]={o:"O",v:this.transform_list_diff(o.v,l.v,m)}:"d"===o.o&&"d"===l.o&&(delete a[u],s=t.dmp.patch_make(m,t.dmp.diff_fromDelta(m,o.v)),p=t.dmp.patch_make(m,t.dmp.diff_fromDelta(m,l.v)),h=t.dmp.patch_apply(p,m)[0],n=t.dmp.patch_apply(s,h)[0],n!==h&&(c=t.dmp.diff_main(h,n),c.length>2&&t.dmp.diff_cleanupEfficiency(c),c.length>0&&(a[u]={o:"d",v:t.dmp.diff_toDelta(c)}))):(a[u]={o:"+"},"O"===o.o?a[u].v=this.apply_object_diff(m,o.v):"L"===o.o?a[u].v=this.apply_list_diff(m,o.v):"I"===o.o?a[u].v=m+o.v:"d"===o.o&&(c=t.dmp.diff_fromDelta(m,o.v),_=t.dmp.patch_make(m,c),d=t.dmp.patch_apply(_,m),a[u].v=d[0])),a},t.prototype.patch_apply_with_offsets=function(t,e,i){},t.prototype.patch_apply_with_offsets=function(e,i,f){if(0==e.length)return i;e=t.dmp.patch_deepCopy(e);var r=t.dmp.patch_addPadding(e);i=r+i+r,t.dmp.patch_splitMax(e);for(var s=0,n=0;n<e.length;n++){var a,o=e[n].start2+s,p=t.dmp.diff_text1(e[n].diffs),h=-1;if(p.length>t.dmp.Match_MaxBits?(a=t.dmp.match_main(i,p.substring(0,t.dmp.Match_MaxBits),o),-1!=a&&(h=t.dmp.match_main(i,p.substring(p.length-t.dmp.Match_MaxBits),o+p.length-t.dmp.Match_MaxBits),(-1==h||a>=h)&&(a=-1))):a=t.dmp.match_main(i,p,o),-1==a)s-=e[n].length2-e[n].length1;else{s=a-o;var l;l=-1==h?i.substring(a,a+p.length):i.substring(a,h+t.dmp.Match_MaxBits);var c=t.dmp.diff_main(p,l,!1);if(p.length>t.dmp.Match_MaxBits&&t.dmp.diff_levenshtein(c)/p.length>t.dmp.Patch_DeleteThreshold);else for(var _,d=0,u=0;u<e[n].diffs.length;u++){var m=e[n].diffs[u];if(m[0]!==DIFF_EQUAL&&(_=t.dmp.diff_xIndex(c,d)),m[0]===DIFF_INSERT){i=i.substring(0,a+_)+m[1]+i.substring(a+_);for(var v=0;v<f.length;v++)f[v]+r.length>a+_&&(f[v]+=m[1].length)}else if(m[0]===DIFF_DELETE){var y=a+_,b=a+t.dmp.diff_xIndex(c,d+m[1].length);i=i.substring(0,y)+i.substring(b);for(var v=0;v<f.length;v++)f[v]+r.length>y&&(f[v]+r.length<b?f[v]=y-r.length:f[v]-=b-y)}m[0]!==DIFF_DELETE&&(d+=m[1].length)}}}return i=i.substring(r.length,i.length-r.length)},t}(),module.exports=t}).call();

},{"./diff_match_patch":257}],260:[function(require,module,exports){
function BucketStore(){this.objects={}}module.exports=function(t,e){return new BucketStore},BucketStore.prototype.get=function(t,e){e(null,this.objects[t])},BucketStore.prototype.update=function(t,e,o){this.objects[t]=e,o(null,e)},BucketStore.prototype.remove=function(t,e){delete this.objects[t],e(null)},BucketStore.prototype.find=function(t,e){var o=[];for(key in this.objects)o.push({id:key,data:this.objects[key]});e(null,o)};

},{}],261:[function(require,module,exports){
function User(e){this.options=e,this.access_token=e.access_token}module.exports=User,User.fromJSON=function(e){var s=JSON.parse(e);return new User(s)};

},{}],262:[function(require,module,exports){
function modify(n,e,i){return{o:changeTypes.MODIFY,id:n,ccid:uuid.v4(),v:i}}function buildChange(n,e,i,r){return buildChangeFromOrigin(n,e,r.version,i,r.data)}function buildChangeFromOrigin(n,e,i,r,u){var f={o:n,id:e,ccid:uuid.v4()};return n==changeTypes.REMOVE?f:(i>0&&(f.sv=i),f.v=jsondiff.object_diff(u,r),f)}function compressChanges(n,e){if(0===n.length)return{};if(1===n.length)return n[0].v;var i=n.reduce(function(n,e){return null===n?null:n.o==changeTypes.REMOVE?null:jsondiff.apply_object_diff(n,e.v)},e);return null===i?null:jsondiff.object_diff(e,i)}function rebase(n,e,i){return jsondiff.transform_object_diff(n,e,i)}var uuid=require("node-uuid"),jsondiff=require("../jsondiff")({list_diff:!1}),changeTypes={MODIFY:"M",REMOVE:"-",ADD:"+"};module.exports={type:changeTypes,buildChange:buildChange,compressChanges:compressChanges,transform:rebase,modify:modify};

},{"../jsondiff":258,"node-uuid":267}],263:[function(require,module,exports){
function when(n,t){var r=[].slice.call(arguments,2);return function(){return n()?t.apply(this,r.concat([].slice.call(arguments))):void 0}}function debounce(n,t){var r=[].slice.call(arguments,2),e=0,c=function(){return e++,e%n==0};return when.apply(this,[c,t].concat(r))}function counts(n,t){var r=[].slice.call(arguments,2);return count=0,counter=function(){return count==n?!0:(count++,!1)},when.apply(this,[counter,t].concat(r))}function arglock(){var n=[].slice,t=n.apply(arguments);if(0==t.length||"function"!=typeof t[0])throw new Error("first argument must be a function");var r=t.shift();return function(){return r.apply(this,t.concat(n.apply(arguments)))}}function times(n,t){var r=[].slice.call(arguments,2),e=function(){for(var e=[],c=0;n>c;c++)e.push(t.apply(this,r));return e};return e}module.exports={arglock:arglock,when:when,counts:counts,debounce:debounce,times:times};

},{}],264:[function(require,module,exports){
module.exports={change:require("./change"),fn:require("./fn"),parseMessage:require("./parse_message"),parseVersionMessage:require("./parse_version_message")};

},{"./change":262,"./fn":263,"./parse_message":265,"./parse_version_message":266}],265:[function(require,module,exports){
module.exports=function(e){var n=e.indexOf(":");return{command:e.slice(0,n),data:e.slice(n+1)}};

},{}],266:[function(require,module,exports){
module.exports=function(e){var i=e.indexOf("\n"),n=e.indexOf("."),a=e.slice(0,n),r=parseInt(e.slice(n+1,i)),s=JSON.parse(e.slice(i+1));return{data:s.data,id:a,version:r}};

},{}],267:[function(require,module,exports){
(function(){function r(r,e,n){var t=e&&n||0,u=0;for(e=e||[],r.toLowerCase().replace(/[0-9a-f]{2}/g,function(r){16>u&&(e[t+u++]=v[r])});16>u;)e[t+u++]=0;return e}function e(r,e){var n=e||0,t=l;return t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]}function n(r,n,t){var u=n&&t||0,o=n||[];r=r||{};var a=null!=r.clockseq?r.clockseq:m,f=null!=r.msecs?r.msecs:(new Date).getTime(),i=null!=r.nsecs?r.nsecs:w+1,c=f-g+(i-w)/1e4;if(0>c&&null==r.clockseq&&(a=a+1&16383),(0>c||f>g)&&null==r.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=f,w=i,m=a,f+=122192928e5;var s=(1e4*(268435455&f)+i)%4294967296;o[u++]=s>>>24&255,o[u++]=s>>>16&255,o[u++]=s>>>8&255,o[u++]=255&s;var l=f/4294967296*1e4&268435455;o[u++]=l>>>8&255,o[u++]=255&l,o[u++]=l>>>24&15|16,o[u++]=l>>>16&255,o[u++]=a>>>8|128,o[u++]=255&a;for(var v=r.node||p,d=0;6>d;d++)o[u+d]=v[d];return n?n:e(o)}function t(r,n,t){var o=n&&t||0;"string"==typeof r&&(n="binary"==r?new s(16):null,r=null),r=r||{};var a=r.random||(r.rng||u)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n)for(var f=0;16>f;f++)n[o+f]=a[f];return n||e(a)}var u,o=this;if("function"==typeof o.require)try{var a=o.require("crypto").randomBytes;u=a&&function(){return a(16)}}catch(f){}if(!u&&o.crypto&&crypto.getRandomValues){var i=new Uint8Array(16);u=function(){return crypto.getRandomValues(i),i}}if(!u){var c=new Array(16);u=function(){for(var r,e=0;16>e;e++)0===(3&e)&&(r=4294967296*Math.random()),c[e]=r>>>((3&e)<<3)&255;return c}}for(var s="function"==typeof o.Buffer?o.Buffer:Array,l=[],v={},d=0;256>d;d++)l[d]=(d+256).toString(16).substr(1),v[l[d]]=d;var y=u(),p=[1|y[0],y[1],y[2],y[3],y[4],y[5]],m=16383&(y[6]<<8|y[7]),g=0,w=0,h=t;if(h.v1=n,h.v4=t,h.parse=r,h.unparse=e,h.BufferClass=s,"undefined"!=typeof module&&module.exports)module.exports=h;else if("function"==typeof define&&define.amd)define(function(){return h});else{var q=o.uuid;h.noConflict=function(){return o.uuid=q,h},o.uuid=h}}).call(this);

},{}],268:[function(require,module,exports){
function W3CWebSocket(e,o){var t;return t=o?new nativeWebSocket(e,o):new nativeWebSocket(e)}var _global=function(){return this}(),nativeWebSocket=_global.WebSocket||_global.MozWebSocket,websocket_version=require("./version");module.exports={w3cwebsocket:nativeWebSocket?W3CWebSocket:null,version:websocket_version};

},{"./version":269}],269:[function(require,module,exports){
module.exports=require("../package.json").version;

},{"../package.json":270}],270:[function(require,module,exports){
module.exports={
  "name": "websocket",
  "description": "Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",
  "keywords": [
    "websocket",
    "websockets",
    "socket",
    "networking",
    "comet",
    "push",
    "RFC-6455",
    "realtime",
    "server",
    "client"
  ],
  "author": {
    "name": "Brian McKelvey",
    "email": "brian@worlize.com",
    "url": "https://www.worlize.com/"
  },
  "contributors": [
    {
      "name": "Iñaki Baz Castillo",
      "email": "ibc@aliax.net",
      "url": "http://dev.sipdoc.net"
    }
  ],
  "version": "1.0.22",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/theturtle32/WebSocket-Node.git"
  },
  "homepage": "https://github.com/theturtle32/WebSocket-Node",
  "engines": {
    "node": ">=0.8.0"
  },
  "dependencies": {
    "debug": "~2.2.0",
    "nan": "~2.0.5",
    "typedarray-to-buffer": "~3.0.3",
    "yaeti": "~0.0.4"
  },
  "devDependencies": {
    "buffer-equal": "^0.0.1",
    "faucet": "^0.0.1",
    "gulp": "git+https://github.com/gulpjs/gulp.git#4.0",
    "gulp-jshint": "^1.11.2",
    "jshint-stylish": "^1.0.2",
    "tape": "^4.0.1"
  },
  "config": {
    "verbose": false
  },
  "scripts": {
    "install": "(node-gyp rebuild 2> builderror.log) || (exit 0)",
    "test": "faucet test/unit",
    "gulp": "gulp"
  },
  "main": "index",
  "directories": {
    "lib": "./lib"
  },
  "browser": "lib/browser.js",
  "license": "Apache-2.0",
  "gitHead": "19108bbfd7d94a5cd02dbff3495eafee9e901ca4",
  "bugs": {
    "url": "https://github.com/theturtle32/WebSocket-Node/issues"
  },
  "_id": "websocket@1.0.22",
  "_shasum": "8c33e3449f879aaf518297c9744cebf812b9e3d8",
  "_from": "websocket@*",
  "_npmVersion": "2.14.3",
  "_nodeVersion": "3.3.1",
  "_npmUser": {
    "name": "theturtle32",
    "email": "brian@worlize.com"
  },
  "maintainers": [
    {
      "name": "theturtle32",
      "email": "brian@worlize.com"
    }
  ],
  "dist": {
    "shasum": "8c33e3449f879aaf518297c9744cebf812b9e3d8",
    "tarball": "http://registry.npmjs.org/websocket/-/websocket-1.0.22.tgz"
  },
  "_resolved": "https://registry.npmjs.org/websocket/-/websocket-1.0.22.tgz",
  "readme": "ERROR: No README data found!"
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL2xpYi9hcHAuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL2xpYi9hcHAuanN4IiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9saWIvYXV0aC5qc3giLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL2xpYi9pY29ucy9iYWNrLmpzeCIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbGliL2ljb25zL2luZm8uanN4IiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9saWIvaWNvbnMvcGx1cy5qc3giLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL2xpYi9pY29ucy9yZXZpc2lvbnMuanN4IiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9saWIvaWNvbnMvdHJhc2guanN4IiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9saWIvbmF2aWdhdGlvbl9iYXIuanN4IiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9saWIvbm90ZV9kZXRhaWwuanN4IiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9saWIvbm90ZV9lZGl0b3IuanN4IiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9saWIvbm90ZV9saXN0LmpzeCIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbGliL25vdGVfbGlzdF9pdGVtLmpzeCIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbGliL25vdGVfdG9vbGJhci5qc3giLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL2xpYi9yZXZpc2lvbl9zZWxlY3Rvci5qc3giLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL2xpYi9zZWFyY2hfZmllbGQuanN4IiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9saWIvc2ltcGVyaXVtL2J1Y2tldF9zdG9yZS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbGliL3NpbXBlcml1bS9naG9zdF9zdG9yZS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbGliL3NpbXBlcml1bS9pbmRleC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbGliL3RhZ19jaGlwLmpzeCIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbGliL3RhZ19maWVsZC5qc3giLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL2xpYi90YWdfbWVudS5qc3giLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1yZXNvbHZlL2VtcHR5LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnVmZmVyL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvbGliL2I2NC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2J1ZmZlci9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2J1ZmZlci9ub2RlX21vZHVsZXMvaXMtYXJyYXkvaW5kZXguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvaHR0cHMtYnJvd3NlcmlmeS9pbmRleC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbnNlcnQtbW9kdWxlLWdsb2JhbHMvbm9kZV9tb2R1bGVzL2lzLWJ1ZmZlci9pbmRleC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZW5jb2RlLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2R1cGxleC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9kdXBsZXguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fcmVhZGFibGUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL25vZGVfbW9kdWxlcy9jb3JlLXV0aWwtaXMvbGliL3V0aWwuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbm9kZV9tb2R1bGVzL3Byb2Nlc3MtbmV4dGljay1hcmdzL2luZGV4LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL25vZGVfbW9kdWxlcy91dGlsLWRlcHJlY2F0ZS9icm93c2VyLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL3Bhc3N0aHJvdWdoLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL3JlYWRhYmxlLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL3RyYW5zZm9ybS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS93cml0YWJsZS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3N0cmVhbS1icm93c2VyaWZ5L2luZGV4LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvc3RyZWFtLWh0dHAvaW5kZXguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9zdHJlYW0taHR0cC9saWIvY2FwYWJpbGl0eS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3N0cmVhbS1odHRwL2xpYi9yZXF1ZXN0LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvc3RyZWFtLWh0dHAvbGliL3Jlc3BvbnNlLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvc3RyZWFtLWh0dHAvbm9kZV9tb2R1bGVzL2J1aWx0aW4tc3RhdHVzLWNvZGVzL2Jyb3dzZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9zdHJlYW0taHR0cC9ub2RlX21vZHVsZXMvZm9yZWFjaC9pbmRleC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3N0cmVhbS1odHRwL25vZGVfbW9kdWxlcy9pbmRleG9mL2luZGV4LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvc3RyZWFtLWh0dHAvbm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2luZGV4LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvc3RyZWFtLWh0dHAvbm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2lzQXJndW1lbnRzLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvc3RyaW5nX2RlY29kZXIvaW5kZXguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3V0aWwvdXRpbC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3h0ZW5kL2ltbXV0YWJsZS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9jb29raWUvaW5kZXguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9wcm9taXNlL2luZGV4LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcHJvbWlzZS9saWIvY29yZS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3Byb21pc2UvbGliL2RvbmUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9wcm9taXNlL2xpYi9lczYtZXh0ZW5zaW9ucy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3Byb21pc2UvbGliL2ZpbmFsbHkuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9wcm9taXNlL2xpYi9pbmRleC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3Byb21pc2UvbGliL25vZGUtZXh0ZW5zaW9ucy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3Byb21pc2Uvbm9kZV9tb2R1bGVzL2FzYXAvYnJvd3Nlci1hc2FwLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcHJvbWlzZS9ub2RlX21vZHVsZXMvYXNhcC9icm93c2VyLXJhdy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2FkZG9ucy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9BdXRvRm9jdXNNaXhpbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9CZWZvcmVJbnB1dEV2ZW50UGx1Z2luLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0NTU0NvcmUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvQ1NTUHJvcGVydHkuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvQ1NTUHJvcGVydHlPcGVyYXRpb25zLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0NhbGxiYWNrUXVldWUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvQ2hhbmdlRXZlbnRQbHVnaW4uanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvQ2xpZW50UmVhY3RSb290SW5kZXguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvRE9NQ2hpbGRyZW5PcGVyYXRpb25zLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0RPTVByb3BlcnR5LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0RPTVByb3BlcnR5T3BlcmF0aW9ucy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9EYW5nZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvRGVmYXVsdEV2ZW50UGx1Z2luT3JkZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvRW50ZXJMZWF2ZUV2ZW50UGx1Z2luLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0V2ZW50Q29uc3RhbnRzLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0V2ZW50TGlzdGVuZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvRXZlbnRQbHVnaW5IdWIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvRXZlbnRQbHVnaW5SZWdpc3RyeS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9FdmVudFBsdWdpblV0aWxzLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0V2ZW50UHJvcGFnYXRvcnMuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0hUTUxET01Qcm9wZXJ0eUNvbmZpZy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9MaW5rZWRTdGF0ZU1peGluLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0xpbmtlZFZhbHVlVXRpbHMuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvTG9jYWxFdmVudFRyYXBNaXhpbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9Nb2JpbGVTYWZhcmlDbGlja0V2ZW50UGx1Z2luLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL09iamVjdC5hc3NpZ24uanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUG9vbGVkQ2xhc3MuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3QuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW4uanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RDaGlsZFJlY29uY2lsZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RDaGlsZHJlbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdENsYXNzLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q29tcG9uZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RDb21wb25lbnRXaXRoUHVyZVJlbmRlck1peGluLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q29udGV4dC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdEN1cnJlbnRPd25lci5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERPTS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERPTUJ1dHRvbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERPTUNvbXBvbmVudC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERPTUZvcm0uanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RET01JRE9wZXJhdGlvbnMuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RET01JZnJhbWUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RET01JbWcuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RET01JbnB1dC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERPTU9wdGlvbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERPTVNlbGVjdC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERPTVNlbGVjdGlvbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERPTVRleHRDb21wb25lbnQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RET01UZXh0YXJlYS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RGVmYXVsdEluamVjdGlvbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERlZmF1bHRQZXJmLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RGVmYXVsdFBlcmZBbmFseXNpcy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdEVsZW1lbnQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RFbGVtZW50VmFsaWRhdG9yLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RW1wdHlDb21wb25lbnQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RFcnJvclV0aWxzLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RXZlbnRFbWl0dGVyTWl4aW4uanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RFdmVudExpc3RlbmVyLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RnJhZ21lbnQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RJbmplY3Rpb24uanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RJbnB1dFNlbGVjdGlvbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdEluc3RhbmNlSGFuZGxlcy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdEluc3RhbmNlTWFwLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0TGlmZUN5Y2xlLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0TGluay5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdE1hcmt1cENoZWNrc3VtLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0TW91bnQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RNdWx0aUNoaWxkLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0TmF0aXZlQ29tcG9uZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0T3duZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RQZXJmLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0UHJvcFRyYW5zZmVyZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFByb3BUeXBlcy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFB1dExpc3RlbmVyUXVldWUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFJlY29uY2lsZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RSZWYuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RSb290SW5kZXguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RTZXJ2ZXJSZW5kZXJpbmcuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFN0YXRlU2V0dGVycy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFRlc3RVdGlscy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmcuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RUcmFuc2l0aW9uRXZlbnRzLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0VHJhbnNpdGlvbkdyb3VwLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0VXBkYXRlUXVldWUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RVcGRhdGVzLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0V2l0aEFkZG9ucy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TVkdET01Qcm9wZXJ0eUNvbmZpZy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TZWxlY3RFdmVudFBsdWdpbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TZXJ2ZXJSZWFjdFJvb3RJbmRleC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TaW1wbGVFdmVudFBsdWdpbi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TeW50aGV0aWNDbGlwYm9hcmRFdmVudC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1N5bnRoZXRpY0RyYWdFdmVudC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TeW50aGV0aWNFdmVudC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TeW50aGV0aWNGb2N1c0V2ZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1N5bnRoZXRpY0lucHV0RXZlbnQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvU3ludGhldGljS2V5Ym9hcmRFdmVudC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TeW50aGV0aWNNb3VzZUV2ZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1N5bnRoZXRpY1RvdWNoRXZlbnQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvU3ludGhldGljVUlFdmVudC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TeW50aGV0aWNXaGVlbEV2ZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1RyYW5zYWN0aW9uLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1ZpZXdwb3J0TWV0cmljcy5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9hY2N1bXVsYXRlSW50by5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9hZGxlcjMyLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2NhbWVsaXplLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2NhbWVsaXplU3R5bGVOYW1lLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2Nsb25lV2l0aFByb3BzLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2NvbnRhaW5zTm9kZS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9jcmVhdGVBcnJheUZyb21NaXhlZC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9jcmVhdGVGdWxsUGFnZUNvbXBvbmVudC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9jcmVhdGVOb2Rlc0Zyb21NYXJrdXAuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvY3guanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvZGFuZ2Vyb3VzU3R5bGVWYWx1ZS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9lbXB0eUZ1bmN0aW9uLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2VtcHR5T2JqZWN0LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2VzY2FwZVRleHRDb250ZW50Rm9yQnJvd3Nlci5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9maW5kRE9NTm9kZS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9mbGF0dGVuQ2hpbGRyZW4uanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvZm9jdXNOb2RlLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2ZvckVhY2hBY2N1bXVsYXRlZC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9nZXRBY3RpdmVFbGVtZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2dldEV2ZW50Q2hhckNvZGUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvZ2V0RXZlbnRLZXkuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvZ2V0RXZlbnRNb2RpZmllclN0YXRlLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2dldEV2ZW50VGFyZ2V0LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2dldEl0ZXJhdG9yRm4uanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvZ2V0TWFya3VwV3JhcC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9nZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2dldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lci5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9nZXRUZXh0Q29udGVudEFjY2Vzc29yLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2dldFVuYm91bmRlZFNjcm9sbFBvc2l0aW9uLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2h5cGhlbmF0ZS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9oeXBoZW5hdGVTdHlsZU5hbWUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9pbnZhcmlhbnQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvaXNFdmVudFN1cHBvcnRlZC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9pc05vZGUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvaXNUZXh0SW5wdXRFbGVtZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2lzVGV4dE5vZGUuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvam9pbkNsYXNzZXMuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIva2V5TWlycm9yLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2tleU9mLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL21hcE9iamVjdC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9tZW1vaXplU3RyaW5nT25seS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9vbmx5Q2hpbGQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvcGVyZm9ybWFuY2UuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvcGVyZm9ybWFuY2VOb3cuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvc2V0SW5uZXJIVE1MLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL3NldFRleHRDb250ZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL3NoYWxsb3dFcXVhbC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9zaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi90b0FycmF5LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL3RyYXZlcnNlQWxsQ2hpbGRyZW4uanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvdXBkYXRlLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL3dhcm5pbmcuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3NpbXBlcml1bS9saWIvc2ltcGVyaXVtL2F1dGguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9zaW1wZXJpdW0vbGliL3NpbXBlcml1bS9idWNrZXQuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9zaW1wZXJpdW0vbGliL3NpbXBlcml1bS9jaGFubmVsLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvc2ltcGVyaXVtL2xpYi9zaW1wZXJpdW0vY2xpZW50LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvc2ltcGVyaXVtL2xpYi9zaW1wZXJpdW0vZ2hvc3QvZGVmYXVsdC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3NpbXBlcml1bS9saWIvc2ltcGVyaXVtL2dob3N0L3N0b3JlLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvc2ltcGVyaXVtL2xpYi9zaW1wZXJpdW0vaW5kZXguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9zaW1wZXJpdW0vbGliL3NpbXBlcml1bS9qc29uZGlmZi9kaWZmX21hdGNoX3BhdGNoLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvc2ltcGVyaXVtL2xpYi9zaW1wZXJpdW0vanNvbmRpZmYvaW5kZXguanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9zaW1wZXJpdW0vbGliL3NpbXBlcml1bS9qc29uZGlmZi9qc29uZGlmZi5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3NpbXBlcml1bS9saWIvc2ltcGVyaXVtL3N0b3JhZ2UvZGVmYXVsdC5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3NpbXBlcml1bS9saWIvc2ltcGVyaXVtL3VzZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9zaW1wZXJpdW0vbGliL3NpbXBlcml1bS91dGlsL2NoYW5nZS5qcyIsIi9Vc2Vycy9iZWF1Y29sbGlucy9jb2RlL3NpbXBsZW5vdGUtZWxlY3Ryb24vbm9kZV9tb2R1bGVzL3NpbXBlcml1bS9saWIvc2ltcGVyaXVtL3V0aWwvZm4uanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9zaW1wZXJpdW0vbGliL3NpbXBlcml1bS91dGlsL2luZGV4LmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvc2ltcGVyaXVtL2xpYi9zaW1wZXJpdW0vdXRpbC9wYXJzZV9tZXNzYWdlLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvc2ltcGVyaXVtL2xpYi9zaW1wZXJpdW0vdXRpbC9wYXJzZV92ZXJzaW9uX21lc3NhZ2UuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9zaW1wZXJpdW0vbm9kZV9tb2R1bGVzL25vZGUtdXVpZC91dWlkLmpzIiwiL1VzZXJzL2JlYXVjb2xsaW5zL2NvZGUvc2ltcGxlbm90ZS1lbGVjdHJvbi9ub2RlX21vZHVsZXMvc2ltcGVyaXVtL25vZGVfbW9kdWxlcy93ZWJzb2NrZXQvbGliL2Jyb3dzZXIuanMiLCIvVXNlcnMvYmVhdWNvbGxpbnMvY29kZS9zaW1wbGVub3RlLWVsZWN0cm9uL25vZGVfbW9kdWxlcy9zaW1wZXJpdW0vbm9kZV9tb2R1bGVzL3dlYnNvY2tldC9saWIvdmVyc2lvbi5qcyIsIm5vZGVfbW9kdWxlcy9zaW1wZXJpdW0vbm9kZV9tb2R1bGVzL3dlYnNvY2tldC9wYWNrYWdlLmpzb24iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7WUNBQSxJQUFJLE9BQVEsUUFBUSxTQUNoQixJQUFNLFFBQVEsYUFDZCxVQUFZLFFBQVEsZUFDcEIsS0FBTyxHQUFJLFdBQVUsS0FBSyxPQUFPLE9BQVEsT0FBTyxTQUNoRCxPQUFTLFFBQVEsVUFBVSxNQUFNLFNBQVMsUUFJMUMsTUFBUSxPQUFPLE9BQVMsYUFBYSxhQUNyQyxNQUFRLE9BQU8sTUFHZCxRQUFVLE9BQU8sVUFDcEIsT0FBTyxTQUFXLG9DQUdwQixJQUFJLFFBQVMsVUFBVSxNQUFPLE9BQzVC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UmpCLEFDSEEsQUNIQSxBQ0RBLElIT0ksQUNIQSxBRUpFLEVEQ04sQ0FBQSxFRk1TLEFHUEUsR0hPQyxBR1BFLEVEQ2QsR0RHaUIsQUNIakIsQ0ZNa0IsQ0FBQyxBR1BFLENGSUQsQUVKRyxFREN2QixDQUFBLENGTXdCLEdDSEcsQ0RHQyxBQ0hBLE1DSDVCLEFDRHFDLENEQ3JDLEFDRHVDLENBQUMsQ0RDSixHRk1JLENBQUMsT0VOTCxFREdjLEFDSGQsQ0RHZSxDQUFDLENER0MsQ0FBQyxLRU5sQjtBRk9wQyxBQ0hBLEFFSkEsSUhPSSxBQ0hBLEFFSkEsSUZJSSxDREdDLEVDSFcsQ0RHUixNQUFNLEFDSFMsQ0RHUixBQ0hTLEFFSlQsR0FBRyxHSE9HLENBQUMsQ0dQQyxDQUFDLEdGSVksQ0FBQyxDQUFDLENFSlIsQ0FBQyxlQUFlLENBQUM7QUZLbkQsQUNIRSxBRUpGLElIT00sUUdQTSxBQUNaLENBRGEsQ0hPRyxFR05WLENITWMsQUNISCxFQUFFLElFSEwsQ0hNYSxDQUFFLE1HTk4sTUhNa0IsQ0FBRSxDQUFDLE9DSGQsQ0VGMUIsZ0JBQWtCLE1BQU0sT0FBTyxnQkFFL0IsU0FBQSxNQUFBLGFBQStCLFlBQUEsV0FDbEMsUUFBVSxpQkFFVixPQUFRLFdBQ1AsTUFDQyxPQUFBLGNBQUEsT0FBSSxRQUFDLE1BQVEsRUFBTSxNQUFFLEVBQUEsTUFBUSxNQUFNLE9BQU0sT0FBTSxPQUFDLFFBQU8sYUFDdEQsTUFBQSxjQUFBLFFBQUssRUFBQywyS0FNVixRQUFPLFFBQVU7QUZYYixBQ0RKLEFDSEEsSURHSSxBQ0hFLEtBQUssRUZJQSxDQ0RQLEFDSFUsR0RHVixJQ0hpQixDREdqQixBQ0htQixDREduQixXQUFBLENBQUEsQ0NIaUMsQ0RHRixBQ0hJLENBQUMsVURHTCxFQUFBLFVBQUE7QUhRbkMsQUNIQSxBQ0hNLEFDREwsQUNIRCxJSlVJLEFJVkEsQ0pVQyxDQ0hMLENBQUEsQUVKTyxFQUFFLENIT0MsQUdQQyxJSE9HLEFDSGQsQ0RHZSxFQ0hmLEVHUG1CLENGSUMsQ0ZNQyxDQUFDLEFDSHRCLEFDSHNCLEFFSkEsQ0hPdEIsRUVKMEIsQ0FBRSxDQ0hELENBQUMsQ0pVQyxFQUFFLEdDSC9CLEFHUGtDLENIT2xDLEFHUG1DLEVIT0MsV0FBQSxBQ0hSLEVER1EsQUNITixBRUpvQixDQUFDLFFIT2Y7QURJbEMsQUtiRixLSE9LLENBQUEsRUZNRyxDQUFDLEdLYkcsQUFDWixDQURhLEdBQ1AsQ0xZVyxHQUFHLEdLWk4sUUFBUyxnQkFDbkIsUUxXbUQsQ0FBQyxPS1hsQyxNQUFNLE9BQU8sZ0JBRS9CLFNBQUEsTUFBQSxhQUErQixZQUFBLFdBQ2xDLFFBQVUsaUJBRVYsT0FBUSxXQUNQLE1BQ0MsT0FBQSxjQUFBLE9BQUksUUFBQyxNQUFRLEVBQU0sTUFBRSxFQUFBLE1BQVEsTUFBTSxPQUFNLE9BQU0sT0FBQyxRQUFPLGFBQ3RELE1BQUEsY0FBQSxXQUFRLE9BQUMsNEVBTWIsUUFBTyxRQUFVO0FKTGYsQUVKRCxBQ0hELEFDSEEsQ0xhQyxFRU5FLENFSkMsQUNIRSxHRk1DLEVBQUUsQUVORSxHREdQLEFDSFUsR0RHVixFSE9hLEVBQUUsQUlWRSxDREdqQixBQ0htQixDREduQixNREdnQixLQ0hoQixDQUFBLENDSGlDLENER0YsQUNISSxDQUFDLFVKVVYsQUdQSyxFQUFBLFVBQUE7QUhRL0IsQUVKRixBQ0hELEFDSEQsSUFBSSxHREdHLEVESUosQUNKTSxDQUFFLENIT0EsR0VIUixDQUFBLElFUGdCLEdBQUcsR0RHSSxDQUFFLENDSEQsQ0ZPeEIsQUVQeUIsQ0ZPekIsS0FBSSxBRVAyQixDQUFDLENGTzVCLEVBQUEsT0FBQyxFQUFBLEdFUDBDLENBQUMsQ0ZPbkMsRUFBQSxDQUFBLEVBQU0sS0FBRSxFQUFBLENBQUEsRUFBQSxLQUFPLEVBQUMsS0FBQSxFQUFNLE1BQUEsRUFBTSxNQUFBLEVBQU0sTUFBQyxFQUFBLE9BQU8sRUFBQSxXQUFjLEVBQUMsRUFDckUsS0FBQSxDQUFBLGFBQUEsQ0FBQSxTQUFRLEVBQUEsRUFBQSxNQUFDLEVBQUEsc0RBQU8sRUFBQSxDQUFzRCxDQUNqRSxDQUNMO0FISUosQUNITSxBQ0hKLEFJVkYsRUhhRSxFSEdFLE1BQU0sQUVOQSxFQUFFLEFJVkEsQUFDWixDTmVhLEFNaEJBLEdBQ1AsSUxZYyxFREdFLEFDSEEsQ0RHQyxBTWZULEtOZWMsRUFBRSxDTWZQLENKU0EsR0ZNWSxFQUFFLFVNZGpDLENMV3dCLEVBQUUsYUtYUixNQUFNLE9BQU8sZ0JBRS9CLGNBQUEsTUFBQSxhQUFvQyxZQUFBLGdCQUN2QyxRQUFVLGlCQUVWLE9BQVEsV0FDUCxNQUNDLE9BQUEsY0FBQSxPQUFJLFFBQUMsTUFBUSxFQUFNLE1BQUUsRUFBQSxNQUFRLE1BQU0sT0FBTSxPQUFNLE9BQUMsUUFBTyxhQUN0RCxNQUFBLGNBQUEsUUFBSyxFQUFDLGdMQU1WLFFBQU8sUUFBVTtBTkNmLEFDSEksQUdQTCxBQ0hELEFDSEEsQ0hhQyxDQUFFLENBQUMsQ0VWQSxBQ0hFLEdGTUMsQ0pVQyxDSVZDLEFFTkUsQ05nQkEsRUtiUCxBQ0hVLEdMYUMsQUlWWCxFSlVhLEVLYkksQ0RHakIsQUNIbUIsQ0RHbkIsTURHZ0IsS0NIaEIsQ0FBQSxDQ0hpQyxDREdGLEFDSEksQ0FBQyxFTGFqQixFQUFFLE1JVlUsRUFBQSxVQUFBO0FMYy9CLEFFTkEsQUVKRixBQ0hELEFDSEQsSUFBSSxDTGFDLENBQUMsQ0lWQyxDSE9DLENFSEwsQUNKTSxDQUFFLElESVIsQ0pTWSxBSVRaLENGR2EsQ0ZNQyxFRU5FLEFJVkEsR0FBRyxDSlVDLENBQUMsQ0dQRSxDQUFFLENDSEQsQ0pVQyxBRUh6QixBRVB5QixDSlVDLEFFSDFCLEtBQUksQUVQMkIsQ0FBQyxDRk81QixDRkc4QixDRk1YLEFFTlksQUVIL0IsSUpTdUIsRUFBRSxDSVR4QixFQUFBLENGR3dDLEVBQUUsQUlWQSxDSlVDLEFJVkEsQ0ZPbkMsRUFBQSxDQUFBLENGR3dDLENBQUMsQUVIbkMsS0FBRSxFQUFBLENBQUEsRUFBQSxLQUFPLEVBQUMsS0FBQSxFQUFNLE1BQUEsRUFBTSxNQUFBLEVBQU0sTUFBQyxFQUFBLE9BQU8sRUFBQSxXQUFjLEVBQUMsRUFDckUsS0FBQSxDQUFBLGFBQUEsQ0FBQSxNQUFLLEVBQUEsRUFBQSxDQUFDLEVBQUEscUtBQUUsRUFBQSxDQUFxSyxDQUN4SyxDQUNMO0FKT0UsQUVORixBQ0dKLEFJaEJBLEVIYUUsQ0hHQyxHRUFHLENBQUMsQ0RIQyxFRk1FLENBQUMsQ09uQkMsQUFDWixDQURhLENKZ0JDLEVESEUsQUtaVixDUGtCVyxBR0hBLEVESEUsQ0ZNQyxHRU5HLEFLWlQsQ1BrQlUsQUVOQSxDRk1DLEFHSEEsQ0FBQyxFREhFLENGTUMsQUVOQSxDRk1DLENPbEJQLE1MWWMsQ0FBQyxFRk1FLENBQUMsTU9qQnJDLENQaUI0QyxBRU5BLENGTUMsQ0VOQyxDQUFDLEtBQUssQ0ZNQyxBRU5BLENGTUMsS0FBSyxBT2pCekMsQ1BpQjBDLENBQUMsR0FBRyxDQUFDLEFPakJ6QyxHUGlCNEMsQ0FBQyxDQUFDLEVPakJ2QyxnQkFFL0IsVUFBQSxNQUFBLGFBQWdDLFlBQUEsWUFDbkMsUUFBVSxpQkFFVixPQUFRLFdBQ1AsTUFDQyxPQUFBLGNBQUEsT0FBSSxRQUFDLE1BQVEsRUFBTSxNQUFFLEVBQUEsTUFBUSxNQUFNLE9BQU0sT0FBTSxPQUFDLFFBQU8sYUFDdEQsTUFBQSxjQUFBLFFBQUssRUFBQywrS0FNVixRQUFPLFFBQVU7QVBJWCxBRU5GLEFHUEgsQUNIRCxBQ0hBLENIYUMsQ0FBRSxDQUFDLENFVkEsQUNIRSxHRk1DLENIT0MsQ0FBQyxBR1BBLEFFTkUsR0FBRyxDUG1CRCxDRU5DLENBQUMsRUZNRSxBTWhCYixDTmdCYyxDT25CRyxDREdqQixBQ0htQixLREduQixDQUFBLENER2dCLEVIT1MsQ0FBQyxJS2JPLENBQUUsQ0FBQyxDREdwQyxDSlVrQyxBSVZsQyxFSlVvQyxBSVZBLFFKVVEsQ0FBQyxDQUFBLENJVlQsRUFBQSxlQUFBO0FMY3RDLEFJVkEsQUNIRCxBQ0hELEdMYUcsQ0tiQyxDUG1CQyxFTWhCRSxFRElKLEFDSk0sQ0FBRSxJRElSLENBQUEsRUpTYyxFQUFFLEFNaEJBLEdBQUcsR0RHSSxDQUFFLENDSEQsQ0ZPeEIsQUVQeUIsQ0ZPekIsS0FBSSxBRVAyQixDQUFDLENGTzVCLEVBQUEsT0FBQyxDSlNzQixDSVR0QixHRVAwQyxDQUFDLENGT25DLEVBQUEsQ0FBQSxFQUFNLEtBQUUsRUFBQSxDQUFBLEVBQUEsS0FBTyxFQUFDLEtBQUEsRUFBTSxNQUFBLEVBQU0sTUFBQSxFQUFNLE1BQUMsRUFBQSxPQUFPLEVBQUEsV0FBYyxFQUFDLEVBQ3JFLEtBQUEsQ0FBQSxhQUFBLENBQUEsU0FBUSxFQUFBLEVBQUEsTUFBQyxFQUFBLHNFQUFPLEVBQUEsQ0FBc0UsQ0FDakYsQ0FDTDtBTFVBLEFDSEEsQUdISixFQ0hFLElER0ksQ0FBQyxJSEdJLENPbkJYLENSc0JhLENJTkMsQ0pNQyxDUXRCWCxDSmdCYSxNSWhCTCxFSmdCYSxDQUFDLEtJaEJOLEdSc0JJLE1RcEJsQixLUm9CNkIsRUFBRSxFUXBCcEIsUUFBUyxvQkFDcEIsU0FBVyxRQUFTLG1CQUUxQixRQUFBLFFBQUEsTUFBQSxhQUFvQyxZQUFBLFVBRWxDLGdCQUFpQixXQUNmLE9BQ0UsTUFBTyxLQUlYLGVBQWdCLGFBSWhCLFlBQWEsYUFJYixPQUFRLFdBQ04sTUFDRSxPQUFBLGNBQUEsT0FBSSxVQUFDLGtCQUNILE1BQUEsY0FBQSxPQUFJLFVBQUMsU0FBVSxTQUFTLEtBQVMsUUFBSyxLQUFPLGdCQUFPLE1BQWdCLGNBQUEsU0FBQyxPQUNyRSxNQUFBLGNBQUEsTUFBSSxLQUFFLEtBQUssTUFBTSxPQUNqQixNQUFBLGNBQUEsT0FBSSxVQUFDLFNBQVUsU0FBUyxLQUFTLFFBQUssS0FBTyxhQUM1QyxNQUFBLGNBQUMsU0FBUTtBUkpaLEFDSEEsQUNISixBSVZELEFDSEQsQ0ZVQyxDQUFFLENBQUMsQ0VWQSxHREdHLENKVUMsQ0lWQyxDSlVDLENER0MsRUFBRSxBTWhCVCxFTmdCVyxDTWhCWCxDUG1CYSxDQUFDLEdPbkJkLENBQUEsS0RHZ0IsQ0pVQyxDRk1RLENBQUMsR09uQjFCLENBQUEsRUFBZ0MsV0FBQSxDUG1CWSxDT25CWixDUG1CYyxVT25CZCxhUG1CcUMsQ0FBQyxDQUFDO0FBQ3JFLEFDSEEsQUNIRixBSVZGLEFDSEQsQUNMRCxJQUFJLEdES0csRURJSixBQ0pNLEFDTEEsQ1BxQkMsQU1oQkMsQ0xjTCxDREVNLEFPckJBLEVQcUJFLEFLWlgsQ0FBQSxDSlVHLENGS1csQUVMWCxDRktZLENReEJDLENBQUMsS0RLTSxDQUFFLENDTEQsQ0ZTeEIsQUVUeUIsQ1J3QkMsQU1mMUIsQUVUMEIsQ1J3QkMsQUVMeEIsQ0FBQSxHSVZDLEVKVUcsQUlWSCxFSlVHLEFJVkgsRUpVRyxHRktpQyxFQUFFLEFNZnJDLENOZXNDLENNZnRDLEVKVUcsRUFBQSxDSVZLLEVOZXNDLEFNZnRDLENBQUEsQ05ld0MsQ01mbEMsS0FBRSxDSlVILENJVkcsQ0pVSCxBSVZHLEVKV2pCLEFJWGlCLEtKV2pCLEFJWHdCLENKV3hCLENJWHlCLEtOZStDLEFNZi9DLENOZWdELENBQUMsQU1mM0MsQ05lNEMsSUVKM0UsQ0FBQSxBSVgrQixFQUFNLEdKV2pDLEVBQUEsQ0lYaUMsQ0pXakMsQ0lYdUMsTUpXdEMsQUlYdUMsRUpXdkMsQUlYdUMsS0pXL0IsRUFBQSxBSVhzQyxDSld0QyxDSVhzQyxDSldoQyxLQUFFLEVBQUEsQ0FBQSxFQUFBLEFJWDRDLEVBQUMsRUFDckUsQ0pVK0IsRUFBQyxFSVZoQyxDQUFBLElKVXNDLEVBQUEsT0lWdEMsQ0FBQSxHSlU4QyxFQUFBLENJVnpDLEVBQUEsRUpVeUMsQUlWekMsQ0FBQyxDSlV3QyxDSVZ4QyxHSlVvRCxFQUFBLE1BQU0sRUFBQSxJQUFLLEVBQUEsRUFDbkUsS0FBQSxDQUFBLGFBQUEsQ0FBQSxNQUFLLEVBQUEsRUFBQSxDQUFDLEVBQUEsb0hJWEEsRUFBQSxDQUEwSyxDQUM3SyxDQUNMLG9PSlNVLEVBQUEsQ0FBNlYsQ0FDblcsRUFDQSxLQUFBLENBQUEsYUFBQSxDQUFBLEtBQUksRUFBQSxJQUFDLEVBQ0gsS0FBQSxDQUFBLGFBQUEsQ0FBQSxPQUFNLEVBQUEsRUFBQSxRQUFDLEVBQUEsR0FBUyxFQUFBLEdBQUksRUFBQSxVQUFJLEVBQUEsSUFBVSxFQUFDLE1BQUssRUFBQSxX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VCxDZGdEVSxDQUFDLENBQUMsS2M5Q2hDLEtISytCLEVBQUUsQ0dMakMsSUZFc0QsQ0FBRSxDQUFDLEVFRnpELE1BQUEsYUFBb0MsWUFBQSxVQUVsQyxnQkFBaUIsV0FDZixPQUNFLFNBQVUsZUFJZCxTQUFVLFNBQVMsR0FDakIsR0FBSSxHQUFRLEtBQUssS0FBSyxPQUFPLGFBQWEsS0FDMUMsTUFBSyxNQUFNLFNBQVMsSUFHdEIsT0FBUSxXQUNOLE1BQ0UsT0FBQSxjQUFBLE9BQUksVUFBQyxnQkFDSCxNQUFBLGNBQUEsU0FBTSxJQUFDLFNBQUksS0FBUyxPQUFLLFlBQU8sU0FBWSxTQUFTLEtBQUE7QU5EM0QsQUdUSSxBQ0hOLEFDSEEsQ044QkMsQ0FBQyxDUGlCQyxBT2pCRCxDSzNCSSxFQ0hOLENKYU8sQUliUCxNREdlLENER0QsQUVOZCxFRk1nQixBQ0hFLENDSGxCLElGTXFCLENFTnJCLENER3lCLEFDSHpCLENERzJCLEdKWUEsRUFBRSxLS2Y3QixDQUFBLEVBQW9DLE1ER1UsQ0FBRSxDQUFDLEdDSGIsRUFBQSxTQUFBLEtMZUcsU0FBUyxFQUFFLE9BQU8sRUFBQztBQUN0RCxBQ0ZFLEFDSkosQUlaRixJQUFJLENIU0MsQ0FBQyxFSFNFLENBQUMsQU1sQkEsR0FBRyxHTGdCRyxFREVFLEFDRkEsQUNKQSxDRk1DLENFTkMsQUlaQSxDTmtCQSxBTWxCQyxDTGdCQyxNREVLLEFNbEJDLENBQUMsQ05rQkEsQU1sQkMsSU5rQkcsQ0FBQyxXQUFXLENBQUMsQUVOZixTRk13QixDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsQ0FBQztBVGlDN0QsQUNBQSxBU2xDSSxBQ0pGLEFFTkosQUNIRSxHTGVDLEFHVEEsR1p5Q0csQWE1Q04sQ0FBQSxJYjRDVyxBV3RDQSxDS05YLENoQjRDYSxDYTVDYixDWjRDZSxFQUFFLEFZNUNqQixBQ0hpQixFQUFFLENkK0NDLENVbENDLEFNVlosQ0hBVCxDSFV1QixBR1Z2QixXQUFBLENBQUEsQ0dBdUIsQ0hBYSxFR0N0QixHZjJDYyxFZTNDVCxFRkpXLEVER00sRUhVRixB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SSxZQUFXLElBR3hCLE9BQU8sUUFBUSxXQUFhLFdBQzVCLE9BQU8sUUFBUSxNQUFRLFdBQ3JCLE1BQU8sT0FBTSxLQUFLLFNBQUMsR0FDakIsTUFBTyxTQUFRLE9BQU8sSUFBSSxLQUFLLEVBQUcsaUJBQWtCLFNBQUMsR0FDbkQsTUFBTyxJQUFJLFNBQVEsU0FBQyxFQUFTLEdBQzNCLEdBQUksR0FBVSxFQUFHLFlBQVksRUFBTSxhQUFhLFlBQVksR0FBTSxPQUNsRSxHQUFRLFVBQVksU0FBQyxHQUNuQixFQUFRLElBRVYsRUFBUSxRQUFVLFNBQUMsR0FDakIsRUFBTztBaEJsSVgsQVFoQ0YsQUNGRSxBR1ZBLEFDSEEsQUNIRixBQ0ZKLEdoQmtENEQsQVl2Q3pELENadUMwRCxDQUFDLENnQmxEeEQsQ0FBQyxDUG9CQyxFUmdDRSxBWTVDQSxDWjRDQyxBY2xEQSxDTmtCQyxBSVpBLEVHUkUsQ1BvQkMsRUNGRSxBTWxCQSxFZm9ERSxBUWhDQSxBQ0ZBLENUa0NDLEFRaENBLEFLZkEsRWIrQ0MsQWEvQ0MsRUxlRSxDQUFDLEVSZ0NDLEFlcERBLEVmb0RFLEVBQUUsRUFBRSxHZXBERyxDZm9EQyxDZXBEQyxDZm9EQyxFQUFFLENTbENWLENUa0NXLENBQUMsQVNsQ1YsQ1RrQ1csR2EvQ1YsRUFBRTtBTGdCL0IsQUNGRSxBQ0pKLEFFTk0sQUVORixBQ0ZKLEFDSkYsQ2pCdURDLENBQUMsQ0FBQyxDaUJ2REMsQ2hCd0RDLEFhL0NBLENBQUEsR0VMSSxFUG9CRSxBUXhCQSxDSllDLENHUkMsQ0xjQyxBRU5BLEFFTkEsQUVOQSxDUndCQyxBQ0ZBLENDSkMsQUlaQSxDTGdCQyxDREVDLEdReEJHLENSd0JDLEFReEJBLENSd0JDLEdPcEJHLENBQUMsR1BvQkcsQ1F4QkMsQ0FBQyxDUndCQyxBUXhCQSxHRk1OLEFDRlMsQ1BvQkMsQU9wQkEsQ1BvQkMsQUNGVixBQ0pILEFJWkksQUNGUyxFTmtCUixFQ0pELEVBQUU7QURLekIsQUNKRixBQ0hGLEFDSFEsQ0dSVCxDQUFDLENmb0RDLEFRaENBLEFLZkEsRUNIRSxDQUFB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LGFBQWUsV0FDckMsUUFBUyxLQUFLLE9BQU8sYUFHdkIsY0FBYyxVQUFVLE1BQVEsV0FFOUIsTUFBTyxNQUFLLFNBQVMsUUFDcEIsS0FDQyxXQUFRLE1BQU8sYUFBWSxTQUMzQixTQUFDLEdBQVEsUUFBUSxNQUFNLGtCQUFtQixNQUk5QyxjQUFjLFVBQVUsT0FBUyxTQUFTLEdBQ3hDLE1BQU8sTUFBSyxRQUFRLElBR3RCLGNBQWMsVUFBVSxRQUFVLFNBQVMsR0FFekMsS0FBSyxPQUFPLGVBQWUsRUFBSyxjQUNoQyxLQUFLLEtBQUssZUFHWixjQUFjLFVBQVUsWUFBYyxXQUNwQyxLQUFLLE9BQU8sZUFBZSxNQUMzQixLQUFLLEtBQUssZ0JBQ1YsS0FBSyxPQUFPLGFBQ1osS0FBSztBbEJuRVAsQUNDRSxBUWhDQSxBR1RFLEFFTkYsQUVMRixHTmtCRyxBQ0pBLENYcUNDLEFpQnZEQSxHSllHLENiMkNDLEFZeENBLENJWEMsQUNKQSxFakJ1REUsQ2lCdkRDLEVoQndERSxFQUFFLEFnQnhEQSxDakJ1REMsQVMvQkEsQUtmQSxDZDhDQyxDUy9CQyxBS2ZBLEdGTUcsQUlYQSxDQUFDLEFDSkEsQ2pCdURDLEFpQnZEQSxDakJ1REMsQVl4Q0EsS1p3Q0ssQ0FBQyxDQUFDLEFZeENBLEFJWEEsQ0pXQyxDSVhDLEFDSkQsSWhCd0RSLEVXekNlLENBQUMsQUtmRCxDaEJ3RFgsQ2dCeERhLENoQndEWCxBUWhDSCxDQUFDLEFHVGdCLENBQUMsQUVOaEIsQ0xlQyxBR1RnQixFS2ZDLEVBQUU7QWhCeUQ5QyxBUWhDQSxBSVpFLEFDSEYsQUNIRixBQ0ZBLEFDSkksQUNKTixJQUFJLEVGUUUsQUNKSSxFaEJ3REYsQVFoQ0EsQ1JnQ0MsQVFoQ0EsQ01sQkMsQUVOSSxDSFNILEFFTEEsQ1BvQkMsQU1sQkEsQ0VOSyxBQ0pKLENGUUMsQ0hRQyxBSVpJLENSd0JILEFReEJJLEFDSkQsQ2pCNERGLEFRaENBLEFJWkEsQ1o0Q0MsQWVwREEsQ0FBQyxDZm9EQSxBZ0J4REssQ1J3QkgsQUlaQSxBSVpJLENSd0JILENTNUJJLENqQjRESCxBZXBEQyxBRVJHLEVqQjRERixDZXBERSxDQ0pLLENSd0JILENSZ0NBLEFRaENDLEFNbEJULEFFTmEsQ0ZNWixBQ0ZTLENmb0RBLENjbERQLEFFTmEsQ0FBQyxDQUFDLEFDSkQsQ0FBQyxFRlFELENBQUMsQ1BvQkMsQ1JnQ0EsQ1FoQ0UsQ1JnQ0EsQVFoQ0MsSVJnQ0csQ1FoQ0UsQ1JnQ0QsQVFoQ0UsQU9wQkQsQ2ZvREEsQ0FBQyxLZXBETSxFQUFFLE1BQU0sRUFBQztBaEJvRGhFLEFTL0JJLEFDRkYsQUNKQSxBQ0hFLEFDSEUsQUNIQSxBQ0hGLEFDRkEsR2ZvREQsQ2lCNURDLENsQjJEQyxDQUFDLEVTL0JFLEFFTkEsQUNIQSxBR1RBLENOa0JDLENFTkMsRVhxQ0UsQ0FDVixBZWxEVyxBQ0ZBLENQb0JDLEFPcEJBLENQb0JDLEFLZkEsQ0NIQyxBR1ZBLENMZ0JDLEFDSEEsQ2QrQ1YsQWMvQ1csQ2QrQ1YsQWE1Q1csQUNIQSxBSWJBLENIVUMsQ0FBQyxBQ0ZBLENKV0MsQ0lYQyxFREVFLENIU0MsQUdUQSxBR1ZBLENSMEJDLEFFUEEsQU1uQkEsQ1BzQk4sQUNITyxDRk9DLEFNbEJBLENQb0JDLEFHVEEsQUlYQSxDUG9CQyxBT3BCQSxDaEJvRFYsQVNoQ1csQU1sQkEsQ2ZrRFYsQVNoQ1csQU1sQkEsQ05rQkMsRVRnQ1QsRUFBRSxJYTVDRyxDRU5hLEFHVkEsQ05tQkMsQUNIWixBS2hCWSxDSFVDLENBQUMsQ0hTQyxJR1RJLENBQUMsRUhTRSxDQUFDLE1BQU0sQ0FBQyxJRk90QjtBVm1DcEMsQVVsQ0EsQUNKQSxBQ0hBLEFDSEUsQUVORixBRU5FLEdSd0JILEFPcEJBLENBQUMsQUVSQSxDSmFDLEFFTEEsQ0ZLQyxBR1RJLENBQUMsQ2pCd0RELEFVbENGLEFDSkEsQUNIQSxBR1RBLENMZ0JDLEFLaEJBLENma0RHLEdZekNDLENHVEMsQ0FBQyxBR1ZBLENsQjRERyxBV3RDRixBQ0hBLENGT0MsQ0FBQyxBUTFCQyxDUHNCQSxBRU5BLENIVUEsQ0dWRSxDSVpLLENOa0JILEFDSEEsQUdUQSxDSllDLEFDSEEsQUdUQSxDRU5LLEFDSkgsQ0FBQyxFUjBCQSxDQ0pFLEFDSEEsQUdUQSxDTGdCQSxBQ0pDLEFDSEEsQUdUQSxDSFNDLEFHVEEsRUhTRSxDRk9BLENPdEJLLENQc0JKLEFPdEJLLENQc0JKLEFFUEUsQ0ZPRCxBQ0pFLEFDSEEsQUtmRyxDTmtCRixFQ0hFLEFNbkJDLENObUJBLEFNbkJDLEdObUJFLENDSGIsQ0RHZSxDQ0hiLGFERzJCLENBQUMsQ0FBQyxDQUFDO0FaMEM1RCxBQ0FGLEFVdENFLEFFTkUsQ0dSTCxFTmtCRSxBSWJBLEFDSEEsQ0dWQyxHbEI0REssQ1d0Q0QsQU90QkEsQ2xCNERHLEVrQjVEUSxDQ0huQixFbkIrRGdCLEFDQUYsRUFBRSxBVXRDQSxBUXpCWixDTm1CYSxDS2hCUyxDUHNCUCxBRU5BLEFLaEJRLElQc0JKLEFRekJYLENSeUJZLENPdEJTLENBQUMsS0NIZCxLUnlCZ0IsQ0FBQyxFUXZCckMsQ2xCNkQyQixFWTVDRyxFQUFFLEdNakJoQyxRQUFBLE1BQUEsYUFBb0MsWUFBQSxVQUVsQyxnQkFBaUIsV0FDZixPQUNFLElBQUssR0FDTCxVQUFVLEVBQ1YsWUFBYSxlQUlqQixPQUFRLFdBQ04sR0FBSSxHQUFZLFlBQWMsS0FBSyxNQUFNLFNBQVcsWUFBYyxHQUNsRSxPQUNFLE9BQUEsY0FBQSxPQUFJLFVBQUMsRUFBb0IsUUFBRSxLQUFTLE1BQUssVUFBTSxLQUFXLE1BQUs7QW5CaURqRSxBQ0FBLEFRaENGLEFFTkUsQUNIQSxBQ0hFLEFJWkUsSUNKSixFbEI0REksRUFBRSxBQ0FGLEFRaENBLEFHVEEsQUtmSSxFUndCRixBUXhCSSxBQ0pKLENQdUJKLENYcUNRLEFDQUYsQ2dCeERLLEFDSkUsQ0RJRCxDaEJ3REgsQVk1Q0EsQUlaSSxDTm1CYixDQUFBLEFFUFcsRVo0Q0UsQ0FBQyxBaUI1RE0sQ0RJRCxBQ0pFLENObUJMLEFLZkksSUxlQSxDQUFDLENIU04sQVF4QlcsQ0xlSCxBS2ZJLEFDSkUsQ1B1QjdCLEFPdkI4QixDakI0REwsQVVyQ3pCLENWcUMwQixJVXJDdEIsRUFBQSxBRVBrQixFRk9sQixBRVBvQixTRk9uQixFQUFBLFdBQVUsRUFBQSxRQUFZLEVBQUEsR0FBUSxFQUFDLEVBQ25DLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFTLElBQUksRUFBRTtBWHFDdkMsQUNBQSxBUWhDQSxBQ0ZGLEFDRk0sQUNMRixBQ0hBLEFDSEosQUNIQSxBQ0ZGLEFHYkEsSURLSSxBQ0xBLElsQmlFSSxBY2xEQSxDZGtEQyxBa0JqRUEsQ1I2QkcsQUNMRixBR1RBLEFHVkEsQ1Q2QkosQ1VsQ00sQ0hhQyxBRVJNLENqQjRETCxBZXBEQSxDZm9EQyxDREFHLEFTL0JaLENBQUEsQUNIVyxBRVBBLEFDSEEsQ2I0Q0csQWMvQ0YsQ0phQyxBR1ZBLEFNckJBLENsQmlFQyxBVXBDRSxBQ0xGLEFFTkEsQUtsQkEsQ2xCaUVDLENpQjVETyxDUHdCSCxBS2hCRixBRVJNLENGUUwsRWZvREUsQ0FBQyxBV3pDQSxBT3hCQSxDUHdCQyxBR1RQLEFJZk8sQ0RLTyxBQ0xOLENWa0N2QixBUzdCOEIsQ1Q2QjlCLEFFTDJCLENLaEJELENKV0MsQ0FBQyxDREtHLEFLaEJGLENQcUJ6QixBUzdCZ0MsQ2pCNEROLEFpQjVETyxDVDZCakMsQ1IrQjRCLEFVcENHLENGSy9CLEFFTGdDLENWb0NGLENEQW5CLEFXcEN1QixBRVJkLEVBQUUsRUhVRixBQ0ZrQixDS2hCRixDSldFLEFFTmpCLENMZ0JwQixDVCtCa0IsQ1MvQmxCLEFHVnNDLENaeUNsQixBWXpDbUIsRURLTSxBQ0xKLENES0ssRUFBRSxDQUFDLEVYb0NyQixFQUFLLEtTL0J2QixDR1Y2QyxDSFU3QyxFQUNiLEFHWDZELEdBQUcsQ0FBQyxDSFdqRSxBR1hrRSxDSFdsRSxhQUFBLENBQUEsVUFBUyxFQUFBLEVBQUEsR0FBQyxFQUFBLFNBQUksRUFBQSxTQUFVLEVBQUEsUUFBVSxFQUFBLEtBQVMsRUFBQSxJQUFBLENBQUssS0FBTSxDQUFDLE9BQU0sRUFBQSxRQUFTLEVBQUEsSUFBQSxDQUFBLGVBQWUsRUFBQSxDQUFBLENBQ2pGLENBQ1A7QVQ2QkMsQUNBQSxBU2xDRixBQ0ZJLEFHWEosQUNIQSxBQ0ZGLEFDSk0sR1I0QkwsRUdiRSxBQ0hBLENBQUMsQUdSQSxFaEJvREksQWMvQ0YsQUdUSSxDakJ3REQsQ0NBRCxDU2xDQyxBSWJBLEFDRkwsQUNISyxDSWRYLENUK0JVLENHWkksQUVMQSxBQ0pJLENoQndESCxDY2pEVCxBS2pCRixDTGlCRSxBRVBlLENqQndERCxBQ0FGLEFVbkNSLEFHWlEsQUVMQSxDaEJvREcsQVduQ1gsQUdaUyxBRUxBLEFDSkksQ2hCd0RILEFnQnhESSxDaEJ3REgsRW1CbEVULENObUJZLEFFTEEsQ0ZLQyxBRUxBLEVoQm9ESSxFQUFFLENlakR6QixDQUFBLEFLakJjLENUK0JWLENBQUMsQ0dadUIsQ0FBQyxDQ0Z6QixBRVA4QixDakJ3REQsQWlCeERFLENqQndERCxBZWpEOUIsQ2ZpRCtCLENlakQvQixBS2hCTixHcEJpRXlDLENBQUMsQ1duQ3ZCLEVBQUEsQ1M5QlQsQ1Q4QlMsQUlkWixFQUFBLEdmaURvQyxFb0JqRXpCLENUOEJFLENYbUMyQixDV25DM0IsQ1htQ2dDLEtlakRuQyxFQUFBLEVKY2EsQUliMUIsRUphb0MsRVM1QjVDLENUNEI4QyxBSWJ0QyxDQUFBLENKYXNDLElBQUssQ0FBQSxBUzVCbkQsRVQ0Qm1ELEVBQUssR0liaEQsQ0phbUQsQUlibkQsQUtmUixFVDRCNEQsSUFBQSxBUzVCNUQsQ0xlYyxDSmFvRCxDSWJwRCxFQUFBLEdBQUMsRUFBQSxHS2ZxQixDVDRCb0MsRUFBQSxFSWJyRCxFQUFBLElKYW1FLEFJYjFELENLZlEsQ1Q0QmtELEFJYjFELENKYTBELENBQzdFLElJZHdCLEVBQUEsQ0tiL0IsVUxhc0MsRUFBQSxJS2JyQixJTGFpQyxFQUFBLEtLWmhELEdMWXlELEVBQUEsRUtYdkQsRUxXdUQsQ0FBQSxLS1Z2RCxHTFVzRSxFQUFBLENBQUEsQ0FDaEUsQ0FDTixLS1pjLGVBSWxCLGdCQUFpQixXQUNmLE9BQ0UsWUFBYSxLQUlqQiwwQkFBMkIsU0FBUyxFQUFXLEdBQzdDLEtBQUssVUFBVSxZQUFhLE1BRzlCLGVBQWdCLFdBQ2QsS0FBSyxLQUFLLElBQUksYUFBYSxNQUFRLElBR3JDLE9BQVEsU0FBUyxHQUNmLEdBQUksR0FBTyxLQUFLLE1BQU0sS0FBSyxRQUFRLEdBQ25DLE1BQUssTUFBTSxhQUFhLElBRzFCLFlBQWEsU0FBUyxFQUFLLEdBQ3pCLEtBQUssVUFBVSxZQUFhLEtBRzlCLGFBQWMsV0FDWixNQUFrQyxLQUEzQixLQUFLLE1BQU0sYUFHcEIsVUFBVyxTQUFTLEdBQ2xCLEdBQUksR0FBTyxLQUFLLE1BQU0sS0FBSyxVQUMzQixHQUFLLE9BQU8sS0FBSyxNQUFNLFlBQWEsRUFHcEMsSUFBSSxLQUVBLE1BQUssTUFBTSxhQUFlLElBQzVCLEVBQU0sWUFBYyxJQUd0QixLQUFLLE1BQU0sYUFBYSxHQUV4QixLQUFLLFNBQVMsSUFHaEIsZ0JBQWlCLFdBQ1YsS0FBSyxnQkFFVixLQUFLLFVBQVUsS0FBSyxNQUFNLGNBRzVCLGNBQWUsV0FDYixLQUFLLFVBQVUsWUFBYSxLQUFLLE1BQU0sS0FBSyxPQUFRLEtBR3RELFVBQVcsU0FBUyxHQUNsQixHQUFJLEdBQU0sS0FBSyxLQUFLLElBQUksYUFBYSxNQUFNLE1BQzNDLFFBQU8sRUFBRSxPQUNULElBQUssSUFFSCxHQUFZLEtBQVIsRUFBWSxNQUNoQixNQUFLLE9BQU8sR0FDWixLQUFLLGdCQUNMLE1BQU0sS0FDSCxHQUtILEdBSEksS0FBSyxnQkFDUCxLQUFLLGtCQUVLLEtBQVIsRUFBWSxNQUNoQixNQUFLLGFBQWEsUUFDbEIsS0FBSyxrQkFPVCxPQUFRLFdBQ04sS0FBSyxVQUFVLFlBQWEsTUFHOUIsUUFBUyxTQUFTLEdBQ2hCLE9BQVEsS0FBSyxNQUFNLFVBQVksSUFBSSxFQUFHLEtBQUssUUFHN0MsT0FBUSxXQUNOLE1BQ0UsT0FBQSxjQUFBLE9BQUksU0FBQyxLQUFTLFVBQUssS0FBVyxVQUFLLE9BQVcsS0FBTSxPQUFPLFVBQVEsY0FDaEUsS0FBSyxRQUFRLFNBQVMsRUFBSyxHQUMxQixHQUFJLEdBQVcsR0FBUyxLQUFLLE1BQU0sWUFDL0IsRUFBYyxLQUFLLFlBQ25CLEVBQVcsU0FBUyxHQUN0QixFQUFZLEVBQUssR0FFbkIsT0FDRSxPQUFBLGNBQUMsU0FBTyxJQUFDLEVBQVEsSUFBRSxFQUFLLE1BQUssRUFBTyxTQUFPLEVBQVUsU0FBVSxNQUduRSxNQUFBLGNBQUEsT0FBSSxVQUFDLGFBQ0gsTUFBQSxjQUFBLFNBQU0sSUFBQyxNQUFJLEtBQU0sT0FBSyxZQUFPO0FwQjNDL0IsQUNBRixBU2xDQSxBRVBGLEFFTkEsQUVMRixBRVJGLEFDTEEsR05xQkcsQUVGQSxFSllJLENBQUUsQU8xQkgsQUNMTixDUmdDWSxBTzNCTCxBQ0xQLENsQmlFUSxBVWhDRixBQ1RFLEFFTkEsQ2IrQ0MsQWVwREEsRUpXRSxHRk9HLEFFUEEsQU1uQkEsQUNMZCxFVCtCZ0IsQUliQSxDSWJDLEFDTGpCLENuQmlFb0IsQ0FBQyxBYy9DRixBRUxELENmb0RFLEFTbENBLENUa0NDLENrQmpFckIsQ0xrQnVCLEFLbEJ2QixDTGtCd0IsQ0VMQSxFZm9ERyxBZXBERCxBRVJBLENqQjRERSxDQUFDLEFhL0NBLENBQUMsQ2QrQ0csQ1l6Q0QsQU1uQkQsQ05tQkUsQ1p5Q0csQWtCNURILEFDTGpDLENBQUEsRUFBb0MsQ25CaUVJLENBQUMsQWMvQ0YsQUliRCxDakI0REUsQWEvQ0EsQ2IrQ0MsQWlCNURELEdKYUksQ0FBQyxFYitDRSxDQUFDLEFrQmpFWixDbEJpRWEsQ2EvQ0MsQUtsQmQsQ25CaUVpQixBYy9DRixDZCtDRyxDa0I1REYsQ2pCNERFLENBQUMsQWlCNURELElDTGxCLENMa0J3QixDQUFDLEVJYkMsRUFBRSxFSmFHLENiK0NDLENBQUMsQ0FBQyxBYS9DQSxDQUFDLENJYkEsRUphRyxBSWJELEdKYUksQ0FBQyxDQUFDLENiK0NDLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLFNBQVMsR0FBRyxVQUFTLENBQUMsRUFBRTtBREMvRyxBQ0FBLEFXekNKLEFFTkEsQUVMQSxBQ0pJLEFDSk4sQUVSRixDWHdDQyxBTWxCQSxDTmtCQSxBTWxCQyxDTmtCRCxBRUpFLEFJZEQsQ0t0QkUsQ1ZrQ0MsQ0FBQSxFRVBHLEFFTkEsQUdUSSxDSFNILEFJYkEsQUVSQSxFSmdCRSxDaEJvREcsQUNBRixBV3pDQSxBUTNCQSxDcEJvRUcsQVl6Q0YsQU1uQkEsQ0phQyxBR1RJLENIU0gsQUVMQSxBQ0pJLEdoQndERCxBV3pDQSxDQUFDLEFRM0JBLENwQm9FRyxBb0JwRUYsQ3BCb0VHLEFDQUYsQ0FBQyxDQUFDLEFnQnhESSxDQUFDLENqQndERCxDQUFDLEFnQnBERixBRVJBLENsQjRERyxBWXpDRixBSVhBLEFFUkEsQUVSQSxDSFlLLEFHWkosQ25Cb0VDLEFXekNBLEFLZkksQUdaSixDbkJvRUMsQ2EvQ0MsQUdUSSxDTGVILEFFTkEsQUliQSxDRlFDLEFDSkksQ0FBQyxBQ0pKLENGUUMsQ2ZvREMsQVd6Q0EsQ1h5Q0MsRWlCNURFLENKYUMsQUVMQSxDRktDLEFFTEEsQUVSQSxDSmFDLEFFTEEsS0pXSyxDQUFDLEdLZk8sQ0FBQyxDQ0pILEVBQUUsQ0RJSyxDQUFDLENBQUMsS0NKQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FqQjZEbEUsQVd6Q0osQUNIRixBTXJCQSxBQ0hGLENGUUMsQ0FBQyxDUjBCQyxBSWJBLEFFTEEsQ0FBQyxBSWhCQSxDcEJvRUcsQ0FBQyxDQUFDLENZekNELEVDSEUsQ094QkMsQ25Cb0VDLEFXekNBLEFDSEEsQVF6QlosQ1Q0QmEsQ1EzQkMsRUNEVixDRklhLENsQmlFQyxBV3pDQSxDQUFDLEFPeEJBLENsQmlFQyxDbUJwRUMsQ0FBQyxDUjJCQyxBUzVCWCxDVDRCWSxNQUFNLEFDSFQsQ1F6QkQsQ1Q0QlksQUNIVCxFQUFFLENER1UsR1EzQkcsQ1IyQkMsQVEzQkEsQUNDdkMsQ0REd0MsTURHVixDRUY5QixDVDBCZ0QsQ0FBQyxNUzFCakQsTUFBQSxhQUFvQyxZQUFBLFVBRWxDLGdCQUFpQixXQUNmLE9BQ0UsUUFDQSxhQUFjLFNBSWxCLE9BQVEsV0FDTixHQUFJLEdBQVEsS0FBSyxNQUFNLFlBQ3ZCLE9BQ0UsT0FBQSxjQUFBLE9BQUksVUFBQyxZQUNILE1BQUEsY0FBQSxRQUFLLElBQUMsUUFBSSxTQUFRLElBQVMsVUFBSSxrQkFBVSxHQUN6QyxNQUFBLGNBQUEsT0FBSSxJQUFDLE9BQUksVUFBTyxvQkFDYixLQUFLLE1BQU07QXBCcURaLEFXekNOLEFDSEEsQUlaSSxBRVRKLENSaUNILEFLcEJBLENMb0JDLEFLcEJBLENoQm9ERyxBV2hDRixLRVpLLEFJWkksRUFBRSxDTGdCUixBT3pCSyxDTnFCQyxDSVpLLEVoQndERixBWTVDQSxBSVpJLENoQndESCxBV3hDVixBS2hCYyxDTGdCZCxFQ0phLENaNENDLEFZNUNBLENaNENDLElZNUNJLENBQUMsQ1o0Q0MsQ0FBQyxFV3hDdEIsQUNKd0IsQ0RJeEIsQUNKeUIsRVo0Q0UsQWdCeERJLENoQndESCxBZ0J4REksQ2hCd0RILENXeEN6QixFQUFBLEFLaEJnQyxFTGdCaEMsQUtoQmtDLEVBQUMsT0xnQmxDLEFLaEJ5QyxFTGdCekMsQUtoQjRDLEdMZ0JqQyxLS2hCeUMsRUFBQyxDQUFDLENBQUM7QWpCeUQ5RCxBQ0FNLEFTbENSLEFFTk0sQUNKSixBQ0hGLEFHVE0sQUNKUixBQ0xNLEFDSE4sQUNIQSxJQUFJLEVKZU0sQUNKSixBRVJOLENIWVcsQUNKSixBRVJQLEVER1MsQUVOQSxDWHFDQyxDVmtDRyxBYTVDRixBTXJCQSxDVCtCQyxBV3JDQSxDckJ1RUcsQVl4Q1AsQU96QkssQ0RLQyxBRVJkLENSNEJlLEFNcEJBLENqQjREQyxDbUJwRWhCLENOcUJrQixBR1RJLENMZ0JMLEFLaEJNLEFDSkosQUdYQSxDVCtCRSxBRVBELEFPeEJBLEVIV0UsQUVSdEIsQ1B3QnNCLEFPeEJ0QixJSFkrQixBSWZKLENwQnVFRixBb0J2RUcsQ0plSyxBSWZKLENwQnVFRixBU2xDTixDVGtDTyxBV3hDTixBTXBCUyxDUjBCUixBUTFCUyxDTm9CRyxDWndDZCxBVWxDSSxBVWxDekIsQ1I2QlEsQVE3QlIsQ0ZRb0MsQ0RJSyxBQ0pKLEFFUkQsRUhZTyxDTGlCbkMsQ0FBQSxBS2pCb0MsTUFBTSxDSFNuQixBTXJCSyxDSFlnQixDR1poQixHSFlvQixDTGlCaEQsQ0FBQSxBS2pCaUQsQ0FBQyxDQUFDLEVHWnZCLENSNkJ4QixFQUFBLElBQU8sQ0FBQSxFQUNYLEtBQUEsQ0FBQSxhQUFBLENBQUEsS0FBSSxFQUFBLEVBQUEsU0FBQyxFQUFBLGNBQVUsRUFBQSxFQUNiLEtBQUEsQ0FBQSxhQUFBLENBQUEsS0FBSSxFQUFBLEVBQUEsU0FBQyxFQUFBLE9BQVUsRUFBQSxFQUFRLEtBQUMsQ0FBQSxFQUN4QixLQUFBLENBQUEsYUFBQSxDQUFBLEtBQUksRUFBQSxFQUFBLFNBQUMsRUFBQSxTQUFVLEVBQUEsRUFBVSxPQUFDLENBQUEsQ0FDdEIsQ0FDRixDQUNQO0Faa0NDLEFVbENGLEFHVkUsQUNIRixBRUxKLEFHYk0sQUdQTixHVnVDRyxLRkRLLEFJYkEsQ2IrQ0MsQ1k1Q0MsQ2I0Q0csQWMvQ0YsQ0phQyxDTWxCQyxDSFFDLEFDSEEsQUVMQSxBR2JBLENsQmlFQyxBU2xDQSxDUy9CQyxDTnFCQyxDQUFDLEFDSEEsQ0phQyxBSWJBLENKYUMsQ1MvQkMsQ05xQkMsQ2I0Q0csQWE1Q0YsQUNIQSxBRUxBLENoQm9ERyxBYTVDRixBQ0hBLEFFTEEsQ05rQkMsQ0FBQyxHSWJHLEFFTEEsQ05rQkMsQUdWQSxBQ0hBLENKYUMsQUdWQSxDR1JDLENIUUMsQ0FBQyxFYjRDSSxDQUFDLEVhNUNBLENBQUMsQUNIQSxFQUFFLENBQUMsQ0RHQyxBR1JBLENIUUMsR0NIRyxDQUFDLEtER0ssQ0FBQyxDQUFDLENBQUM7QWI2Q25ELEFDQUksQVNsQ04sQUdWRSxBQ0hGLEFFTEYsQUNKTSxBQ0pSLEFDTE0sQUNISixBQ0hGLEFDREEsQ1Z1Q0MsQ0FBQyxDQUFBLEdNM0JJLEFHWE4sQ0hXTyxBR1hQLENSMkJRLEFDSEEsQUdUSSxDSllILEFDSEEsQUVMQSxDaEJvREcsQ0FBQyxBVWxDRixFTWxCRSxDZm9EQyxBWTVDQSxBR1JBLEFDSkksQUlmbEIsQ3BCdUVlLEFZNUNBLEFJWkksQ0NKSCxDSmFDLEFJYkEsQUNMQSxBQ0hBLEFDSGpCLENQd0JrQixDYitDQyxBWTVDQSxBR1JBLEFHYkEsQUNIQSxDTnFCQSxBRUxDLENmb0RDLEFZNUNBLENiNENHLEFrQjVERixBR1h0QixDWHFDc0IsQU90QkssQUlmM0IsQ3JCdUUwQixBZ0JwREYsQUNKSSxDakJ3REQsQWE1Q0YsQUdQckIsQUVUcUIsQ2pCNERDLEFZNUNBLENaNENDLEFZNUNBLENaNENDLENhL0NBLEVBQUUsQ0dUTSxDQUFDLENIU0osQU94QmpDLENMb0JLLEFDTGtDLEFDSkwsQUdYbEMsQ1B3QmtDLENBQUMsQUVKNUIsQUNMa0MsQUNKTCxBR1hBLENQd0JBLEFHVE0sQ0RLOUIsQUVUMEIsR0NMUixFQUFFLEVDSEYsRUNITSxFQUFBLEtKZXVCLENBQUMsR0lmeEIsS0plZ0MsQ0FBQyxDQUFDO0FqQnlEaEUsQVVsQ0EsQUliRixBRUpFLEFDTEUsQUNKTixBRVJFLEFFSkosS1Q0QkssQU1yQkEsQ05xQkMsQUtoQkEsQUNMQSxDREtDLENsQjRERyxBYy9DRixBRUpFLEFDTEUsQ2hCd0RILENTbENDLENNakJHLEFJakJGLENGUUMsQ0FBQyxDbEI0REcsQVVsQ0YsQU1qQkUsQUNMRSxDakJ3REQsQ2MvQ0QsQUVKRSxDTmlCRCxBTWpCRSxBQ0xFLENQc0JILEFRMUJBLENKYUMsQUdUSSxBQ0pKLENGU0csQUNMRSxDREtELENoQm1EQyxBVWxDRixDQUFDLEFJYkEsQUliQSxDbEI0REcsQVVsQ0YsQUliQSxBSWJBLENGU0csQ0FBQyxBRVRGLENBQUMsQ0ZTRyxBRVRGLENKYUMsQUVKRSxDTmlCRCxBSWJBLENKYUMsRUFBRSxDQUFDLEdPdEJPLENBQUMsQ1BzQkgsQUliQSxDSmFDLEFJYkEsSUphSSxBSWJBLENKYUMsQUliQSxBRUpFLENDTEcsQ0RLRCxDQ0xHLEVIU0YsQUdURyxDSFNGLEdKYUcsQ0FBQyxDQUFDLENBQUMsQU1qQlAsQUNMVSxFQUFHLENIU0gsQ0FBQyxBRUpQLEVBQUssSUZJUSxFR1RNLENIU0gsQ0FBQyxBR1RHLENBQUMsQ0FBQyxDSFNGLEdBQUcsQ0FBQyxDQUFDO0FkZ0RyRSxB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LEFFTkUsR0RHSCxFcEJvRUksQ2tCNURELENBQUMsQ0xnQkMsQUNIQSxBS2xCQSxFTGtCRSxFREdFLEdBQUcsQUdQRSxDQUFDLENHZEQsQ0VOQyxDUjJCQyxBS2hCQSxDTGdCQyxBTXJCQSxBRU5BLEVIV0UsR0xnQkcsQUdQRSxDSE9ELEFRM0JBLEVQd0JMLEFFSlMsRUhPQSxBS2hCQSxBQ0xBLENOcUJDLEdLaEJHLEFDTEEsSUhjSCxBR2RPLENIY04sQUdkTyxFSGNGLEdHZE8sQ0FBQyxRREtRLEFDTEEsQ0RLQyxFQ0xFLFdBQVcsR0FBRyxFQUFFLENBQUEsQUFBQyxDQUFDO0FsQmtFeEUsQVNsQ0EsQUdWRSxBQ0hBLEFFSlEsQUNKTixBQ0xKLEFDTEUsR25CaUVDLEVxQnZFQSxDSmdCSyxBQ0xKLEFHWEEsQ0pnQkssQUNMSixDTGdCQyxBQ0hBLEdBQUcsQUtqQkwsQ05vQk0sRUNIRSxDYitDQyxBYS9DQSxDSmFDLEFHVkEsQUNIQSxBR1JJLEFFVGQsQ2xCZ0VXLEFlbkRFLEFHYmIsQ1Q4QlksQU1qQkUsQ0NKRyxDSldILENBQUMsQ0dQRyxBRVRGLENGU0csQ0FBQyxDRVRELEdMZ0JHLENJWEksQ0pXRixBSVhHLEFFVDNCLENBQUEsQ0ZTNkIsQUNMSCxJQUFJLEFDSjFCLENESTJCLENBQUMsQUNKNUIsRUFBQSxFbEJnRWtCLEFTbENELE9TOUJoQixDVDhCd0IsQ1M5QnhCLENUOEIwQixRUzlCZixFQUFTLE9BQUUsRUFBQSxJQUFTLENBQUEsS0FBSyxDQUFBLFFBQU0sRUFBQSxFQUFBLElBQVcsQ0FBQSxLQUFLLENBQUEsR0FBSyxDQUFDLENBQ3RFO0FsQmdFRCxBU2xDQSxBR1ZFLEFDSEYsQUdSSSxBQ0xOLEFFUkEsQUlaRixDeEJnRkcsQ0FBQyxDbUIvREQsQUVSQSxBR1RDLEN4QmlGRixFa0I3REksRWpCNERFLEFTbENBLEFJYkEsQUdSSSxDaEJ1REgsQVNsQ0EsQU1qQkUsQ0FBQyxBQ0pFLENIUUgsQVVqQ0UsQ3hCaUZILEFrQjdERSxDbEI2REQsQWE3Q0UsQUlYSSxDSFFILEFHUkksQ0pXSCxB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LENKV0gsQUlYSSxBQ0xKLENqQjREQyxFQUFFLENBQUMsQ1k1Q0MsQUlYSSxDSldILEFJWEksQ0FBQyxHSldELENBQUMsQUtoQkEsQ0FBQztBakI2RDVCLEFZNUNBLEFHUEUsQUlqQkosQU1iRixDTGlCQyxDQUFBLENKU00sQUlUTixBS2pCRyxDVDBCRyxJaEJ1REMsQVk1Q0EsR0dQSyxDZm1ERCxBWTVDQSxBYXJDRSxDekJpRkQsR1k1Q0csQ0FBQyxDWjRDQyxBZW5ERSxBVTlCQSxDekJpRkQsQWVuREUsRUhPQSxDQUFDLEFHUEUsQ2ZtREQsQWVuREUsR0FBRyxBVXhCeEIsQ3pCMkV1QixBZW5ERSxBSWpCRixDSmlCRyxDZm1ERCxBWTVDQSxBT3hCQSxDTVBuQixDYitCcUIsRVo0Q0UsSUFBSSxBeUIzRXBCLEN6QjJFcUIsS0FBSyxDQUFDLEd5QjNFakIsQ3pCMkVxQixDQUFDLEVBQUUsRUFBRSxFeUJ4RHJELFFBQU8sQ05aK0IsT01ZckIsRU5aOEIsRUFBRSxLTVlyQixFTlo0QixFQUFFLEtNWXBCLEdBQ3BDLFFBQVUsR0FBTyxrQkFBb0IsSUFBSSxLQUFLO0F6QndEMUMsQVNsQ0osQUdWSSxBS2hCSixBRVJFLENIY0MsQ0FBQyxDREdELEFDSEUsRURJSCxDRVZFLENBQUMsQ1IwQkMsQVVsQ0EsQ0FBQyxDbkJvRUMsQVNsQ0EsR0dWRyxBS2hCQSxDakI0REMsQ1k1Q0MsQUdOVixDSE1XLEFHTlYsQUVWVSxDakI0REMsQW1CcEVBLENKa0JOLEFJbEJPLEVQd0JFLEFPeEJELENuQm9FRSxBWTVDQSxDWjRDQyxHWTVDRyxBS2hCQSxDQUFDLENqQjREQyxBWTVDQSxDWjRDQyxBU2xDUCxHR1ZVLEFLaEJBLEFFUkQsQ25Cb0VFLEFZNUNBLENaNENDLEFZNUNBLEFLaEJBLEFFUkQsQ0FBQyxDQUFDLEVBQUMsQ0ZRRyxBRVJGLENBQUMsQ0ZRRztBUjJCcEMsQU1qQlMsQUVUVCxHRVJELEVQd0JFLEdIVUcsR01qQlksQ0FBQyxLTmlCSixBTWpCUyxDQUFDLEVOaUJQLEVRMUJFLEVSMEJFLEFRMUJBLENSMEJD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QUFJLENBQUM7QUFDdkUsQUdWRixBS2hCSSxBRVJGLENIY0gsQ0FBQyxDQUFDLEtQb0JLLEFHVkEsQU94QkEsQ0FBQyxDUHdCQyxBS2hCQSxFUjBCRSxDVWxDQyxDQUFDLENWa0NDLENRMUJDLENBQUMsQUVSQSxDQUFDLENWa0NDLElBQUksQVExQkEsQ0FBQyxHUjBCRyxDQUFDLEFHVlAsQUtoQk8sQUVSQSxDRlFDLENBQUMsQUVSQSxDQUFDLENWa0NDLENBQUMsR1VsQ0csQ1ZrQ0MsRVVsQ0UsQ1ZrQ0MsQ1ExQkMsQUVSQSxDQUFDLENGUUMsQ1IwQkMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUN4RCxBR1ZBLEFHUEosQUVUUSxBVWhDUixHUndCRyxBUXhCQyxNWnlDSyxBWXpDRSxFbEIyREwsQUdWQSxFS2pCTyxDQUFDLEVSMkJSLEFHVkEsQ0hVQSxBR1ZBLEFlakRhLEdaeUNDLENBQUMsSUVUSSxBVTlCckIsRVp1Q3VCLENFVEMsQ0ZTQyxDTmtCdkIsQUdWQSxDSFVBLEFHVkEsQWUvQ00sR1p1Q3NCLEFFVEEsQ0FBQyxDUjJCekIsQUdWQSxBR1IwQixFTmtCMUIsQUdWQSxBZS9DUyxFbEJ5RFQsQUdWQSxDS2pCK0IsQ0FBQyxHVTVCMUMsQ1Y0QjhDLENBQUMsQ0FBQyxDUjJCckMsQUdWQSxDZTdDTixDbEJ1RE0sQUdWQSxFZTdDRixNbEJ1RFksQVEzQnNDLENMaUJ0QyxBS2pCdUMsQVU1QjVDLENsQnVESyxDR1ZBLENIV2IsQ0dWQSxFZTdDQSxFbEJ1REEsQ0FBQSxBR1ZBLENBQUEsQ2U3Q0ssV2xCdURMLENBQUMsQUdWRCxDQUFBLEVlN0NvQixHZjZDaEIsRUFBQSxFQUFBLEFlN0NzQixDbEJ1RGQsRUFBQSxHa0J2RG9CLEdmNkMzQixFQUFBLEFlN0NrQyxLQUFLLEtBR3BELE1mMEN1QixDZTFDakIsQ2YwQ2lCLEVBQ2IsS0FBQSxBZTNDTSxDZjJDTixRZTNDZ0IsRUFBUSxHZjJDeEIsQWV2Q04sQ2Z1Q00sS0FBSSxBZTFDTCxFZjBDSyxFQUFBLENlMUNHLEVmMENGLEVBQUEsRWV6Q1gsRUFBTyxPQUFTLE1meUNELEVBQUEsQWV4Q2YsRUFBTyxLZndDMEIsRUFBQSxFZXhDZixFZndDd0IsQ0FBQSxLQUFLLENBQUEsQWV2Q3hDLEtBQUssTWZ1Q3lDLEVBQUEsQWV2Q2pDLEtBQUssSWZ1Q3lDLENldkNuQyxDZnVDbUMsQ2V2QzNCLGtCZnVDcUMsRUFBQSxRQUFvQixFQUFBLElBQUEsRUFBQSxFQUFRLEtBQU0sQ0FBQSxhQUFBLENBQUEsUUFBQyxFQUFBLElBQUEsQ0FBQSxDQUFRLEVBQ2pILEtBQUEsQ0FBQSxhQUFBLENBQUEsS0FBSSxFQUFBLEVBQUEsR0FBQyxFQUFBLE1BQUksRUFBQSxRQUFPLEVBQUEsSUFBUyxFQUFBLFNBQUssRUFBQSxtQkFBVSxFQUFBLEVBQUEsS0FBb0IsQ0FBQSxhQUFBLENBQUEsUUFBQyxFQUFBLElBQVEsQ0FBQSxDQUFBLEVBQ3JFLEtBQUEsQ0FBQSxhQUFBLENBQUEsS0FBSSxFQUFBLEVBQUEsR0FBQyxFQUFBLFdBQUksRUFBQSxRQUFZLEVBQUEsSUFBUyxFQUFBLFNBQUssRUFBQSx3QkFBVSxFQUFBLE9BQXlCLEVBQUEsSUFBQSxDQUFBLFFBQWMsQ0FBQSxJQUFBLENBQUEsS0FBUyxDQUFBLFdBQVcsQ0FBQSxFQUFBLEVBQUEsS0FBYyxDQUFBLGFBQUEsQ0FBQSxhQUFDLEVBQUEsSUFBQSxDQUFBLENBQWEsRUFDbEksSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFXO0FadUNuQyxBU2hDSSxBR05FLEFHYlYsQUNIRixLQUFLLENER0MsQ0FBQyxBRVRBLEdqQjRERyxBU2hDQSxDVGdDQyxDU2hDRyxDR0xBLEFHZEQsQ0NIRixDaEJzREksQWdCdERILENQc0JJLEFNbkJBLENObUJJLENUZ0NGLEFZckNKLENBQUEsR1pxQ1EsQVNoQ0QsQU1uQkMsQ2ZtREMsQVNoQ0csQU1uQkgsRUNIRixDQUFDLENQc0JLLENPdEJILElKaUJWLENBQUEsS0FBSSxFQUFBLEVBQUEsR0FBQyxFQUFBLE9BQUksRUFBQSxRQUFRLEVBQUEsSUFBUyxFQUFBLFNBQUssRUFBQSxvQkFBVSxFQUFBLE9BQXFCLEVBQUEsSUFBQSxDQUFBLFFBQWMsQ0FBQSxJQUFBLENBQUEsS0FBUyxDQUFBLFdBQVcsQ0FBQSxFQUFBLEVBQUEsS0FBYyxDQUFBLGFBQUEsQ0FBQSxTQUFDLEVBQUEsSUFBQSxDQUFBLENBQVMsQ0FDekg7QVpxQ1AsQVNoQ0ksQU1uQlIsQUNIQSxBQ05JLEFFUkosS1BnQ1MsQ0FBQyxBR2ZOLENBQUMsQ0hnQkssQU9qQ0osQ0hjQyxDaEJzREMsQWdCdERBLEFHZEEsQ25Cb0VDLENZbkNLLEFHaEJKLENIZ0JLLEFLekJKLEVGU0UsQUNIQSxDQUFDLENQc0JOLEFPdEJPLENBQUMsQUNOQSxDakI0REMsQVNoQ0UsQU90QkYsQUNOQSxDakI0REMsQWVuREEsQ0FBQyxDZm1EQSxBWW5DSyxDSEdILEFHSEksQ0hHQSxFVGdDRixBbUJwRU4sRW5Cb0VRLENTaENDLEFVcENOLENWb0NXLENVcENULENuQm9FTyxFQUFFLENZbkNLLElabUNBLEVBQUUsQVNoQ04sS1RnQ1csRUFBQyxDQUFDLENBQUM7QVMvQnRDLEFHSEUsQU9qQ1IsQVMzQnlCLENiNEM1QixBQ0hBLENBQUMsQ0FBQyxFaEJzREUsQWlCNURBLEdFUkcsSUFBSSxDUGtDRSxFT2xDQyxHUGtDRCxBZ0I3REgsQ25CK0RELEFHRkksQU9sQ0ssQ0FBQyxDVm9DRyxJQUFFLEFVcENBLENWb0NJLEFVcENILEFTM0JSLElUMkJZLENWb0NBLEFVcENDLENWb0NJLEFHRnJCLENBQUEsQWdCM0RaLElUeUJtQyxDUGtDbkIsQU9sQ29CLENBQUMsQ1BrQ3JCLEFnQjNEVCxFaEIyRFMsQU9sQ3dCLENBQUMsQ0FBQyxDVm9DUixBR0ZqQixBT2xDMEIsRVBrQzFCLENnQjNEQSxNaEIyREksRUFBQSxDZ0IzRGMsRUFBTSxHQUN2QyxFaEIwRDJCLEFnQjFEdEIsRWhCMERzQixJQUFTLENnQjFEdEIsQ2hCMERzQixDZ0J6RHBDLEVBQUssTWhCeURvQyxFQUFBLEVnQnpEeEIsT0FBTyxPQUFPLEVBQVUsRWhCeURVLEVBQUEsT0FBcUIsQWdCeER0RSxFaEJ3RHNFLElBQUEsQ0FBQSxNZ0J2RHBFLEVoQnVEa0YsQ0FBQSxHZ0J2RDNFLENoQnVEMkUsQ0FBQSxBZ0J0RGxGLEtoQnNEMkYsQ0FBQSxNZ0J0RC9FLEVBQ1osS2hCcURzRyxDQUFBLEVBQUEsRUFBQSxBZ0JyRDVGLEVBQ1YsT2hCb0RzSCxDQUFBLENBQ2pILEtnQnJEUyxNQU1wQixPQUFPLFFBQVUsU0FBa0IsRUFBTSxHQUN2QyxFQUFLLE9BQVMsQ0FDZCxJQUFJLEdBQVcsWUFDZixHQUFTLFVBQVksRUFBVSxVQUMvQixFQUFLLFVBQVksR0FBSSxHQUNyQixFQUFLLFVBQVUsWUFBYztBbkI0Q3ZCLEFVcENOLEduQm9FRCxBaUI1REEsQ0FBQyxDTDJCTyxBSzNCTixDTDJCTyxFQUNGLEFPcENGLENBQUMsSVBvQ0MsQ0FBQSxBT3BDSSxDQUFDLEVWb0NMLEVBQVcsSUFBRSxDQUFJLEdHQWpCLEFPcENpQixDUG9DakIsQU9wQ2tCLENWb0NBLENBQUssRVVwQ0QsQ1BvQ2xCLEFPcENtQixDQUFDLENQb0NwQixFQUFBLElIQW9CLEtHQW5CLEVBQUEsT0FBVSxFQUFBLEtBQVEsRUFBQSxFQUFBLE1BQVEsRUFBQSxVQUFRLEVBQUEsWUFBWSxFQUFBLFFBQWMsRUFBQSxFQUFBLENBQUEsRUFDakUsS0FBQSxDQUFBLGFBQUEsQ0FBQSxLQUFJLEVBQUEsRUFBQSxHQUFDLEVBQUEsUUFBSSxFQUFBLFFBQVMsRUFBQSxJQUFTLEVBQUEsU0FBSyxFQUFBLDBCQUFVLEVBQUEsT0FBMkIsRUFBQSxJQUFBLENBQUEsS0FBUyxDQUFBLFNBQVcsRUFBQSxFQUFBLFVBQVcsQ0FBQSxDQUNoRyxDQUNGLENBQ1A7QUhISyxBTW5CVixBQ0hBLEVBQUUsQ0owQkMsQUkxQkEsQUdkQSxPSGNPLENER0MsQ0FBQyxDQ0hDLEVQc0JILEVBQVMsSUFBRSxBTW5CQSxDTm1CSSxBTW5CSCxDQ0hBLENBQUMsRUFBRSxDUHNCQyxDQUFLLElNbkJDLEdBQUcsRU5tQkgsUU1uQlksRUFBRSxFQUFFO0Fmb0Q5QyxBU2hDUSxBTW5CUixBQ0hBLEFDTkEsQVk3QkYsQ2pCNkRDLENBQUMsQ0FBQSxBS2hDQyxHRlNHLENjdENDLEVibUNFLEFDTkEsQ0RNQyxDQ05DLENGU0MsQ2ZtREMsQWdCdERBLENBQUMsQ2hCc0RDLEFlbkRBLEFjdENFLEVwQnlEUCxFQUFXLEFNbkJGLENBQUMsQUVUQSxFQUFFLENSNEJDLENBQUksQW9CekRBLEVkc0NELENjckN4QixFcEJ3RDBCLENBQUssQ1E1QkYsRUFBRSxDRE1DLENhbENmLEM3QndGSyxBZ0J0RFksQ2hCc0RYLEFnQnREWSxDQUFDLENoQnNEWCxBZ0J0RFksRVBzQkwsQW9CeER0QixFcEJ3RGtDLENUZ0NkLEFTaENjLEFRNUJGLEVqQjREVixBUy9CMUIsQVE3QnNDLEFZM0J6QyxFQUFJLEdwQndERCxDQUFBLE1RN0JrRCxDWTFCbkQsQ1owQnFELENZMUJqRCxJcEJ1REgsQ0FBQSxLQUFJLEVBQUEsQ1E3QjhELEFZekJoQyxDcEJzRDlCLEFRN0IrRCxDQUFDLE9BQU8sQ1I2QnRFLEFRN0J1RSxDQUFDLENSNkJ4RSxNb0J0REEsR1p5QmlGLEFZekI3RSxLWnlCa0YsRUFBRSxDUjZCOUUsRUFBQSxFQUNiLEFvQnZEbUIsS3BCdURuQixDQUFBLElvQnRESixFQUFJLE9wQnNEQSxDQUFDLElvQnREVyxJcEJzREgsRUFBQSxFQUFBLENvQnREWSxFcEJzRFgsRUFBQSxNQUFJO0FUK0JwQixBUzlCUSxBUTlCUixBRVJGLENIY0QsQ0FBQyxJREdJLEVmbURFLEFpQjVEQSxDakI0REMsQWlCNURBLENSOEJHLEFNckJGLEVOcUJNLENNckJILEFJakJBLEVGUUUsQUVSQSxDVnNDRyxBUTlCRixDakI0REMsQWVuREEsQ2ZtREMsQWVuREEsQUVUQSxDQUFDLENqQjREQSxJaUI1REssQ2pCNERBLENpQjVERSxDakI0REEsQWlCNURDLEtqQjRESSxFQUFDLENBQUMsQ0FBQyxBbUJwRVYsR0ZRYyxBRVJYLEVBQUUsS0FBSyxFQUFFO0FWdUN4QixBUTlCTixBRVJGLEduQm9FRCxLbUJwRUssQ0FBQyxDRlFDLElBQUksR0FBRyxBRVJBLENWc0NMLEFVdENNLENGUUMsQ1I4QkssQVE5QkosQUVSRCxJVnNDTyxDQUFJLEFROUJMLENBQUMsSUFBSSxDQUFDLEFFUkQsRVZzQ0MsQVV0Q0MsQ1ZzQ08sSUFBQyxBVXRDSCxDVnNDTyxDUTlCSixBRVJGLENGUUcsQUVSRixDRlFHLEFFUkYsRVZzQ0ssQ0FBSyxZQUFDLENBQVksRUFBRSxDQUFBLENBQ25ELEVBQ04sS0FBQSxDQUFBLGFBQUEsQ0FBQSxLQUFJLEVBQUEsRUFBQSxTQUFDLEVBQUEsT0FBVSxFQUFBLEVBQ2IsS0FBQSxDQUFBLGFBQUEsQ0FBQyxVQUFVLEVBQUEsRUFBQSxHQUFDLEVBQUEsUUFBSTtBQUNkLEFNeEJWLEFDSEYsQUNOTSxBYXpDTixHWGlDRyxHSmlCRyxDQUFDLEFlbERBLEVkK0NFLENQMkJHLEFRakNGLENBQUMsQ1JpQ0ssQU14QkosQ0FBQyxFRVRFLEFhekNFLENyQjBFQyxBUWpDRixDRlNDLENBQUMsQ0NIQyxDQUFDLENDTkMsQWF6Q0UsQ2J5Q0QsSURNSSxBQ05BLEVGU0MsQUNIQyxBQ05BLENBQUMsQ0ZTQSxBZWxESyxFZmtESCxFRVRHLENBQUMsQ0FBQyxHYXpDUSxHYnlDRixBYXhDeEMsQ2J3Q3lDLElBQUksQ0FBQyxBYXhDQSxDYndDQyxDQUFDLGdCYXhDekMsT0FBTyxVQUFVLFNBQVMsS0FBSztBOUJxR3RDLEFTM0JVLEFNeEJSLEFDSEYsS0NORyxDRlNDLEFDSEEsQUNORCxDRlNFLEFDSEEsQUNOQSxJRlNJLEFFVEEsQ0ZTQyxBRVRBLENqQjREQyxBZ0J0REEsRWhCc0RFLENlbkRDLEFDSEEsQUNOQSxDQUFDLENGU0MsQUVUQSxDQUFDLENGU0MsQ053QlIsQ014QlUsQUNIQSxDUDJCSyxBTzNCSixJUDJCTSxDQUFJLEFNeEJMLENBQUMsSUFBSSxDQUFDLENBQUMsQ053QkQsQ0FBUSxDVDJCaEIsRUFDdkIsQ1M1QndDLENBQUksS0FBQyxDQUFLLGVBQUMsQ0FBZSxFQUFFLENBQUEsQ0FDekQsRUFDTCxJQUFJLENBQUMsU0FBUyxFQUFFLFlB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QUFPLE1BQVEsU0FBVSxHQUN4QyxHQUFJLEtBQ0osS0FBSyxHQUFJLEtBQU8sR0FDVixPQUFPLFVBQVUsZUFBZSxLQUFLLEVBQUssSUFBTSxFQUFJLEtBQUssRUFFL0QsT0FBTztBbENrQ29CLEFlbkQzQixHTjhCQyxHTTlCRyxDQ0hDLENBQUMsS2hCc0Q0QixJZW5EbkIsQ2ZtRHdCLEVlbkRyQixFZm1EeUIsQ0FBQyxDZW5EdEIsQ0FBQyxFZm1EeUIsQ0FBQyxJQUFJLENBQUMsR2VuRHBCLElmbUQyQixBZW5EdkIsQ2ZtRHVCLFdlbkRaO0FBQUUsQUVQbkQsQUVURSxDVitDSCxJVG9CZ0UsQWdCckQ1RCxDaEJxRDZELEFnQnJENUQsQ0FBQyxDR2RDLENBQUMsRUpnQm1ELEVFUC9DLENBQUMsQUVUQSxDQUFDLEtKZ0JzRCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdJaEI5QyxDQUFDLENGU0MsR0FBRyxBRVRBLENGU0MsQUVUQSxDQUFDLFNGU1EsQ0FBQyxFQUFFO0FBQ3pDLEFrQjVESixHcEJrRTJFLEFDRHhFLENEQ3lFLEFDRHhFLENBQUMsT0NMTyxBa0IxRFosR2xCMERlLElBQUksQ0FBQyxDa0IxRFosT0FBUyxRQUFRLE1BQVEsUUFBUSxZQUN6QyxRQUFRLE9BQVMsUUFBUSxVQUFZLFFBQVE7QW5Db0h6QyxBZXBERixBRU5FLEFFVEEsQ0hjSCxDQUFDLElEQ0ksQ0FBQyxDZm9EQyxBaUIxREEsQUVUQSxDQUFDLENGU0MsR2pCMERHLEFpQjFEQSxDQUFDLENqQjBEQyxBaUIxREEsRUZNRSxBSWZBLENKZUMsQUlmQSxHRlNHLENBQUMsQ0VUQyxDQUFDLENBQUMsR0plRSxBRU5DLENBQUMsQ0ZNQSxFQUFFLE1BQU0sRUFBRTtBZnFEakMsQWVwREYsR0lmRCxHSmVHLENBQUMsR2ZvREcsR0FBRyxHQUFHLEVlcERFLENBQUMsQ2ZvREMsS2VwREssQ2ZvREMsQ0FBQyxBZXBEQSxLZm9ESyxFQUFFLElBQUksQWVwREEsQ2ZvREMsQWVwREEsQ2ZvREMsQWVwREEsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxHQUFHLFVBQVMsQ0FBQyxFQUFFO0FmcUR2SCxBZXBEQSxBQ0ROLEFDTEksQW1CL0RKLE9BQU8sQ25CK0RDLEVGTUUsQUNEQSxDRENDLEFDREEsQ2hCcURDLEFlcERBLEVFTkUsQ2pCMERDLEFvQ3pIRSxFbkIrREEsQ2pCMERDLEFlcERBLENmb0RDLEFlcERBLEFFTkEsQ0RLQyxBQ0xBLENES0MsRW9CcEVJLEVwQ3lIQSxBZXBEQSxFZm9ERSxBZXBEQSxTRU5TLENqQjBEQSxBZ0JyREMsQUNMQSxHREtHLENoQnFEQSxFQUFDLE9nQnJEUSxFQUFFLEVBQUM7QWhCc0Q1QyxBZXBEQSxBQ0ROLEFDTEUsQUVURixNSGNJLEVDTEUsSWpCMERJLEFnQnJEQSxHQUFHLENoQnFEQyxBZXBEQSxDZm9EQyxBZXBEQSxBSWZBLEVIY0UsQUNMQSxBRVRBLENIY0MsQUNMQSxDakIwREMsQWVwREEsRUFBRSxFZm9ERSxDZ0JyREMsQ0FBQyxFaEJxREUsQWVwREEsQ2ZvREMsQWVwREEsQ0FBQyxHZm9ERyxDQUFDLE9BQU8sRUFBRSxFbUJuRWQsS25CbUVxQixHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDdkUsQW1CbkVKLE9KZUcsQ0lmQyxDQUFDLElBQUksQ0FBQyxDbkJtRUMsS0FBSyxDQUFDLEttQm5FSyxFQUFFLEVBQUUsT0FBTztBSGVuQyxBQ0xFLEFvQjdESixLdEJtRUssQ0FBQyxDZm9EQyxDQUFDLENBQUMsQWdCckRBLEFDTEEsR29CekJULENyQjhCYSxBQ0xBLElBQUksR0RLRyxDQUFDLEFDTEEsQW9CekJaLElwQnlCZ0IsQ0FBQyxHb0J6QlYsRXJCOEJjLENxQjdCNUIsTXJCNkJtQyxBQ0xDLEFvQnhCOUIsRXJCNkIrQixBQ0xDLE1ES0ssRUFBRSxNcUI3QnZCLFNBR3RCLFNBQVMsS0FBSyxLQUFNLEdB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LEdFVkcsQ0ZVQyxDakJ5REMsQWlCekRBLENqQnlEQyxBbUJuRUEsR0ZVRyxBRVZBLENGVUMsQ0FBQyxFRVZFLENuQm1FQyxBbUJuRUEsQ25CbUVDLEVBQUMsQ21CbkVFLENBQUMsRW5CbUVDLENtQm5FRSxDbkJtRUEsQW1CbkVDLEluQm1FRyxFQUFDLENBQUMsQ0FBQyxFbUJuRUksRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztBSGV0RCxBR2RJLENKZUgsQ0FBQyxRQ0RRLENBQUMsQ0dkQSxDQUFDLENBQUMsS0FBSyxDSGNFLENBQUMsR0FBRyxHQUFHLFVBQVMsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUM7QWhCc0RoRCxBaUJ6REosQUVWRSxVbkJtRU0sQ21CbkVELEVGVUksQUVWRixDRlVHLEVqQnlERSxHQUFHLENBQUMsQ2lCekRDLEdBQUcsUWpCeURPLEVpQnpERSxDQUFDLEVBQUU7QWpCMEQ1QixBZXBEUixBQ0RFLEFDSkUsQXVCckNKLE14QnlDTSxJQUFJLENEQ0MsQUVMQSxDakJ5REMsQWVwREEsQUVMQSxBdUJ2QlosQ3hDZ0ZhLEFnQnJEQSxFQ0pFLENBQUMsQ0RJQyxDaEJxREMsQ0FBQyxFZXBERSxBeUI1QlosQ3pCNEJhLEVmb0RFLENBQUMsQ2VwREMsQ0VMQyxFRktFLEFFTEEsQ0FBQyxDakJ5REMsQWlCekRBLENqQnlEQyxBaUJ6REEsSWpCeURJLENBQUMsQXdDaEZiLEV4Q2dGZSxBZXBERCxDeUIzQnBDLEN4QytFdUMsR2VwREUsQ2ZvREUsQXdDL0V0QyxDeEMrRXVDLEFlcERELElmb0RLLENBQUMsQ0FBQyxFZXBEQyxFQUFFLEl5QjNCL0IsU0FBUyxFQUFJLEdBQ2pDLE1BQU8sZ0JBQWUsRUFBUSxFQUFJLElBR3BDLEtBQUssZUFBZ0IsRUFDckIsS0FBSyxjQUFlLEVBQ3BCLEtBQUssUUFBVSxLQUNmLEtBQUssV0FBYSxLQUdwQixRQUFTLGdCQUFlLEVBQVEsRUFBSSxHQUNsQyxHQUFJLEdBQUssRUFBTyxlQUNoQixHQUFHLGNBQWUsQ0FFbEIsSUFBSSxH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LFNBQUssQUVaRixDbkJxRUcsQ0FBQyxFaUJ6REUsQ0ZLQyxDQ0RLLENBQUMsQ0FBQyxBQ0pKLENESUssQ2hCcURILENBQUMsQ2lCekRDLENqQnlEQSxFZ0JyRE8sQ0FBQyxBQ0pKLENqQnlEQSxBZXBERixBRUxHLEVqQnlEQyxBZXBERixDQUFDLEVDRFMsQ2hCcURKLEFnQnJESyxDQUFDLEFDSkosQ2pCeURELENBQUMsQWlCekRFLENqQnlERDtBaUJ4RDVCLEFFWkEsS25CcUVELEVlcERFLEFDREksQ0FBQyxFQ0pGLENBQUMsQ0VaRCxDSmlCRyxFSWpCQSxHRllLLENBQUMsQ0VaRCxFQUFFLENGWUcsQ0FBQyxBRVpGLENGWUcsTUFBTSxBRVpGLEVGWUksQ0FBQztBRk0xQixBSWpCRixBd0JoRk4sRzNDcUpHLEVnQnBETSxBQ0xKLENES0ssQ0FBQyxLR2pCRCxBd0I3RVYsQ3hCNkVXLEdKaUJLLENBQUMsSUFBSSxBNEI5RlosRTVCOEZjLEFJakJGLEVBQUUsQ0FBQyxJSmlCTSxDQUFDLEFJakJGLEF3QjdFWCxDNUI4RmMsQ0lqQkQsQ0FBQyxBd0IxRTlCLElBRkEsR0FBSSxHQUFPLEdBQUksT0FBTSxVQUFVLE9BQVMsR0FDcEMsRUFBSSxFQUNELEVBQUksRUFBSyxRQUNkLEVBQUssS0FBTyxVQUFVLEVBRXhCLFNBQVEsU0FBUyxXQUNmLEVBQUcsTUFBTSxLQUFNLEtBVG5CLE9BQU8sUUFBVTtBeEJnRlgsR0hpQkMsQUNKSixDRElLLEFDSkwsQ0RJTSxBQ0pKLEVGSUUsRUVKRSxDQUFDLEVFYkEsQ0FBQyxDRmFHLENBQUMsQ0FBQyxVRWJRLEVBQUUsQ0FBQztBbkJzRXpCLEFnQnBEQSxBR2pCSSxDRmNMLENBQUMsR0ZHRyxDQUFDLEdDQUcsSWhCb0RJLENtQnJFRCxDbkJxRUcsQ2dCcERDLENBQUMsbUJoQm9ETyxJQUFJLEVBQUU7QUFDMUIsQWVwREEsQUlsQlEsQUFDUixDSGlCSCxDQUFDLE1oQm9ETSxHZXBERyxDZm9EQyxBZXBEQSxFZm9ERSxLZXBESyxHQUFHLFVBQVMsQ0FBQyxFQUFFO0FmcUQ1QixBZXBEQSxBRUhOLEFFZE0sVW5CcUVJLENBQUMsRWVwREUsQUVIQSxDRkdDLEFFSEEsQUVkRixDbkJxRUcsQ0FBQyxDZXBEQyxDQUFDLEtmb0RLLEFpQnZEQSxDQUFDLEVqQnVERSxBZXBEQSxDQUFDLENBQUMsRWZvREUsQ0FBQyxLaUJ2REssR0FBRyxZQUFXO0FqQndENUMsQWdCcEROLEFDSEUsQUVmVSxLSmtCUCxBSWpCQSxDSmlCQyxHRUhHLENqQnVEQyxBZ0JwREEsQUNIQSxDakJ1REMsQWdCcERBLEFDSEEsSUFBSSxDakJ1REMsQWlCdkRBLENqQnVEQyxHZ0JwREcsQ0FBQyxDaEJvREMsQWlCdkRBLENqQnVEQyxBaUJ2REEsQ0RHQyxHQUFHLEVoQm9ERSxDQUFDLElBQUksQWlCdkRBLENqQnVEQyxBaUJ2REEsRWpCdURFLEFnQnBERCxFaEJvREcsQWdCcERELEVBQUMsRWhCb0RJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDNUMsQWdCcERKLEE0QjlFRixDM0IyRUMsQ0FBQSxDRkdFLEFJakJBLENKaUJDLENBQUMsQ0NBQyxFNEI5RUcsRTVDa0lDLENBQUMsQ2dCcERDLEdBQUcsSWhCb0RJLEFnQnBEQSxBNEI5RUMsQzVDa0lBLEFnQnBEQSxDNEI5RUksQzVDa0lILEU0QzVIbkIsRTVDNEh1QixBZ0JwREMsRWhCb0RDLElBQUksQTRDNUhwQixFNUM0SHFCLENBQUMsQ0FBQyxDNEMzSDlCLElBQUssRUFBUSxDQUNYLEdBQUksT0FBTyxvQkFDVCxLQUFNLElBQUksT0FBTSxFQUNQLFFBQU8sb0JBQ2hCLFFBQVEsTUFBTSxHQUVkLFFBQVEsS0FBSyxHQUVmLEdBQVMsRUFFWCxNQUFPLEdBQUcsTUFBTSxLQUFNLFdBaEJ4QixHQUFJLE9BQU8saUJBQ1QsTUFBTyxFQUdULElBQUksSUFBUyxDQWViLE9BQU8sR0FXVCxRQUFTLFFBQVEsR0FFZixJQUNFLElBQUssT0FBTyxhQUFjLE9BQU8sRUFDakMsTUFBTyxHQUNQLE9BQU8sRUFFVCxHQUFJLEdBQU0sT0FBTyxhQUFhLEVBQzlCLE9BQUksT0FBUSxHQUFZLEVBQ2EsU0FBOUIsT0FBTyxHQUFLLGNBNURyQixPQUFPLFFBQVU7QzdCbUdoQixDQUFDLEdmb0RHLENnQnBEQyxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsVUFBUyxPQUFPLEVBQUUsTUFBTSxFQUFFO0FBQzlDLEFDSFIsQUVkRSxHbkJxRUMsS21CckVLLENIaUJLLENBQUMsQUdqQkosR0ZjRyxDREdLLEFDSEosQ0RHSyxRQ0hJLENBQUMsQ0RHSSxFQUFFLENHakJULENIaUJXLEFDSEgsR0FBRyxZQUFXO0FESWpDLEFHakJOLFFBQUksQ0FBQyxDSGlCSyxNQUFNLENHakJILENBQUMsQ0hpQkssQ0dqQkosQ0hpQk0sQ0FBQyxTR2pCSSxFSGlCTyxBR2pCTCxDSGlCTSxBR2pCTCxDQUFDLEVBQUMsQ0FBQyxDQUFDLEdIaUJTLENBQUMsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7QWhCcURwRSxBZ0JwRFEsQUNIUixHRWRDLE1GY00sQ0RHSyxHQUFHLEFDSEosQ0FBQyxDakJ1REMsQ2dCcERLLENoQm9ESCxLZ0JwRFMsQUNISixDREdLLEFDSEosSURHUSxDQ0hILEVER00sQUNISixDQUMzQixFREVrQyxFQ0Y5QixDREVpQyxBQ0RwQyxFRENzQyxDQUFDLENoQm9EakIsSUFBSSxFQUFFLEVpQnJEdEI7QWpCc0ROLEFpQnREUSxBNEIxR1osT0FBTyxDN0NnS0MsR2lCdERXLENqQnNEUCxFQUFFLEM2Q2hLRyxPNUIwR2EsQ0FBQyxBNEIxR04sSzVCMEdXLEVBQUUsQ0FBQTtBakJ1RGhDLEFnQnBESSxBR2pCUixHRmNzQyxFQUNwQyxJRWZLLENuQnFFQyxBZ0JwREksQ2hCb0RILEFtQnJFQSxJbkJxRUksQWlCdERWLENqQnNEVyxBaUJ0RFYsQ0RFZSxDQ0ZWLEVERWEsR2hCb0RELEdBQUcsQWdCcERJLENBQUMsQ0dqQlgsRUhpQmMsQUdqQlosQ25CcUVTLEFnQnBESSxDaEJvREgsQW1CckVSLEVIaUJjLENBQUMsQ0FBQztBaEJxRGxDLEFnQnBESSxBQ0hHLEFFZFQsVW5CcUVNLENBQUMsQWlCdkRTLEFFZFQsQ0ZjVSxBRWRULENIaUJLLENBQUMsRWhCb0RGLEFtQnJFQSxDbkJxRUMsQWlCdkRTLEFFZFQsQ0ZjVSxJakJ1REwsQW1CckVBLENuQnFFQyxBZ0JwREksQUdqQkosR0hpQk8sQ0dqQkgsRW5CcUVFLENBQUMsQ21CckVDLEVBQUUsQ25CcUVDLEFtQnJFRCxDbkJxRUUsQWlCdkRTLEFFZFQsQ0hpQkksQ2hCb0RGLEFnQnBERyxBQ0hNLENBQUMsQUVkVCxDbkJxRUMsQWdCcERHLEFDSE0sQUVkVCxDRmNTLENFZFAsQ0FBQyxDbkJxRUMsQ0FBQyxFbUJyRUUsQ0FBQyxDbkJxRUMsQ0FBQyxDQUFDLENtQnJFQyxDQUFDLENBQUMsQ0FBQztBbkJzRWhELEFnQnBETSxBOEIvR1osRzdCMkdrRCxBRWIvQyxBMkI5RkMsQzdCNEdELENBQUEsS2pCdURPLENBQUMsQThDbktHLEM5QitHRSxLQUFLLEVoQm9ERixDQUFDLEFnQnBESSxDQUFDLENoQm9ESixBZ0JwREssQThCOUd4QixJOUNrS3VCLEE4Q2pLckIsRTlDaUt1QixBZ0JwREssQ0FBQyxHaEJvREYsQThDaktwQixFOUNpS3FCLENBQUMsQWdCcERNLENoQm9ETCxBZ0JwRE0sSzhCN0dyQixVQUNmLE1BQU0sT0FFVixTQUFVLE9BQU8sUUFBVSxRQUFRLDZCQUNuQyxRQUFRLE9BQVMsUUFBVSxRQUMzQixRQUFRLFNBQVcsUUFDbkIsUUFBUSxTQUFXLFFBQVEsNkJBQzNCLFFBQVEsT0FBUyxRQUFRLDJCQUN6QixRQUFRLFVBQVksUUFBUSw4QkFDNUIsUUFBUSxZQUFjLFFBQVE7QTlCcUdsQixDQ0hYLENBQUMsR2pCdURHLE9nQnBEVyxDQUFDLEtBQUssRUFBRTtBQUNWLEFHakJaLEduQnFFQyxLbUJyRUssRUFBRSxLSGlCUyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0dqQlYsQ0hpQlksSUFBSSxFQUFFLEVBQUUsRUFBRSxDQUFDO0FDRjVDLEFFZEksQTRCakdKLE9BQU8sRS9Ca0hNLEVHaEJQLEVGYU8sQ0FBQyxDOEIvR0csQzVCa0dYLENBQUEsTUZhaUIsQThCL0dFLEM5QitHRCxNQUFNLEFFYnhCLENBQUEsRUZhMkIsR0VidkIsRUFBQSxFQUFBLEdGYWdDLElBQUksQ0VibkMsQ0ZhcUMsQ0VickMsSUFBUyxFQUFBLFNBQUssRUFBQSxJQUFXLENBQUEsU0FBSyxFQUFBLE1BQVcsRUFBQSxJQUFBLENBQU0sTUFBTyxFQUFBLFNBQVEsRUFBQSxZQUFVLEVBQUEsRUFDMUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFTLEdBQUcsRUFBRSxLQUFLLEVBQUU7QW5Cb0V6QyxBZ0JwRFUsQUNIVixBRVpRLFNGWUQsQ0VaSyxHbkJtRUQsQWlCdkRBLENBQUMsQ2pCdURDLEFnQnBESSxDQUFDLEVHZkUsR0hlRyxBQ0hKLEFFWkksQ0hlQyxBQ0hKLENER0ssR0NIRCxBRVpJLENGWUgsQ0FBQyxFRVpNLElBQUksQ0FBQyxDbkJtRWYsSUFBSSxBbUJuRWdCLENBQUMsQ25CbUVmLFVtQm5FMEIsQ0FBQztBbkJvRXJELEFtQm5FTSxDRllULENBQUMsS0RHUyxDaEJvREgsQWdCcERJLENoQm9ESCxDbUJuRUssSW5CbUVBLENBQUMsS0FBSyxDQUFDLEFtQm5FSSxHQUFHLElBQUksQ0FBQyxJbkJtRUEsQ0FBQyxJQUFJLENBQUMsQ21CbkVLLENuQm1FSCxBbUJuRUksRW5CbUVGLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztBZ0JuRHRELEFHZkEsQTZCdEdWLEdoRHlLRyxJZ0R6S0ksRzdCc0dPLEdIZUcsQ0FBQyxDZ0NySEQsRzdCc0dLLEdIZUcsQUdmQSxFNkJ0R0EsQ2hDcUhHLE1HZmQsSUhldUIsQ0FBQyxFQUFFLENHZmxCLENBQVksQ0FBQyxFQUFFO0FIZ0J6QixBQ0haLEFFWlksWUhlSSxDQ0hILENBQUMsR0RHTyxFR2ZFLENIZUMsQUdmQSxHRllELEFFWkksQ0hlQyxBQ0hKLENFWkssSUhlSSxDQUFDLEFHZkEsQ0ZZSCxBRVpJLENBQUEsRUZZRCxVQUFTLElBQUksRUFBRSxFREdPLEdBQUcsR0FBRyxDQUFDLENBQUM7QWhCcUQ5RCxBZ0JwRFUsT0dmRCxD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpLFxuICAgIEFwcCA9IHJlcXVpcmUoJy4vYXBwLmpzeCcpLFxuICAgIHNpbXBlcml1bSA9IHJlcXVpcmUoJy4vc2ltcGVyaXVtJyksXG4gICAgYXV0aCA9IG5ldyBzaW1wZXJpdW0uQXV0aChjb25maWcuYXBwX2lkLCBjb25maWcuYXBwX2tleSksXG4gICAgY29va2llID0gcmVxdWlyZSgnY29va2llJykucGFyc2UoZG9jdW1lbnQuY29va2llKTtcblxuLy8gUHJvdmlkZSBhIHVzZXIgdG9rZW4gZm9yIGxvYWRpbmcgbm90ZXNcblxudmFyIHRva2VuID0gY29va2llLnRva2VuIHx8IGxvY2FsU3RvcmFnZS5hY2Nlc3NfdG9rZW47XG52YXIgYXBwSWQgPSBjb25maWcuYXBwX2lkO1xuXG4vLyBJZiBubyB0b2tlbiwgYW5kIG5vIGFwcCBrZXksIHdlJ3JlIHByb2JhYmx5IG9uIHRoZSBzZXJ2ZXIsIHNvIHJlZGlyZWN0IHRvIHNpbXBsZW5vdGUgbG9naW5cbmlmICghdG9rZW4gJiYgIWNvbmZpZy5hcHBfa2V5KSB7XG4gIHdpbmRvdy5sb2NhdGlvbiA9IFwiaHR0cHM6Ly9hcHAuc2ltcGxlbm90ZS5jb20vc2lnbmluXCI7XG59XG5cbnZhciBjbGllbnQgPSBzaW1wZXJpdW0oYXBwSWQsIHRva2VuLCB7XG4gICdub3RlJyA6IHtcbiAgICBiZWZvcmVJbmRleDogZnVuY3Rpb24obm90ZSkge1xuICAgICAgbm90ZS5waW5uZWQgPSBub3RlLmRhdGEuc3lzdGVtVGFncy5pbmRleE9mKCdwaW5uZWQnKSAhPT0gLTEgPyAxIDogMDtcbiAgICAgIHJldHVybiBub3RlO1xuICAgIH0sXG4gICAgY29uZmlndXJlOiBmdW5jdGlvbihvYmplY3RTdG9yZSkge1xuICAgICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoJ21vZGlmaWNhdGlvbkRhdGUnLCAnZGF0YS5tb2RpZmljYXRpb25EYXRlJyk7XG4gICAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleCgncGlubmVkLXNvcnQnLCBbJ3Bpbm5lZCcsICdkYXRhLm1vZGlmaWNhdGlvbkRhdGUnXSk7XG4gICAgfVxuICB9LFxuICAndGFnJyA6IGZ1bmN0aW9uKG9iamVjdFN0b3JlKSB7XG4gICAgY29uc29sZS5sb2coXCJDb25maWd1cmUgdGFnXCIsIG9iamVjdFN0b3JlKTtcbiAgfVxufSwgJ3NpbXBsZW5vdGUnLCA0MCk7XG5cbnZhciBsID0gKG1zZykgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHdpbmRvdy5sb2dnaW5nRW5hYmxlZCkge1xuICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgW21zZ10uY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgIH1cbiAgfVxufVxuXG5jbGllbnRcbiAgLm9uKCdjb25uZWN0JywgbChcIkNvbm5lY3RlZFwiKSlcbiAgLm9uKCdkaXNjb25uZWN0JywgbChcIk5vdCBjb25uZWN0ZWRcIikpXG4gIC5vbignbWVzc2FnZScsIGwoXCI8PVwiKSlcbiAgLm9uKCdzZW5kJywgbChcIj0+XCIpKVxuICAub24oJ3VuYXV0aG9yaXplZCcsIGwoXCJOb3QgYXV0aG9yaXplZFwiKSk7XG5cbmNsaWVudC5vbigndW5hdXRob3JpemVkJywgKCkgPT4ge1xuXG4gIC8vIGlmIHRoZXJlIGlzIG5vIHRva2VuLCBkcm9wIGRhdGEsIGlmIHRoZXJlIGlzIGEgdG9rZW4gaXQgY291bGQgcG90ZW50aWFsbHkganVzdCBiZVxuICAvLyBhIHBhc3N3b3JkIGNoYW5nZSBvciBzb21ldGhpbmcgc2ltaWxhciBzbyBkb24ndCBraWxsIHRoZSBkYXRhXG4gIGlmICh0b2tlbikgcmV0dXJuO1xuXG4gIGNsaWVudC5yZXNldCgpLnRoZW4oKCkgPT4geyBjb25zb2xlLmxvZyhcIlJlc2V0IGNvbXBsZXRlXCIpfSk7XG5cbn0pO1xuXG52YXIgbm90ZXMgPSBjbGllbnQuYnVja2V0KCdub3RlJyk7XG52YXIgdGFncyA9IGNsaWVudC5idWNrZXQoJ3RhZycpO1xuXG5SZWFjdC5yZW5kZXIoXG4gIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXBwLCB7XG4gICAgY2xpZW50OiBjbGllbnQsXG4gICAgbm90ZXM6IG5vdGVzLFxuICAgIHRhZ3M6IHRhZ3MsXG4gICAgb25BdXRoZW50aWNhdGU6ICh1c2VybmFtZSwgcGFzc3dvcmQpID0+IHtcbiAgICAgIGF1dGguYXV0aG9yaXplKHVzZXJuYW1lLCBwYXNzd29yZCkudGhlbigodXNlcikgPT4ge1xuICAgICAgICBsb2NhbFN0b3JhZ2UuYWNjZXNzX3Rva2VuID0gdXNlci5hY2Nlc3NfdG9rZW47XG4gICAgICAgIGNsaWVudC5zZXRVc2VyKHVzZXIpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBvblNpZ25PdXQ6ICgpID0+IHtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2UuYWNjZXNzX3Rva2VuO1xuICAgICAgY2xpZW50LmRlYXV0aG9yaXplKCk7XG4gICAgICBpZiAoY29uZmlnLnNpZ25vdXQpIHtcbiAgICAgICAgICBjb25maWcuc2lnbm91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICcvJztcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pLFxuICBkb2N1bWVudC5ib2R5XG4pO1xuXG4iLCJ2YXIgUmVhY3QgICAgICAgICA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgTm90ZUxpc3QgICAgICA9IHJlcXVpcmUoJy4vbm90ZV9saXN0LmpzeCcpO1xudmFyIE5vdGVFZGl0b3IgICAgPSByZXF1aXJlKCcuL25vdGVfZWRpdG9yLmpzeCcpO1xudmFyIFRhZ01lbnUgICAgICAgPSByZXF1aXJlKCcuL3RhZ19tZW51LmpzeCcpO1xudmFyIFNlYXJjaEZpZWxkICAgPSByZXF1aXJlKCcuL3NlYXJjaF9maWVsZC5qc3gnKTtcbnZhciBOYXZpZ2F0aW9uQmFyID0gcmVxdWlyZSgnLi9uYXZpZ2F0aW9uX2Jhci5qc3gnKTtcbnZhciBBdXRoICAgICAgICAgID0gcmVxdWlyZSgnLi9hdXRoLmpzeCcpO1xuY29uc3QgY2xhc3NOYW1lcyAgPSByZXF1aXJlKCAnY2xhc3NuYW1lcycgKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25BdXRoZW50aWNhdGU6ICgpID0+IHt9LFxuICAgICAgb25TaWduT3V0OiAoKSA9PiB7fVxuICAgIH07XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm90ZXM6IFtdLFxuICAgICAgdGFnczogW10sXG4gICAgICBzaG93VHJhc2g6IGZhbHNlLFxuICAgICAgbGlzdFRpdGxlOiBcIkFsbCBOb3Rlc1wiLFxuICAgICAgYXV0aG9yaXplZDogdGhpcy5wcm9wcy5jbGllbnQuaXNBdXRob3JpemVkKClcbiAgICB9O1xuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcblxuICAgIHRoaXMucHJvcHMubm90ZXNcbiAgICAgIC5vbignaW5kZXgnLCB0aGlzLm9uTm90ZXNJbmRleClcbiAgICAgIC5vbigndXBkYXRlJywgdGhpcy5vbk5vdGVVcGRhdGUpXG4gICAgICAub24oJ3JlbW92ZScsIHRoaXMub25Ob3RlUmVtb3ZlZCk7XG5cbiAgICB0aGlzLnByb3BzLnRhZ3NcbiAgICAgIC5vbignaW5kZXgnLCB0aGlzLm9uVGFnc0luZGV4KVxuICAgICAgLm9uKCd1cGRhdGUnLCB0aGlzLm9uVGFnc0luZGV4KTtcblxuICAgIHRoaXMucHJvcHMuY2xpZW50XG4gICAgICAub24oJ2F1dGhvcml6ZWQnLCB0aGlzLm9uQXV0aENoYW5nZWQpXG4gICAgICAub24oJ3VuYXV0aG9yaXplZCcsIHRoaXMub25BdXRoQ2hhbmdlZCk7XG5cbiAgICB0aGlzLm9uTm90ZXNJbmRleCgpO1xuICAgIFxuICB9LFxuXG4gIF9jbG9zZU5vdGU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe25vdGU6IG51bGx9KTtcbiAgfSxcblxuICBvbkF1dGhDaGFuZ2VkOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXV0aG9yaXplZCA9IHRoaXMucHJvcHMuY2xpZW50LmlzQXV0aG9yaXplZCgpO1xuICAgIHRoaXMuc2V0U3RhdGUoe2F1dGhvcml6ZWQ6IGF1dGhvcml6ZWR9KVxuICAgIGlmICghYXV0aG9yaXplZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7bm90ZXM6IFtdLCB0YWdzOiBbXX0pO1xuICAgIH1cbiAgfSxcblxuICBvblNlbGVjdE5vdGU6IGZ1bmN0aW9uKG5vdGUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtub3RlOiBub3RlLCByZXZpc2lvbnM6IG51bGx9KTtcbiAgfSxcblxuICBvbk5vdGVzSW5kZXg6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkb25lID0gdGhpcy5vbkZpbmROb3RlcztcbiAgICB0aGlzLnByb3BzLm5vdGVzLnF1ZXJ5KGZ1bmN0aW9uKGRiKSB7XG4gICAgICB2YXIgbm90ZXMgPSBbXTtcbiAgICAgIGRiLnRyYW5zYWN0aW9uKCdub3RlJykub2JqZWN0U3RvcmUoJ25vdGUnKS5pbmRleCgncGlubmVkLXNvcnQnKS5vcGVuQ3Vyc29yKG51bGwsICdwcmV2Jykub25zdWNjZXNzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgbm90ZXMucHVzaChjdXJzb3IudmFsdWUpO1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUobnVsbCwgbm90ZXMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9LFxuXG4gIG9uTm90ZVJlbW92ZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMub25Ob3Rlc0luZGV4KCk7XG4gIH0sXG5cbiAgb25Ob3RlVXBkYXRlOiBmdW5jdGlvbihpZCwgZGF0YSwgb3JpZ2luYWwsIHBhdGNoKSB7XG5cbiAgICB0aGlzLm9uTm90ZXNJbmRleCgpO1xuICAgIGlmICh0aGlzLnN0YXRlLm5vdGUgJiYgaWQgPT0gdGhpcy5zdGF0ZS5ub3RlLmlkKSB7XG4gICAgICB2YXIgbm90ZSA9IHRoaXMuc3RhdGUubm90ZTtcblxuICAgICAgY29uc29sZS5sb2coXCJVcGRhdGUgY3Vyc29yIGxvY2F0aW9uIGFuZCBkbyBjb25mbGljdCByZXNvbHV0aW9uP1wiKTtcblxuICAgICAgLy8gVE9ETzogY29uZmxpY3QgcmVzb2x1dGlvbiBvZiB0aGUgbm90ZSBhbmQgdXBkYXRlIHRoZSBjb3JyZWN0XG4gICAgICAvLyBjdXJzb3IgbG9jYXRpb24uXG4gICAgICBub3RlLmRhdGEgPSBkYXRhO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7bm90ZTogbm90ZSwgcGF0Y2g6IHBhdGNofSk7XG4gICAgfVxuICB9LFxuXG4gIG9uRmluZE5vdGVzOiBmdW5jdGlvbihlLCBub3Rlcykge1xuICAgIHRoaXMuc2V0U3RhdGUoe25vdGVzOiBub3Rlc30pO1xuICB9LFxuXG4gIG9uVGFnc0luZGV4OiBmdW5jdGlvbigpIHtcbiAgfSxcblxuICBvbkNsaWNrVGFnRmlsdGVyOiBmdW5jdGlvbih0YWcpIHtcbiAgICBjb25zb2xlLmxvZyhcIkZpbHRlclwiLCB0YWcpO1xuICB9LFxuXG4gIG9uU2VhcmNoOiBmdW5jdGlvbih2KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7ZmlsdGVyOiB2fSk7XG4gIH0sXG5cbiAgZmlsdGVyTm90ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBxdWVyeSA9IHRoaXMuc3RhdGUuZmlsdGVyLFxuICAgICAgICB0cmFzaCA9IHRoaXMuc3RhdGUuc2hvd1RyYXNoLFxuICAgICAgICBub3RlcyA9IHRoaXMuc3RhdGUubm90ZXMgfHwgW10sXG4gICAgICAgIGZpbHRlciA9IChub3RlKSA9PiB7IHJldHVybiB0cmFzaCB8fCAhbm90ZS5kYXRhLmRlbGV0ZWQgfTtcblxuICAgIGlmIChxdWVyeSkge1xuICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAocXVlcnksICdnaScpO1xuICAgICAgZmlsdGVyID0gYW5kKGZpbHRlciwgZnVuY3Rpb24obm90ZSl7XG4gICAgICAgIGlmIChub3RlLmRhdGEgJiYgbm90ZS5kYXRhLmNvbnRlbnQpIHJldHVybiByZWcudGVzdChub3RlLmRhdGEuY29udGVudCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBub3Rlcy5maWx0ZXIoZmlsdGVyKTtcbiAgfSxcblxuICBvblVwZGF0ZUNvbnRlbnQ6IGZ1bmN0aW9uKG5vdGUsIGNvbnRlbnQpIHtcbiAgICBpZiAobm90ZSkge1xuICAgICAgbm90ZS5kYXRhLmNvbnRlbnQgPSBjb250ZW50O1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7bm90ZTogbm90ZX0pO1xuXG4gICAgICB2YXIgY29tbWl0ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnByb3BzLm5vdGVzLnVwZGF0ZShub3RlLmlkLCBub3RlLmRhdGEpO1xuICAgICAgfSkuYmluZCh0aGlzKTtcblxuICAgICAgdGhyb3R0bGUobm90ZS5pZCwgY29tbWl0KTtcbiAgICB9XG4gIH0sXG5cbiAgb25VcGRhdGVUYWdzOiBmdW5jdGlvbihub3RlLCB0YWdzKSB7XG4gICAgaWYgKG5vdGUpIHtcbiAgICAgIG5vdGUuZGF0YS50YWdzID0gdGFncztcbiAgICAgIHRoaXMucHJvcHMubm90ZXMudXBkYXRlKG5vdGUuaWQsIG5vdGUuZGF0YSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtub3RlOiBub3RlfSk7XG4gICAgfVxuICB9LFxuXG4gIG9uVHJhc2hOb3RlOiBmdW5jdGlvbihub3RlKSB7XG4gICAgaWYgKG5vdGUpIHtcbiAgICAgIG5vdGUuZGF0YS5kZWxldGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMucHJvcHMubm90ZXMudXBkYXRlKG5vdGUuaWQsIG5vdGUuZGF0YSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtub3RlOiBudWxsfSk7XG4gICAgfVxuICB9LFxuXG4gIG9uUmVzdG9yZU5vdGU6IGZ1bmN0aW9uKG5vdGUpIHtcbiAgICBpZiAobm90ZSkge1xuICAgICAgbm90ZS5kYXRhLmRlbGV0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucHJvcHMubm90ZXMudXBkYXRlKG5vdGUuaWQsIG5vdGUuZGF0YSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtub3RlOiBudWxsfSk7XG4gICAgfVxuICB9LFxuXG4gIG9uUmV2aXNpb25zOiBmdW5jdGlvbihub3RlKSB7XG4gICAgdGhpcy5wcm9wcy5ub3Rlcy5nZXRSZXZpc2lvbnMobm90ZS5pZCwgdGhpcy5fbG9hZFJldmlzaW9ucyk7XG4gIH0sXG5cbiAgX2xvYWRSZXZpc2lvbnM6IGZ1bmN0aW9uKGUsIHJldmlzaW9ucykge1xuICAgIGlmIChlKSByZXR1cm4gY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGxvYWQgcmV2aXNpb25zXCIsIGUpO1xuICAgIHRoaXMuc2V0U3RhdGUoe3JldmlzaW9uczogcmV2aXNpb25zfSk7XG4gIH0sXG5cbiAgYXV0aG9yaXplZDogZnVuY3Rpb24oZm4pIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5hdXRob3JpemVkKSByZXR1cm4gZm4oKTtcbiAgfSxcblxuICB1bmF1dGhvcml6ZWQ6IGZ1bmN0aW9uKGZuKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmF1dGhvcml6ZWQpIHJldHVybiBmbigpO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgbm90ZXMgPSB0aGlzLmZpbHRlck5vdGVzKCk7XG4gICAgdmFyIHRhZ3MgPSB0aGlzLnRhZ1xuICAgIHZhciBub3RlID0gdGhpcy5zdGF0ZS5ub3RlO1xuICAgIHZhciByZXZpc2lvbnMgPSB0aGlzLnN0YXRlLnJldmlzaW9ucztcblxuXHR2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZXMoIHtcblx0XHQnc2ltcGxlbm90ZS1hcHAnOiB0cnVlLFxuXHRcdCdub3RlLW9wZW4nOiB0aGlzLnN0YXRlLm5vdGVcblx0fSApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwXCI+XG4gICAgICAgIHsgdGhpcy5hdXRob3JpemVkKCAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzb3VyY2UtbGlzdFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICAgICAgICAgICAgPE5hdmlnYXRpb25CYXIgdGl0bGU9e3RoaXMuc3RhdGUubGlzdFRpdGxlfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1jb21wYWN0XCI+XG4gICAgICAgICAgICAgICAgICA8U2VhcmNoRmllbGQgb25TZWFyY2g9e3RoaXMub25TZWFyY2h9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbFwiPlxuICAgICAgICAgICAgICAgICAgPE5vdGVMaXN0IHJlZj1cImxpc3RcIiBub3Rlcz17bm90ZXN9IG9uU2VsZWN0Tm90ZT17dGhpcy5vblNlbGVjdE5vdGV9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Tm90ZUVkaXRvclxuICAgICAgICAgICAgICAgIG5vdGU9e25vdGV9XG4gICAgICAgICAgICAgICAgcmV2aXNpb25zPXt0aGlzLnN0YXRlLnJldmlzaW9uc31cbiAgICAgICAgICAgICAgICBvblNpZ25PdXQ9e3RoaXMucHJvcHMub25TaWduT3V0fVxuICAgICAgICAgICAgICAgIG9uVXBkYXRlQ29udGVudD17dGhpcy5vblVwZGF0ZUNvbnRlbnR9XG4gICAgICAgICAgICAgICAgb25VcGRhdGVUYWdzPXt0aGlzLm9uVXBkYXRlVGFnc31cbiAgICAgICAgICAgICAgICBvblRyYXNoTm90ZT17dGhpcy5vblRyYXNoTm90ZX1cbiAgICAgICAgICAgICAgICBvblJlc3RvcmVOb3RlPXt0aGlzLm9uUmVzdG9yZU5vdGV9XG4gICAgICAgICAgICAgICAgb25SZXZpc2lvbnM9e3RoaXMub25SZXZpc2lvbnN9XG4gICAgICAgICAgICAgICAgb25DbG9zZU5vdGU9e3RoaXMuX2Nsb3NlTm90ZX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgfSkgfVxuICAgICAgICB7IHRoaXMudW5hdXRob3JpemVkKCAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxBdXRoIG9uQXV0aGVudGljYXRlPXt0aGlzLnByb3BzLm9uQXV0aGVudGljYXRlfSAvPlxuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufSk7XG5cbnZhciB0aW1lcnMgPSB7fTtcblxuZnVuY3Rpb24gdGltZXIoaWQpIHtcbiAgdmFyIHQgPSB0aW1lcnNbaWRdO1xuICBpZiAoIXQpIHRpbWVyc1tpZF0gPSB7IHN0YXJ0OiAobmV3IERhdGUoKSkuZ2V0VGltZSgpLCBpZDogLTEgfTsgXG4gIHJldHVybiB0aW1lcnNbaWRdO1xufTtcblxuZnVuY3Rpb24gY2xlYXJUaW1lcihpZCkge1xuICBkZWxldGUgdGltZXJzW2lkXTtcbn1cblxudmFyIG1heFRpbWUgPSAzMDAwO1xuXG5mdW5jdGlvbiB0aHJvdHRsZShpZCwgY2IpIHtcbiAgdmFyIHQgPSB0aW1lcihpZCksXG4gICAgICBub3cgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpLFxuICAgICAgZWxsYXBzZWQgPSBub3cgLSB0LnN0YXJ0LFxuICAgICAgcGVyZm9ybSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdCA9IHRpbWVyKGlkKSxcbiAgICAgICAgICAgIG5vdyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCksXG4gICAgICAgICAgICBlbGxhcHNlZCA9IG5vdyAtIHQuc3RhcnQ7XG5cbiAgICAgICAgY2IoKTtcbiAgICAgICAgY2xlYXJUaW1lcihpZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGlkLCBcIkZpcmVkIGFmdGVyXCIsIGVsbGFwc2VkKTtcbiAgICAgIH07XG5cbiAgY2xlYXJUaW1lb3V0KHRpbWVyLmlkKTtcblxuICBpZiAoZWxsYXBzZWQgPiBtYXhUaW1lKSByZXR1cm4gcGVyZm9ybSgpO1xuXG4gIHRpbWVyLmlkID0gc2V0VGltZW91dChwZXJmb3JtLCBtYXhUaW1lKTtcbn1cblxuZnVuY3Rpb24gYW5kKGZuLCBmbjIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG8pIHtcbiAgICBpZiAoIWZuKG8pKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGZuMihvKTtcbiAgfTtcbn1cbiIsInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uQXV0aGVudGljYXRlOiAoKSA9PiB7fVxuICAgIH1cbiAgfSxcblxuICBvblNpZ25JbjogZnVuY3Rpb24oKSB7XG4gICAgLy8gVE9ETzogcGVyZm9ybSBsb2dpbiByZXF1ZXN0LCBuZWVkcyBhdXRoIGNsaWVudFxuICAgIHZhciB1c2VybmFtZSA9IHRoaXMucmVmcy51c2VybmFtZS5nZXRET01Ob2RlKCkudmFsdWU7XG4gICAgdmFyIHBhc3N3b3JkID0gdGhpcy5yZWZzLnBhc3N3b3JkLmdldERPTU5vZGUoKS52YWx1ZTtcbiAgICB0aGlzLnByb3BzLm9uQXV0aGVudGljYXRlKHVzZXJuYW1lLCBwYXNzd29yZClcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvZ2luLWZvcm1cIj5cbiAgICAgIFx0PHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDk2IDk2XCIgd2lkdGg9XCI5NlwiIGhlaWdodD1cIjk2XCI+XG5cdCAgXHQgIDxwYXRoIGQ9XCJNNDUuOSw1NC45Yy0yMS4xLTUuOC0zMy43LTIxLjUtMzIuMS00MGMwLTAuMiwwLjEtMC40LDAuMS0wLjZDNS4zLDIyLjksMCwzNC44LDAsNDhjMCwyNS4zLDIwLjYsNDcsNDQuNCw0Ny44IGM1LjMsMC4yLDEwLjUtMS4yLDE0LjYtNC43YzQuMi0zLjUsNi43LTguNCw3LjItMTMuOEM2Ny40LDYzLDU0LDU3LjEsNDUuOSw1NC45eiBNOTYsNDhDOTYsMjIuOSw3NiwxLjMsNTIuMiwwLjIgQzQ3LjUsMCw0Mi45LDEuMywzOS4zLDQuM2MtMy43LDMuMS01LjksNy40LTYuNCwxMi4yQzMyLDI3LjMsNDEuNiwzMy44LDUxLDM2LjRjMjIuNiw2LjIsMzUuNywyMi4yLDM0LjQsNDEuOCBDOTIsNjkuOSw5Niw1OS40LDk2LDQ4elwiIC8+XG5cdFx0PC9zdmc+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGlucHV0IHRhYkluZGV4PVwiMVwiIHJlZj1cInVzZXJuYW1lXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkUtbWFpbFwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxpbnB1dCB0YWJJbmRleD1cIjJcIiByZWY9XCJwYXNzd29yZFwiIHR5cGU9XCJwYXNzd29yZFwiIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8ZGl2IHRhYkluZGV4PVwiM1wiIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMub25TaWduSW59PlNpZ24gSW48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxufSkiLCIndXNlIHN0cmljdCc7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoICdyZWFjdC9hZGRvbnMnICk7XG52YXIgUHVyZVJlbmRlck1peGluID0gUmVhY3QuYWRkb25zLlB1cmVSZW5kZXJNaXhpbjtcblxudmFyIEJhY2tJY29uID0gUmVhY3QuY3JlYXRlQ2xhc3MoIHtcblx0bWl4aW5zOiBbIFB1cmVSZW5kZXJNaXhpbiBdLFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxzdmcgdmVyc2lvbj1cIjEuMVwiIHg9XCIwcHhcIiB5PVwiMHB4XCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cblx0XHRcdFx0PHBvbHlnb24gcG9pbnRzPVwiMTYuNCwxLjMgMTcuOCwyLjcgOS40LDEyIDE3LjgsMjEuMyAxNi40LDIyLjcgNi44LDEyIFwiLz5cblx0XHRcdDwvc3ZnPlxuXHRcdCk7XG5cdH1cbn0gKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCYWNrSWNvbjtcbiIsIid1c2Ugc3RyaWN0JztcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSggJ3JlYWN0L2FkZG9ucycgKTtcbnZhciBQdXJlUmVuZGVyTWl4aW4gPSBSZWFjdC5hZGRvbnMuUHVyZVJlbmRlck1peGluO1xuXG52YXIgSW5mb0ljb24gPSBSZWFjdC5jcmVhdGVDbGFzcygge1xuXHRtaXhpbnM6IFsgUHVyZVJlbmRlck1peGluIF0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB3aWR0aD1cIjI0cHhcIiBoZWlnaHQ9XCIyNHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuXHRcdFx0XHQ8cGF0aCBkPVwiTTExLDE3aDJ2LTdoLTJWMTd6IE0xMSw5aDJWN2gtMlY5eiBNMTIsM2MtNSwwLTksNC05LDlzNCw5LDksOXM5LTQsOS05UzE3LDMsMTIsM3ogTTEyLDE5LjVjLTQuMSwwLTcuNS0zLjQtNy41LTcuNSBTNy45LDQuNSwxMiw0LjVzNy41LDMuNCw3LjUsNy41UzE2LjEsMTkuNSwxMiwxOS41elwiLz5cblx0XHRcdDwvc3ZnPlxuXHRcdCk7XG5cdH1cbn0gKTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbmZvSWNvbjtcbiIsIid1c2Ugc3RyaWN0JztcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSggJ3JlYWN0L2FkZG9ucycgKTtcbnZhciBQdXJlUmVuZGVyTWl4aW4gPSBSZWFjdC5hZGRvbnMuUHVyZVJlbmRlck1peGluO1xuXG52YXIgUGx1c0ljb24gPSBSZWFjdC5jcmVhdGVDbGFzcygge1xuXHRtaXhpbnM6IFsgUHVyZVJlbmRlck1peGluIF0sXG5cblx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB3aWR0aD1cIjI0cHhcIiBoZWlnaHQ9XCIyNHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuXHRcdFx0XHQ8cG9seWdvbiBwb2ludHM9XCIyMCwxMSAxMywxMSAxMyw0IDExLDQgMTEsMTEgNCwxMSA0LDEzIDExLDEzIDExLDIwIDEzLDIwIDEzLDEzIDIwLDEzIFwiLz5cblx0XHRcdDwvc3ZnPlxuXHRcdCk7XG5cdH1cbn0gKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQbHVzSWNvbjtcbiIsIid1c2Ugc3RyaWN0JztcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSggJ3JlYWN0L2FkZG9ucycgKTtcbnZhciBQdXJlUmVuZGVyTWl4aW4gPSBSZWFjdC5hZGRvbnMuUHVyZVJlbmRlck1peGluO1xuXG52YXIgUmV2aXNpb25zSWNvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKCB7XG5cdG1peGluczogWyBQdXJlUmVuZGVyTWl4aW4gXSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8c3ZnIHZlcnNpb249XCIxLjFcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHdpZHRoPVwiMjRweFwiIGhlaWdodD1cIjI0cHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG5cdFx0XHRcdDxwYXRoIGQ9XCJNMTMsN2gtMnY1LjVsNC40LDMuM2wxLjItMS42TDEzLDExLjVWN3ogTTEyLDNjLTUsMC05LDQtOSw5czQsOSw5LDlzOS00LDktOVMxNywzLDEyLDN6IE0xMiwxOS41Yy00LjEsMC03LjUtMy40LTcuNS03LjUgUzcuOSw0LjUsMTIsNC41czcuNSwzLjQsNy41LDcuNVMxNi4xLDE5LjUsMTIsMTkuNXpcIi8+XG5cdFx0XHQ8L3N2Zz5cblx0XHQpO1xuXHR9XG59ICk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmV2aXNpb25zSWNvbjtcbiIsIid1c2Ugc3RyaWN0JztcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSggJ3JlYWN0L2FkZG9ucycgKTtcbnZhciBQdXJlUmVuZGVyTWl4aW4gPSBSZWFjdC5hZGRvbnMuUHVyZVJlbmRlck1peGluO1xuXG52YXIgVHJhc2hJY29uID0gUmVhY3QuY3JlYXRlQ2xhc3MoIHtcblx0bWl4aW5zOiBbIFB1cmVSZW5kZXJNaXhpbiBdLFxuXG5cdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxzdmcgdmVyc2lvbj1cIjEuMVwiIHg9XCIwcHhcIiB5PVwiMHB4XCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cblx0XHRcdFx0PHBhdGggZD1cIk0xNCwxMGgtMXY3aDFWMTB6IE0xMSwxMGgtMXY3aDFWMTB6IE0xNiw2VjVjMC0xLjEtMC45LTItMi0yaC00QzguOSwzLDgsMy45LDgsNXYxSDV2MmgxdjExYzAsMS4xLDAuOSwyLDIsMmg4IGMxLjEsMCwyLTAuOSwyLTJWOGgxVjZIMTZ6IE0xMCw1aDR2MWgtNFY1eiBNMTYsMTlIOFY4aDhWMTl6XCIvPlxuXHRcdFx0PC9zdmc+XG5cdFx0KTtcblx0fVxufSApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYXNoSWNvbjtcbiIsInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmNvbnN0IFBsdXNJY29uID0gcmVxdWlyZSggJy4vaWNvbnMvcGx1cy5qc3gnICk7XG5jb25zdCBCYWNrSWNvbiA9IHJlcXVpcmUoICcuL2ljb25zL2JhY2suanN4JyApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogXCJcIlxuICAgIH07XG4gIH0sXG5cbiAgb25OYXZpZ2F0ZUJhY2s6IGZ1bmN0aW9uKCkge1xuICAgIFxuICB9LFxuXG4gIG9uQWNjZXNzb3J5OiBmdW5jdGlvbigpIHtcbiAgICBcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5hdmlnYXRpb24tYmFyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uXCIgdGFiSW5kZXg9XCItMVwiIG9uQ2xpY2s9e3RoaXMub25OYXZpZ2F0ZUJhY2t9PjxCYWNrSWNvbiAvPjwvZGl2PlxuICAgICAgICA8ZGl2Pnt0aGlzLnByb3BzLnRpdGxlfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvblwiIHRhYkluZGV4PVwiLTFcIiBvbkNsaWNrPXt0aGlzLm9uQWNjZXNzb3J5fT5cbiAgICAgICAgXHQ8UGx1c0ljb24gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59KTsiLCJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBub3RlOiB7fSxcbiAgICAgIG9uQ2hhbmdlQ29udGVudDogZnVuY3Rpb24oKSB7fVxuICAgIH07XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29udGVudDogdGhpcy5ub3RlQ29udGVudCh0aGlzLnByb3BzLm5vdGUpXG4gICAgfTtcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiAobmV4dFByb3BzLCBjb250ZXh0KXtcbiAgICB0aGlzLnNldFN0YXRlKHtjb250ZW50OiB0aGlzLm5vdGVDb250ZW50KG5leHRQcm9wcy5ub3RlKX0pO1xuICB9LFxuXG4gIG5vdGVDb250ZW50OiBmdW5jdGlvbihub3RlKSB7XG4gICAgaWYgKCFub3RlKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgZGF0YSA9IG5vdGUuZGF0YTtcbiAgICByZXR1cm4gZGF0YSA/IGRhdGEuY29udGVudCA6IG51bGw7XG4gIH0sXG5cbiAgb25DaGFuZ2VDb250ZW50OiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHYgPSB0aGlzLnJlZnMuY29udGVudC5nZXRET01Ob2RlKCkudmFsdWU7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZUNvbnRlbnQodik7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3Itd3JhcHBlclwiPlxuICAgICAgICA8dGV4dGFyZWEgcmVmPVwiY29udGVudFwiIGNsYXNzTmFtZT1cImVkaXRvclwiIHZhbHVlPXt0aGlzLnN0YXRlLmNvbnRlbnR9IG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlQ29udGVudH0vPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbn0pIiwidmFyIFJlYWN0ICAgICAgICAgICAgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIE5vdGVEZXRhaWwgICAgICAgPSByZXF1aXJlKCcuL25vdGVfZGV0YWlsLmpzeCcpO1xudmFyIFRhZ0ZpZWxkICAgICAgICAgPSByZXF1aXJlKCcuL3RhZ19maWVsZC5qc3gnKTtcbnZhciBOb3RlVG9vbGJhciAgICAgID0gcmVxdWlyZSgnLi9ub3RlX3Rvb2xiYXIuanN4Jyk7XG52YXIgUmV2aXNpb25TZWxlY3RvciA9IHJlcXVpcmUoJy4vcmV2aXNpb25fc2VsZWN0b3IuanN4Jyk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm90ZToge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdGFnczogW11cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJldmlzaW9uczogbnVsbCxcbiAgICAgIG9uVXBkYXRlQ29udGVudDogZnVuY3Rpb24oKSB7fSxcbiAgICAgIG9uVXBkYXRlVGFnczogZnVuY3Rpb24oKSB7fSxcbiAgICAgIG9uVHJhc2hOb3RlOiBmdW5jdGlvbigpIHt9LFxuICAgICAgb25SZXN0b3JlTm90ZTogZnVuY3Rpb24oKSB7fSxcbiAgICAgIG9uUmV2aXNpb25zOiBmdW5jdGlvbigpIHt9LFxuICAgICAgb25TaWduT3V0OiBmdW5jdGlvbigpIHt9LFxuICAgICAgb25DbG9zZU5vdGU6IGZ1bmN0aW9uKCkge31cbiAgICB9O1xuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe3JldmlzaW9uOiBudWxsfSk7XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmV2aXNpb246IG51bGxcbiAgICB9XG4gIH0sXG5cbiAgd2l0aE5vdGU6IGZ1bmN0aW9uKGZuKSB7XG4gICAgdmFyIG5vdGUgPSB0aGlzLnByb3BzLm5vdGU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFyZ3MgPSBbbm90ZV0uY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9O1xuICB9LFxuXG4gIG9uVmlld1JldmlzaW9uOiBmdW5jdGlvbihyZXZpc2lvbikge1xuICAgIHRoaXMuc2V0U3RhdGUoe3JldmlzaW9uOiByZXZpc2lvbn0pO1xuICB9LFxuXG4gIG9uU2VsZWN0UmV2aXNpb246IGZ1bmN0aW9uKHJldmlzaW9uKSB7XG4gICAgY29uc29sZS5sb2coXCJBY2NlcHQgcmV2aXNpb246IFwiLCByZXZpc2lvbik7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmV2aXNpb25zID0gdGhpcy5wcm9wcy5yZXZpc2lvbnM7XG4gICAgdmFyIHJldmlzaW9uID0gdGhpcy5zdGF0ZS5yZXZpc2lvbjtcbiAgICB2YXIgbm90ZSA9IHRoaXMuc3RhdGUucmV2aXNpb24gPyB0aGlzLnN0YXRlLnJldmlzaW9uIDogdGhpcy5wcm9wcy5ub3RlO1xuICAgIHZhciB0YWdzID0gbm90ZSAmJiBub3RlLmRhdGEudGFncyA/IG5vdGUuZGF0YS50YWdzIDogW107XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGV0YWlsXCI+XG4gICAgICAgIDxOb3RlVG9vbGJhclxuICAgICAgICAgIG5vdGU9e3RoaXMucHJvcHMubm90ZX1cbiAgICAgICAgICBvblRyYXNoTm90ZT17dGhpcy5wcm9wcy5vblRyYXNoTm90ZX1cbiAgICAgICAgICBvblJlc3RvcmVOb3RlPXt0aGlzLnByb3BzLm9uUmVzdG9yZU5vdGV9XG4gICAgICAgICAgb25SZXZpc2lvbnM9e3RoaXMucHJvcHMub25SZXZpc2lvbnN9XG4gICAgICAgICAgb25TaWduT3V0PXt0aGlzLnByb3BzLm9uU2lnbk91dH1cbiAgICAgICAgICBvbkNsb3NlTm90ZT17dGhpcy5wcm9wcy5vbkNsb3NlTm90ZX0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLWNvbXBhY3RcIj5cbiAgICAgICAgICA8VGFnRmllbGQgcmVmPVwidGFnc1wiXG4gICAgICAgICAgICB0YWdzPXt0YWdzfVxuICAgICAgICAgICAgb25VcGRhdGVUYWdzPXt0aGlzLndpdGhOb3RlKHRoaXMucHJvcHMub25VcGRhdGVUYWdzKX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWxcIj5cbiAgICAgICAgICA8Tm90ZURldGFpbCByZWY9XCJkZXRhaWxcIlxuICAgICAgICAgICAgbm90ZT17bm90ZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlQ29udGVudD17dGhpcy53aXRoTm90ZSh0aGlzLnByb3BzLm9uVXBkYXRlQ29udGVudCl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7d2hlbihyZXZpc2lvbnMsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UmV2aXNpb25TZWxlY3RvclxuICAgICAgICAgICAgICByZXZpc2lvbnM9e3JldmlzaW9uc31cbiAgICAgICAgICAgICAgb25WaWV3UmV2aXNpb249e3RoaXMub25WaWV3UmV2aXNpb259XG4gICAgICAgICAgICAgIG9uU2VsZWN0UmV2aXNpb249e3RoaXMub25TZWxlY3RSZXZpc2lvbn0gLz5cbiAgICAgICAgICApXG4gICAgICAgIH0sIHRoaXMpfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59KTtcblxuZnVuY3Rpb24gd2hlbih0ZXN0LCBmdW5jLCBjdHgpIHtcbiAgaWYgKHR5cGVvZiB0ZXN0ID09ICdmdW5jdGlvbicpIHtcbiAgICB0ZXN0ID0gdGVzdCgpO1xuICB9XG4gIGlmICh0ZXN0KSB7XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkoY3R4KTtcbiAgfVxufVxuIiwidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBOb3RlTGlzdEl0ZW0gPSByZXF1aXJlKCcuL25vdGVfbGlzdF9pdGVtLmpzeCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBub3RlczogW10sXG4gICAgICBvblNlbGVjdE5vdGU6IGZ1bmN0aW9uKCkge31cbiAgICB9O1xuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGVkOiBudWxsXG4gICAgfTtcbiAgfSxcblxuICBvblNlbGVjdE5vdGU6IGZ1bmN0aW9uKG5vdGUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtzZWxlY3RlZDogbm90ZX0pO1xuICAgIHRoaXMucHJvcHMub25TZWxlY3ROb3RlKG5vdGUpO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGVjdGVkID0gdGhpcy5zdGF0ZS5zZWxlY3RlZDtcbiAgICB2YXIgb25TZWxlY3QgPSB0aGlzLm9uU2VsZWN0Tm90ZTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJub3RlLWxpc3RcIiB0YWJJbmRleD1cIjFcIj5cbiAgICAgIHt0aGlzLnByb3BzLm5vdGVzLm1hcChmdW5jdGlvbihub3RlKSB7XG4gICAgICAgIHZhciBpc1NlbGVjdGVkID0gc2VsZWN0ZWQgJiYgbm90ZS5pZCA9PSBzZWxlY3RlZC5pZDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Tm90ZUxpc3RJdGVtIHNlbGVjdGVkPXtpc1NlbGVjdGVkfSBrZXk9e25vdGUuaWR9IG5vdGU9e25vdGV9IG9uU2VsZWN0Tm90ZT17b25TZWxlY3R9IC8+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG59KTtcbiIsInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vdGU6IHt9LFxuICAgICAgb25TZWxlY3ROb3RlOiBmdW5jdGlvbigpIHt9LFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlXG4gICAgfTtcbiAgfSxcblxuICBvbkNsaWNrTm90ZTogZnVuY3Rpb24oZSkge1xuICAgIHRoaXMucHJvcHMub25TZWxlY3ROb3RlKHRoaXMucHJvcHMubm90ZSk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29udGVudCA9ICh0aGlzLnByb3BzLm5vdGUuZGF0YS5jb250ZW50IHx8IFwiXCIpLnRyaW0oKTtcbiAgICB2YXIgZmlyc3RMaW5lQnJlYWsgPSBjb250ZW50LmluZGV4T2YoXCJcXG5cIik7XG5cbiAgICBpZiAoZmlyc3RMaW5lQnJlYWsgPT0gLTEpIGZpcnN0TGluZUJyZWFrID0gY29udGVudC5sZW5ndGg7XG4gICAgdmFyIHRpdGxlID0gY29udGVudC5zbGljZSgwLCBNYXRoLm1pbigyMDAsIGZpcnN0TGluZUJyZWFrKSk7XG5cbiAgICBpZiAoZmlyc3RMaW5lQnJlYWsgPj0gMCkge1xuICAgICAgdmFyIHByZXZpZXcgPSBjb250ZW50LnNsaWNlKGZpcnN0TGluZUJyZWFrKzEsIGZpcnN0TGluZUJyZWFrICsgMTAwKTsgICAgICBcbiAgICB9XG4gICAgdmFyIGNscyA9IFwic291cmNlLWxpc3QtaXRlbVwiO1xuICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGVkKSBjbHMgKz0gXCIgc2VsZWN0ZWRcIjtcbiAgICBpZiAodGhpcy5wcm9wcy5ub3RlLnBpbm5lZCkgY2xzICs9IFwiIHBpbm5lZFwiO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xzfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2tOb3RlfT5cbiAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJub3RlLXByZXZpZXdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+e3RpdGxlfTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJldmlld1wiPntwcmV2aWV3fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufSk7IiwidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuY29uc3QgQmFja0ljb24gPSByZXF1aXJlKCAnLi9pY29ucy9iYWNrLmpzeCcgKTtcbmNvbnN0IEluZm9JY29uID0gcmVxdWlyZSggJy4vaWNvbnMvaW5mby5qc3gnICk7XG5jb25zdCBSZXZpc2lvbnNJY29uID0gcmVxdWlyZSggJy4vaWNvbnMvcmV2aXNpb25zLmpzeCcgKTtcbmNvbnN0IFRyYXNoSWNvbiA9IHJlcXVpcmUoICcuL2ljb25zL3RyYXNoLmpzeCcgKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm90ZToge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdGFnczogW11cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJldmlzaW9uczogbnVsbCxcbiAgICAgIG9uVHJhc2hOb3RlOiBmdW5jdGlvbigpIHt9LFxuICAgICAgb25SZXN0b3JlTm90ZTogZnVuY3Rpb24oKSB7fSxcbiAgICAgIG9uUmV2aXNpb25zOiBmdW5jdGlvbigpIHt9LFxuICAgICAgb25TaWduT3V0OiBmdW5jdGlvbigpIHt9LFxuICAgICAgb25DbG9zZU5vdGU6IGZ1bmN0aW9uKCkge31cbiAgICB9O1xuICB9LFxuXG4gIHdpdGhOb3RlOiBmdW5jdGlvbihmbikge1xuICAgIHZhciBub3RlID0gdGhpcy5wcm9wcy5ub3RlO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcmdzID0gW25vdGVdLmNvbmNhdChbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgfTtcbiAgfSxcblxuICBpc1RyYXNoZWQ6IGZ1bmN0aW9uKGZuKSB7XG4gICAgdmFyIG5vdGUgPSB0aGlzLnByb3BzLm5vdGU7XG4gICAgaWYgKG5vdGUgJiYgbm90ZS5kZWxldGVkKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBub3RlKTtcbiAgICB9XG4gIH0sXG5cbiAgaXNOb3RUcmFzaGVkOiBmdW5jdGlvbihmbikge1xuICAgIHZhciBub3RlID0gdGhpcy5wcm9wcy5ub3RlO1xuICAgIGlmIChub3RlICYmICFub3RlLmRlbGV0ZWQpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIG5vdGUpO1xuICAgIH1cbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXRhaWwtdG9vbGJhclwiPlxuICAgICAgICAgIDxkaXYgcmVmPVwicmVzcG9uc2l2ZS1iYWNrXCIgb25DbGljaz17dGhpcy5wcm9wcy5vbkNsb3NlTm90ZX0gY2xhc3NOYW1lPVwiYnV0dG9uIGJhY2tCdXR0b25cIiB0YWJJbmRleD1cIi0xXCI+PEJhY2tJY29uIC8+PC9kaXY+XG4gICAgICAgICAgPGRpdiByZWY9XCJpbmZvXCIgdGFiSW5kZXg9XCItMVwiIGNsYXNzTmFtZT1cImJ1dHRvbiBpbmZvQnV0dG9uXCI+PEluZm9JY29uIC8+PC9kaXY+XG4gICAgICAgICAgPGRpdiByZWY9XCJyZXZpc2lvbnNcIiB0YWJJbmRleD1cIi0xXCIgY2xhc3NOYW1lPVwiYnV0dG9uIHJldmlzaW9uc0J1dHRvblwiIG9uQ2xpY2s9e3RoaXMud2l0aE5vdGUodGhpcy5wcm9wcy5vblJldmlzaW9ucyl9PjxSZXZpc2lvbnNJY29uIC8+PC9kaXY+XG4gICAgICAgICAgeyB0aGlzLmlzTm90VHJhc2hlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYgcmVmPVwidHJhc2hcIiB0YWJJbmRleD1cIi0xXCIgY2xhc3NOYW1lPVwiYnV0dG9uIHRyYXNoQnV0dG9uXCIgb25DbGljaz17dGhpcy53aXRoTm90ZSh0aGlzLnByb3BzLm9uVHJhc2hOb3RlKX0+PFRyYXNoSWNvbiAvPjwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICAgIHsgdGhpcy5pc1RyYXNoZWQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IHJlZj1cInRyYXNoXCIgdGFiSW5kZXg9XCItMVwiIGNsYXNzTmFtZT1cImJ1dHRvbiB0cmFzaEJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMud2l0aE5vdGUodGhpcy5wcm9wcy5vblJlc3RvcmVOb3RlKX0+UmVzdG9yZTwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2VcIiBzdHlsZT17e1wiZmxleFwiOiBcIjEgMSBhdXRvXCIsIFwidmlzaWJpbGl0eVwiOiBcImhpZGRlblwifX0+PC9kaXY+XG4gICAgICAgICAgPGRpdiByZWY9XCJsb2dvdXRcIiB0YWJJbmRleD1cIi0xXCIgY2xhc3NOYW1lPVwidGV4dGJ1dHRvbiBzaWdub3V0QnV0dG9uXCIgb25DbGljaz17dGhpcy5wcm9wcy5vblNpZ25PdXR9PlNpZ24gT3V0PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59KTsiLCJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXZpc2lvbnM6IFtdLFxuICAgICAgb25TZWxlY3RSZXZpc2lvbjogZnVuY3Rpb24oKSB7fSxcbiAgICAgIG9uVmlld1JldmlzaW9uOiBmdW5jdGlvbigpIHt9XG4gICAgfVxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGlvbjogLTFcbiAgICB9O1xuICB9LFxuXG4gIG9uQWNjZXB0UmV2aXNpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpZHggPSB0aGlzLnN0YXRlLnNlbGVjdGlvbjtcbiAgICB2YXIgcmV2aXNpb24gPSB0aGlzLnByb3BzLnJldmlzaW9uc1t0aGlzLnByb3BzLnJldmlzaW9ucy5sZW5ndGggLSAxIC0gaWR4XTtcbiAgICB0aGlzLnByb3BzLm9uU2VsZWN0UmV2aXNpb24ocmV2aXNpb24pO1xuICB9LFxuXG4gIG9uU2VsZWN0UmV2aXNpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpZHggPSB0aGlzLnJlZnMucmFuZ2UuZ2V0RE9NTm9kZSgpLnZhbHVlO1xuICAgIHRoaXMuc2V0U3RhdGUoe3NlbGVjdGlvbjogaWR4fSk7XG4gICAgdmFyIHJldmlzaW9uID0gdGhpcy5wcm9wcy5yZXZpc2lvbnNbdGhpcy5wcm9wcy5yZXZpc2lvbnMubGVuZ3RoIC0gMSAtIGlkeF07XG4gICAgdGhpcy5wcm9wcy5vblZpZXdSZXZpc2lvbihyZXZpc2lvbik7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbWluID0gMDtcbiAgICB2YXIgbWF4ID0gdGhpcy5wcm9wcy5yZXZpc2lvbnMubGVuZ3RoLTE7XG4gICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uICYmIHRoaXMuc3RhdGUuc2VsZWN0aW9uID4gLTEgPyB0aGlzLnN0YXRlLnNlbGVjdGlvbiA6IG1heDtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXZpc2lvbi1zZWxlY3RvclwiPlxuICAgICAgICA8aW5wdXQgcmVmPVwicmFuZ2VcIiB0eXBlPVwicmFuZ2VcIiBtaW49e21pbn0gbWF4PXttYXh9IHZhbHVlPXtzZWxlY3Rpb259IG9uQ2hhbmdlPXt0aGlzLm9uU2VsZWN0UmV2aXNpb259IC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dGJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMub25BY2NlcHRSZXZpc2lvbn0+UmVzdG9yZTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbn0pOyIsInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uU2VhcmNoOiBmdW5jdGlvbigpIHt9XG4gICAgfVxuICB9LFxuXG4gIG9uU2VhcmNoOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHF1ZXJ5ID0gdGhpcy5yZWZzLnNlYXJjaC5nZXRET01Ob2RlKCkudmFsdWU7XG4gICAgdGhpcy5wcm9wcy5vblNlYXJjaChxdWVyeSk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2gtZmllbGRcIj5cbiAgICAgICAgPGlucHV0IHJlZj1cInNlYXJjaFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJTZWFyY2hcIiBvbkNoYW5nZT17dGhpcy5vblNlYXJjaH0gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pOyIsInZhciBQcm9taXNlID0gcmVxdWlyZSgncHJvbWlzZScpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29uZmlndXJlKSB7XG4gIHJldHVybiBuZXcgU3RvcmVQcm92aWRlcihjb25maWd1cmUpO1xufTtcblxuZnVuY3Rpb24gU3RvcmVQcm92aWRlcihjb25maWd1cmUpIHtcbiAgdmFyIHNldHVwID0gdGhpcy5zZXR1cCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgY29uZmlndXJlKHJlc29sdmUsIHJlamVjdCk7XG4gIH0pO1xufVxuXG5TdG9yZVByb3ZpZGVyLnByb3RvdHlwZS5wcm92aWRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2V0dXAgPSB0aGlzLnNldHVwO1xuICByZXR1cm4gZnVuY3Rpb24oYnVja2V0KSB7XG4gICAgcmV0dXJuIG5ldyBCdWNrZXRTdG9yZShidWNrZXQsIHNldHVwKTtcbiAgfTtcbn07XG5cblN0b3JlUHJvdmlkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5zZXR1cC50aGVuKFxuICAgIChkYikgPT4ge1xuICAgICAgdmFyIG9wcyA9IFtdLm1hcC5jYWxsKGRiLm9iamVjdFN0b3JlTmFtZXMsIChuYW1lKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgdmFyIHR4ID0gZGIudHJhbnNhY3Rpb24obmFtZSwgJ3JlYWR3cml0ZScpO1xuICAgICAgICAgIHZhciByZXF1ZXN0ID0gdHgub2JqZWN0U3RvcmUobmFtZSkuY2xlYXIoKTtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChlKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKG5hbWUpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG9wcyk7XG4gICAgfSxcbiAgICAoZSkgPT4geyBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHJlc2V0IHN0b3Jlc1wiLCBlKSB9XG4gIClcbn07XG5cbmZ1bmN0aW9uIEJ1Y2tldFN0b3JlKGJ1Y2tldCwgc2V0dXApIHtcbiAgdGhpcy5idWNrZXQgPSBidWNrZXQ7XG4gIHRoaXMuc2V0dXAgPSBzZXR1cDtcbn1cblxuQnVja2V0U3RvcmUucHJvdG90eXBlLndpdGhCdWNrZXQgPSBmdW5jdGlvbihjYikge1xuICB2YXIgYnVja2V0ID0gdGhpcy5idWNrZXQsXG4gICAgICBzZWxmID0gdGhpcztcblxuICB0aGlzLnNldHVwLnRoZW4oZnVuY3Rpb24oZGIpIHtcbiAgICBjYi5jYWxsKHNlbGYsIGRiLCBidWNrZXQubmFtZSk7XG4gIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkXCIsIGUpO1xuICB9KTtcbn07XG5cbkJ1Y2tldFN0b3JlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihpZCwgY2FsbGJhY2spIHtcbiAgdGhpcy53aXRoQnVja2V0KGZ1bmN0aW9uKGRiLCBidWNrZXQpIHtcbiAgICBkYi50cmFuc2FjdGlvbihidWNrZXQpLmdldChpZCkub25zdWNjZXNzID0gZnVuY3Rpb24oZSkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgZS50YXJnZXQucmVzdWx0KTtcbiAgICB9O1xuICB9KTtcbn07XG5cbkJ1Y2tldFN0b3JlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihpZCwgb2JqZWN0LCBjYWxsYmFjaykge1xuICB2YXIgYmVmb3JlSW5kZXggPSB0aGlzLmJlZm9yZUluZGV4IHx8IGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzWzBdOyB9O1xuICB0aGlzLndpdGhCdWNrZXQoZnVuY3Rpb24oZGIsIGJ1Y2tldCkge1xuICAgIGRiLnRyYW5zYWN0aW9uKGJ1Y2tldCwgJ3JlYWR3cml0ZScpLm9iamVjdFN0b3JlKGJ1Y2tldCkucHV0KGJlZm9yZUluZGV4KHtpZDogaWQsIGRhdGE6IG9iamVjdH0pKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50YXJnZXQucmVzdWx0KSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIG9iamVjdCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59O1xuXG5CdWNrZXRTdG9yZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaWQsIGNhbGxiYWNrKSB7XG4gIHRoaXMud2l0aEJ1Y2tldChmdW5jdGlvbihkYiwgYnVja2V0KSB7XG4gICAgZGIudHJhbnNhY3Rpb24oYnVja2V0LCAncmVhZHdyaXRlJykub2JqZWN0U3RvcmUoYnVja2V0KS5kZWxldGUoaWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgfTtcbiAgfSk7XG59O1xuXG5CdWNrZXRTdG9yZS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKHF1ZXJ5LCBjYWxsYmFjaykge1xuXG4gIHRoaXMud2l0aEJ1Y2tldChmdW5jdGlvbihkYiwgYnVja2V0KSB7XG5cbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIHZhciByZXF1ZXN0ID0gZGIudHJhbnNhY3Rpb24oYnVja2V0KS5vYmplY3RTdG9yZShidWNrZXQpLm9wZW5DdXJzb3IoKTtcblxuICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgb2JqZWN0cy5wdXNoKGN1cnNvci52YWx1ZSk7XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgb2JqZWN0cyk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgICBjb25zb2xlLmxvcihcIkZhaWxlZFwiKTtcbiAgICB9O1xuICB9KTtcbn07XG4iLCJ2YXIgUHJvbWlzZSA9IHJlcXVpcmUoJ3Byb21pc2UnKTtcblxudmFyIGRiID0gd2luZG93LmluZGV4ZWREQixcbiAgICBzZXR1cCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIG9wZW4gPSBkYi5vcGVuKCdnaG9zdCcsIDIwMCk7XG5cbiAgICAgIG9wZW4ub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24oZSkge1xuXG4gICAgICAgIHZhciBkYiA9IGUudGFyZ2V0LnJlc3VsdDtcblxuICAgICAgICB2YXIgc3RvcmVzID0gZGIub2JqZWN0U3RvcmVOYW1lcztcblxuICAgICAgICBpZiAoc3RvcmVzLmNvbnRhaW5zKCdjdicpKSBkYi5kZWxldGVPYmplY3RTdG9yZSgnY3YnKTtcblxuICAgICAgICB2YXIgY3YgPSBkYi5jcmVhdGVPYmplY3RTdG9yZSgnY3YnLCB7a2V5UGF0aCA6ICdidWNrZXQnfSk7XG4gICAgICAgIGN2LmNyZWF0ZUluZGV4KCdidWNrZXQnLCAnYnVja2V0Jywge3VuaXF1ZTogdHJ1ZX0pO1xuXG4gICAgICAgIGlmIChzdG9yZXMuY29udGFpbnMoJ2dob3N0cycpKSBkYi5kZWxldGVPYmplY3RTdG9yZSgnZ2hvc3RzJyk7XG4gICAgICAgIHZhciBnaG9zdHMgPSBkYi5jcmVhdGVPYmplY3RTdG9yZSgnZ2hvc3RzJywge2tleVBhdGggOiAnZnVsbF9rZXknfSk7XG4gICAgICAgIGdob3N0cy5jcmVhdGVJbmRleCgnYnVja2V0JywgJ2J1Y2tldCcpO1xuICAgICAgICBnaG9zdHMuY3JlYXRlSW5kZXgoJ2Z1bGxfa2V5JywgJ2Z1bGxfa2V5Jywge3VuaXF1ZTogdHJ1ZX0pO1xuXG4gICAgICB9O1xuXG4gICAgICBvcGVuLm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGRiID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICByZXNvbHZlKGRiKTtcbiAgICAgIH07XG5cbiAgICAgIG9wZW4ub25lcnJvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmVqZWN0KGUudGFyZ2V0LmVycm9yKTtcbiAgICAgIH1cblxuICAgIH0pO1xuXG5zZXR1cC50aGVuKGZ1bmN0aW9uKCkge1xuICAvLyBub29wLCBzZXR1cCBhcyBzb29uIGFzIHBvc3NpYmxlXG59KTtcblxuc2V0dXAuY2F0Y2goZnVuY3Rpb24oZSkge1xuICBjb25zb2xlLmVycm9yKGUpO1xufSk7XG5cbmRiLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gIGNvbnNvbGUubG9nKFwiU29tZSBraW5kIG9mIGVycm9yXCIsIGUpO1xufTtcblxuZnVuY3Rpb24gR2hvc3RTdG9yZShidWNrZXQpIHtcbiAgdGhpcy5idWNrZXQgPSBidWNrZXQ7XG59XG5cbkdob3N0U3RvcmUucHJvdG90eXBlLmdldENoYW5nZVZlcnNpb24gPSBmdW5jdGlvbigpe1xuICB2YXIgYnVja2V0ID0gdGhpcy5idWNrZXQ7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBzZXR1cC50aGVuKGZ1bmN0aW9uKGRiKSB7XG4gICAgICB2YXIgdHggPSBkYi50cmFuc2FjdGlvbignY3YnKS5vYmplY3RTdG9yZSgnY3YnKS5nZXQoYnVja2V0Lm5hbWUpO1xuICAgICAgdHgub25zdWNjZXNzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgcmVjb3JkID0gZS50YXJnZXQucmVzdWx0LFxuICAgICAgICAgICAgY3YgPSBudWxsO1xuICAgICAgICBpZiAocmVjb3JkKSB7XG4gICAgICAgICAgY3YgPSByZWNvcmQuY3Y7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShjdik7XG4gICAgICB9O1xuICAgIH0pO1xuICB9KTtcbn07XG5cbkdob3N0U3RvcmUucHJvdG90eXBlLnNldENoYW5nZVZlcnNpb24gPSBmdW5jdGlvbihjdil7XG4gIHZhciBidWNrZXQgPSB0aGlzLmJ1Y2tldDtcblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgc2V0dXAudGhlbihmdW5jdGlvbihkYikge1xuICAgICAgdmFyIHR4ID0gZGIudHJhbnNhY3Rpb24oJ2N2JywgJ3JlYWR3cml0ZScpLm9iamVjdFN0b3JlKCdjdicpLnB1dCh7YnVja2V0OiBidWNrZXQubmFtZSwgY3Y6IGN2fSk7XG4gICAgICB0eC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH0pO1xufTtcblxuR2hvc3RTdG9yZS5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24oaWQsIHZlcnNpb24sIGRhdGEpe1xuXG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGJ1Y2tldCA9IHRoaXMuYnVja2V0LFxuICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZXR1cC50aGVuKGZ1bmN0aW9uKGRiKSB7XG5cbiAgICAgICAgICB2YXIgdHggPSBkYi50cmFuc2FjdGlvbihbJ2dob3N0cyddLCAncmVhZHdyaXRlJyksXG4gICAgICAgICAgICAgIGdob3N0cyA9IHR4Lm9iamVjdFN0b3JlKCdnaG9zdHMnKSxcbiAgICAgICAgICAgICAgZnVsbF9rZXkgPSBidWNrZXQubmFtZSArIFwiLlwiICsgaWQsXG4gICAgICAgICAgICAgIGdob3N0ID0ge2tleTogaWQsIHZlcnNpb246IHZlcnNpb24sIGRhdGE6IGRhdGEsIGZ1bGxfa2V5OiBmdWxsX2tleSwgYnVja2V0OiBidWNrZXQubmFtZX07XG5cbiAgICAgICAgICBnaG9zdHMucHV0KGdob3N0KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICByZXNvbHZlKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbkdob3N0U3RvcmUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGlkKXtcbiAgdmFyIGJ1Y2tldCA9IHRoaXMuYnVja2V0LFxuICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZXR1cC50aGVuKGZ1bmN0aW9uKGRiKSB7XG4gICAgICAgICAgdmFyIGdob3N0cyA9IGRiLnRyYW5zYWN0aW9uKCdnaG9zdHMnKS5vYmplY3RTdG9yZSgnZ2hvc3RzJyk7XG4gICAgICAgICAgdmFyIGtleSA9IGJ1Y2tldC5uYW1lICsgJy4nICsgaWQ7XG5cbiAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdob3N0cy5nZXQoa2V5KTtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBnaG9zdCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgIGlmICghZ2hvc3QpIHtcbiAgICAgICAgICAgICAgZ2hvc3QgPSB7IGtleTogaWQsIGRhdGE6IHt9IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKGdob3N0KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihcImZhaWxlZCB0byBnZXQgZ2hvc3QgXCIgKyBrZXkpO1xuICAgICAgICAgICAgZXJyb3Iub2JqZWN0U3RvcmVFdmVudCA9IGU7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5HaG9zdFN0b3JlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihpZCkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBidWNrZXQgPSB0aGlzLmJ1Y2tldCxcbiAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2V0dXAudGhlbihmdW5jdGlvbihkYikge1xuICAgICAgICAgIHZhciBnaG9zdHMgPSBkYi50cmFuc2FjdGlvbignZ2hvc3RzJywgJ3JlYWR3cml0ZScpLm9iamVjdFN0b3JlKCdnaG9zdHMnKTtcbiAgICAgICAgICB2YXIga2V5ID0gYnVja2V0Lm5hbWUgKyAnLicgKyBpZDtcbiAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdob3N0cy5kZWxldGUoa2V5KTtcblxuICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkZhaWxlZCB0byBkZWxldGUgZ2hvc3QgXCIgKyBrZXkpKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgcmV0dXJuIHByb21pc2U7XG5cbn07XG5cbkdob3N0U3RvcmUucHJvdG90eXBlLmVhY2hHaG9zdCA9IGZ1bmN0aW9uKG9uR2hvc3QpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgYnVja2V0ID0gdGhpcy5idWNrZXQ7XG5cbiAgc2V0dXAudGhlbihmdW5jdGlvbihkYikge1xuICAgIHZhciByZXF1ZXN0ID0gZGIudHJhbnNhY3Rpb24oJ2dob3N0cycpLm9iamVjdFN0b3JlKCdnaG9zdHMnKS5pbmRleCgnYnVja2V0Jykub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KGJ1Y2tldC5uYW1lKSk7XG4gICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICBvbkdob3N0KGN1cnNvci52YWx1ZSk7XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIVwiKTtcbiAgfSk7XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYnVja2V0KSB7XG4gIHJldHVybiBuZXcgR2hvc3RTdG9yZShidWNrZXQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMuR2hvc3RTdG9yZSA9IEdob3N0U3RvcmU7XG5tb2R1bGUuZXhwb3J0cy5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gc2V0dXAudGhlbigoZGIpID0+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW10ubWFwLmNhbGwoZGIub2JqZWN0U3RvcmVOYW1lcywgKG5hbWUpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHZhciByZXF1ZXN0ID0gZGIudHJhbnNhY3Rpb24obmFtZSwgJ3JlYWR3cml0ZScpLm9iamVjdFN0b3JlKG5hbWUpLmNsZWFyKCk7XG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGUpID0+IHtcbiAgICAgICAgICByZXNvbHZlKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH0pO1xufSIsInZhciBzaW1wZXJpdW0gICAgPSByZXF1aXJlKCdzaW1wZXJpdW0nKSxcbiAgICBidWNrZXRfc3RvcmUgPSByZXF1aXJlKCcuL2J1Y2tldF9zdG9yZScpLFxuICAgIGdob3N0X3N0b3JlICA9IHJlcXVpcmUoJy4vZ2hvc3Rfc3RvcmUnKSxcbiAgICB1dGlsICAgICAgICAgPSByZXF1aXJlKCd1dGlsJyksXG4gICAgZXZlbnRzICAgICAgID0gcmVxdWlyZSgnZXZlbnRzJyksXG4gICAgQnVja2V0ICAgICAgID0gc2ltcGVyaXVtLkNsaWVudC5CdWNrZXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYXBwSUQsIHRva2VuLCBidWNrZXRDb25maWcsIGRhdGFiYXNlLCB2ZXJzaW9uKSB7XG4gIHJldHVybiBuZXcgQnJvd3NlckNsaWVudChhcHBJRCwgdG9rZW4sIGJ1Y2tldENvbmZpZywgZGF0YWJhc2UsIHZlcnNpb24pO1xufTtcblxubW9kdWxlLmV4cG9ydHMuQXV0aCA9IHNpbXBlcml1bS5BdXRoO1xuXG5CdWNrZXQucHJvdG90eXBlLnF1ZXJ5ID0gZnVuY3Rpb24oZm4pIHtcbiAgdGhpcy5zdG9yZS5zZXR1cC50aGVuKGZuKTtcbn07XG5cbmZ1bmN0aW9uIEJyb3dzZXJDbGllbnQoYXBwSUQsIHRva2VuLCBidWNrZXRDb25maWcsIGRhdGFiYXNlLCB2ZXJzaW9uKSB7XG4gIHRoaXMuZGF0YWJhc2VOYW1lID0gZGF0YWJhc2UgfHwgXCJzaW1wZXJpdW0tb2JqZWN0c1wiO1xuICB0aGlzLmRhdGFiYXNlVmVyc2lvbiA9IHZlcnNpb24gfHwgMTtcbiAgdmFyIGNvbmZpZyA9IHRoaXMuYnVja2V0Q29uZmlnID0gYnVja2V0Q29uZmlnO1xuICB0aGlzLmJ1Y2tldERCID0gYnVja2V0X3N0b3JlKHRoaXMuY29uZmlndXJlRGIuYmluZCh0aGlzKSk7XG4gIHRoaXMuYnVja2V0cyA9IHt9O1xuXG4gIHZhciBvYmplY3RTdG9yZVByb3ZpZGVyID0gdGhpcy5idWNrZXREQi5wcm92aWRlcigpO1xuICB0aGlzLmdob3N0U3RvcmUgPSBnaG9zdF9zdG9yZTtcblxuICB0aGlzLmNsaWVudCA9IHNpbXBlcml1bShhcHBJRCwgdG9rZW4sIHtcbiAgICBnaG9zdFN0b3JlUHJvdmlkZXI6IGdob3N0X3N0b3JlLFxuICAgIG9iamVjdFN0b3JlUHJvdmlkZXI6IGZ1bmN0aW9uKGJ1Y2tldCkge1xuICAgICAgdmFyIHN0b3JlID0gb2JqZWN0U3RvcmVQcm92aWRlci5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKGNvbmZpZ1tidWNrZXQubmFtZV0uYmVmb3JlSW5kZXgpIHtcbiAgICAgICAgc3RvcmUuYmVmb3JlSW5kZXggPSBjb25maWdbYnVja2V0Lm5hbWVdLmJlZm9yZUluZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0b3JlO1xuICAgIH1cbiAgfSk7XG5cbiAgWydzZW5kJywgJ21lc3NhZ2UnLCAnY29ubmVjdCcsICdyZWNvbm5lY3QnLCAnZGlzY29ubmVjdCcsICd1bmF1dGhvcml6ZWQnXS5mb3JFYWNoKChmdW5jdGlvbihldmVudCkge1xuICAgIHRoaXMuY2xpZW50Lm9uKGV2ZW50LCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBbZXZlbnRdLmNvbmNhdChhcmdzKSk7XG4gICAgfSkuYmluZCh0aGlzKSk7XG4gIH0pLmJpbmQodGhpcykpO1xuXG4gIGZvciAodmFyIGJ1Y2tldCBpbiBidWNrZXRDb25maWcpIHtcbiAgICB0aGlzLmJ1Y2tldHNbYnVja2V0XSA9IHRoaXMuY2xpZW50LmJ1Y2tldChidWNrZXQpO1xuICB9XG5cbn1cblxudXRpbC5pbmhlcml0cyhCcm93c2VyQ2xpZW50LCBldmVudHMuRXZlbnRFbWl0dGVyKTtcblxuQnJvd3NlckNsaWVudC5wcm90b3R5cGUuY29uZmlndXJlRGIgPSBmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuICB2YXIgb3BlblJlcXVlc3QgPSB3aW5kb3cuaW5kZXhlZERCLm9wZW4odGhpcy5kYXRhYmFzZU5hbWUsIHRoaXMuZGF0YWJhc2VWZXJzaW9uKTtcbiAgdmFyIHVwZ3JhZGVkID0gZmFsc2U7XG4gIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzO1xuXG4gIG9wZW5SZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IChmdW5jdGlvbihlKSB7XG4gICAgdXBncmFkZWQgPSB0cnVlO1xuICAgIHZhciBkYiA9IGUudGFyZ2V0LnJlc3VsdDtcblxuICAgIHZhciBzdG9yZXMgPSBkYi5vYmplY3RTdG9yZU5hbWVzO1xuICAgIHZhciBvYmplY3RTdG9yZTtcblxuICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5idWNrZXRDb25maWcpIHtcbiAgICAgIHZhciBzZXR1cCA9IHRoaXMuYnVja2V0Q29uZmlnW25hbWVdO1xuICAgICAgaWYgKHR5cGVvZiBzZXR1cCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzZXR1cCA9IHNldHVwLmNvbmZpZ3VyZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdG9yZXMuY29udGFpbnMobmFtZSkpICBkYi5kZWxldGVPYmplY3RTdG9yZShuYW1lKTtcbiAgICAgIG9iamVjdFN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUobmFtZSwgeyBrZXlQYXRoOiAnaWQnIH0pO1xuICAgICAgc2V0dXAob2JqZWN0U3RvcmUpO1xuICAgIH1cblxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIG9wZW5SZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgY29uc29sZS5sb2coXCJTbyBmYWlsZWRcIiwgZSk7XG4gIH07XG5cbiAgb3BlblJlcXVlc3Qub25zdWNjZXNzID0gKGZ1bmN0aW9uKGUpIHtcbiAgICAvLyBpZiB3ZSB1cGdyYWRlZCB3ZSB3YW50IHRvIHJlZnJlc2ggb2JqZWN0IHN0b3JlcyB3aXRoIHRoZSBnaG9zdCBzdG9yZXNcbiAgICBnbG9iYWwuYnVja2V0REIgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgcmVzb2x2ZShlLnRhcmdldC5yZXN1bHQpO1xuXG4gICAgaWYgKCF1cGdyYWRlZCkgcmV0dXJuO1xuXG4gICAgLy8gcmVsb2FkIGJ1Y2tldHNcbiAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMuYnVja2V0cykge1xuICAgICAgdGhpcy5idWNrZXRzW25hbWVdLnJlbG9hZCgpO1xuICAgIH1cblxuICB9KS5iaW5kKHRoaXMpO1xuXG59O1xuXG5Ccm93c2VyQ2xpZW50LnByb3RvdHlwZS5pc0F1dGhvcml6ZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy5jbGllbnQuYWNjZXNzVG9rZW47XG59XG5cbkJyb3dzZXJDbGllbnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIC8vIGxvb3AgdGhyb3VnaCBlYWNoIGtub3duIGJ1Y2tldCBhbmQgZ2VuZXJhdGUgYSBwcm9taXNlIHRvIHJlc2V0IHRoZSBidWNrZXRcbiAgcmV0dXJuIHRoaXMuYnVja2V0REIucmVzZXQoKVxuICAudGhlbihcbiAgICAoKSA9PiB7IHJldHVybiBnaG9zdF9zdG9yZS5yZXNldCgpIH0sXG4gICAgKGUpID0+IHsgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byByZXNldFwiLCBlKSB9XG4gIClcbn07XG5cbkJyb3dzZXJDbGllbnQucHJvdG90eXBlLmJ1Y2tldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHRoaXMuYnVja2V0c1tuYW1lXTtcbn07XG5cbkJyb3dzZXJDbGllbnQucHJvdG90eXBlLnNldFVzZXIgPSBmdW5jdGlvbih1c2VyKSB7XG4gIC8vIHRvZG8sIHNldCB0aGUgdXNlciBhY2Nlc3MgdG9rZW4gYW5kIGhhdmUgdGhlIGJ1Y2tldHMgcmVjb25uZWN0XG4gIHRoaXMuY2xpZW50LnNldEFjY2Vzc1Rva2VuKHVzZXIuYWNjZXNzX3Rva2VuKTtcbiAgdGhpcy5lbWl0KCdhdXRob3JpemVkJyk7XG59O1xuXG5Ccm93c2VyQ2xpZW50LnByb3RvdHlwZS5kZWF1dGhvcml6ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNsaWVudC5zZXRBY2Nlc3NUb2tlbihudWxsKTtcbiAgdGhpcy5lbWl0KCd1bmF1dGhvcml6ZWQnKTtcbiAgdGhpcy5jbGllbnQuZGlzY29ubmVjdCgpO1xuICB0aGlzLnJlc2V0KCk7XG59IiwidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGFnOiAnJyxcbiAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICAgIG9uU2VsZWN0VGFnOiBmdW5jdGlvbigpIHt9XG4gICAgfTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjbGFzc05hbWUgPSAndGFnLWNoaXAnICsgKHRoaXMucHJvcHMuc2VsZWN0ZWQgPyAnIHNlbGVjdGVkJyA6ICcnKTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0gb25DbGljaz17dGhpcy5wcm9wcy5vblNlbGVjdH0+e3RoaXMucHJvcHMudGFnfTwvZGl2PlxuICAgIClcbiAgfVxufSk7IiwidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBUYWdDaGlwID0gcmVxdWlyZSgnLi90YWdfY2hpcC5qc3gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGFnczogW10sXG4gICAgICBvblVwZGF0ZVRhZ3M6IGZ1bmN0aW9uKCl7fVxuICAgIH07XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0ZWRUYWc6IC0xXG4gICAgfTtcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbihuZXh0UHJvcHMsIGNvbnRleHQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtzZWxlY3RlZFRhZzogLTF9KTtcbiAgfSxcblxuICBjbGVhclRleHRGaWVsZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZWZzLnRhZy5nZXRET01Ob2RlKCkudmFsdWUgPSBcIlwiO1xuICB9LFxuXG4gIGFkZFRhZzogZnVuY3Rpb24odGFnKSB7XG4gICAgdmFyIHRhZ3MgPSB0aGlzLnByb3BzLnRhZ3MuY29uY2F0KFt0YWddKTtcbiAgICB0aGlzLnByb3BzLm9uVXBkYXRlVGFncyh0YWdzKTtcbiAgfSxcblxuICBvblNlbGVjdFRhZzogZnVuY3Rpb24odGFnLCBpbmRleCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe3NlbGVjdGVkVGFnOiBpbmRleH0pO1xuICB9LFxuXG4gIGhhc1NlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2VsZWN0ZWRUYWcgIT09IC0xO1xuICB9LFxuXG4gIGRlbGV0ZVRhZzogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICB2YXIgdGFncyA9IHRoaXMucHJvcHMudGFncy5jb25jYXQoW10pO1xuICAgIHRhZ3Muc3BsaWNlKHRoaXMuc3RhdGUuc2VsZWN0ZWRUYWcsIDEpO1xuXG4gICAgLy8gdmFyIHN0YXRlID0ge3RhZ3M6IHRhZ3N9O1xuICAgIHZhciBzdGF0ZSA9IHt9O1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRUYWcgPT0gaW5kZXgpIHtcbiAgICAgIHN0YXRlLnNlbGVjdGVkVGFnID0gLTE7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vblVwZGF0ZVRhZ3ModGFncyk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgfSxcblxuICBkZWxldGVTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5oYXNTZWxlY3Rpb24oKSkgcmV0dXJuO1xuXG4gICAgdGhpcy5kZWxldGVUYWcodGhpcy5zdGF0ZS5zZWxlY3RlZFRhZyk7XG4gIH0sXG5cbiAgc2VsZWN0TGFzdFRhZzogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7c2VsZWN0ZWRUYWc6IHRoaXMucHJvcHMudGFncy5sZW5ndGggLTF9KTtcbiAgfSxcblxuICBvbktleURvd246IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdGFnID0gdGhpcy5yZWZzLnRhZy5nZXRET01Ob2RlKCkudmFsdWUudHJpbSgpO1xuICAgIHN3aXRjaChlLndoaWNoKSB7XG4gICAgY2FzZSAxMzogLy8gcmV0dXJuIGtleVxuICAgICAgLy8gY29tbWl0IHRoZSB2YWx1ZSBvZiB0aGUgdGFnXG4gICAgICBpZiAodGFnID09PSBcIlwiKSByZXR1cm47XG4gICAgICB0aGlzLmFkZFRhZyh0YWcpO1xuICAgICAgdGhpcy5jbGVhclRleHRGaWVsZCgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA4OiAvLyBiYWNrc3BhY2VcbiAgICAgIC8vIGlmIGEgdGFnIGlzIHNlbGVjdGVkLCBkZWxldGUgaXQsIGlmIG5vIHRhZyBpcyBzZWxlY3Qgc2VsZWN0IHJpZ2h0LW1vc3QgdGFnXG4gICAgICBpZiAodGhpcy5oYXNTZWxlY3Rpb24oKSkge1xuICAgICAgICB0aGlzLmRlbGV0ZVNlbGVjdGlvbigpO1xuICAgICAgfVxuICAgICAgaWYgKHRhZyAhPT0gJycpIHJldHVybjtcbiAgICAgIHRoaXMuZ2V0RE9NTm9kZSgpLmZvY3VzKCk7XG4gICAgICB0aGlzLnNlbGVjdExhc3RUYWcoKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBicmVhaztcbiAgICB9XG4gIH0sXG5cbiAgb25CbHVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtzZWxlY3RlZFRhZzogLTF9KTtcbiAgfSxcblxuICBlYWNoVGFnOiBmdW5jdGlvbihjYikge1xuICAgIHJldHVybiAodGhpcy5wcm9wcy50YWdzIHx8IFtdKS5tYXAoY2IuYmluZCh0aGlzKSk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiB0YWJJbmRleD1cIi0xXCIgb25LZXlEb3duPXt0aGlzLm9uS2V5RG93bn0gb25CbHVyPXt0aGlzLm9uQmx1cn0gY2xhc3NOYW1lPVwidGFnLWVkaXRvclwiPlxuICAgICAgICB7dGhpcy5lYWNoVGFnKGZ1bmN0aW9uKHRhZywgaW5kZXgpIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBpbmRleCA9PSB0aGlzLnN0YXRlLnNlbGVjdGVkVGFnO1xuICAgICAgICAgIHZhciBvblNlbGVjdFRhZyA9IHRoaXMub25TZWxlY3RUYWc7XG4gICAgICAgICAgdmFyIG9uU2VsZWN0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgb25TZWxlY3RUYWcodGFnLCBpbmRleClcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8VGFnQ2hpcCBrZXk9e3RhZ30gdGFnPXt0YWd9IGluZGV4PXtpbmRleH0gc2VsZWN0ZWQ9e3NlbGVjdGVkfSBvblNlbGVjdD17b25TZWxlY3R9IC8+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0YWctZmllbGRcIj5cbiAgICAgICAgICA8aW5wdXQgcmVmPVwidGFnXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkFkZCB0YWdzIOKAplwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG59KTsiLCJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0YWdzOiBbXSxcbiAgICAgIGRlZmF1bHRMYWJlbDogJ1RhZ3MnXG4gICAgfTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsYWJlbCA9IHRoaXMucHJvcHMuZGVmYXVsdExhYmVsO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhZy1tZW51XCI+XG4gICAgICAgIDxzcGFuIGtleT1cImxhYmVsXCIgdGFiSW5kZXg9XCIxXCIgY2xhc3NOYW1lPVwidGFnLW1lbnUtbGFiZWxcIj57bGFiZWx9PC9zcGFuPlxuICAgICAgICA8ZGl2IGtleT1cIm1lbnVcIiBjbGFzc05hbWU9XCJ0YWctbWVudS1vcHRpb25zXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59KSIsIlxuXG4vL0Agc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk5VmMyVnljeTlpWldGMVkyOXNiR2x1Y3k5amIyUmxMM05wYlhCc1pXNXZkR1V0Wld4bFkzUnliMjR2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3ZibTlrWlY5dGIyUjFiR1Z6TDJKeWIzZHpaWEl0Y21WemIyeDJaUzlsYlhCMGVTNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lJaXdpWm1sc1pTSTZJbTkxZEM1cWN5NXRZWEFpTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lJaVhYMD0iLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzLWFycmF5JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbnZhciByb290UGFyZW50ID0ge31cblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBTYWZhcmkgNS03IGxhY2tzIHN1cHBvcnQgZm9yIGNoYW5naW5nIHRoZSBgT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvcmAgcHJvcGVydHlcbiAqICAgICBvbiBvYmplY3RzLlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgZnVuY3Rpb24gQmFyICgpIHt9XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLmZvbyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH1cbiAgICBhcnIuY29uc3RydWN0b3IgPSBCYXJcbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MiAmJiAvLyB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZFxuICAgICAgICBhcnIuY29uc3RydWN0b3IgPT09IEJhciAmJiAvLyBjb25zdHJ1Y3RvciBjYW4gYmUgc2V0XG4gICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgXG4gICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcbiAgcmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gICAgPyAweDdmZmZmZmZmXG4gICAgOiAweDNmZmZmZmZmXG59XG5cbi8qKlxuICogQ2xhc3M6IEJ1ZmZlclxuICogPT09PT09PT09PT09PVxuICpcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgYXJlIGF1Z21lbnRlZFxuICogd2l0aCBmdW5jdGlvbiBwcm9wZXJ0aWVzIGZvciBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgQVBJIGZ1bmN0aW9ucy4gV2UgdXNlXG4gKiBgVWludDhBcnJheWAgc28gdGhhdCBzcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdCByZXR1cm5zXG4gKiBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBCeSBhdWdtZW50aW5nIHRoZSBpbnN0YW5jZXMsIHdlIGNhbiBhdm9pZCBtb2RpZnlpbmcgdGhlIGBVaW50OEFycmF5YFxuICogcHJvdG90eXBlLlxuICovXG5mdW5jdGlvbiBCdWZmZXIgKGFyZykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgIC8vIEF2b2lkIGdvaW5nIHRocm91Z2ggYW4gQXJndW1lbnRzQWRhcHRvclRyYW1wb2xpbmUgaW4gdGhlIGNvbW1vbiBjYXNlLlxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgcmV0dXJuIG5ldyBCdWZmZXIoYXJnLCBhcmd1bWVudHNbMV0pXG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnKVxuICB9XG5cbiAgdGhpcy5sZW5ndGggPSAwXG4gIHRoaXMucGFyZW50ID0gdW5kZWZpbmVkXG5cbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBmcm9tTnVtYmVyKHRoaXMsIGFyZylcbiAgfVxuXG4gIC8vIFNsaWdodGx5IGxlc3MgY29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHRoaXMsIGFyZywgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiAndXRmOCcpXG4gIH1cblxuICAvLyBVbnVzdWFsLlxuICByZXR1cm4gZnJvbU9iamVjdCh0aGlzLCBhcmcpXG59XG5cbmZ1bmN0aW9uIGZyb21OdW1iZXIgKHRoYXQsIGxlbmd0aCkge1xuICB0aGF0ID0gYWxsb2NhdGUodGhhdCwgbGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGxlbmd0aCkgfCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAodGhhdCwgc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgLy8gQXNzdW1wdGlvbjogYnl0ZUxlbmd0aCgpIHJldHVybiB2YWx1ZSBpcyBhbHdheXMgPCBrTWF4TGVuZ3RoLlxuICB2YXIgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgdGhhdCA9IGFsbG9jYXRlKHRoYXQsIGxlbmd0aClcblxuICB0aGF0LndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iamVjdCkge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iamVjdCkpIHJldHVybiBmcm9tQnVmZmVyKHRoYXQsIG9iamVjdClcblxuICBpZiAoaXNBcnJheShvYmplY3QpKSByZXR1cm4gZnJvbUFycmF5KHRoYXQsIG9iamVjdClcblxuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtdXN0IHN0YXJ0IHdpdGggbnVtYmVyLCBidWZmZXIsIGFycmF5IG9yIHN0cmluZycpXG4gIH1cblxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvYmplY3QuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgIHJldHVybiBmcm9tVHlwZWRBcnJheSh0aGF0LCBvYmplY3QpXG4gICAgfVxuICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih0aGF0LCBvYmplY3QpXG4gICAgfVxuICB9XG5cbiAgaWYgKG9iamVjdC5sZW5ndGgpIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iamVjdClcblxuICByZXR1cm4gZnJvbUpzb25PYmplY3QodGhhdCwgb2JqZWN0KVxufVxuXG5mdW5jdGlvbiBmcm9tQnVmZmVyICh0aGF0LCBidWZmZXIpIHtcbiAgdmFyIGxlbmd0aCA9IGNoZWNrZWQoYnVmZmVyLmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBhbGxvY2F0ZSh0aGF0LCBsZW5ndGgpXG4gIGJ1ZmZlci5jb3B5KHRoYXQsIDAsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5ICh0aGF0LCBhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gYWxsb2NhdGUodGhhdCwgbGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLy8gRHVwbGljYXRlIG9mIGZyb21BcnJheSgpIHRvIGtlZXAgZnJvbUFycmF5KCkgbW9ub21vcnBoaWMuXG5mdW5jdGlvbiBmcm9tVHlwZWRBcnJheSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGFsbG9jYXRlKHRoYXQsIGxlbmd0aClcbiAgLy8gVHJ1bmNhdGluZyB0aGUgZWxlbWVudHMgaXMgcHJvYmFibHkgbm90IHdoYXQgcGVvcGxlIGV4cGVjdCBmcm9tIHR5cGVkXG4gIC8vIGFycmF5cyB3aXRoIEJZVEVTX1BFUl9FTEVNRU5UID4gMSBidXQgaXQncyBjb21wYXRpYmxlIHdpdGggdGhlIGJlaGF2aW9yXG4gIC8vIG9mIHRoZSBvbGQgQnVmZmVyIGNvbnN0cnVjdG9yLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyICh0aGF0LCBhcnJheSkge1xuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICBhcnJheS5ieXRlTGVuZ3RoXG4gICAgdGhhdCA9IEJ1ZmZlci5fYXVnbWVudChuZXcgVWludDhBcnJheShhcnJheSkpXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tVHlwZWRBcnJheSh0aGF0LCBuZXcgVWludDhBcnJheShhcnJheSkpXG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGFsbG9jYXRlKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbi8vIERlc2VyaWFsaXplIHsgdHlwZTogJ0J1ZmZlcicsIGRhdGE6IFsxLDIsMywuLi5dIH0gaW50byBhIEJ1ZmZlciBvYmplY3QuXG4vLyBSZXR1cm5zIGEgemVyby1sZW5ndGggYnVmZmVyIGZvciBpbnB1dHMgdGhhdCBkb24ndCBjb25mb3JtIHRvIHRoZSBzcGVjLlxuZnVuY3Rpb24gZnJvbUpzb25PYmplY3QgKHRoYXQsIG9iamVjdCkge1xuICB2YXIgYXJyYXlcbiAgdmFyIGxlbmd0aCA9IDBcblxuICBpZiAob2JqZWN0LnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkob2JqZWN0LmRhdGEpKSB7XG4gICAgYXJyYXkgPSBvYmplY3QuZGF0YVxuICAgIGxlbmd0aCA9IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgfVxuICB0aGF0ID0gYWxsb2NhdGUodGhhdCwgbGVuZ3RoKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxufVxuXG5mdW5jdGlvbiBhbGxvY2F0ZSAodGhhdCwgbGVuZ3RoKSB7XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBCdWZmZXIuX2F1Z21lbnQobmV3IFVpbnQ4QXJyYXkobGVuZ3RoKSlcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgICB0aGF0Ll9pc0J1ZmZlciA9IHRydWVcbiAgfVxuXG4gIHZhciBmcm9tUG9vbCA9IGxlbmd0aCAhPT0gMCAmJiBsZW5ndGggPD0gQnVmZmVyLnBvb2xTaXplID4+PiAxXG4gIGlmIChmcm9tUG9vbCkgdGhhdC5wYXJlbnQgPSByb290UGFyZW50XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IGtNYXhMZW5ndGhgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cbiAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXG4gIGlmIChsZW5ndGggPj0ga01heExlbmd0aCgpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIGtNYXhMZW5ndGgoKS50b1N0cmluZygxNikgKyAnIGJ5dGVzJylcbiAgfVxuICByZXR1cm4gbGVuZ3RoIHwgMFxufVxuXG5mdW5jdGlvbiBTbG93QnVmZmVyIChzdWJqZWN0LCBlbmNvZGluZykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU2xvd0J1ZmZlcikpIHJldHVybiBuZXcgU2xvd0J1ZmZlcihzdWJqZWN0LCBlbmNvZGluZylcblxuICB2YXIgYnVmID0gbmV3IEJ1ZmZlcihzdWJqZWN0LCBlbmNvZGluZylcbiAgZGVsZXRlIGJ1Zi5wYXJlbnRcbiAgcmV0dXJuIGJ1ZlxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgdmFyIGkgPSAwXG4gIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KVxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSBicmVha1xuXG4gICAgKytpXG4gIH1cblxuICBpZiAoaSAhPT0gbGVuKSB7XG4gICAgeCA9IGFbaV1cbiAgICB5ID0gYltpXVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICdyYXcnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdsaXN0IGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycy4nKVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBuZXcgQnVmZmVyKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWYgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV1cbiAgICBpdGVtLmNvcHkoYnVmLCBwb3MpXG4gICAgcG9zICs9IGl0ZW0ubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykgc3RyaW5nID0gJycgKyBzdHJpbmdcblxuICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAobGVuID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgIC8vIERlcHJlY2F0ZWRcbiAgICAgIGNhc2UgJ3Jhdyc6XG4gICAgICBjYXNlICdyYXdzJzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cbi8vIHByZS1zZXQgZm9yIHZhbHVlcyB0aGF0IG1heSBleGlzdCBpbiB0aGUgZnV0dXJlXG5CdWZmZXIucHJvdG90eXBlLmxlbmd0aCA9IHVuZGVmaW5lZFxuQnVmZmVyLnByb3RvdHlwZS5wYXJlbnQgPSB1bmRlZmluZWRcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIHN0YXJ0ID0gc3RhcnQgfCAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA9PT0gSW5maW5pdHkgPyB0aGlzLmxlbmd0aCA6IGVuZCB8IDBcblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAoZW5kIDw9IHN0YXJ0KSByZXR1cm4gJydcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBiaW5hcnlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHwgMFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICB2YXIgc3RyID0gJydcbiAgdmFyIG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICB9XG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIDBcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCkge1xuICBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIGJ5dGVPZmZzZXQgPj49IDBcblxuICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiAtMVxuICBpZiAoYnl0ZU9mZnNldCA+PSB0aGlzLmxlbmd0aCkgcmV0dXJuIC0xXG5cbiAgLy8gTmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBNYXRoLm1heCh0aGlzLmxlbmd0aCArIGJ5dGVPZmZzZXQsIDApXG5cbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHJldHVybiAtMSAvLyBzcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZyBhbHdheXMgZmFpbHNcbiAgICByZXR1cm4gU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mLmNhbGwodGhpcywgdmFsLCBieXRlT2Zmc2V0KVxuICB9XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIHJldHVybiBhcnJheUluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0KVxuICB9XG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHRoaXMsIHZhbCwgYnl0ZU9mZnNldClcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZih0aGlzLCBbIHZhbCBdLCBieXRlT2Zmc2V0KVxuICB9XG5cbiAgZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCkge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKHZhciBpID0gMDsgYnl0ZU9mZnNldCArIGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhcnJbYnl0ZU9mZnNldCArIGldID09PSB2YWxbZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXhdKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsLmxlbmd0aCkgcmV0dXJuIGJ5dGVPZmZzZXQgKyBmb3VuZEluZGV4XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG4vLyBgZ2V0YCBpcyBkZXByZWNhdGVkXG5CdWZmZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAob2Zmc2V0KSB7XG4gIGNvbnNvbGUubG9nKCcuZ2V0KCkgaXMgZGVwcmVjYXRlZC4gQWNjZXNzIHVzaW5nIGFycmF5IGluZGV4ZXMgaW5zdGVhZC4nKVxuICByZXR1cm4gdGhpcy5yZWFkVUludDgob2Zmc2V0KVxufVxuXG4vLyBgc2V0YCBpcyBkZXByZWNhdGVkXG5CdWZmZXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAodiwgb2Zmc2V0KSB7XG4gIGNvbnNvbGUubG9nKCcuc2V0KCkgaXMgZGVwcmVjYXRlZC4gQWNjZXNzIHVzaW5nIGFycmF5IGluZGV4ZXMgaW5zdGVhZC4nKVxuICByZXR1cm4gdGhpcy53cml0ZVVJbnQ4KHYsIG9mZnNldClcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICAvLyBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyIG9mIGRpZ2l0c1xuICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaGV4IHN0cmluZycpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiaW5hcnlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBhc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCB8IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICAvLyBsZWdhY3kgd3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpIC0gcmVtb3ZlIGluIHYwLjEzXG4gIH0gZWxzZSB7XG4gICAgdmFyIHN3YXAgPSBlbmNvZGluZ1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgb2Zmc2V0ID0gbGVuZ3RoIHwgMFxuICAgIGxlbmd0aCA9IHN3YXBcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdhdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gYmluYXJ5V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICB2YXIgcmVzID0gW11cblxuICB2YXIgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIHZhciBjb2RlUG9pbnQgPSBudWxsXG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpID8gMlxuICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG52YXIgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIHZhciBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBiaW5hcnlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgb3V0ICs9IHRvSGV4KGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSArIDFdICogMjU2KVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIHZhciBuZXdCdWZcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgbmV3QnVmID0gQnVmZmVyLl9hdWdtZW50KHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCkpXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcbiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgaSsrKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH1cblxuICBpZiAobmV3QnVmLmxlbmd0aCkgbmV3QnVmLnBhcmVudCA9IHRoaXMucGFyZW50IHx8IHRoaXNcblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICB2YXIgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2J1ZmZlciBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndmFsdWUgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignaW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCksIDApXG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCksIDApXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDIpOyBpIDwgajsgaSsrKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj5cbiAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7IGkrKykge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSB2YWx1ZSA8IDAgPyAxIDogMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IHZhbHVlIDwgMCA/IDEgOiAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3ZhbHVlIGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignaW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICB2YXIgbGVuID0gZW5kIC0gc3RhcnRcbiAgdmFyIGlcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcbiAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcbiAgICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBhc2NlbmRpbmcgY29weSBmcm9tIHN0YXJ0XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQuX3NldCh0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksIHRhcmdldFN0YXJ0KVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBmaWxsKHZhbHVlLCBzdGFydD0wLCBlbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gIGlmICghdmFsdWUpIHZhbHVlID0gMFxuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQpIGVuZCA9IHRoaXMubGVuZ3RoXG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignZW5kIDwgc3RhcnQnKVxuXG4gIC8vIEZpbGwgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuXG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3N0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2VuZCBvdXQgb2YgYm91bmRzJylcblxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgIHRoaXNbaV0gPSB2YWx1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSB1dGY4VG9CeXRlcyh2YWx1ZS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICB0aGlzW2ldID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgYEFycmF5QnVmZmVyYCB3aXRoIHRoZSAqY29waWVkKiBtZW1vcnkgb2YgdGhlIGJ1ZmZlciBpbnN0YW5jZS5cbiAqIEFkZGVkIGluIE5vZGUgMC4xMi4gT25seSBhdmFpbGFibGUgaW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IEFycmF5QnVmZmVyLlxuICovXG5CdWZmZXIucHJvdG90eXBlLnRvQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiB0b0FycmF5QnVmZmVyICgpIHtcbiAgaWYgKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgICAgcmV0dXJuIChuZXcgQnVmZmVyKHRoaXMpKS5idWZmZXJcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KHRoaXMubGVuZ3RoKVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJ1Zi5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICBidWZbaV0gPSB0aGlzW2ldXG4gICAgICB9XG4gICAgICByZXR1cm4gYnVmLmJ1ZmZlclxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCdWZmZXIudG9BcnJheUJ1ZmZlciBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlcicpXG4gIH1cbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgQlAgPSBCdWZmZXIucHJvdG90eXBlXG5cbi8qKlxuICogQXVnbWVudCBhIFVpbnQ4QXJyYXkgKmluc3RhbmNlKiAobm90IHRoZSBVaW50OEFycmF5IGNsYXNzISkgd2l0aCBCdWZmZXIgbWV0aG9kc1xuICovXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiBfYXVnbWVudCAoYXJyKSB7XG4gIGFyci5jb25zdHJ1Y3RvciA9IEJ1ZmZlclxuICBhcnIuX2lzQnVmZmVyID0gdHJ1ZVxuXG4gIC8vIHNhdmUgcmVmZXJlbmNlIHRvIG9yaWdpbmFsIFVpbnQ4QXJyYXkgc2V0IG1ldGhvZCBiZWZvcmUgb3ZlcndyaXRpbmdcbiAgYXJyLl9zZXQgPSBhcnIuc2V0XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBhcnIuZ2V0ID0gQlAuZ2V0XG4gIGFyci5zZXQgPSBCUC5zZXRcblxuICBhcnIud3JpdGUgPSBCUC53cml0ZVxuICBhcnIudG9TdHJpbmcgPSBCUC50b1N0cmluZ1xuICBhcnIudG9Mb2NhbGVTdHJpbmcgPSBCUC50b1N0cmluZ1xuICBhcnIudG9KU09OID0gQlAudG9KU09OXG4gIGFyci5lcXVhbHMgPSBCUC5lcXVhbHNcbiAgYXJyLmNvbXBhcmUgPSBCUC5jb21wYXJlXG4gIGFyci5pbmRleE9mID0gQlAuaW5kZXhPZlxuICBhcnIuY29weSA9IEJQLmNvcHlcbiAgYXJyLnNsaWNlID0gQlAuc2xpY2VcbiAgYXJyLnJlYWRVSW50TEUgPSBCUC5yZWFkVUludExFXG4gIGFyci5yZWFkVUludEJFID0gQlAucmVhZFVJbnRCRVxuICBhcnIucmVhZFVJbnQ4ID0gQlAucmVhZFVJbnQ4XG4gIGFyci5yZWFkVUludDE2TEUgPSBCUC5yZWFkVUludDE2TEVcbiAgYXJyLnJlYWRVSW50MTZCRSA9IEJQLnJlYWRVSW50MTZCRVxuICBhcnIucmVhZFVJbnQzMkxFID0gQlAucmVhZFVJbnQzMkxFXG4gIGFyci5yZWFkVUludDMyQkUgPSBCUC5yZWFkVUludDMyQkVcbiAgYXJyLnJlYWRJbnRMRSA9IEJQLnJlYWRJbnRMRVxuICBhcnIucmVhZEludEJFID0gQlAucmVhZEludEJFXG4gIGFyci5yZWFkSW50OCA9IEJQLnJlYWRJbnQ4XG4gIGFyci5yZWFkSW50MTZMRSA9IEJQLnJlYWRJbnQxNkxFXG4gIGFyci5yZWFkSW50MTZCRSA9IEJQLnJlYWRJbnQxNkJFXG4gIGFyci5yZWFkSW50MzJMRSA9IEJQLnJlYWRJbnQzMkxFXG4gIGFyci5yZWFkSW50MzJCRSA9IEJQLnJlYWRJbnQzMkJFXG4gIGFyci5yZWFkRmxvYXRMRSA9IEJQLnJlYWRGbG9hdExFXG4gIGFyci5yZWFkRmxvYXRCRSA9IEJQLnJlYWRGbG9hdEJFXG4gIGFyci5yZWFkRG91YmxlTEUgPSBCUC5yZWFkRG91YmxlTEVcbiAgYXJyLnJlYWREb3VibGVCRSA9IEJQLnJlYWREb3VibGVCRVxuICBhcnIud3JpdGVVSW50OCA9IEJQLndyaXRlVUludDhcbiAgYXJyLndyaXRlVUludExFID0gQlAud3JpdGVVSW50TEVcbiAgYXJyLndyaXRlVUludEJFID0gQlAud3JpdGVVSW50QkVcbiAgYXJyLndyaXRlVUludDE2TEUgPSBCUC53cml0ZVVJbnQxNkxFXG4gIGFyci53cml0ZVVJbnQxNkJFID0gQlAud3JpdGVVSW50MTZCRVxuICBhcnIud3JpdGVVSW50MzJMRSA9IEJQLndyaXRlVUludDMyTEVcbiAgYXJyLndyaXRlVUludDMyQkUgPSBCUC53cml0ZVVJbnQzMkJFXG4gIGFyci53cml0ZUludExFID0gQlAud3JpdGVJbnRMRVxuICBhcnIud3JpdGVJbnRCRSA9IEJQLndyaXRlSW50QkVcbiAgYXJyLndyaXRlSW50OCA9IEJQLndyaXRlSW50OFxuICBhcnIud3JpdGVJbnQxNkxFID0gQlAud3JpdGVJbnQxNkxFXG4gIGFyci53cml0ZUludDE2QkUgPSBCUC53cml0ZUludDE2QkVcbiAgYXJyLndyaXRlSW50MzJMRSA9IEJQLndyaXRlSW50MzJMRVxuICBhcnIud3JpdGVJbnQzMkJFID0gQlAud3JpdGVJbnQzMkJFXG4gIGFyci53cml0ZUZsb2F0TEUgPSBCUC53cml0ZUZsb2F0TEVcbiAgYXJyLndyaXRlRmxvYXRCRSA9IEJQLndyaXRlRmxvYXRCRVxuICBhcnIud3JpdGVEb3VibGVMRSA9IEJQLndyaXRlRG91YmxlTEVcbiAgYXJyLndyaXRlRG91YmxlQkUgPSBCUC53cml0ZURvdWJsZUJFXG4gIGFyci5maWxsID0gQlAuZmlsbFxuICBhcnIuaW5zcGVjdCA9IEJQLmluc3BlY3RcbiAgYXJyLnRvQXJyYXlCdWZmZXIgPSBCUC50b0FycmF5QnVmZmVyXG5cbiAgcmV0dXJuIGFyclxufVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXFwvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyaW5ndHJpbShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuICBpZiAoc3RyLnRyaW0pIHJldHVybiBzdHIudHJpbSgpXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSBsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwIHwgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG4iLCJ2YXIgbG9va3VwID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXG47KGZ1bmN0aW9uIChleHBvcnRzKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuICB2YXIgQXJyID0gKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJylcbiAgICA/IFVpbnQ4QXJyYXlcbiAgICA6IEFycmF5XG5cblx0dmFyIFBMVVMgICA9ICcrJy5jaGFyQ29kZUF0KDApXG5cdHZhciBTTEFTSCAgPSAnLycuY2hhckNvZGVBdCgwKVxuXHR2YXIgTlVNQkVSID0gJzAnLmNoYXJDb2RlQXQoMClcblx0dmFyIExPV0VSICA9ICdhJy5jaGFyQ29kZUF0KDApXG5cdHZhciBVUFBFUiAgPSAnQScuY2hhckNvZGVBdCgwKVxuXHR2YXIgUExVU19VUkxfU0FGRSA9ICctJy5jaGFyQ29kZUF0KDApXG5cdHZhciBTTEFTSF9VUkxfU0FGRSA9ICdfJy5jaGFyQ29kZUF0KDApXG5cblx0ZnVuY3Rpb24gZGVjb2RlIChlbHQpIHtcblx0XHR2YXIgY29kZSA9IGVsdC5jaGFyQ29kZUF0KDApXG5cdFx0aWYgKGNvZGUgPT09IFBMVVMgfHxcblx0XHQgICAgY29kZSA9PT0gUExVU19VUkxfU0FGRSlcblx0XHRcdHJldHVybiA2MiAvLyAnKydcblx0XHRpZiAoY29kZSA9PT0gU0xBU0ggfHxcblx0XHQgICAgY29kZSA9PT0gU0xBU0hfVVJMX1NBRkUpXG5cdFx0XHRyZXR1cm4gNjMgLy8gJy8nXG5cdFx0aWYgKGNvZGUgPCBOVU1CRVIpXG5cdFx0XHRyZXR1cm4gLTEgLy9ubyBtYXRjaFxuXHRcdGlmIChjb2RlIDwgTlVNQkVSICsgMTApXG5cdFx0XHRyZXR1cm4gY29kZSAtIE5VTUJFUiArIDI2ICsgMjZcblx0XHRpZiAoY29kZSA8IFVQUEVSICsgMjYpXG5cdFx0XHRyZXR1cm4gY29kZSAtIFVQUEVSXG5cdFx0aWYgKGNvZGUgPCBMT1dFUiArIDI2KVxuXHRcdFx0cmV0dXJuIGNvZGUgLSBMT1dFUiArIDI2XG5cdH1cblxuXHRmdW5jdGlvbiBiNjRUb0J5dGVBcnJheSAoYjY0KSB7XG5cdFx0dmFyIGksIGosIGwsIHRtcCwgcGxhY2VIb2xkZXJzLCBhcnJcblxuXHRcdGlmIChiNjQubGVuZ3RoICUgNCA+IDApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG5cdFx0fVxuXG5cdFx0Ly8gdGhlIG51bWJlciBvZiBlcXVhbCBzaWducyAocGxhY2UgaG9sZGVycylcblx0XHQvLyBpZiB0aGVyZSBhcmUgdHdvIHBsYWNlaG9sZGVycywgdGhhbiB0aGUgdHdvIGNoYXJhY3RlcnMgYmVmb3JlIGl0XG5cdFx0Ly8gcmVwcmVzZW50IG9uZSBieXRlXG5cdFx0Ly8gaWYgdGhlcmUgaXMgb25seSBvbmUsIHRoZW4gdGhlIHRocmVlIGNoYXJhY3RlcnMgYmVmb3JlIGl0IHJlcHJlc2VudCAyIGJ5dGVzXG5cdFx0Ly8gdGhpcyBpcyBqdXN0IGEgY2hlYXAgaGFjayB0byBub3QgZG8gaW5kZXhPZiB0d2ljZVxuXHRcdHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cdFx0cGxhY2VIb2xkZXJzID0gJz0nID09PSBiNjQuY2hhckF0KGxlbiAtIDIpID8gMiA6ICc9JyA9PT0gYjY0LmNoYXJBdChsZW4gLSAxKSA/IDEgOiAwXG5cblx0XHQvLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcblx0XHRhcnIgPSBuZXcgQXJyKGI2NC5sZW5ndGggKiAzIC8gNCAtIHBsYWNlSG9sZGVycylcblxuXHRcdC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcblx0XHRsID0gcGxhY2VIb2xkZXJzID4gMCA/IGI2NC5sZW5ndGggLSA0IDogYjY0Lmxlbmd0aFxuXG5cdFx0dmFyIEwgPSAwXG5cblx0XHRmdW5jdGlvbiBwdXNoICh2KSB7XG5cdFx0XHRhcnJbTCsrXSA9IHZcblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwLCBqID0gMDsgaSA8IGw7IGkgKz0gNCwgaiArPSAzKSB7XG5cdFx0XHR0bXAgPSAoZGVjb2RlKGI2NC5jaGFyQXQoaSkpIDw8IDE4KSB8IChkZWNvZGUoYjY0LmNoYXJBdChpICsgMSkpIDw8IDEyKSB8IChkZWNvZGUoYjY0LmNoYXJBdChpICsgMikpIDw8IDYpIHwgZGVjb2RlKGI2NC5jaGFyQXQoaSArIDMpKVxuXHRcdFx0cHVzaCgodG1wICYgMHhGRjAwMDApID4+IDE2KVxuXHRcdFx0cHVzaCgodG1wICYgMHhGRjAwKSA+PiA4KVxuXHRcdFx0cHVzaCh0bXAgJiAweEZGKVxuXHRcdH1cblxuXHRcdGlmIChwbGFjZUhvbGRlcnMgPT09IDIpIHtcblx0XHRcdHRtcCA9IChkZWNvZGUoYjY0LmNoYXJBdChpKSkgPDwgMikgfCAoZGVjb2RlKGI2NC5jaGFyQXQoaSArIDEpKSA+PiA0KVxuXHRcdFx0cHVzaCh0bXAgJiAweEZGKVxuXHRcdH0gZWxzZSBpZiAocGxhY2VIb2xkZXJzID09PSAxKSB7XG5cdFx0XHR0bXAgPSAoZGVjb2RlKGI2NC5jaGFyQXQoaSkpIDw8IDEwKSB8IChkZWNvZGUoYjY0LmNoYXJBdChpICsgMSkpIDw8IDQpIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAyKSkgPj4gMilcblx0XHRcdHB1c2goKHRtcCA+PiA4KSAmIDB4RkYpXG5cdFx0XHRwdXNoKHRtcCAmIDB4RkYpXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFyclxuXHR9XG5cblx0ZnVuY3Rpb24gdWludDhUb0Jhc2U2NCAodWludDgpIHtcblx0XHR2YXIgaSxcblx0XHRcdGV4dHJhQnl0ZXMgPSB1aW50OC5sZW5ndGggJSAzLCAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuXHRcdFx0b3V0cHV0ID0gXCJcIixcblx0XHRcdHRlbXAsIGxlbmd0aFxuXG5cdFx0ZnVuY3Rpb24gZW5jb2RlIChudW0pIHtcblx0XHRcdHJldHVybiBsb29rdXAuY2hhckF0KG51bSlcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuXHRcdFx0cmV0dXJuIGVuY29kZShudW0gPj4gMTggJiAweDNGKSArIGVuY29kZShudW0gPj4gMTIgJiAweDNGKSArIGVuY29kZShudW0gPj4gNiAmIDB4M0YpICsgZW5jb2RlKG51bSAmIDB4M0YpXG5cdFx0fVxuXG5cdFx0Ly8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuXHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IHVpbnQ4Lmxlbmd0aCAtIGV4dHJhQnl0ZXM7IGkgPCBsZW5ndGg7IGkgKz0gMykge1xuXHRcdFx0dGVtcCA9ICh1aW50OFtpXSA8PCAxNikgKyAodWludDhbaSArIDFdIDw8IDgpICsgKHVpbnQ4W2kgKyAyXSlcblx0XHRcdG91dHB1dCArPSB0cmlwbGV0VG9CYXNlNjQodGVtcClcblx0XHR9XG5cblx0XHQvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG5cdFx0c3dpdGNoIChleHRyYUJ5dGVzKSB7XG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdHRlbXAgPSB1aW50OFt1aW50OC5sZW5ndGggLSAxXVxuXHRcdFx0XHRvdXRwdXQgKz0gZW5jb2RlKHRlbXAgPj4gMilcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSgodGVtcCA8PCA0KSAmIDB4M0YpXG5cdFx0XHRcdG91dHB1dCArPSAnPT0nXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHRlbXAgPSAodWludDhbdWludDgubGVuZ3RoIC0gMl0gPDwgOCkgKyAodWludDhbdWludDgubGVuZ3RoIC0gMV0pXG5cdFx0XHRcdG91dHB1dCArPSBlbmNvZGUodGVtcCA+PiAxMClcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSgodGVtcCA+PiA0KSAmIDB4M0YpXG5cdFx0XHRcdG91dHB1dCArPSBlbmNvZGUoKHRlbXAgPDwgMikgJiAweDNGKVxuXHRcdFx0XHRvdXRwdXQgKz0gJz0nXG5cdFx0XHRcdGJyZWFrXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG91dHB1dFxuXHR9XG5cblx0ZXhwb3J0cy50b0J5dGVBcnJheSA9IGI2NFRvQnl0ZUFycmF5XG5cdGV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IHVpbnQ4VG9CYXNlNjRcbn0odHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnID8gKHRoaXMuYmFzZTY0anMgPSB7fSkgOiBleHBvcnRzKSlcbiIsImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IGUgKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSBtICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKHZhbHVlICogYyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIiwiXG4vKipcbiAqIGlzQXJyYXlcbiAqL1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogdG9TdHJpbmdcbiAqL1xuXG52YXIgc3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBXaGV0aGVyIG9yIG5vdCB0aGUgZ2l2ZW4gYHZhbGBcbiAqIGlzIGFuIGFycmF5LlxuICpcbiAqIGV4YW1wbGU6XG4gKlxuICogICAgICAgIGlzQXJyYXkoW10pO1xuICogICAgICAgIC8vID4gdHJ1ZVxuICogICAgICAgIGlzQXJyYXkoYXJndW1lbnRzKTtcbiAqICAgICAgICAvLyA+IGZhbHNlXG4gKiAgICAgICAgaXNBcnJheSgnJyk7XG4gKiAgICAgICAgLy8gPiBmYWxzZVxuICpcbiAqIEBwYXJhbSB7bWl4ZWR9IHZhbFxuICogQHJldHVybiB7Ym9vbH1cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXkgfHwgZnVuY3Rpb24gKHZhbCkge1xuICByZXR1cm4gISEgdmFsICYmICdbb2JqZWN0IEFycmF5XScgPT0gc3RyLmNhbGwodmFsKTtcbn07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfVxuICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgdmFyIG07XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSAwO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKGVtaXR0ZXIuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gMTtcbiAgZWxzZVxuICAgIHJldCA9IGVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg7XG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG4iLCJ2YXIgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcblxudmFyIGh0dHBzID0gbW9kdWxlLmV4cG9ydHM7XG5cbmZvciAodmFyIGtleSBpbiBodHRwKSB7XG4gICAgaWYgKGh0dHAuaGFzT3duUHJvcGVydHkoa2V5KSkgaHR0cHNba2V5XSA9IGh0dHBba2V5XTtcbn07XG5cbmh0dHBzLnJlcXVlc3QgPSBmdW5jdGlvbiAocGFyYW1zLCBjYikge1xuICAgIGlmICghcGFyYW1zKSBwYXJhbXMgPSB7fTtcbiAgICBwYXJhbXMuc2NoZW1lID0gJ2h0dHBzJztcbiAgICBwYXJhbXMucHJvdG9jb2wgPSAnaHR0cHM6JztcbiAgICByZXR1cm4gaHR0cC5yZXF1ZXN0LmNhbGwodGhpcywgcGFyYW1zLCBjYik7XG59XG4iLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cbiIsIi8qKlxuICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBCdWZmZXJcbiAqXG4gKiBBdXRob3I6ICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIExpY2Vuc2U6ICBNSVRcbiAqXG4gKiBgbnBtIGluc3RhbGwgaXMtYnVmZmVyYFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gISEob2JqICE9IG51bGwgJiZcbiAgICAob2JqLl9pc0J1ZmZlciB8fCAvLyBGb3IgU2FmYXJpIDUtNyAobWlzc2luZyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yKVxuICAgICAgKG9iai5jb25zdHJ1Y3RvciAmJlxuICAgICAgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iaikpXG4gICAgKSlcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS4zLjIgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuMy4yJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykgeyAvLyBpbiBOb2RlLmpzIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHsgLy8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7IC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vZGVjb2RlJyk7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vbGliL19zdHJlYW1fZHVwbGV4LmpzXCIpXG4iLCIvLyBhIGR1cGxleCBzdHJlYW0gaXMganVzdCBhIHN0cmVhbSB0aGF0IGlzIGJvdGggcmVhZGFibGUgYW5kIHdyaXRhYmxlLlxuLy8gU2luY2UgSlMgZG9lc24ndCBoYXZlIG11bHRpcGxlIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UsIHRoaXMgY2xhc3Ncbi8vIHByb3RvdHlwYWxseSBpbmhlcml0cyBmcm9tIFJlYWRhYmxlLCBhbmQgdGhlbiBwYXJhc2l0aWNhbGx5IGZyb21cbi8vIFdyaXRhYmxlLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikga2V5cy5wdXNoKGtleSk7XG4gIHJldHVybiBrZXlzO1xufVxuLyo8L3JlcGxhY2VtZW50PiovXG5cblxubW9kdWxlLmV4cG9ydHMgPSBEdXBsZXg7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgcHJvY2Vzc05leHRUaWNrID0gcmVxdWlyZSgncHJvY2Vzcy1uZXh0aWNrLWFyZ3MnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG52YXIgUmVhZGFibGUgPSByZXF1aXJlKCcuL19zdHJlYW1fcmVhZGFibGUnKTtcbnZhciBXcml0YWJsZSA9IHJlcXVpcmUoJy4vX3N0cmVhbV93cml0YWJsZScpO1xuXG51dGlsLmluaGVyaXRzKER1cGxleCwgUmVhZGFibGUpO1xuXG52YXIga2V5cyA9IG9iamVjdEtleXMoV3JpdGFibGUucHJvdG90eXBlKTtcbmZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICB2YXIgbWV0aG9kID0ga2V5c1t2XTtcbiAgaWYgKCFEdXBsZXgucHJvdG90eXBlW21ldGhvZF0pXG4gICAgRHVwbGV4LnByb3RvdHlwZVttZXRob2RdID0gV3JpdGFibGUucHJvdG90eXBlW21ldGhvZF07XG59XG5cbmZ1bmN0aW9uIER1cGxleChvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEdXBsZXgpKVxuICAgIHJldHVybiBuZXcgRHVwbGV4KG9wdGlvbnMpO1xuXG4gIFJlYWRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIFdyaXRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5yZWFkYWJsZSA9PT0gZmFsc2UpXG4gICAgdGhpcy5yZWFkYWJsZSA9IGZhbHNlO1xuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMud3JpdGFibGUgPT09IGZhbHNlKVxuICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcblxuICB0aGlzLmFsbG93SGFsZk9wZW4gPSB0cnVlO1xuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmFsbG93SGFsZk9wZW4gPT09IGZhbHNlKVxuICAgIHRoaXMuYWxsb3dIYWxmT3BlbiA9IGZhbHNlO1xuXG4gIHRoaXMub25jZSgnZW5kJywgb25lbmQpO1xufVxuXG4vLyB0aGUgbm8taGFsZi1vcGVuIGVuZm9yY2VyXG5mdW5jdGlvbiBvbmVuZCgpIHtcbiAgLy8gaWYgd2UgYWxsb3cgaGFsZi1vcGVuIHN0YXRlLCBvciBpZiB0aGUgd3JpdGFibGUgc2lkZSBlbmRlZCxcbiAgLy8gdGhlbiB3ZSdyZSBvay5cbiAgaWYgKHRoaXMuYWxsb3dIYWxmT3BlbiB8fCB0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkKVxuICAgIHJldHVybjtcblxuICAvLyBubyBtb3JlIGRhdGEgY2FuIGJlIHdyaXR0ZW4uXG4gIC8vIEJ1dCBhbGxvdyBtb3JlIHdyaXRlcyB0byBoYXBwZW4gaW4gdGhpcyB0aWNrLlxuICBwcm9jZXNzTmV4dFRpY2sob25FbmROVCwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIG9uRW5kTlQoc2VsZikge1xuICBzZWxmLmVuZCgpO1xufVxuXG5mdW5jdGlvbiBmb3JFYWNoICh4cywgZikge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHhzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGYoeHNbaV0sIGkpO1xuICB9XG59XG4iLCIvLyBhIHBhc3N0aHJvdWdoIHN0cmVhbS5cbi8vIGJhc2ljYWxseSBqdXN0IHRoZSBtb3N0IG1pbmltYWwgc29ydCBvZiBUcmFuc2Zvcm0gc3RyZWFtLlxuLy8gRXZlcnkgd3JpdHRlbiBjaHVuayBnZXRzIG91dHB1dCBhcy1pcy5cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhc3NUaHJvdWdoO1xuXG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9fc3RyZWFtX3RyYW5zZm9ybScpO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTtcbnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnV0aWwuaW5oZXJpdHMoUGFzc1Rocm91Z2gsIFRyYW5zZm9ybSk7XG5cbmZ1bmN0aW9uIFBhc3NUaHJvdWdoKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoKSlcbiAgICByZXR1cm4gbmV3IFBhc3NUaHJvdWdoKG9wdGlvbnMpO1xuXG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xufVxuXG5QYXNzVGhyb3VnaC5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobnVsbCwgY2h1bmspO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFkYWJsZTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBwcm9jZXNzTmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzLW5leHRpY2stYXJncycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuUmVhZGFibGUuUmVhZGFibGVTdGF0ZSA9IFJlYWRhYmxlU3RhdGU7XG5cbnZhciBFRSA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbmlmICghRUUubGlzdGVuZXJDb3VudCkgRUUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJzKHR5cGUpLmxlbmd0aDtcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgU3RyZWFtO1xuKGZ1bmN0aW9uICgpe3RyeXtcbiAgU3RyZWFtID0gcmVxdWlyZSgnc3QnICsgJ3JlYW0nKTtcbn1jYXRjaChfKXt9ZmluYWxseXtcbiAgaWYgKCFTdHJlYW0pXG4gICAgU3RyZWFtID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xufX0oKSlcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTtcbnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cblxuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIGRlYnVnID0gcmVxdWlyZSgndXRpbCcpO1xuaWYgKGRlYnVnICYmIGRlYnVnLmRlYnVnbG9nKSB7XG4gIGRlYnVnID0gZGVidWcuZGVidWdsb2coJ3N0cmVhbScpO1xufSBlbHNlIHtcbiAgZGVidWcgPSBmdW5jdGlvbiAoKSB7fTtcbn1cbi8qPC9yZXBsYWNlbWVudD4qL1xuXG52YXIgU3RyaW5nRGVjb2RlcjtcblxudXRpbC5pbmhlcml0cyhSZWFkYWJsZSwgU3RyZWFtKTtcblxuZnVuY3Rpb24gUmVhZGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0pIHtcbiAgdmFyIER1cGxleCA9IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcuIFVzZWQgdG8gbWFrZSByZWFkKG4pIGlnbm9yZSBuIGFuZCB0b1xuICAvLyBtYWtlIGFsbCB0aGUgYnVmZmVyIG1lcmdpbmcgYW5kIGxlbmd0aCBjaGVja3MgZ28gYXdheVxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcblxuICBpZiAoc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4KVxuICAgIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMucmVhZGFibGVPYmplY3RNb2RlO1xuXG4gIC8vIHRoZSBwb2ludCBhdCB3aGljaCBpdCBzdG9wcyBjYWxsaW5nIF9yZWFkKCkgdG8gZmlsbCB0aGUgYnVmZmVyXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgXCJkb24ndCBjYWxsIF9yZWFkIHByZWVtcHRpdmVseSBldmVyXCJcbiAgdmFyIGh3bSA9IG9wdGlvbnMuaGlnaFdhdGVyTWFyaztcbiAgdmFyIGRlZmF1bHRId20gPSB0aGlzLm9iamVjdE1vZGUgPyAxNiA6IDE2ICogMTAyNDtcbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gKGh3bSB8fCBod20gPT09IDApID8gaHdtIDogZGVmYXVsdEh3bTtcblxuICAvLyBjYXN0IHRvIGludHMuXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IH5+dGhpcy5oaWdoV2F0ZXJNYXJrO1xuXG4gIHRoaXMuYnVmZmVyID0gW107XG4gIHRoaXMubGVuZ3RoID0gMDtcbiAgdGhpcy5waXBlcyA9IG51bGw7XG4gIHRoaXMucGlwZXNDb3VudCA9IDA7XG4gIHRoaXMuZmxvd2luZyA9IG51bGw7XG4gIHRoaXMuZW5kZWQgPSBmYWxzZTtcbiAgdGhpcy5lbmRFbWl0dGVkID0gZmFsc2U7XG4gIHRoaXMucmVhZGluZyA9IGZhbHNlO1xuXG4gIC8vIGEgZmxhZyB0byBiZSBhYmxlIHRvIHRlbGwgaWYgdGhlIG9ud3JpdGUgY2IgaXMgY2FsbGVkIGltbWVkaWF0ZWx5LFxuICAvLyBvciBvbiBhIGxhdGVyIHRpY2suICBXZSBzZXQgdGhpcyB0byB0cnVlIGF0IGZpcnN0LCBiZWNhdXNlIGFueVxuICAvLyBhY3Rpb25zIHRoYXQgc2hvdWxkbid0IGhhcHBlbiB1bnRpbCBcImxhdGVyXCIgc2hvdWxkIGdlbmVyYWxseSBhbHNvXG4gIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCB3cml0ZSBjYWxsLlxuICB0aGlzLnN5bmMgPSB0cnVlO1xuXG4gIC8vIHdoZW5ldmVyIHdlIHJldHVybiBudWxsLCB0aGVuIHdlIHNldCBhIGZsYWcgdG8gc2F5XG4gIC8vIHRoYXQgd2UncmUgYXdhaXRpbmcgYSAncmVhZGFibGUnIGV2ZW50IGVtaXNzaW9uLlxuICB0aGlzLm5lZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB0aGlzLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB0aGlzLnJlYWRhYmxlTGlzdGVuaW5nID0gZmFsc2U7XG5cbiAgLy8gQ3J5cHRvIGlzIGtpbmQgb2Ygb2xkIGFuZCBjcnVzdHkuICBIaXN0b3JpY2FsbHksIGl0cyBkZWZhdWx0IHN0cmluZ1xuICAvLyBlbmNvZGluZyBpcyAnYmluYXJ5JyBzbyB3ZSBoYXZlIHRvIG1ha2UgdGhpcyBjb25maWd1cmFibGUuXG4gIC8vIEV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgdW5pdmVyc2UgdXNlcyAndXRmOCcsIHRob3VnaC5cbiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7XG5cbiAgLy8gd2hlbiBwaXBpbmcsIHdlIG9ubHkgY2FyZSBhYm91dCAncmVhZGFibGUnIGV2ZW50cyB0aGF0IGhhcHBlblxuICAvLyBhZnRlciByZWFkKClpbmcgYWxsIHRoZSBieXRlcyBhbmQgbm90IGdldHRpbmcgYW55IHB1c2hiYWNrLlxuICB0aGlzLnJhbk91dCA9IGZhbHNlO1xuXG4gIC8vIHRoZSBudW1iZXIgb2Ygd3JpdGVycyB0aGF0IGFyZSBhd2FpdGluZyBhIGRyYWluIGV2ZW50IGluIC5waXBlKClzXG4gIHRoaXMuYXdhaXREcmFpbiA9IDA7XG5cbiAgLy8gaWYgdHJ1ZSwgYSBtYXliZVJlYWRNb3JlIGhhcyBiZWVuIHNjaGVkdWxlZFxuICB0aGlzLnJlYWRpbmdNb3JlID0gZmFsc2U7XG5cbiAgdGhpcy5kZWNvZGVyID0gbnVsbDtcbiAgdGhpcy5lbmNvZGluZyA9IG51bGw7XG4gIGlmIChvcHRpb25zLmVuY29kaW5nKSB7XG4gICAgaWYgKCFTdHJpbmdEZWNvZGVyKVxuICAgICAgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyLycpLlN0cmluZ0RlY29kZXI7XG4gICAgdGhpcy5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIob3B0aW9ucy5lbmNvZGluZyk7XG4gICAgdGhpcy5lbmNvZGluZyA9IG9wdGlvbnMuZW5jb2Rpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gUmVhZGFibGUob3B0aW9ucykge1xuICB2YXIgRHVwbGV4ID0gcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWFkYWJsZSkpXG4gICAgcmV0dXJuIG5ldyBSZWFkYWJsZShvcHRpb25zKTtcblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlID0gbmV3IFJlYWRhYmxlU3RhdGUob3B0aW9ucywgdGhpcyk7XG5cbiAgLy8gbGVnYWN5XG4gIHRoaXMucmVhZGFibGUgPSB0cnVlO1xuXG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLnJlYWQgPT09ICdmdW5jdGlvbicpXG4gICAgdGhpcy5fcmVhZCA9IG9wdGlvbnMucmVhZDtcblxuICBTdHJlYW0uY2FsbCh0aGlzKTtcbn1cblxuLy8gTWFudWFsbHkgc2hvdmUgc29tZXRoaW5nIGludG8gdGhlIHJlYWQoKSBidWZmZXIuXG4vLyBUaGlzIHJldHVybnMgdHJ1ZSBpZiB0aGUgaGlnaFdhdGVyTWFyayBoYXMgbm90IGJlZW4gaGl0IHlldCxcbi8vIHNpbWlsYXIgdG8gaG93IFdyaXRhYmxlLndyaXRlKCkgcmV0dXJucyB0cnVlIGlmIHlvdSBzaG91bGRcbi8vIHdyaXRlKCkgc29tZSBtb3JlLlxuUmVhZGFibGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihjaHVuaywgZW5jb2RpbmcpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcblxuICBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgdHlwZW9mIGNodW5rID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gZW5jb2RpbmcgfHwgc3RhdGUuZGVmYXVsdEVuY29kaW5nO1xuICAgIGlmIChlbmNvZGluZyAhPT0gc3RhdGUuZW5jb2RpbmcpIHtcbiAgICAgIGNodW5rID0gbmV3IEJ1ZmZlcihjaHVuaywgZW5jb2RpbmcpO1xuICAgICAgZW5jb2RpbmcgPSAnJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBmYWxzZSk7XG59O1xuXG4vLyBVbnNoaWZ0IHNob3VsZCAqYWx3YXlzKiBiZSBzb21ldGhpbmcgZGlyZWN0bHkgb3V0IG9mIHJlYWQoKVxuUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbihjaHVuaykge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBzdGF0ZSwgY2h1bmssICcnLCB0cnVlKTtcbn07XG5cblJlYWRhYmxlLnByb3RvdHlwZS5pc1BhdXNlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID09PSBmYWxzZTtcbn07XG5cbmZ1bmN0aW9uIHJlYWRhYmxlQWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBhZGRUb0Zyb250KSB7XG4gIHZhciBlciA9IGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspO1xuICBpZiAoZXIpIHtcbiAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gIH0gZWxzZSBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgb25Fb2ZDaHVuayhzdHJlYW0sIHN0YXRlKTtcbiAgfSBlbHNlIGlmIChzdGF0ZS5vYmplY3RNb2RlIHx8IGNodW5rICYmIGNodW5rLmxlbmd0aCA+IDApIHtcbiAgICBpZiAoc3RhdGUuZW5kZWQgJiYgIWFkZFRvRnJvbnQpIHtcbiAgICAgIHZhciBlID0gbmV3IEVycm9yKCdzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRicpO1xuICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZSk7XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5lbmRFbWl0dGVkICYmIGFkZFRvRnJvbnQpIHtcbiAgICAgIHZhciBlID0gbmV3IEVycm9yKCdzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudCcpO1xuICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFhZGRUb0Zyb250ICYmICFlbmNvZGluZylcbiAgICAgICAgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTtcblxuICAgICAgaWYgKCFhZGRUb0Zyb250KVxuICAgICAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG5cbiAgICAgIC8vIGlmIHdlIHdhbnQgdGhlIGRhdGEgbm93LCBqdXN0IGVtaXQgaXQuXG4gICAgICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHtcbiAgICAgICAgc3RyZWFtLmVtaXQoJ2RhdGEnLCBjaHVuayk7XG4gICAgICAgIHN0cmVhbS5yZWFkKDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBidWZmZXIgaW5mby5cbiAgICAgICAgc3RhdGUubGVuZ3RoICs9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuICAgICAgICBpZiAoYWRkVG9Gcm9udClcbiAgICAgICAgICBzdGF0ZS5idWZmZXIudW5zaGlmdChjaHVuayk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG5cbiAgICAgICAgaWYgKHN0YXRlLm5lZWRSZWFkYWJsZSlcbiAgICAgICAgICBlbWl0UmVhZGFibGUoc3RyZWFtKTtcbiAgICAgIH1cblxuICAgICAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWFkZFRvRnJvbnQpIHtcbiAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gbmVlZE1vcmVEYXRhKHN0YXRlKTtcbn1cblxuXG5cbi8vIGlmIGl0J3MgcGFzdCB0aGUgaGlnaCB3YXRlciBtYXJrLCB3ZSBjYW4gcHVzaCBpbiBzb21lIG1vcmUuXG4vLyBBbHNvLCBpZiB3ZSBoYXZlIG5vIGRhdGEgeWV0LCB3ZSBjYW4gc3RhbmQgc29tZVxuLy8gbW9yZSBieXRlcy4gIFRoaXMgaXMgdG8gd29yayBhcm91bmQgY2FzZXMgd2hlcmUgaHdtPTAsXG4vLyBzdWNoIGFzIHRoZSByZXBsLiAgQWxzbywgaWYgdGhlIHB1c2goKSB0cmlnZ2VyZWQgYVxuLy8gcmVhZGFibGUgZXZlbnQsIGFuZCB0aGUgdXNlciBjYWxsZWQgcmVhZChsYXJnZU51bWJlcikgc3VjaCB0aGF0XG4vLyBuZWVkUmVhZGFibGUgd2FzIHNldCwgdGhlbiB3ZSBvdWdodCB0byBwdXNoIG1vcmUsIHNvIHRoYXQgYW5vdGhlclxuLy8gJ3JlYWRhYmxlJyBldmVudCB3aWxsIGJlIHRyaWdnZXJlZC5cbmZ1bmN0aW9uIG5lZWRNb3JlRGF0YShzdGF0ZSkge1xuICByZXR1cm4gIXN0YXRlLmVuZGVkICYmXG4gICAgICAgICAoc3RhdGUubmVlZFJlYWRhYmxlIHx8XG4gICAgICAgICAgc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyayB8fFxuICAgICAgICAgIHN0YXRlLmxlbmd0aCA9PT0gMCk7XG59XG5cbi8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuUmVhZGFibGUucHJvdG90eXBlLnNldEVuY29kaW5nID0gZnVuY3Rpb24oZW5jKSB7XG4gIGlmICghU3RyaW5nRGVjb2RlcilcbiAgICBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXIvJykuU3RyaW5nRGVjb2RlcjtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoZW5jKTtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZyA9IGVuYztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBEb24ndCByYWlzZSB0aGUgaHdtID4gMTI4TUJcbnZhciBNQVhfSFdNID0gMHg4MDAwMDA7XG5mdW5jdGlvbiByb3VuZFVwVG9OZXh0UG93ZXJPZjIobikge1xuICBpZiAobiA+PSBNQVhfSFdNKSB7XG4gICAgbiA9IE1BWF9IV007XG4gIH0gZWxzZSB7XG4gICAgLy8gR2V0IHRoZSBuZXh0IGhpZ2hlc3QgcG93ZXIgb2YgMlxuICAgIG4tLTtcbiAgICBmb3IgKHZhciBwID0gMTsgcCA8IDMyOyBwIDw8PSAxKSBuIHw9IG4gPj4gcDtcbiAgICBuKys7XG4gIH1cbiAgcmV0dXJuIG47XG59XG5cbmZ1bmN0aW9uIGhvd011Y2hUb1JlYWQobiwgc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5lbmRlZClcbiAgICByZXR1cm4gMDtcblxuICBpZiAoc3RhdGUub2JqZWN0TW9kZSlcbiAgICByZXR1cm4gbiA9PT0gMCA/IDAgOiAxO1xuXG4gIGlmIChuID09PSBudWxsIHx8IGlzTmFOKG4pKSB7XG4gICAgLy8gb25seSBmbG93IG9uZSBidWZmZXIgYXQgYSB0aW1lXG4gICAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUuYnVmZmVyLmxlbmd0aClcbiAgICAgIHJldHVybiBzdGF0ZS5idWZmZXJbMF0ubGVuZ3RoO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBzdGF0ZS5sZW5ndGg7XG4gIH1cblxuICBpZiAobiA8PSAwKVxuICAgIHJldHVybiAwO1xuXG4gIC8vIElmIHdlJ3JlIGFza2luZyBmb3IgbW9yZSB0aGFuIHRoZSB0YXJnZXQgYnVmZmVyIGxldmVsLFxuICAvLyB0aGVuIHJhaXNlIHRoZSB3YXRlciBtYXJrLiAgQnVtcCB1cCB0byB0aGUgbmV4dCBoaWdoZXN0XG4gIC8vIHBvd2VyIG9mIDIsIHRvIHByZXZlbnQgaW5jcmVhc2luZyBpdCBleGNlc3NpdmVseSBpbiB0aW55XG4gIC8vIGFtb3VudHMuXG4gIGlmIChuID4gc3RhdGUuaGlnaFdhdGVyTWFyaylcbiAgICBzdGF0ZS5oaWdoV2F0ZXJNYXJrID0gcm91bmRVcFRvTmV4dFBvd2VyT2YyKG4pO1xuXG4gIC8vIGRvbid0IGhhdmUgdGhhdCBtdWNoLiAgcmV0dXJuIG51bGwsIHVubGVzcyB3ZSd2ZSBlbmRlZC5cbiAgaWYgKG4gPiBzdGF0ZS5sZW5ndGgpIHtcbiAgICBpZiAoIXN0YXRlLmVuZGVkKSB7XG4gICAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdGF0ZS5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG47XG59XG5cbi8vIHlvdSBjYW4gb3ZlcnJpZGUgZWl0aGVyIHRoaXMgbWV0aG9kLCBvciB0aGUgYXN5bmMgX3JlYWQobikgYmVsb3cuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKG4pIHtcbiAgZGVidWcoJ3JlYWQnLCBuKTtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIG5PcmlnID0gbjtcblxuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPiAwKVxuICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuXG4gIC8vIGlmIHdlJ3JlIGRvaW5nIHJlYWQoMCkgdG8gdHJpZ2dlciBhIHJlYWRhYmxlIGV2ZW50LCBidXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGEgYnVuY2ggb2YgZGF0YSBpbiB0aGUgYnVmZmVyLCB0aGVuIGp1c3QgdHJpZ2dlclxuICAvLyB0aGUgJ3JlYWRhYmxlJyBldmVudCBhbmQgbW92ZSBvbi5cbiAgaWYgKG4gPT09IDAgJiZcbiAgICAgIHN0YXRlLm5lZWRSZWFkYWJsZSAmJlxuICAgICAgKHN0YXRlLmxlbmd0aCA+PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIGRlYnVnKCdyZWFkOiBlbWl0UmVhZGFibGUnLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKVxuICAgICAgZW5kUmVhZGFibGUodGhpcyk7XG4gICAgZWxzZVxuICAgICAgZW1pdFJlYWRhYmxlKHRoaXMpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbiA9IGhvd011Y2hUb1JlYWQobiwgc3RhdGUpO1xuXG4gIC8vIGlmIHdlJ3ZlIGVuZGVkLCBhbmQgd2UncmUgbm93IGNsZWFyLCB0aGVuIGZpbmlzaCBpdCB1cC5cbiAgaWYgKG4gPT09IDAgJiYgc3RhdGUuZW5kZWQpIHtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKVxuICAgICAgZW5kUmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBBbGwgdGhlIGFjdHVhbCBjaHVuayBnZW5lcmF0aW9uIGxvZ2ljIG5lZWRzIHRvIGJlXG4gIC8vICpiZWxvdyogdGhlIGNhbGwgdG8gX3JlYWQuICBUaGUgcmVhc29uIGlzIHRoYXQgaW4gY2VydGFpblxuICAvLyBzeW50aGV0aWMgc3RyZWFtIGNhc2VzLCBzdWNoIGFzIHBhc3N0aHJvdWdoIHN0cmVhbXMsIF9yZWFkXG4gIC8vIG1heSBiZSBhIGNvbXBsZXRlbHkgc3luY2hyb25vdXMgb3BlcmF0aW9uIHdoaWNoIG1heSBjaGFuZ2VcbiAgLy8gdGhlIHN0YXRlIG9mIHRoZSByZWFkIGJ1ZmZlciwgcHJvdmlkaW5nIGVub3VnaCBkYXRhIHdoZW5cbiAgLy8gYmVmb3JlIHRoZXJlIHdhcyAqbm90KiBlbm91Z2guXG4gIC8vXG4gIC8vIFNvLCB0aGUgc3RlcHMgYXJlOlxuICAvLyAxLiBGaWd1cmUgb3V0IHdoYXQgdGhlIHN0YXRlIG9mIHRoaW5ncyB3aWxsIGJlIGFmdGVyIHdlIGRvXG4gIC8vIGEgcmVhZCBmcm9tIHRoZSBidWZmZXIuXG4gIC8vXG4gIC8vIDIuIElmIHRoYXQgcmVzdWx0aW5nIHN0YXRlIHdpbGwgdHJpZ2dlciBhIF9yZWFkLCB0aGVuIGNhbGwgX3JlYWQuXG4gIC8vIE5vdGUgdGhhdCB0aGlzIG1heSBiZSBhc3luY2hyb25vdXMsIG9yIHN5bmNocm9ub3VzLiAgWWVzLCBpdCBpc1xuICAvLyBkZWVwbHkgdWdseSB0byB3cml0ZSBBUElzIHRoaXMgd2F5LCBidXQgdGhhdCBzdGlsbCBkb2Vzbid0IG1lYW5cbiAgLy8gdGhhdCB0aGUgUmVhZGFibGUgY2xhc3Mgc2hvdWxkIGJlaGF2ZSBpbXByb3Blcmx5LCBhcyBzdHJlYW1zIGFyZVxuICAvLyBkZXNpZ25lZCB0byBiZSBzeW5jL2FzeW5jIGFnbm9zdGljLlxuICAvLyBUYWtlIG5vdGUgaWYgdGhlIF9yZWFkIGNhbGwgaXMgc3luYyBvciBhc3luYyAoaWUsIGlmIHRoZSByZWFkIGNhbGxcbiAgLy8gaGFzIHJldHVybmVkIHlldCksIHNvIHRoYXQgd2Uga25vdyB3aGV0aGVyIG9yIG5vdCBpdCdzIHNhZmUgdG8gZW1pdFxuICAvLyAncmVhZGFibGUnIGV0Yy5cbiAgLy9cbiAgLy8gMy4gQWN0dWFsbHkgcHVsbCB0aGUgcmVxdWVzdGVkIGNodW5rcyBvdXQgb2YgdGhlIGJ1ZmZlciBhbmQgcmV0dXJuLlxuXG4gIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy5cbiAgdmFyIGRvUmVhZCA9IHN0YXRlLm5lZWRSZWFkYWJsZTtcbiAgZGVidWcoJ25lZWQgcmVhZGFibGUnLCBkb1JlYWQpO1xuXG4gIC8vIGlmIHdlIGN1cnJlbnRseSBoYXZlIGxlc3MgdGhhbiB0aGUgaGlnaFdhdGVyTWFyaywgdGhlbiBhbHNvIHJlYWQgc29tZVxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwIHx8IHN0YXRlLmxlbmd0aCAtIG4gPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgZG9SZWFkID0gdHJ1ZTtcbiAgICBkZWJ1ZygnbGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsnLCBkb1JlYWQpO1xuICB9XG5cbiAgLy8gaG93ZXZlciwgaWYgd2UndmUgZW5kZWQsIHRoZW4gdGhlcmUncyBubyBwb2ludCwgYW5kIGlmIHdlJ3JlIGFscmVhZHlcbiAgLy8gcmVhZGluZywgdGhlbiBpdCdzIHVubmVjZXNzYXJ5LlxuICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykge1xuICAgIGRvUmVhZCA9IGZhbHNlO1xuICAgIGRlYnVnKCdyZWFkaW5nIG9yIGVuZGVkJywgZG9SZWFkKTtcbiAgfVxuXG4gIGlmIChkb1JlYWQpIHtcbiAgICBkZWJ1ZygnZG8gcmVhZCcpO1xuICAgIHN0YXRlLnJlYWRpbmcgPSB0cnVlO1xuICAgIHN0YXRlLnN5bmMgPSB0cnVlO1xuICAgIC8vIGlmIHRoZSBsZW5ndGggaXMgY3VycmVudGx5IHplcm8sIHRoZW4gd2UgKm5lZWQqIGEgcmVhZGFibGUgZXZlbnQuXG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMClcbiAgICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgLy8gY2FsbCBpbnRlcm5hbCByZWFkIG1ldGhvZFxuICAgIHRoaXMuX3JlYWQoc3RhdGUuaGlnaFdhdGVyTWFyayk7XG4gICAgc3RhdGUuc3luYyA9IGZhbHNlO1xuICB9XG5cbiAgLy8gSWYgX3JlYWQgcHVzaGVkIGRhdGEgc3luY2hyb25vdXNseSwgdGhlbiBgcmVhZGluZ2Agd2lsbCBiZSBmYWxzZSxcbiAgLy8gYW5kIHdlIG5lZWQgdG8gcmUtZXZhbHVhdGUgaG93IG11Y2ggZGF0YSB3ZSBjYW4gcmV0dXJuIHRvIHRoZSB1c2VyLlxuICBpZiAoZG9SZWFkICYmICFzdGF0ZS5yZWFkaW5nKVxuICAgIG4gPSBob3dNdWNoVG9SZWFkKG5PcmlnLCBzdGF0ZSk7XG5cbiAgdmFyIHJldDtcbiAgaWYgKG4gPiAwKVxuICAgIHJldCA9IGZyb21MaXN0KG4sIHN0YXRlKTtcbiAgZWxzZVxuICAgIHJldCA9IG51bGw7XG5cbiAgaWYgKHJldCA9PT0gbnVsbCkge1xuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgbiA9IDA7XG4gIH1cblxuICBzdGF0ZS5sZW5ndGggLT0gbjtcblxuICAvLyBJZiB3ZSBoYXZlIG5vdGhpbmcgaW4gdGhlIGJ1ZmZlciwgdGhlbiB3ZSB3YW50IHRvIGtub3dcbiAgLy8gYXMgc29vbiBhcyB3ZSAqZG8qIGdldCBzb21ldGhpbmcgaW50byB0aGUgYnVmZmVyLlxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmICFzdGF0ZS5lbmRlZClcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuXG4gIC8vIElmIHdlIHRyaWVkIHRvIHJlYWQoKSBwYXN0IHRoZSBFT0YsIHRoZW4gZW1pdCBlbmQgb24gdGhlIG5leHQgdGljay5cbiAgaWYgKG5PcmlnICE9PSBuICYmIHN0YXRlLmVuZGVkICYmIHN0YXRlLmxlbmd0aCA9PT0gMClcbiAgICBlbmRSZWFkYWJsZSh0aGlzKTtcblxuICBpZiAocmV0ICE9PSBudWxsKVxuICAgIHRoaXMuZW1pdCgnZGF0YScsIHJldCk7XG5cbiAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspIHtcbiAgdmFyIGVyID0gbnVsbDtcbiAgaWYgKCEoQnVmZmVyLmlzQnVmZmVyKGNodW5rKSkgJiZcbiAgICAgIHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycgJiZcbiAgICAgIGNodW5rICE9PSBudWxsICYmXG4gICAgICBjaHVuayAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAhc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGVyID0gbmV3IFR5cGVFcnJvcignSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVuaycpO1xuICB9XG4gIHJldHVybiBlcjtcbn1cblxuXG5mdW5jdGlvbiBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmVuZGVkKSByZXR1cm47XG4gIGlmIChzdGF0ZS5kZWNvZGVyKSB7XG4gICAgdmFyIGNodW5rID0gc3RhdGUuZGVjb2Rlci5lbmQoKTtcbiAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG4gICAgICBzdGF0ZS5sZW5ndGggKz0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgfVxuICB9XG4gIHN0YXRlLmVuZGVkID0gdHJ1ZTtcblxuICAvLyBlbWl0ICdyZWFkYWJsZScgbm93IHRvIG1ha2Ugc3VyZSBpdCBnZXRzIHBpY2tlZCB1cC5cbiAgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG59XG5cbi8vIERvbid0IGVtaXQgcmVhZGFibGUgcmlnaHQgYXdheSBpbiBzeW5jIG1vZGUsIGJlY2F1c2UgdGhpcyBjYW4gdHJpZ2dlclxuLy8gYW5vdGhlciByZWFkKCkgY2FsbCA9PiBzdGFjayBvdmVyZmxvdy4gIFRoaXMgd2F5LCBpdCBtaWdodCB0cmlnZ2VyXG4vLyBhIG5leHRUaWNrIHJlY3Vyc2lvbiB3YXJuaW5nLCBidXQgdGhhdCdzIG5vdCBzbyBiYWQuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgc3RhdGUubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7XG4gICAgZGVidWcoJ2VtaXRSZWFkYWJsZScsIHN0YXRlLmZsb3dpbmcpO1xuICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgaWYgKHN0YXRlLnN5bmMpXG4gICAgICBwcm9jZXNzTmV4dFRpY2soZW1pdFJlYWRhYmxlXywgc3RyZWFtKTtcbiAgICBlbHNlXG4gICAgICBlbWl0UmVhZGFibGVfKHN0cmVhbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW1pdFJlYWRhYmxlXyhzdHJlYW0pIHtcbiAgZGVidWcoJ2VtaXQgcmVhZGFibGUnKTtcbiAgc3RyZWFtLmVtaXQoJ3JlYWRhYmxlJyk7XG4gIGZsb3coc3RyZWFtKTtcbn1cblxuXG4vLyBhdCB0aGlzIHBvaW50LCB0aGUgdXNlciBoYXMgcHJlc3VtYWJseSBzZWVuIHRoZSAncmVhZGFibGUnIGV2ZW50LFxuLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZFxuLy8gaW4gdHVybiBhbm90aGVyIF9yZWFkKG4pIGNhbGwsIGluIHdoaWNoIGNhc2UgcmVhZGluZyA9IHRydWUgaWZcbi8vIGl0J3MgaW4gcHJvZ3Jlc3MuXG4vLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLFxuLy8gdGhlbiBnbyBhaGVhZCBhbmQgdHJ5IHRvIHJlYWQgc29tZSBtb3JlIHByZWVtcHRpdmVseS5cbmZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlYWRpbmdNb3JlKSB7XG4gICAgc3RhdGUucmVhZGluZ01vcmUgPSB0cnVlO1xuICAgIHByb2Nlc3NOZXh0VGljayhtYXliZVJlYWRNb3JlXywgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWF5YmVSZWFkTW9yZV8oc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbGVuID0gc3RhdGUubGVuZ3RoO1xuICB3aGlsZSAoIXN0YXRlLnJlYWRpbmcgJiYgIXN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLmVuZGVkICYmXG4gICAgICAgICBzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgZGVidWcoJ21heWJlUmVhZE1vcmUgcmVhZCAwJyk7XG4gICAgc3RyZWFtLnJlYWQoMCk7XG4gICAgaWYgKGxlbiA9PT0gc3RhdGUubGVuZ3RoKVxuICAgICAgLy8gZGlkbid0IGdldCBhbnkgZGF0YSwgc3RvcCBzcGlubmluZy5cbiAgICAgIGJyZWFrO1xuICAgIGVsc2VcbiAgICAgIGxlbiA9IHN0YXRlLmxlbmd0aDtcbiAgfVxuICBzdGF0ZS5yZWFkaW5nTW9yZSA9IGZhbHNlO1xufVxuXG4vLyBhYnN0cmFjdCBtZXRob2QuICB0byBiZSBvdmVycmlkZGVuIGluIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyBjYWxsIGNiKGVyLCBkYXRhKSB3aGVyZSBkYXRhIGlzIDw9IG4gaW4gbGVuZ3RoLlxuLy8gZm9yIHZpcnR1YWwgKG5vbi1zdHJpbmcsIG5vbi1idWZmZXIpIHN0cmVhbXMsIFwibGVuZ3RoXCIgaXMgc29tZXdoYXRcbi8vIGFyYml0cmFyeSwgYW5kIHBlcmhhcHMgbm90IHZlcnkgbWVhbmluZ2Z1bC5cblJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uKG4pIHtcbiAgdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJykpO1xufTtcblxuUmVhZGFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbihkZXN0LCBwaXBlT3B0cykge1xuICB2YXIgc3JjID0gdGhpcztcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcblxuICBzd2l0Y2ggKHN0YXRlLnBpcGVzQ291bnQpIHtcbiAgICBjYXNlIDA6XG4gICAgICBzdGF0ZS5waXBlcyA9IGRlc3Q7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDE6XG4gICAgICBzdGF0ZS5waXBlcyA9IFtzdGF0ZS5waXBlcywgZGVzdF07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgc3RhdGUucGlwZXMucHVzaChkZXN0KTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIHN0YXRlLnBpcGVzQ291bnQgKz0gMTtcbiAgZGVidWcoJ3BpcGUgY291bnQ9JWQgb3B0cz0laicsIHN0YXRlLnBpcGVzQ291bnQsIHBpcGVPcHRzKTtcblxuICB2YXIgZG9FbmQgPSAoIXBpcGVPcHRzIHx8IHBpcGVPcHRzLmVuZCAhPT0gZmFsc2UpICYmXG4gICAgICAgICAgICAgIGRlc3QgIT09IHByb2Nlc3Muc3Rkb3V0ICYmXG4gICAgICAgICAgICAgIGRlc3QgIT09IHByb2Nlc3Muc3RkZXJyO1xuXG4gIHZhciBlbmRGbiA9IGRvRW5kID8gb25lbmQgOiBjbGVhbnVwO1xuICBpZiAoc3RhdGUuZW5kRW1pdHRlZClcbiAgICBwcm9jZXNzTmV4dFRpY2soZW5kRm4pO1xuICBlbHNlXG4gICAgc3JjLm9uY2UoJ2VuZCcsIGVuZEZuKTtcblxuICBkZXN0Lm9uKCd1bnBpcGUnLCBvbnVucGlwZSk7XG4gIGZ1bmN0aW9uIG9udW5waXBlKHJlYWRhYmxlKSB7XG4gICAgZGVidWcoJ29udW5waXBlJyk7XG4gICAgaWYgKHJlYWRhYmxlID09PSBzcmMpIHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICBkZWJ1Zygnb25lbmQnKTtcbiAgICBkZXN0LmVuZCgpO1xuICB9XG5cbiAgLy8gd2hlbiB0aGUgZGVzdCBkcmFpbnMsIGl0IHJlZHVjZXMgdGhlIGF3YWl0RHJhaW4gY291bnRlclxuICAvLyBvbiB0aGUgc291cmNlLiAgVGhpcyB3b3VsZCBiZSBtb3JlIGVsZWdhbnQgd2l0aCBhIC5vbmNlKClcbiAgLy8gaGFuZGxlciBpbiBmbG93KCksIGJ1dCBhZGRpbmcgYW5kIHJlbW92aW5nIHJlcGVhdGVkbHkgaXNcbiAgLy8gdG9vIHNsb3cuXG4gIHZhciBvbmRyYWluID0gcGlwZU9uRHJhaW4oc3JjKTtcbiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTtcblxuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIGRlYnVnKCdjbGVhbnVwJyk7XG4gICAgLy8gY2xlYW51cCBldmVudCBoYW5kbGVycyBvbmNlIHRoZSBwaXBlIGlzIGJyb2tlblxuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2RyYWluJywgb25kcmFpbik7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCd1bnBpcGUnLCBvbnVucGlwZSk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBjbGVhbnVwKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBvbmRhdGEpO1xuXG4gICAgLy8gaWYgdGhlIHJlYWRlciBpcyB3YWl0aW5nIGZvciBhIGRyYWluIGV2ZW50IGZyb20gdGhpc1xuICAgIC8vIHNwZWNpZmljIHdyaXRlciwgdGhlbiBpdCB3b3VsZCBjYXVzZSBpdCB0byBuZXZlciBzdGFydFxuICAgIC8vIGZsb3dpbmcgYWdhaW4uXG4gICAgLy8gU28sIGlmIHRoaXMgaXMgYXdhaXRpbmcgYSBkcmFpbiwgdGhlbiB3ZSBqdXN0IGNhbGwgaXQgbm93LlxuICAgIC8vIElmIHdlIGRvbid0IGtub3csIHRoZW4gYXNzdW1lIHRoYXQgd2UgYXJlIHdhaXRpbmcgZm9yIG9uZS5cbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiAmJlxuICAgICAgICAoIWRlc3QuX3dyaXRhYmxlU3RhdGUgfHwgZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pKVxuICAgICAgb25kcmFpbigpO1xuICB9XG5cbiAgc3JjLm9uKCdkYXRhJywgb25kYXRhKTtcbiAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7XG4gICAgZGVidWcoJ29uZGF0YScpO1xuICAgIHZhciByZXQgPSBkZXN0LndyaXRlKGNodW5rKTtcbiAgICBpZiAoZmFsc2UgPT09IHJldCkge1xuICAgICAgZGVidWcoJ2ZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZScsXG4gICAgICAgICAgICBzcmMuX3JlYWRhYmxlU3RhdGUuYXdhaXREcmFpbik7XG4gICAgICBzcmMuX3JlYWRhYmxlU3RhdGUuYXdhaXREcmFpbisrO1xuICAgICAgc3JjLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIGRlc3QgaGFzIGFuIGVycm9yLCB0aGVuIHN0b3AgcGlwaW5nIGludG8gaXQuXG4gIC8vIGhvd2V2ZXIsIGRvbid0IHN1cHByZXNzIHRoZSB0aHJvd2luZyBiZWhhdmlvciBmb3IgdGhpcy5cbiAgZnVuY3Rpb24gb25lcnJvcihlcikge1xuICAgIGRlYnVnKCdvbmVycm9yJywgZXIpO1xuICAgIHVucGlwZSgpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgaWYgKEVFLmxpc3RlbmVyQ291bnQoZGVzdCwgJ2Vycm9yJykgPT09IDApXG4gICAgICBkZXN0LmVtaXQoJ2Vycm9yJywgZXIpO1xuICB9XG4gIC8vIFRoaXMgaXMgYSBicnV0YWxseSB1Z2x5IGhhY2sgdG8gbWFrZSBzdXJlIHRoYXQgb3VyIGVycm9yIGhhbmRsZXJcbiAgLy8gaXMgYXR0YWNoZWQgYmVmb3JlIGFueSB1c2VybGFuZCBvbmVzLiAgTkVWRVIgRE8gVEhJUy5cbiAgaWYgKCFkZXN0Ll9ldmVudHMgfHwgIWRlc3QuX2V2ZW50cy5lcnJvcilcbiAgICBkZXN0Lm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuICBlbHNlIGlmIChpc0FycmF5KGRlc3QuX2V2ZW50cy5lcnJvcikpXG4gICAgZGVzdC5fZXZlbnRzLmVycm9yLnVuc2hpZnQob25lcnJvcik7XG4gIGVsc2VcbiAgICBkZXN0Ll9ldmVudHMuZXJyb3IgPSBbb25lcnJvciwgZGVzdC5fZXZlbnRzLmVycm9yXTtcblxuXG5cbiAgLy8gQm90aCBjbG9zZSBhbmQgZmluaXNoIHNob3VsZCB0cmlnZ2VyIHVucGlwZSwgYnV0IG9ubHkgb25jZS5cbiAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgdW5waXBlKCk7XG4gIH1cbiAgZGVzdC5vbmNlKCdjbG9zZScsIG9uY2xvc2UpO1xuICBmdW5jdGlvbiBvbmZpbmlzaCgpIHtcbiAgICBkZWJ1Zygnb25maW5pc2gnKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIHVucGlwZSgpO1xuICB9XG4gIGRlc3Qub25jZSgnZmluaXNoJywgb25maW5pc2gpO1xuXG4gIGZ1bmN0aW9uIHVucGlwZSgpIHtcbiAgICBkZWJ1ZygndW5waXBlJyk7XG4gICAgc3JjLnVucGlwZShkZXN0KTtcbiAgfVxuXG4gIC8vIHRlbGwgdGhlIGRlc3QgdGhhdCBpdCdzIGJlaW5nIHBpcGVkIHRvXG4gIGRlc3QuZW1pdCgncGlwZScsIHNyYyk7XG5cbiAgLy8gc3RhcnQgdGhlIGZsb3cgaWYgaXQgaGFzbid0IGJlZW4gc3RhcnRlZCBhbHJlYWR5LlxuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGlwZSByZXN1bWUnKTtcbiAgICBzcmMucmVzdW1lKCk7XG4gIH1cblxuICByZXR1cm4gZGVzdDtcbn07XG5cbmZ1bmN0aW9uIHBpcGVPbkRyYWluKHNyYykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXRlID0gc3JjLl9yZWFkYWJsZVN0YXRlO1xuICAgIGRlYnVnKCdwaXBlT25EcmFpbicsIHN0YXRlLmF3YWl0RHJhaW4pO1xuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluKVxuICAgICAgc3RhdGUuYXdhaXREcmFpbi0tO1xuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluID09PSAwICYmIEVFLmxpc3RlbmVyQ291bnQoc3JjLCAnZGF0YScpKSB7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICAgIGZsb3coc3JjKTtcbiAgICB9XG4gIH07XG59XG5cblxuUmVhZGFibGUucHJvdG90eXBlLnVucGlwZSA9IGZ1bmN0aW9uKGRlc3QpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcblxuICAvLyBpZiB3ZSdyZSBub3QgcGlwaW5nIGFueXdoZXJlLCB0aGVuIGRvIG5vdGhpbmcuXG4gIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAwKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIGp1c3Qgb25lIGRlc3RpbmF0aW9uLiAgbW9zdCBjb21tb24gY2FzZS5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHtcbiAgICAvLyBwYXNzZWQgaW4gb25lLCBidXQgaXQncyBub3QgdGhlIHJpZ2h0IG9uZS5cbiAgICBpZiAoZGVzdCAmJiBkZXN0ICE9PSBzdGF0ZS5waXBlcylcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKCFkZXN0KVxuICAgICAgZGVzdCA9IHN0YXRlLnBpcGVzO1xuXG4gICAgLy8gZ290IGEgbWF0Y2guXG4gICAgc3RhdGUucGlwZXMgPSBudWxsO1xuICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwO1xuICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICBpZiAoZGVzdClcbiAgICAgIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBzbG93IGNhc2UuIG11bHRpcGxlIHBpcGUgZGVzdGluYXRpb25zLlxuXG4gIGlmICghZGVzdCkge1xuICAgIC8vIHJlbW92ZSBhbGwuXG4gICAgdmFyIGRlc3RzID0gc3RhdGUucGlwZXM7XG4gICAgdmFyIGxlbiA9IHN0YXRlLnBpcGVzQ291bnQ7XG4gICAgc3RhdGUucGlwZXMgPSBudWxsO1xuICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwO1xuICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBkZXN0c1tpXS5lbWl0KCd1bnBpcGUnLCB0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHRyeSB0byBmaW5kIHRoZSByaWdodCBvbmUuXG4gIHZhciBpID0gaW5kZXhPZihzdGF0ZS5waXBlcywgZGVzdCk7XG4gIGlmIChpID09PSAtMSlcbiAgICByZXR1cm4gdGhpcztcblxuICBzdGF0ZS5waXBlcy5zcGxpY2UoaSwgMSk7XG4gIHN0YXRlLnBpcGVzQ291bnQgLT0gMTtcbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpXG4gICAgc3RhdGUucGlwZXMgPSBzdGF0ZS5waXBlc1swXTtcblxuICBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gc2V0IHVwIGRhdGEgZXZlbnRzIGlmIHRoZXkgYXJlIGFza2VkIGZvclxuLy8gRW5zdXJlIHJlYWRhYmxlIGxpc3RlbmVycyBldmVudHVhbGx5IGdldCBzb21ldGhpbmdcblJlYWRhYmxlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGV2LCBmbikge1xuICB2YXIgcmVzID0gU3RyZWFtLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIGV2LCBmbik7XG5cbiAgLy8gSWYgbGlzdGVuaW5nIHRvIGRhdGEsIGFuZCBpdCBoYXMgbm90IGV4cGxpY2l0bHkgYmVlbiBwYXVzZWQsXG4gIC8vIHRoZW4gY2FsbCByZXN1bWUgdG8gc3RhcnQgdGhlIGZsb3cgb2YgZGF0YSBvbiB0aGUgbmV4dCB0aWNrLlxuICBpZiAoZXYgPT09ICdkYXRhJyAmJiBmYWxzZSAhPT0gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSB7XG4gICAgdGhpcy5yZXN1bWUoKTtcbiAgfVxuXG4gIGlmIChldiA9PT0gJ3JlYWRhYmxlJyAmJiB0aGlzLnJlYWRhYmxlKSB7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICBpZiAoIXN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nKSB7XG4gICAgICBzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZyA9IHRydWU7XG4gICAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTtcbiAgICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgICBpZiAoIXN0YXRlLnJlYWRpbmcpIHtcbiAgICAgICAgcHJvY2Vzc05leHRUaWNrKG5SZWFkaW5nTmV4dFRpY2ssIHRoaXMpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgZW1pdFJlYWRhYmxlKHRoaXMsIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufTtcblJlYWRhYmxlLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IFJlYWRhYmxlLnByb3RvdHlwZS5vbjtcblxuZnVuY3Rpb24gblJlYWRpbmdOZXh0VGljayhzZWxmKSB7XG4gIGRlYnVnKCdyZWFkYWJsZSBuZXh0dGljayByZWFkIDAnKTtcbiAgc2VsZi5yZWFkKDApO1xufVxuXG4vLyBwYXVzZSgpIGFuZCByZXN1bWUoKSBhcmUgcmVtbmFudHMgb2YgdGhlIGxlZ2FjeSByZWFkYWJsZSBzdHJlYW0gQVBJXG4vLyBJZiB0aGUgdXNlciB1c2VzIHRoZW0sIHRoZW4gc3dpdGNoIGludG8gb2xkIG1vZGUuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIGlmICghc3RhdGUuZmxvd2luZykge1xuICAgIGRlYnVnKCdyZXN1bWUnKTtcbiAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICByZXN1bWUodGhpcywgc3RhdGUpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gcmVzdW1lKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZXN1bWVTY2hlZHVsZWQpIHtcbiAgICBzdGF0ZS5yZXN1bWVTY2hlZHVsZWQgPSB0cnVlO1xuICAgIHByb2Nlc3NOZXh0VGljayhyZXN1bWVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN1bWVfKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgZGVidWcoJ3Jlc3VtZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfVxuXG4gIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICBzdHJlYW0uZW1pdCgncmVzdW1lJyk7XG4gIGZsb3coc3RyZWFtKTtcbiAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLnJlYWRpbmcpXG4gICAgc3RyZWFtLnJlYWQoMCk7XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICBkZWJ1ZygnY2FsbCBwYXVzZSBmbG93aW5nPSVqJywgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKTtcbiAgaWYgKGZhbHNlICE9PSB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGF1c2UnKTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBmbG93KHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdmbG93Jywgc3RhdGUuZmxvd2luZyk7XG4gIGlmIChzdGF0ZS5mbG93aW5nKSB7XG4gICAgZG8ge1xuICAgICAgdmFyIGNodW5rID0gc3RyZWFtLnJlYWQoKTtcbiAgICB9IHdoaWxlIChudWxsICE9PSBjaHVuayAmJiBzdGF0ZS5mbG93aW5nKTtcbiAgfVxufVxuXG4vLyB3cmFwIGFuIG9sZC1zdHlsZSBzdHJlYW0gYXMgdGhlIGFzeW5jIGRhdGEgc291cmNlLlxuLy8gVGhpcyBpcyAqbm90KiBwYXJ0IG9mIHRoZSByZWFkYWJsZSBzdHJlYW0gaW50ZXJmYWNlLlxuLy8gSXQgaXMgYW4gdWdseSB1bmZvcnR1bmF0ZSBtZXNzIG9mIGhpc3RvcnkuXG5SZWFkYWJsZS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgcGF1c2VkID0gZmFsc2U7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzdHJlYW0ub24oJ2VuZCcsIGZ1bmN0aW9uKCkge1xuICAgIGRlYnVnKCd3cmFwcGVkIGVuZCcpO1xuICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFzdGF0ZS5lbmRlZCkge1xuICAgICAgdmFyIGNodW5rID0gc3RhdGUuZGVjb2Rlci5lbmQoKTtcbiAgICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpXG4gICAgICAgIHNlbGYucHVzaChjaHVuayk7XG4gICAgfVxuXG4gICAgc2VsZi5wdXNoKG51bGwpO1xuICB9KTtcblxuICBzdHJlYW0ub24oJ2RhdGEnLCBmdW5jdGlvbihjaHVuaykge1xuICAgIGRlYnVnKCd3cmFwcGVkIGRhdGEnKTtcbiAgICBpZiAoc3RhdGUuZGVjb2RlcilcbiAgICAgIGNodW5rID0gc3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7XG5cbiAgICAvLyBkb24ndCBza2lwIG92ZXIgZmFsc3kgdmFsdWVzIGluIG9iamVjdE1vZGVcbiAgICBpZiAoc3RhdGUub2JqZWN0TW9kZSAmJiAoY2h1bmsgPT09IG51bGwgfHwgY2h1bmsgPT09IHVuZGVmaW5lZCkpXG4gICAgICByZXR1cm47XG4gICAgZWxzZSBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgKCFjaHVuayB8fCAhY2h1bmsubGVuZ3RoKSlcbiAgICAgIHJldHVybjtcblxuICAgIHZhciByZXQgPSBzZWxmLnB1c2goY2h1bmspO1xuICAgIGlmICghcmV0KSB7XG4gICAgICBwYXVzZWQgPSB0cnVlO1xuICAgICAgc3RyZWFtLnBhdXNlKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBwcm94eSBhbGwgdGhlIG90aGVyIG1ldGhvZHMuXG4gIC8vIGltcG9ydGFudCB3aGVuIHdyYXBwaW5nIGZpbHRlcnMgYW5kIGR1cGxleGVzLlxuICBmb3IgKHZhciBpIGluIHN0cmVhbSkge1xuICAgIGlmICh0aGlzW2ldID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHN0cmVhbVtpXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpc1tpXSA9IGZ1bmN0aW9uKG1ldGhvZCkgeyByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBzdHJlYW1bbWV0aG9kXS5hcHBseShzdHJlYW0sIGFyZ3VtZW50cyk7XG4gICAgICB9OyB9KGkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHByb3h5IGNlcnRhaW4gaW1wb3J0YW50IGV2ZW50cy5cbiAgdmFyIGV2ZW50cyA9IFsnZXJyb3InLCAnY2xvc2UnLCAnZGVzdHJveScsICdwYXVzZScsICdyZXN1bWUnXTtcbiAgZm9yRWFjaChldmVudHMsIGZ1bmN0aW9uKGV2KSB7XG4gICAgc3RyZWFtLm9uKGV2LCBzZWxmLmVtaXQuYmluZChzZWxmLCBldikpO1xuICB9KTtcblxuICAvLyB3aGVuIHdlIHRyeSB0byBjb25zdW1lIHNvbWUgbW9yZSBieXRlcywgc2ltcGx5IHVucGF1c2UgdGhlXG4gIC8vIHVuZGVybHlpbmcgc3RyZWFtLlxuICBzZWxmLl9yZWFkID0gZnVuY3Rpb24obikge1xuICAgIGRlYnVnKCd3cmFwcGVkIF9yZWFkJywgbik7XG4gICAgaWYgKHBhdXNlZCkge1xuICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgICBzdHJlYW0ucmVzdW1lKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBzZWxmO1xufTtcblxuXG5cbi8vIGV4cG9zZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seS5cblJlYWRhYmxlLl9mcm9tTGlzdCA9IGZyb21MaXN0O1xuXG4vLyBQbHVjayBvZmYgbiBieXRlcyBmcm9tIGFuIGFycmF5IG9mIGJ1ZmZlcnMuXG4vLyBMZW5ndGggaXMgdGhlIGNvbWJpbmVkIGxlbmd0aHMgb2YgYWxsIHRoZSBidWZmZXJzIGluIHRoZSBsaXN0LlxuZnVuY3Rpb24gZnJvbUxpc3Qobiwgc3RhdGUpIHtcbiAgdmFyIGxpc3QgPSBzdGF0ZS5idWZmZXI7XG4gIHZhciBsZW5ndGggPSBzdGF0ZS5sZW5ndGg7XG4gIHZhciBzdHJpbmdNb2RlID0gISFzdGF0ZS5kZWNvZGVyO1xuICB2YXIgb2JqZWN0TW9kZSA9ICEhc3RhdGUub2JqZWN0TW9kZTtcbiAgdmFyIHJldDtcblxuICAvLyBub3RoaW5nIGluIHRoZSBsaXN0LCBkZWZpbml0ZWx5IGVtcHR5LlxuICBpZiAobGlzdC5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuIG51bGw7XG5cbiAgaWYgKGxlbmd0aCA9PT0gMClcbiAgICByZXQgPSBudWxsO1xuICBlbHNlIGlmIChvYmplY3RNb2RlKVxuICAgIHJldCA9IGxpc3Quc2hpZnQoKTtcbiAgZWxzZSBpZiAoIW4gfHwgbiA+PSBsZW5ndGgpIHtcbiAgICAvLyByZWFkIGl0IGFsbCwgdHJ1bmNhdGUgdGhlIGFycmF5LlxuICAgIGlmIChzdHJpbmdNb2RlKVxuICAgICAgcmV0ID0gbGlzdC5qb2luKCcnKTtcbiAgICBlbHNlXG4gICAgICByZXQgPSBCdWZmZXIuY29uY2F0KGxpc3QsIGxlbmd0aCk7XG4gICAgbGlzdC5sZW5ndGggPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIHJlYWQganVzdCBzb21lIG9mIGl0LlxuICAgIGlmIChuIDwgbGlzdFswXS5sZW5ndGgpIHtcbiAgICAgIC8vIGp1c3QgdGFrZSBhIHBhcnQgb2YgdGhlIGZpcnN0IGxpc3QgaXRlbS5cbiAgICAgIC8vIHNsaWNlIGlzIHRoZSBzYW1lIGZvciBidWZmZXJzIGFuZCBzdHJpbmdzLlxuICAgICAgdmFyIGJ1ZiA9IGxpc3RbMF07XG4gICAgICByZXQgPSBidWYuc2xpY2UoMCwgbik7XG4gICAgICBsaXN0WzBdID0gYnVmLnNsaWNlKG4pO1xuICAgIH0gZWxzZSBpZiAobiA9PT0gbGlzdFswXS5sZW5ndGgpIHtcbiAgICAgIC8vIGZpcnN0IGxpc3QgaXMgYSBwZXJmZWN0IG1hdGNoXG4gICAgICByZXQgPSBsaXN0LnNoaWZ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNvbXBsZXggY2FzZS5cbiAgICAgIC8vIHdlIGhhdmUgZW5vdWdoIHRvIGNvdmVyIGl0LCBidXQgaXQgc3BhbnMgcGFzdCB0aGUgZmlyc3QgYnVmZmVyLlxuICAgICAgaWYgKHN0cmluZ01vZGUpXG4gICAgICAgIHJldCA9ICcnO1xuICAgICAgZWxzZVxuICAgICAgICByZXQgPSBuZXcgQnVmZmVyKG4pO1xuXG4gICAgICB2YXIgYyA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3QubGVuZ3RoOyBpIDwgbCAmJiBjIDwgbjsgaSsrKSB7XG4gICAgICAgIHZhciBidWYgPSBsaXN0WzBdO1xuICAgICAgICB2YXIgY3B5ID0gTWF0aC5taW4obiAtIGMsIGJ1Zi5sZW5ndGgpO1xuXG4gICAgICAgIGlmIChzdHJpbmdNb2RlKVxuICAgICAgICAgIHJldCArPSBidWYuc2xpY2UoMCwgY3B5KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGJ1Zi5jb3B5KHJldCwgYywgMCwgY3B5KTtcblxuICAgICAgICBpZiAoY3B5IDwgYnVmLmxlbmd0aClcbiAgICAgICAgICBsaXN0WzBdID0gYnVmLnNsaWNlKGNweSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG5cbiAgICAgICAgYyArPSBjcHk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcblxuICAvLyBJZiB3ZSBnZXQgaGVyZSBiZWZvcmUgY29uc3VtaW5nIGFsbCB0aGUgYnl0ZXMsIHRoZW4gdGhhdCBpcyBhXG4gIC8vIGJ1ZyBpbiBub2RlLiAgU2hvdWxkIG5ldmVyIGhhcHBlbi5cbiAgaWYgKHN0YXRlLmxlbmd0aCA+IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKCdlbmRSZWFkYWJsZSBjYWxsZWQgb24gbm9uLWVtcHR5IHN0cmVhbScpO1xuXG4gIGlmICghc3RhdGUuZW5kRW1pdHRlZCkge1xuICAgIHN0YXRlLmVuZGVkID0gdHJ1ZTtcbiAgICBwcm9jZXNzTmV4dFRpY2soZW5kUmVhZGFibGVOVCwgc3RhdGUsIHN0cmVhbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSwgc3RyZWFtKSB7XG4gIC8vIENoZWNrIHRoYXQgd2UgZGlkbid0IGdldCBvbmUgbGFzdCB1bnNoaWZ0LlxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2VuZCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvckVhY2ggKHhzLCBmKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZih4c1tpXSwgaSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5kZXhPZiAoeHMsIHgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoeHNbaV0gPT09IHgpIHJldHVybiBpO1xuICB9XG4gIHJldHVybiAtMTtcbn1cbiIsIi8vIGEgdHJhbnNmb3JtIHN0cmVhbSBpcyBhIHJlYWRhYmxlL3dyaXRhYmxlIHN0cmVhbSB3aGVyZSB5b3UgZG9cbi8vIHNvbWV0aGluZyB3aXRoIHRoZSBkYXRhLiAgU29tZXRpbWVzIGl0J3MgY2FsbGVkIGEgXCJmaWx0ZXJcIixcbi8vIGJ1dCB0aGF0J3Mgbm90IGEgZ3JlYXQgbmFtZSBmb3IgaXQsIHNpbmNlIHRoYXQgaW1wbGllcyBhIHRoaW5nIHdoZXJlXG4vLyBzb21lIGJpdHMgcGFzcyB0aHJvdWdoLCBhbmQgb3RoZXJzIGFyZSBzaW1wbHkgaWdub3JlZC4gIChUaGF0IHdvdWxkXG4vLyBiZSBhIHZhbGlkIGV4YW1wbGUgb2YgYSB0cmFuc2Zvcm0sIG9mIGNvdXJzZS4pXG4vL1xuLy8gV2hpbGUgdGhlIG91dHB1dCBpcyBjYXVzYWxseSByZWxhdGVkIHRvIHRoZSBpbnB1dCwgaXQncyBub3QgYVxuLy8gbmVjZXNzYXJpbHkgc3ltbWV0cmljIG9yIHN5bmNocm9ub3VzIHRyYW5zZm9ybWF0aW9uLiAgRm9yIGV4YW1wbGUsXG4vLyBhIHpsaWIgc3RyZWFtIG1pZ2h0IHRha2UgbXVsdGlwbGUgcGxhaW4tdGV4dCB3cml0ZXMoKSwgYW5kIHRoZW5cbi8vIGVtaXQgYSBzaW5nbGUgY29tcHJlc3NlZCBjaHVuayBzb21lIHRpbWUgaW4gdGhlIGZ1dHVyZS5cbi8vXG4vLyBIZXJlJ3MgaG93IHRoaXMgd29ya3M6XG4vL1xuLy8gVGhlIFRyYW5zZm9ybSBzdHJlYW0gaGFzIGFsbCB0aGUgYXNwZWN0cyBvZiB0aGUgcmVhZGFibGUgYW5kIHdyaXRhYmxlXG4vLyBzdHJlYW0gY2xhc3Nlcy4gIFdoZW4geW91IHdyaXRlKGNodW5rKSwgdGhhdCBjYWxscyBfd3JpdGUoY2h1bmssY2IpXG4vLyBpbnRlcm5hbGx5LCBhbmQgcmV0dXJucyBmYWxzZSBpZiB0aGVyZSdzIGEgbG90IG9mIHBlbmRpbmcgd3JpdGVzXG4vLyBidWZmZXJlZCB1cC4gIFdoZW4geW91IGNhbGwgcmVhZCgpLCB0aGF0IGNhbGxzIF9yZWFkKG4pIHVudGlsXG4vLyB0aGVyZSdzIGVub3VnaCBwZW5kaW5nIHJlYWRhYmxlIGRhdGEgYnVmZmVyZWQgdXAuXG4vL1xuLy8gSW4gYSB0cmFuc2Zvcm0gc3RyZWFtLCB0aGUgd3JpdHRlbiBkYXRhIGlzIHBsYWNlZCBpbiBhIGJ1ZmZlci4gIFdoZW5cbi8vIF9yZWFkKG4pIGlzIGNhbGxlZCwgaXQgdHJhbnNmb3JtcyB0aGUgcXVldWVkIHVwIGRhdGEsIGNhbGxpbmcgdGhlXG4vLyBidWZmZXJlZCBfd3JpdGUgY2IncyBhcyBpdCBjb25zdW1lcyBjaHVua3MuICBJZiBjb25zdW1pbmcgYSBzaW5nbGVcbi8vIHdyaXR0ZW4gY2h1bmsgd291bGQgcmVzdWx0IGluIG11bHRpcGxlIG91dHB1dCBjaHVua3MsIHRoZW4gdGhlIGZpcnN0XG4vLyBvdXRwdXR0ZWQgYml0IGNhbGxzIHRoZSByZWFkY2IsIGFuZCBzdWJzZXF1ZW50IGNodW5rcyBqdXN0IGdvIGludG9cbi8vIHRoZSByZWFkIGJ1ZmZlciwgYW5kIHdpbGwgY2F1c2UgaXQgdG8gZW1pdCAncmVhZGFibGUnIGlmIG5lY2Vzc2FyeS5cbi8vXG4vLyBUaGlzIHdheSwgYmFjay1wcmVzc3VyZSBpcyBhY3R1YWxseSBkZXRlcm1pbmVkIGJ5IHRoZSByZWFkaW5nIHNpZGUsXG4vLyBzaW5jZSBfcmVhZCBoYXMgdG8gYmUgY2FsbGVkIHRvIHN0YXJ0IHByb2Nlc3NpbmcgYSBuZXcgY2h1bmsuICBIb3dldmVyLFxuLy8gYSBwYXRob2xvZ2ljYWwgaW5mbGF0ZSB0eXBlIG9mIHRyYW5zZm9ybSBjYW4gY2F1c2UgZXhjZXNzaXZlIGJ1ZmZlcmluZ1xuLy8gaGVyZS4gIEZvciBleGFtcGxlLCBpbWFnaW5lIGEgc3RyZWFtIHdoZXJlIGV2ZXJ5IGJ5dGUgb2YgaW5wdXQgaXNcbi8vIGludGVycHJldGVkIGFzIGFuIGludGVnZXIgZnJvbSAwLTI1NSwgYW5kIHRoZW4gcmVzdWx0cyBpbiB0aGF0IG1hbnlcbi8vIGJ5dGVzIG9mIG91dHB1dC4gIFdyaXRpbmcgdGhlIDQgYnl0ZXMge2ZmLGZmLGZmLGZmfSB3b3VsZCByZXN1bHQgaW5cbi8vIDFrYiBvZiBkYXRhIGJlaW5nIG91dHB1dC4gIEluIHRoaXMgY2FzZSwgeW91IGNvdWxkIHdyaXRlIGEgdmVyeSBzbWFsbFxuLy8gYW1vdW50IG9mIGlucHV0LCBhbmQgZW5kIHVwIHdpdGggYSB2ZXJ5IGxhcmdlIGFtb3VudCBvZiBvdXRwdXQuICBJblxuLy8gc3VjaCBhIHBhdGhvbG9naWNhbCBpbmZsYXRpbmcgbWVjaGFuaXNtLCB0aGVyZSdkIGJlIG5vIHdheSB0byB0ZWxsXG4vLyB0aGUgc3lzdGVtIHRvIHN0b3AgZG9pbmcgdGhlIHRyYW5zZm9ybS4gIEEgc2luZ2xlIDRNQiB3cml0ZSBjb3VsZFxuLy8gY2F1c2UgdGhlIHN5c3RlbSB0byBydW4gb3V0IG9mIG1lbW9yeS5cbi8vXG4vLyBIb3dldmVyLCBldmVuIGluIHN1Y2ggYSBwYXRob2xvZ2ljYWwgY2FzZSwgb25seSBhIHNpbmdsZSB3cml0dGVuIGNodW5rXG4vLyB3b3VsZCBiZSBjb25zdW1lZCwgYW5kIHRoZW4gdGhlIHJlc3Qgd291bGQgd2FpdCAodW4tdHJhbnNmb3JtZWQpIHVudGlsXG4vLyB0aGUgcmVzdWx0cyBvZiB0aGUgcHJldmlvdXMgdHJhbnNmb3JtZWQgY2h1bmsgd2VyZSBjb25zdW1lZC5cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYW5zZm9ybTtcblxudmFyIER1cGxleCA9IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG51dGlsLmluaGVyaXRzKFRyYW5zZm9ybSwgRHVwbGV4KTtcblxuXG5mdW5jdGlvbiBUcmFuc2Zvcm1TdGF0ZShzdHJlYW0pIHtcbiAgdGhpcy5hZnRlclRyYW5zZm9ybSA9IGZ1bmN0aW9uKGVyLCBkYXRhKSB7XG4gICAgcmV0dXJuIGFmdGVyVHJhbnNmb3JtKHN0cmVhbSwgZXIsIGRhdGEpO1xuICB9O1xuXG4gIHRoaXMubmVlZFRyYW5zZm9ybSA9IGZhbHNlO1xuICB0aGlzLnRyYW5zZm9ybWluZyA9IGZhbHNlO1xuICB0aGlzLndyaXRlY2IgPSBudWxsO1xuICB0aGlzLndyaXRlY2h1bmsgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBhZnRlclRyYW5zZm9ybShzdHJlYW0sIGVyLCBkYXRhKSB7XG4gIHZhciB0cyA9IHN0cmVhbS5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLnRyYW5zZm9ybWluZyA9IGZhbHNlO1xuXG4gIHZhciBjYiA9IHRzLndyaXRlY2I7XG5cbiAgaWYgKCFjYilcbiAgICByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdubyB3cml0ZWNiIGluIFRyYW5zZm9ybSBjbGFzcycpKTtcblxuICB0cy53cml0ZWNodW5rID0gbnVsbDtcbiAgdHMud3JpdGVjYiA9IG51bGw7XG5cbiAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdW5kZWZpbmVkKVxuICAgIHN0cmVhbS5wdXNoKGRhdGEpO1xuXG4gIGlmIChjYilcbiAgICBjYihlcik7XG5cbiAgdmFyIHJzID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBycy5yZWFkaW5nID0gZmFsc2U7XG4gIGlmIChycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykge1xuICAgIHN0cmVhbS5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIFRyYW5zZm9ybShvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUcmFuc2Zvcm0pKVxuICAgIHJldHVybiBuZXcgVHJhbnNmb3JtKG9wdGlvbnMpO1xuXG4gIER1cGxleC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gIHRoaXMuX3RyYW5zZm9ybVN0YXRlID0gbmV3IFRyYW5zZm9ybVN0YXRlKHRoaXMpO1xuXG4gIC8vIHdoZW4gdGhlIHdyaXRhYmxlIHNpZGUgZmluaXNoZXMsIHRoZW4gZmx1c2ggb3V0IGFueXRoaW5nIHJlbWFpbmluZy5cbiAgdmFyIHN0cmVhbSA9IHRoaXM7XG5cbiAgLy8gc3RhcnQgb3V0IGFza2luZyBmb3IgYSByZWFkYWJsZSBldmVudCBvbmNlIGRhdGEgaXMgdHJhbnNmb3JtZWQuXG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcblxuICAvLyB3ZSBoYXZlIGltcGxlbWVudGVkIHRoZSBfcmVhZCBtZXRob2QsIGFuZCBkb25lIHRoZSBvdGhlciB0aGluZ3NcbiAgLy8gdGhhdCBSZWFkYWJsZSB3YW50cyBiZWZvcmUgdGhlIGZpcnN0IF9yZWFkIGNhbGwsIHNvIHVuc2V0IHRoZVxuICAvLyBzeW5jIGd1YXJkIGZsYWcuXG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYyA9IGZhbHNlO1xuXG4gIGlmIChvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnRyYW5zZm9ybSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHRoaXMuX3RyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZsdXNoID09PSAnZnVuY3Rpb24nKVxuICAgICAgdGhpcy5fZmx1c2ggPSBvcHRpb25zLmZsdXNoO1xuICB9XG5cbiAgdGhpcy5vbmNlKCdwcmVmaW5pc2gnLCBmdW5jdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX2ZsdXNoID09PSAnZnVuY3Rpb24nKVxuICAgICAgdGhpcy5fZmx1c2goZnVuY3Rpb24oZXIpIHtcbiAgICAgICAgZG9uZShzdHJlYW0sIGVyKTtcbiAgICAgIH0pO1xuICAgIGVsc2VcbiAgICAgIGRvbmUoc3RyZWFtKTtcbiAgfSk7XG59XG5cblRyYW5zZm9ybS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKGNodW5rLCBlbmNvZGluZykge1xuICB0aGlzLl90cmFuc2Zvcm1TdGF0ZS5uZWVkVHJhbnNmb3JtID0gZmFsc2U7XG4gIHJldHVybiBEdXBsZXgucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLCBjaHVuaywgZW5jb2RpbmcpO1xufTtcblxuLy8gVGhpcyBpcyB0aGUgcGFydCB3aGVyZSB5b3UgZG8gc3R1ZmYhXG4vLyBvdmVycmlkZSB0aGlzIGZ1bmN0aW9uIGluIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyAnY2h1bmsnIGlzIGFuIGlucHV0IGNodW5rLlxuLy9cbi8vIENhbGwgYHB1c2gobmV3Q2h1bmspYCB0byBwYXNzIGFsb25nIHRyYW5zZm9ybWVkIG91dHB1dFxuLy8gdG8gdGhlIHJlYWRhYmxlIHNpZGUuICBZb3UgbWF5IGNhbGwgJ3B1c2gnIHplcm8gb3IgbW9yZSB0aW1lcy5cbi8vXG4vLyBDYWxsIGBjYihlcnIpYCB3aGVuIHlvdSBhcmUgZG9uZSB3aXRoIHRoaXMgY2h1bmsuICBJZiB5b3UgcGFzc1xuLy8gYW4gZXJyb3IsIHRoZW4gdGhhdCdsbCBwdXQgdGhlIGh1cnQgb24gdGhlIHdob2xlIG9wZXJhdGlvbi4gIElmIHlvdVxuLy8gbmV2ZXIgY2FsbCBjYigpLCB0aGVuIHlvdSdsbCBuZXZlciBnZXQgYW5vdGhlciBjaHVuay5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbn07XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24oY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcbiAgdHMud3JpdGVjYiA9IGNiO1xuICB0cy53cml0ZWNodW5rID0gY2h1bms7XG4gIHRzLndyaXRlZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgaWYgKCF0cy50cmFuc2Zvcm1pbmcpIHtcbiAgICB2YXIgcnMgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICAgIGlmICh0cy5uZWVkVHJhbnNmb3JtIHx8XG4gICAgICAgIHJzLm5lZWRSZWFkYWJsZSB8fFxuICAgICAgICBycy5sZW5ndGggPCBycy5oaWdoV2F0ZXJNYXJrKVxuICAgICAgdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufTtcblxuLy8gRG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgYXJncyBhcmUgaGVyZS5cbi8vIF90cmFuc2Zvcm0gZG9lcyBhbGwgdGhlIHdvcmsuXG4vLyBUaGF0IHdlIGdvdCBoZXJlIG1lYW5zIHRoYXQgdGhlIHJlYWRhYmxlIHNpZGUgd2FudHMgbW9yZSBkYXRhLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uKG4pIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG5cbiAgaWYgKHRzLndyaXRlY2h1bmsgIT09IG51bGwgJiYgdHMud3JpdGVjYiAmJiAhdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdHMudHJhbnNmb3JtaW5nID0gdHJ1ZTtcbiAgICB0aGlzLl90cmFuc2Zvcm0odHMud3JpdGVjaHVuaywgdHMud3JpdGVlbmNvZGluZywgdHMuYWZ0ZXJUcmFuc2Zvcm0pO1xuICB9IGVsc2Uge1xuICAgIC8vIG1hcmsgdGhhdCB3ZSBuZWVkIGEgdHJhbnNmb3JtLCBzbyB0aGF0IGFueSBkYXRhIHRoYXQgY29tZXMgaW5cbiAgICAvLyB3aWxsIGdldCBwcm9jZXNzZWQsIG5vdyB0aGF0IHdlJ3ZlIGFza2VkIGZvciBpdC5cbiAgICB0cy5uZWVkVHJhbnNmb3JtID0gdHJ1ZTtcbiAgfVxufTtcblxuXG5mdW5jdGlvbiBkb25lKHN0cmVhbSwgZXIpIHtcbiAgaWYgKGVyKVxuICAgIHJldHVybiBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG5cbiAgLy8gaWYgdGhlcmUncyBub3RoaW5nIGluIHRoZSB3cml0ZSBidWZmZXIsIHRoZW4gdGhhdCBtZWFuc1xuICAvLyB0aGF0IG5vdGhpbmcgbW9yZSB3aWxsIGV2ZXIgYmUgcHJvdmlkZWRcbiAgdmFyIHdzID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgdHMgPSBzdHJlYW0uX3RyYW5zZm9ybVN0YXRlO1xuXG4gIGlmICh3cy5sZW5ndGgpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdjYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gd3MubGVuZ3RoICE9IDAnKTtcblxuICBpZiAodHMudHJhbnNmb3JtaW5nKVxuICAgIHRocm93IG5ldyBFcnJvcignY2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHN0aWxsIHRyYW5zZm9ybWluZycpO1xuXG4gIHJldHVybiBzdHJlYW0ucHVzaChudWxsKTtcbn1cbiIsIi8vIEEgYml0IHNpbXBsZXIgdGhhbiByZWFkYWJsZSBzdHJlYW1zLlxuLy8gSW1wbGVtZW50IGFuIGFzeW5jIC5fd3JpdGUoY2h1bmssIGNiKSwgYW5kIGl0J2xsIGhhbmRsZSBhbGxcbi8vIHRoZSBkcmFpbiBldmVudCBlbWlzc2lvbiBhbmQgYnVmZmVyaW5nLlxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gV3JpdGFibGU7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgcHJvY2Vzc05leHRUaWNrID0gcmVxdWlyZSgncHJvY2Vzcy1uZXh0aWNrLWFyZ3MnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbldyaXRhYmxlLldyaXRhYmxlU3RhdGUgPSBXcml0YWJsZVN0YXRlO1xuXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2NvcmUtdXRpbC1pcycpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgU3RyZWFtO1xuKGZ1bmN0aW9uICgpe3RyeXtcbiAgU3RyZWFtID0gcmVxdWlyZSgnc3QnICsgJ3JlYW0nKTtcbn1jYXRjaChfKXt9ZmluYWxseXtcbiAgaWYgKCFTdHJlYW0pXG4gICAgU3RyZWFtID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xufX0oKSlcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuXG51dGlsLmluaGVyaXRzKFdyaXRhYmxlLCBTdHJlYW0pO1xuXG5mdW5jdGlvbiBub3AoKSB7fVxuXG5mdW5jdGlvbiBXcml0ZVJlcShjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHRoaXMuY2h1bmsgPSBjaHVuaztcbiAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuICB0aGlzLmNhbGxiYWNrID0gY2I7XG4gIHRoaXMubmV4dCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtKSB7XG4gIHZhciBEdXBsZXggPSByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgLy8gb2JqZWN0IHN0cmVhbSBmbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgb3Igbm90IHRoaXMgc3RyZWFtXG4gIC8vIGNvbnRhaW5zIGJ1ZmZlcnMgb3Igb2JqZWN0cy5cbiAgdGhpcy5vYmplY3RNb2RlID0gISFvcHRpb25zLm9iamVjdE1vZGU7XG5cbiAgaWYgKHN0cmVhbSBpbnN0YW5jZW9mIER1cGxleClcbiAgICB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLndyaXRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggd3JpdGUoKSBzdGFydHMgcmV0dXJuaW5nIGZhbHNlXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgdGhhdCB3ZSBhbHdheXMgcmV0dXJuIGZhbHNlIGlmXG4gIC8vIHRoZSBlbnRpcmUgYnVmZmVyIGlzIG5vdCBmbHVzaGVkIGltbWVkaWF0ZWx5IG9uIHdyaXRlKClcbiAgdmFyIGh3bSA9IG9wdGlvbnMuaGlnaFdhdGVyTWFyaztcbiAgdmFyIGRlZmF1bHRId20gPSB0aGlzLm9iamVjdE1vZGUgPyAxNiA6IDE2ICogMTAyNDtcbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gKGh3bSB8fCBod20gPT09IDApID8gaHdtIDogZGVmYXVsdEh3bTtcblxuICAvLyBjYXN0IHRvIGludHMuXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IH5+dGhpcy5oaWdoV2F0ZXJNYXJrO1xuXG4gIHRoaXMubmVlZERyYWluID0gZmFsc2U7XG4gIC8vIGF0IHRoZSBzdGFydCBvZiBjYWxsaW5nIGVuZCgpXG4gIHRoaXMuZW5kaW5nID0gZmFsc2U7XG4gIC8vIHdoZW4gZW5kKCkgaGFzIGJlZW4gY2FsbGVkLCBhbmQgcmV0dXJuZWRcbiAgdGhpcy5lbmRlZCA9IGZhbHNlO1xuICAvLyB3aGVuICdmaW5pc2gnIGlzIGVtaXR0ZWRcbiAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuXG4gIC8vIHNob3VsZCB3ZSBkZWNvZGUgc3RyaW5ncyBpbnRvIGJ1ZmZlcnMgYmVmb3JlIHBhc3NpbmcgdG8gX3dyaXRlP1xuICAvLyB0aGlzIGlzIGhlcmUgc28gdGhhdCBzb21lIG5vZGUtY29yZSBzdHJlYW1zIGNhbiBvcHRpbWl6ZSBzdHJpbmdcbiAgLy8gaGFuZGxpbmcgYXQgYSBsb3dlciBsZXZlbC5cbiAgdmFyIG5vRGVjb2RlID0gb3B0aW9ucy5kZWNvZGVTdHJpbmdzID09PSBmYWxzZTtcbiAgdGhpcy5kZWNvZGVTdHJpbmdzID0gIW5vRGVjb2RlO1xuXG4gIC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG4gIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnO1xuXG4gIC8vIG5vdCBhbiBhY3R1YWwgYnVmZmVyIHdlIGtlZXAgdHJhY2sgb2YsIGJ1dCBhIG1lYXN1cmVtZW50XG4gIC8vIG9mIGhvdyBtdWNoIHdlJ3JlIHdhaXRpbmcgdG8gZ2V0IHB1c2hlZCB0byBzb21lIHVuZGVybHlpbmdcbiAgLy8gc29ja2V0IG9yIGZpbGUuXG4gIHRoaXMubGVuZ3RoID0gMDtcblxuICAvLyBhIGZsYWcgdG8gc2VlIHdoZW4gd2UncmUgaW4gdGhlIG1pZGRsZSBvZiBhIHdyaXRlLlxuICB0aGlzLndyaXRpbmcgPSBmYWxzZTtcblxuICAvLyB3aGVuIHRydWUgYWxsIHdyaXRlcyB3aWxsIGJlIGJ1ZmZlcmVkIHVudGlsIC51bmNvcmsoKSBjYWxsXG4gIHRoaXMuY29ya2VkID0gMDtcblxuICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSxcbiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnlcbiAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC5cbiAgdGhpcy5zeW5jID0gdHJ1ZTtcblxuICAvLyBhIGZsYWcgdG8ga25vdyBpZiB3ZSdyZSBwcm9jZXNzaW5nIHByZXZpb3VzbHkgYnVmZmVyZWQgaXRlbXMsIHdoaWNoXG4gIC8vIG1heSBjYWxsIHRoZSBfd3JpdGUoKSBjYWxsYmFjayBpbiB0aGUgc2FtZSB0aWNrLCBzbyB0aGF0IHdlIGRvbid0XG4gIC8vIGVuZCB1cCBpbiBhbiBvdmVybGFwcGVkIG9ud3JpdGUgc2l0dWF0aW9uLlxuICB0aGlzLmJ1ZmZlclByb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAvLyB0aGUgY2FsbGJhY2sgdGhhdCdzIHBhc3NlZCB0byBfd3JpdGUoY2h1bmssY2IpXG4gIHRoaXMub253cml0ZSA9IGZ1bmN0aW9uKGVyKSB7XG4gICAgb253cml0ZShzdHJlYW0sIGVyKTtcbiAgfTtcblxuICAvLyB0aGUgY2FsbGJhY2sgdGhhdCB0aGUgdXNlciBzdXBwbGllcyB0byB3cml0ZShjaHVuayxlbmNvZGluZyxjYilcbiAgdGhpcy53cml0ZWNiID0gbnVsbDtcblxuICAvLyB0aGUgYW1vdW50IHRoYXQgaXMgYmVpbmcgd3JpdHRlbiB3aGVuIF93cml0ZSBpcyBjYWxsZWQuXG4gIHRoaXMud3JpdGVsZW4gPSAwO1xuXG4gIHRoaXMuYnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcblxuICAvLyBudW1iZXIgb2YgcGVuZGluZyB1c2VyLXN1cHBsaWVkIHdyaXRlIGNhbGxiYWNrc1xuICAvLyB0aGlzIG11c3QgYmUgMCBiZWZvcmUgJ2ZpbmlzaCcgY2FuIGJlIGVtaXR0ZWRcbiAgdGhpcy5wZW5kaW5nY2IgPSAwO1xuXG4gIC8vIGVtaXQgcHJlZmluaXNoIGlmIHRoZSBvbmx5IHRoaW5nIHdlJ3JlIHdhaXRpbmcgZm9yIGlzIF93cml0ZSBjYnNcbiAgLy8gVGhpcyBpcyByZWxldmFudCBmb3Igc3luY2hyb25vdXMgVHJhbnNmb3JtIHN0cmVhbXNcbiAgdGhpcy5wcmVmaW5pc2hlZCA9IGZhbHNlO1xuXG4gIC8vIFRydWUgaWYgdGhlIGVycm9yIHdhcyBhbHJlYWR5IGVtaXR0ZWQgYW5kIHNob3VsZCBub3QgYmUgdGhyb3duIGFnYWluXG4gIHRoaXMuZXJyb3JFbWl0dGVkID0gZmFsc2U7XG59XG5cbldyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIHdyaXRhYmxlU3RhdGVHZXRCdWZmZXIoKSB7XG4gIHZhciBjdXJyZW50ID0gdGhpcy5idWZmZXJlZFJlcXVlc3Q7XG4gIHZhciBvdXQgPSBbXTtcbiAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICBvdXQucHVzaChjdXJyZW50KTtcbiAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuXG4oZnVuY3Rpb24gKCl7dHJ5IHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0YXRlLnByb3RvdHlwZSwgJ2J1ZmZlcicsIHtcbiAgZ2V0OiByZXF1aXJlKCd1dGlsLWRlcHJlY2F0ZScpKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldEJ1ZmZlcigpO1xuICB9LCAnX3dyaXRhYmxlU3RhdGUuYnVmZmVyIGlzIGRlcHJlY2F0ZWQuIFVzZSAnICtcbiAgICAgICdfd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKSBpbnN0ZWFkLicpXG59KTtcbn1jYXRjaChfKXt9fSgpKTtcblxuXG5mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKSB7XG4gIHZhciBEdXBsZXggPSByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbiAgLy8gV3JpdGFibGUgY3RvciBpcyBhcHBsaWVkIHRvIER1cGxleGVzLCB0aG91Z2ggdGhleSdyZSBub3RcbiAgLy8gaW5zdGFuY2VvZiBXcml0YWJsZSwgdGhleSdyZSBpbnN0YW5jZW9mIFJlYWRhYmxlLlxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgV3JpdGFibGUpICYmICEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpXG4gICAgcmV0dXJuIG5ldyBXcml0YWJsZShvcHRpb25zKTtcblxuICB0aGlzLl93cml0YWJsZVN0YXRlID0gbmV3IFdyaXRhYmxlU3RhdGUob3B0aW9ucywgdGhpcyk7XG5cbiAgLy8gbGVnYWN5LlxuICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHRoaXMuX3dyaXRlID0gb3B0aW9ucy53cml0ZTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpXG4gICAgICB0aGlzLl93cml0ZXYgPSBvcHRpb25zLndyaXRldjtcbiAgfVxuXG4gIFN0cmVhbS5jYWxsKHRoaXMpO1xufVxuXG4vLyBPdGhlcndpc2UgcGVvcGxlIGNhbiBwaXBlIFdyaXRhYmxlIHN0cmVhbXMsIHdoaWNoIGlzIGp1c3Qgd3JvbmcuXG5Xcml0YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDYW5ub3QgcGlwZS4gTm90IHJlYWRhYmxlLicpKTtcbn07XG5cblxuZnVuY3Rpb24gd3JpdGVBZnRlckVuZChzdHJlYW0sIGNiKSB7XG4gIHZhciBlciA9IG5ldyBFcnJvcignd3JpdGUgYWZ0ZXIgZW5kJyk7XG4gIC8vIFRPRE86IGRlZmVyIGVycm9yIGV2ZW50cyBjb25zaXN0ZW50bHkgZXZlcnl3aGVyZSwgbm90IGp1c3QgdGhlIGNiXG4gIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgcHJvY2Vzc05leHRUaWNrKGNiLCBlcik7XG59XG5cbi8vIElmIHdlIGdldCBzb21ldGhpbmcgdGhhdCBpcyBub3QgYSBidWZmZXIsIHN0cmluZywgbnVsbCwgb3IgdW5kZWZpbmVkLFxuLy8gYW5kIHdlJ3JlIG5vdCBpbiBvYmplY3RNb2RlLCB0aGVuIHRoYXQncyBhbiBlcnJvci5cbi8vIE90aGVyd2lzZSBzdHJlYW0gY2h1bmtzIGFyZSBhbGwgY29uc2lkZXJlZCB0byBiZSBvZiBsZW5ndGg9MSwgYW5kIHRoZVxuLy8gd2F0ZXJtYXJrcyBkZXRlcm1pbmUgaG93IG1hbnkgb2JqZWN0cyB0byBrZWVwIGluIHRoZSBidWZmZXIsIHJhdGhlciB0aGFuXG4vLyBob3cgbWFueSBieXRlcyBvciBjaGFyYWN0ZXJzLlxuZnVuY3Rpb24gdmFsaWRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgY2IpIHtcbiAgdmFyIHZhbGlkID0gdHJ1ZTtcblxuICBpZiAoIShCdWZmZXIuaXNCdWZmZXIoY2h1bmspKSAmJlxuICAgICAgdHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJlxuICAgICAgY2h1bmsgIT09IG51bGwgJiZcbiAgICAgIGNodW5rICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgdmFyIGVyID0gbmV3IFR5cGVFcnJvcignSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVuaycpO1xuICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgICBwcm9jZXNzTmV4dFRpY2soY2IsIGVyKTtcbiAgICB2YWxpZCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWxpZDtcbn1cblxuV3JpdGFibGUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuICB2YXIgcmV0ID0gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gZW5jb2Rpbmc7XG4gICAgZW5jb2RpbmcgPSBudWxsO1xuICB9XG5cbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpXG4gICAgZW5jb2RpbmcgPSAnYnVmZmVyJztcbiAgZWxzZSBpZiAoIWVuY29kaW5nKVxuICAgIGVuY29kaW5nID0gc3RhdGUuZGVmYXVsdEVuY29kaW5nO1xuXG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpXG4gICAgY2IgPSBub3A7XG5cbiAgaWYgKHN0YXRlLmVuZGVkKVxuICAgIHdyaXRlQWZ0ZXJFbmQodGhpcywgY2IpO1xuICBlbHNlIGlmICh2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgcmV0ID0gd3JpdGVPckJ1ZmZlcih0aGlzLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufTtcblxuV3JpdGFibGUucHJvdG90eXBlLmNvcmsgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcblxuICBzdGF0ZS5jb3JrZWQrKztcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS51bmNvcmsgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcblxuICBpZiAoc3RhdGUuY29ya2VkKSB7XG4gICAgc3RhdGUuY29ya2VkLS07XG5cbiAgICBpZiAoIXN0YXRlLndyaXRpbmcgJiZcbiAgICAgICAgIXN0YXRlLmNvcmtlZCAmJlxuICAgICAgICAhc3RhdGUuZmluaXNoZWQgJiZcbiAgICAgICAgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiZcbiAgICAgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KVxuICAgICAgY2xlYXJCdWZmZXIodGhpcywgc3RhdGUpO1xuICB9XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nID0gZnVuY3Rpb24gc2V0RGVmYXVsdEVuY29kaW5nKGVuY29kaW5nKSB7XG4gIC8vIG5vZGU6OlBhcnNlRW5jb2RpbmcoKSByZXF1aXJlcyBsb3dlciBjYXNlLlxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJylcbiAgICBlbmNvZGluZyA9IGVuY29kaW5nLnRvTG93ZXJDYXNlKCk7XG4gIGlmICghKFsnaGV4JywgJ3V0ZjgnLCAndXRmLTgnLCAnYXNjaWknLCAnYmluYXJ5JywgJ2Jhc2U2NCcsXG4ndWNzMicsICd1Y3MtMicsJ3V0ZjE2bGUnLCAndXRmLTE2bGUnLCAncmF3J11cbi5pbmRleE9mKChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpO1xuICB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZyA9IGVuY29kaW5nO1xufTtcblxuZnVuY3Rpb24gZGVjb2RlQ2h1bmsoc3RhdGUsIGNodW5rLCBlbmNvZGluZykge1xuICBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiZcbiAgICAgIHN0YXRlLmRlY29kZVN0cmluZ3MgIT09IGZhbHNlICYmXG4gICAgICB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgY2h1bmsgPSBuZXcgQnVmZmVyKGNodW5rLCBlbmNvZGluZyk7XG4gIH1cbiAgcmV0dXJuIGNodW5rO1xufVxuXG4vLyBpZiB3ZSdyZSBhbHJlYWR5IHdyaXRpbmcgc29tZXRoaW5nLCB0aGVuIGp1c3QgcHV0IHRoaXNcbi8vIGluIHRoZSBxdWV1ZSwgYW5kIHdhaXQgb3VyIHR1cm4uICBPdGhlcndpc2UsIGNhbGwgX3dyaXRlXG4vLyBJZiB3ZSByZXR1cm4gZmFsc2UsIHRoZW4gd2UgbmVlZCBhIGRyYWluIGV2ZW50LCBzbyBzZXQgdGhhdCBmbGFnLlxuZnVuY3Rpb24gd3JpdGVPckJ1ZmZlcihzdHJlYW0sIHN0YXRlLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNodW5rID0gZGVjb2RlQ2h1bmsoc3RhdGUsIGNodW5rLCBlbmNvZGluZyk7XG5cbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpXG4gICAgZW5jb2RpbmcgPSAnYnVmZmVyJztcbiAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuXG4gIHN0YXRlLmxlbmd0aCArPSBsZW47XG5cbiAgdmFyIHJldCA9IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIC8vIHdlIG11c3QgZW5zdXJlIHRoYXQgcHJldmlvdXMgbmVlZERyYWluIHdpbGwgbm90IGJlIHJlc2V0IHRvIGZhbHNlLlxuICBpZiAoIXJldClcbiAgICBzdGF0ZS5uZWVkRHJhaW4gPSB0cnVlO1xuXG4gIGlmIChzdGF0ZS53cml0aW5nIHx8IHN0YXRlLmNvcmtlZCkge1xuICAgIHZhciBsYXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbmV3IFdyaXRlUmVxKGNodW5rLCBlbmNvZGluZywgY2IpO1xuICAgIGlmIChsYXN0KSB7XG4gICAgICBsYXN0Lm5leHQgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIGZhbHNlLCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB3cml0ZXYsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBzdGF0ZS53cml0ZWxlbiA9IGxlbjtcbiAgc3RhdGUud3JpdGVjYiA9IGNiO1xuICBzdGF0ZS53cml0aW5nID0gdHJ1ZTtcbiAgc3RhdGUuc3luYyA9IHRydWU7XG4gIGlmICh3cml0ZXYpXG4gICAgc3RyZWFtLl93cml0ZXYoY2h1bmssIHN0YXRlLm9ud3JpdGUpO1xuICBlbHNlXG4gICAgc3RyZWFtLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIHN0YXRlLm9ud3JpdGUpO1xuICBzdGF0ZS5zeW5jID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG4gIGlmIChzeW5jKVxuICAgIHByb2Nlc3NOZXh0VGljayhjYiwgZXIpO1xuICBlbHNlXG4gICAgY2IoZXIpO1xuXG4gIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSkge1xuICBzdGF0ZS53cml0aW5nID0gZmFsc2U7XG4gIHN0YXRlLndyaXRlY2IgPSBudWxsO1xuICBzdGF0ZS5sZW5ndGggLT0gc3RhdGUud3JpdGVsZW47XG4gIHN0YXRlLndyaXRlbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gb253cml0ZShzdHJlYW0sIGVyKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTtcbiAgdmFyIHN5bmMgPSBzdGF0ZS5zeW5jO1xuICB2YXIgY2IgPSBzdGF0ZS53cml0ZWNiO1xuXG4gIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSk7XG5cbiAgaWYgKGVyKVxuICAgIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpO1xuICBlbHNlIHtcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldFxuICAgIHZhciBmaW5pc2hlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuXG4gICAgaWYgKCFmaW5pc2hlZCAmJlxuICAgICAgICAhc3RhdGUuY29ya2VkICYmXG4gICAgICAgICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmXG4gICAgICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkge1xuICAgICAgY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIHByb2Nlc3NOZXh0VGljayhhZnRlcldyaXRlLCBzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7XG4gIGlmICghZmluaXNoZWQpXG4gICAgb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpO1xuICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgY2IoKTtcbiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG59XG5cbi8vIE11c3QgZm9yY2UgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIG9uIG5leHRUaWNrLCBzbyB0aGF0IHdlIGRvbid0XG4vLyBlbWl0ICdkcmFpbicgYmVmb3JlIHRoZSB3cml0ZSgpIGNvbnN1bWVyIGdldHMgdGhlICdmYWxzZScgcmV0dXJuXG4vLyB2YWx1ZSwgYW5kIGhhcyBhIGNoYW5jZSB0byBhdHRhY2ggYSAnZHJhaW4nIGxpc3RlbmVyLlxuZnVuY3Rpb24gb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5uZWVkRHJhaW4pIHtcbiAgICBzdGF0ZS5uZWVkRHJhaW4gPSBmYWxzZTtcbiAgICBzdHJlYW0uZW1pdCgnZHJhaW4nKTtcbiAgfVxufVxuXG5cbi8vIGlmIHRoZXJlJ3Mgc29tZXRoaW5nIGluIHRoZSBidWZmZXIgd2FpdGluZywgdGhlbiBwcm9jZXNzIGl0XG5mdW5jdGlvbiBjbGVhckJ1ZmZlcihzdHJlYW0sIHN0YXRlKSB7XG4gIHN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgPSB0cnVlO1xuICB2YXIgZW50cnkgPSBzdGF0ZS5idWZmZXJlZFJlcXVlc3Q7XG5cbiAgaWYgKHN0cmVhbS5fd3JpdGV2ICYmIGVudHJ5ICYmIGVudHJ5Lm5leHQpIHtcbiAgICAvLyBGYXN0IGNhc2UsIHdyaXRlIGV2ZXJ5dGhpbmcgdXNpbmcgX3dyaXRldigpXG4gICAgdmFyIGJ1ZmZlciA9IFtdO1xuICAgIHZhciBjYnMgPSBbXTtcbiAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgIGNicy5wdXNoKGVudHJ5LmNhbGxiYWNrKTtcbiAgICAgIGJ1ZmZlci5wdXNoKGVudHJ5KTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICB9XG5cbiAgICAvLyBjb3VudCB0aGUgb25lIHdlIGFyZSBhZGRpbmcsIGFzIHdlbGwuXG4gICAgLy8gVE9ETyhpc2FhY3MpIGNsZWFuIHRoaXMgdXBcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHRydWUsIHN0YXRlLmxlbmd0aCwgYnVmZmVyLCAnJywgZnVuY3Rpb24oZXJyKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNicy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgICAgICAgY2JzW2ldKGVycik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDbGVhciBidWZmZXJcbiAgfSBlbHNlIHtcbiAgICAvLyBTbG93IGNhc2UsIHdyaXRlIGNodW5rcyBvbmUtYnktb25lXG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICB2YXIgY2h1bmsgPSBlbnRyeS5jaHVuaztcbiAgICAgIHZhciBlbmNvZGluZyA9IGVudHJ5LmVuY29kaW5nO1xuICAgICAgdmFyIGNiID0gZW50cnkuY2FsbGJhY2s7XG4gICAgICB2YXIgbGVuID0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG5cbiAgICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICAvLyBpZiB3ZSBkaWRuJ3QgY2FsbCB0aGUgb253cml0ZSBpbW1lZGlhdGVseSwgdGhlblxuICAgICAgLy8gaXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHdhaXQgdW50aWwgaXQgZG9lcy5cbiAgICAgIC8vIGFsc28sIHRoYXQgbWVhbnMgdGhhdCB0aGUgY2h1bmsgYW5kIGNiIGFyZSBjdXJyZW50bHlcbiAgICAgIC8vIGJlaW5nIHByb2Nlc3NlZCwgc28gbW92ZSB0aGUgYnVmZmVyIGNvdW50ZXIgcGFzdCB0aGVtLlxuICAgICAgaWYgKHN0YXRlLndyaXRpbmcpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVudHJ5ID09PSBudWxsKVxuICAgICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG4gIH1cbiAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID0gZW50cnk7XG4gIHN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgPSBmYWxzZTtcbn1cblxuV3JpdGFibGUucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKSk7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRldiA9IG51bGw7XG5cbldyaXRhYmxlLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbihjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gY2h1bms7XG4gICAgY2h1bmsgPSBudWxsO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGVuY29kaW5nO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIGlmIChjaHVuayAhPT0gbnVsbCAmJiBjaHVuayAhPT0gdW5kZWZpbmVkKVxuICAgIHRoaXMud3JpdGUoY2h1bmssIGVuY29kaW5nKTtcblxuICAvLyAuZW5kKCkgZnVsbHkgdW5jb3Jrc1xuICBpZiAoc3RhdGUuY29ya2VkKSB7XG4gICAgc3RhdGUuY29ya2VkID0gMTtcbiAgICB0aGlzLnVuY29yaygpO1xuICB9XG5cbiAgLy8gaWdub3JlIHVubmVjZXNzYXJ5IGVuZCgpIGNhbGxzLlxuICBpZiAoIXN0YXRlLmVuZGluZyAmJiAhc3RhdGUuZmluaXNoZWQpXG4gICAgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbn07XG5cblxuZnVuY3Rpb24gbmVlZEZpbmlzaChzdGF0ZSkge1xuICByZXR1cm4gKHN0YXRlLmVuZGluZyAmJlxuICAgICAgICAgIHN0YXRlLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCA9PT0gbnVsbCAmJlxuICAgICAgICAgICFzdGF0ZS5maW5pc2hlZCAmJlxuICAgICAgICAgICFzdGF0ZS53cml0aW5nKTtcbn1cblxuZnVuY3Rpb24gcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5wcmVmaW5pc2hlZCkge1xuICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbmVlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuICBpZiAobmVlZCkge1xuICAgIGlmIChzdGF0ZS5wZW5kaW5nY2IgPT09IDApIHtcbiAgICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTtcbiAgICAgIHN0YXRlLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdmaW5pc2gnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmVlZDtcbn1cblxuZnVuY3Rpb24gZW5kV3JpdGFibGUoc3RyZWFtLCBzdGF0ZSwgY2IpIHtcbiAgc3RhdGUuZW5kaW5nID0gdHJ1ZTtcbiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIGlmIChjYikge1xuICAgIGlmIChzdGF0ZS5maW5pc2hlZClcbiAgICAgIHByb2Nlc3NOZXh0VGljayhjYik7XG4gICAgZWxzZVxuICAgICAgc3RyZWFtLm9uY2UoJ2ZpbmlzaCcsIGNiKTtcbiAgfVxuICBzdGF0ZS5lbmRlZCA9IHRydWU7XG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKGFyZyk7XG59XG5leHBvcnRzLmlzQnVmZmVyID0gaXNCdWZmZXI7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn0iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IG5leHRUaWNrO1xuXG5mdW5jdGlvbiBuZXh0VGljayhmbikge1xuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gIHZhciBpID0gMDtcbiAgd2hpbGUgKGkgPCBhcmdzLmxlbmd0aCkge1xuICAgIGFyZ3NbaSsrXSA9IGFyZ3VtZW50c1tpXTtcbiAgfVxuICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uIGFmdGVyVGljaygpIHtcbiAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgfSk7XG59XG4iLCJcbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBkZXByZWNhdGU7XG5cbi8qKlxuICogTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbiAqIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS5ub0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS50aHJvd0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGRlcHJlY2F0ZWQgZnVuY3Rpb25zXG4gKiB3aWxsIHRocm93IGFuIEVycm9yIHdoZW4gaW52b2tlZC5cbiAqXG4gKiBJZiBgbG9jYWxTdG9yYWdlLnRyYWNlRGVwcmVjYXRpb24gPSB0cnVlYCBpcyBzZXQsIHRoZW4gZGVwcmVjYXRlZCBmdW5jdGlvbnNcbiAqIHdpbGwgaW52b2tlIGBjb25zb2xlLnRyYWNlKClgIGluc3RlYWQgb2YgYGNvbnNvbGUuZXJyb3IoKWAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSB0aGUgZnVuY3Rpb24gdG8gZGVwcmVjYXRlXG4gKiBAcGFyYW0ge1N0cmluZ30gbXNnIC0gdGhlIHN0cmluZyB0byBwcmludCB0byB0aGUgY29uc29sZSB3aGVuIGBmbmAgaXMgaW52b2tlZFxuICogQHJldHVybnMge0Z1bmN0aW9ufSBhIG5ldyBcImRlcHJlY2F0ZWRcIiB2ZXJzaW9uIG9mIGBmbmBcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGVwcmVjYXRlIChmbiwgbXNnKSB7XG4gIGlmIChjb25maWcoJ25vRGVwcmVjYXRpb24nKSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKGNvbmZpZygndGhyb3dEZXByZWNhdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChjb25maWcoJ3RyYWNlRGVwcmVjYXRpb24nKSkge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4obXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGBsb2NhbFN0b3JhZ2VgIGZvciBib29sZWFuIHZhbHVlcyBmb3IgdGhlIGdpdmVuIGBuYW1lYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb25maWcgKG5hbWUpIHtcbiAgLy8gYWNjZXNzaW5nIGdsb2JhbC5sb2NhbFN0b3JhZ2UgY2FuIHRyaWdnZXIgYSBET01FeGNlcHRpb24gaW4gc2FuZGJveGVkIGlmcmFtZXNcbiAgdHJ5IHtcbiAgICBpZiAoIWdsb2JhbC5sb2NhbFN0b3JhZ2UpIHJldHVybiBmYWxzZTtcbiAgfSBjYXRjaCAoXykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdmFsID0gZ2xvYmFsLmxvY2FsU3RvcmFnZVtuYW1lXTtcbiAgaWYgKG51bGwgPT0gdmFsKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBTdHJpbmcodmFsKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL2xpYi9fc3RyZWFtX3Bhc3N0aHJvdWdoLmpzXCIpXG4iLCJ2YXIgU3RyZWFtID0gKGZ1bmN0aW9uICgpe1xuICB0cnkge1xuICAgIHJldHVybiByZXF1aXJlKCdzdCcgKyAncmVhbScpOyAvLyBoYWNrIHRvIGZpeCBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgaXNzdWUgd2hlbiB1c2VkIHdpdGggYnJvd3NlcmlmeVxuICB9IGNhdGNoKF8pe31cbn0oKSk7XG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzJyk7XG5leHBvcnRzLlN0cmVhbSA9IFN0cmVhbSB8fCBleHBvcnRzO1xuZXhwb3J0cy5SZWFkYWJsZSA9IGV4cG9ydHM7XG5leHBvcnRzLldyaXRhYmxlID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV93cml0YWJsZS5qcycpO1xuZXhwb3J0cy5EdXBsZXggPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX2R1cGxleC5qcycpO1xuZXhwb3J0cy5UcmFuc2Zvcm0gPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcycpO1xuZXhwb3J0cy5QYXNzVGhyb3VnaCA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzXCIpXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzXCIpXG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxubW9kdWxlLmV4cG9ydHMgPSBTdHJlYW07XG5cbnZhciBFRSA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmluaGVyaXRzKFN0cmVhbSwgRUUpO1xuU3RyZWFtLlJlYWRhYmxlID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtL3JlYWRhYmxlLmpzJyk7XG5TdHJlYW0uV3JpdGFibGUgPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vd3JpdGFibGUuanMnKTtcblN0cmVhbS5EdXBsZXggPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vZHVwbGV4LmpzJyk7XG5TdHJlYW0uVHJhbnNmb3JtID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtL3RyYW5zZm9ybS5qcycpO1xuU3RyZWFtLlBhc3NUaHJvdWdoID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtL3Bhc3N0aHJvdWdoLmpzJyk7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuNC54XG5TdHJlYW0uU3RyZWFtID0gU3RyZWFtO1xuXG5cblxuLy8gb2xkLXN0eWxlIHN0cmVhbXMuICBOb3RlIHRoYXQgdGhlIHBpcGUgbWV0aG9kICh0aGUgb25seSByZWxldmFudFxuLy8gcGFydCBvZiB0aGlzIGNsYXNzKSBpcyBvdmVycmlkZGVuIGluIHRoZSBSZWFkYWJsZSBjbGFzcy5cblxuZnVuY3Rpb24gU3RyZWFtKCkge1xuICBFRS5jYWxsKHRoaXMpO1xufVxuXG5TdHJlYW0ucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbihkZXN0LCBvcHRpb25zKSB7XG4gIHZhciBzb3VyY2UgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykge1xuICAgIGlmIChkZXN0LndyaXRhYmxlKSB7XG4gICAgICBpZiAoZmFsc2UgPT09IGRlc3Qud3JpdGUoY2h1bmspICYmIHNvdXJjZS5wYXVzZSkge1xuICAgICAgICBzb3VyY2UucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzb3VyY2Uub24oJ2RhdGEnLCBvbmRhdGEpO1xuXG4gIGZ1bmN0aW9uIG9uZHJhaW4oKSB7XG4gICAgaWYgKHNvdXJjZS5yZWFkYWJsZSAmJiBzb3VyY2UucmVzdW1lKSB7XG4gICAgICBzb3VyY2UucmVzdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTtcblxuICAvLyBJZiB0aGUgJ2VuZCcgb3B0aW9uIGlzIG5vdCBzdXBwbGllZCwgZGVzdC5lbmQoKSB3aWxsIGJlIGNhbGxlZCB3aGVuXG4gIC8vIHNvdXJjZSBnZXRzIHRoZSAnZW5kJyBvciAnY2xvc2UnIGV2ZW50cy4gIE9ubHkgZGVzdC5lbmQoKSBvbmNlLlxuICBpZiAoIWRlc3QuX2lzU3RkaW8gJiYgKCFvcHRpb25zIHx8IG9wdGlvbnMuZW5kICE9PSBmYWxzZSkpIHtcbiAgICBzb3VyY2Uub24oJ2VuZCcsIG9uZW5kKTtcbiAgICBzb3VyY2Uub24oJ2Nsb3NlJywgb25jbG9zZSk7XG4gIH1cblxuICB2YXIgZGlkT25FbmQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gb25lbmQoKSB7XG4gICAgaWYgKGRpZE9uRW5kKSByZXR1cm47XG4gICAgZGlkT25FbmQgPSB0cnVlO1xuXG4gICAgZGVzdC5lbmQoKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICBpZiAoZGlkT25FbmQpIHJldHVybjtcbiAgICBkaWRPbkVuZCA9IHRydWU7XG5cbiAgICBpZiAodHlwZW9mIGRlc3QuZGVzdHJveSA9PT0gJ2Z1bmN0aW9uJykgZGVzdC5kZXN0cm95KCk7XG4gIH1cblxuICAvLyBkb24ndCBsZWF2ZSBkYW5nbGluZyBwaXBlcyB3aGVuIHRoZXJlIGFyZSBlcnJvcnMuXG4gIGZ1bmN0aW9uIG9uZXJyb3IoZXIpIHtcbiAgICBjbGVhbnVwKCk7XG4gICAgaWYgKEVFLmxpc3RlbmVyQ291bnQodGhpcywgJ2Vycm9yJykgPT09IDApIHtcbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgc3RyZWFtIGVycm9yIGluIHBpcGUuXG4gICAgfVxuICB9XG5cbiAgc291cmNlLm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuICBkZXN0Lm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuXG4gIC8vIHJlbW92ZSBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycyB0aGF0IHdlcmUgYWRkZWQuXG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG5cbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIGNsZWFudXApO1xuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBjbGVhbnVwKTtcblxuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xlYW51cCk7XG4gIH1cblxuICBzb3VyY2Uub24oJ2VuZCcsIGNsZWFudXApO1xuICBzb3VyY2Uub24oJ2Nsb3NlJywgY2xlYW51cCk7XG5cbiAgZGVzdC5vbignY2xvc2UnLCBjbGVhbnVwKTtcblxuICBkZXN0LmVtaXQoJ3BpcGUnLCBzb3VyY2UpO1xuXG4gIC8vIEFsbG93IGZvciB1bml4LWxpa2UgdXNhZ2U6IEEucGlwZShCKS5waXBlKEMpXG4gIHJldHVybiBkZXN0O1xufTtcbiIsInZhciBDbGllbnRSZXF1ZXN0ID0gcmVxdWlyZSgnLi9saWIvcmVxdWVzdCcpXG52YXIgZXh0ZW5kID0gcmVxdWlyZSgneHRlbmQnKVxudmFyIHN0YXR1c0NvZGVzID0gcmVxdWlyZSgnYnVpbHRpbi1zdGF0dXMtY29kZXMnKVxudmFyIHVybCA9IHJlcXVpcmUoJ3VybCcpXG5cbnZhciBodHRwID0gZXhwb3J0c1xuXG5odHRwLnJlcXVlc3QgPSBmdW5jdGlvbiAob3B0cywgY2IpIHtcblx0aWYgKHR5cGVvZiBvcHRzID09PSAnc3RyaW5nJylcblx0XHRvcHRzID0gdXJsLnBhcnNlKG9wdHMpXG5cdGVsc2Vcblx0XHRvcHRzID0gZXh0ZW5kKG9wdHMpXG5cblx0dmFyIHByb3RvY29sID0gb3B0cy5wcm90b2NvbCB8fCAnJ1xuXHR2YXIgaG9zdCA9IG9wdHMuaG9zdG5hbWUgfHwgb3B0cy5ob3N0XG5cdHZhciBwb3J0ID0gb3B0cy5wb3J0XG5cdHZhciBwYXRoID0gb3B0cy5wYXRoIHx8ICcvJ1xuXG5cdC8vIE5lY2Vzc2FyeSBmb3IgSVB2NiBhZGRyZXNzZXNcblx0aWYgKGhvc3QgJiYgaG9zdC5pbmRleE9mKCc6JykgIT09IC0xKVxuXHRcdGhvc3QgPSAnWycgKyBob3N0ICsgJ10nXG5cblx0Ly8gVGhpcyBtYXkgYmUgYSByZWxhdGl2ZSB1cmwuIFRoZSBicm93c2VyIHNob3VsZCBhbHdheXMgYmUgYWJsZSB0byBpbnRlcnByZXQgaXQgY29ycmVjdGx5LlxuXHRvcHRzLnVybCA9IChob3N0ID8gKHByb3RvY29sICsgJy8vJyArIGhvc3QpIDogJycpICsgKHBvcnQgPyAnOicgKyBwb3J0IDogJycpICsgcGF0aFxuXHRvcHRzLm1ldGhvZCA9IChvcHRzLm1ldGhvZCB8fCAnR0VUJykudG9VcHBlckNhc2UoKVxuXHRvcHRzLmhlYWRlcnMgPSBvcHRzLmhlYWRlcnMgfHwge31cblxuXHQvLyBBbHNvIHZhbGlkIG9wdHMuYXV0aCwgb3B0cy5tb2RlXG5cblx0dmFyIHJlcSA9IG5ldyBDbGllbnRSZXF1ZXN0KG9wdHMpXG5cdGlmIChjYilcblx0XHRyZXEub24oJ3Jlc3BvbnNlJywgY2IpXG5cdHJldHVybiByZXFcbn1cblxuaHR0cC5nZXQgPSBmdW5jdGlvbiBnZXQgKG9wdHMsIGNiKSB7XG5cdHZhciByZXEgPSBodHRwLnJlcXVlc3Qob3B0cywgY2IpXG5cdHJlcS5lbmQoKVxuXHRyZXR1cm4gcmVxXG59XG5cbmh0dHAuQWdlbnQgPSBmdW5jdGlvbiAoKSB7fVxuaHR0cC5BZ2VudC5kZWZhdWx0TWF4U29ja2V0cyA9IDRcblxuaHR0cC5TVEFUVVNfQ09ERVMgPSBzdGF0dXNDb2Rlc1xuXG5odHRwLk1FVEhPRFMgPSBbXG5cdCdDSEVDS09VVCcsXG5cdCdDT05ORUNUJyxcblx0J0NPUFknLFxuXHQnREVMRVRFJyxcblx0J0dFVCcsXG5cdCdIRUFEJyxcblx0J0xPQ0snLFxuXHQnTS1TRUFSQ0gnLFxuXHQnTUVSR0UnLFxuXHQnTUtBQ1RJVklUWScsXG5cdCdNS0NPTCcsXG5cdCdNT1ZFJyxcblx0J05PVElGWScsXG5cdCdPUFRJT05TJyxcblx0J1BBVENIJyxcblx0J1BPU1QnLFxuXHQnUFJPUEZJTkQnLFxuXHQnUFJPUFBBVENIJyxcblx0J1BVUkdFJyxcblx0J1BVVCcsXG5cdCdSRVBPUlQnLFxuXHQnU0VBUkNIJyxcblx0J1NVQlNDUklCRScsXG5cdCdUUkFDRScsXG5cdCdVTkxPQ0snLFxuXHQnVU5TVUJTQ1JJQkUnXG5dIiwiZXhwb3J0cy5mZXRjaCA9IGlzRnVuY3Rpb24oZ2xvYmFsLmZldGNoKSAmJiBpc0Z1bmN0aW9uKGdsb2JhbC5SZWFkYWJsZUJ5dGVTdHJlYW0pXG5cbmV4cG9ydHMuYmxvYkNvbnN0cnVjdG9yID0gZmFsc2VcbnRyeSB7XG5cdG5ldyBCbG9iKFtuZXcgQXJyYXlCdWZmZXIoMSldKVxuXHRleHBvcnRzLmJsb2JDb25zdHJ1Y3RvciA9IHRydWVcbn0gY2F0Y2ggKGUpIHt9XG5cbnZhciB4aHIgPSBuZXcgZ2xvYmFsLlhNTEh0dHBSZXF1ZXN0KClcbi8vIElmIGxvY2F0aW9uLmhvc3QgaXMgZW1wdHksIGUuZy4gaWYgdGhpcyBwYWdlL3dvcmtlciB3YXMgbG9hZGVkXG4vLyBmcm9tIGEgQmxvYiwgdGhlbiB1c2UgZXhhbXBsZS5jb20gdG8gYXZvaWQgYW4gZXJyb3Jcbnhoci5vcGVuKCdHRVQnLCBnbG9iYWwubG9jYXRpb24uaG9zdCA/ICcvJyA6ICdodHRwczovL2V4YW1wbGUuY29tJylcblxuZnVuY3Rpb24gY2hlY2tUeXBlU3VwcG9ydCAodHlwZSkge1xuXHR0cnkge1xuXHRcdHhoci5yZXNwb25zZVR5cGUgPSB0eXBlXG5cdFx0cmV0dXJuIHhoci5yZXNwb25zZVR5cGUgPT09IHR5cGVcblx0fSBjYXRjaCAoZSkge31cblx0cmV0dXJuIGZhbHNlXG59XG5cbi8vIEZvciBzb21lIHN0cmFuZ2UgcmVhc29uLCBTYWZhcmkgNy4wIHJlcG9ydHMgdHlwZW9mIGdsb2JhbC5BcnJheUJ1ZmZlciA9PT0gJ29iamVjdCcuXG4vLyBTYWZhcmkgNy4xIGFwcGVhcnMgdG8gaGF2ZSBmaXhlZCB0aGlzIGJ1Zy5cbnZhciBoYXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgZ2xvYmFsLkFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJ1xudmFyIGhhdmVTbGljZSA9IGhhdmVBcnJheUJ1ZmZlciAmJiBpc0Z1bmN0aW9uKGdsb2JhbC5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2UpXG5cbmV4cG9ydHMuYXJyYXlidWZmZXIgPSBoYXZlQXJyYXlCdWZmZXIgJiYgY2hlY2tUeXBlU3VwcG9ydCgnYXJyYXlidWZmZXInKVxuLy8gVGhlc2UgbmV4dCB0d28gdGVzdHMgdW5hdm9pZGFibHkgc2hvdyB3YXJuaW5ncyBpbiBDaHJvbWUuIFNpbmNlIGZldGNoIHdpbGwgYWx3YXlzXG4vLyBiZSB1c2VkIGlmIGl0J3MgYXZhaWxhYmxlLCBqdXN0IHJldHVybiBmYWxzZSBmb3IgdGhlc2UgdG8gYXZvaWQgdGhlIHdhcm5pbmdzLlxuZXhwb3J0cy5tc3N0cmVhbSA9ICFleHBvcnRzLmZldGNoICYmIGhhdmVTbGljZSAmJiBjaGVja1R5cGVTdXBwb3J0KCdtcy1zdHJlYW0nKVxuZXhwb3J0cy5tb3pjaHVua2VkYXJyYXlidWZmZXIgPSAhZXhwb3J0cy5mZXRjaCAmJiBoYXZlQXJyYXlCdWZmZXIgJiZcblx0Y2hlY2tUeXBlU3VwcG9ydCgnbW96LWNodW5rZWQtYXJyYXlidWZmZXInKVxuZXhwb3J0cy5vdmVycmlkZU1pbWVUeXBlID0gaXNGdW5jdGlvbih4aHIub3ZlcnJpZGVNaW1lVHlwZSlcbmV4cG9ydHMudmJBcnJheSA9IGlzRnVuY3Rpb24oZ2xvYmFsLlZCQXJyYXkpXG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24gKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbidcbn1cblxueGhyID0gbnVsbCAvLyBIZWxwIGdjXG4iLCIvLyB2YXIgQmFzZTY0ID0gcmVxdWlyZSgnQmFzZTY0JylcbnZhciBjYXBhYmlsaXR5ID0gcmVxdWlyZSgnLi9jYXBhYmlsaXR5JylcbnZhciBmb3JlYWNoID0gcmVxdWlyZSgnZm9yZWFjaCcpXG52YXIgaW5kZXhPZiA9IHJlcXVpcmUoJ2luZGV4b2YnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIGtleXMgPSByZXF1aXJlKCdvYmplY3Qta2V5cycpXG52YXIgcmVzcG9uc2UgPSByZXF1aXJlKCcuL3Jlc3BvbnNlJylcbnZhciBzdHJlYW0gPSByZXF1aXJlKCdzdHJlYW0nKVxuXG52YXIgSW5jb21pbmdNZXNzYWdlID0gcmVzcG9uc2UuSW5jb21pbmdNZXNzYWdlXG52YXIgclN0YXRlcyA9IHJlc3BvbnNlLnJlYWR5U3RhdGVzXG5cbmZ1bmN0aW9uIGRlY2lkZU1vZGUgKHByZWZlckJpbmFyeSkge1xuXHRpZiAoY2FwYWJpbGl0eS5mZXRjaCkge1xuXHRcdHJldHVybiAnZmV0Y2gnXG5cdH0gZWxzZSBpZiAoY2FwYWJpbGl0eS5tb3pjaHVua2VkYXJyYXlidWZmZXIpIHtcblx0XHRyZXR1cm4gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJ1xuXHR9IGVsc2UgaWYgKGNhcGFiaWxpdHkubXNzdHJlYW0pIHtcblx0XHRyZXR1cm4gJ21zLXN0cmVhbSdcblx0fSBlbHNlIGlmIChjYXBhYmlsaXR5LmFycmF5YnVmZmVyICYmIHByZWZlckJpbmFyeSkge1xuXHRcdHJldHVybiAnYXJyYXlidWZmZXInXG5cdH0gZWxzZSBpZiAoY2FwYWJpbGl0eS52YkFycmF5ICYmIHByZWZlckJpbmFyeSkge1xuXHRcdHJldHVybiAndGV4dDp2YmFycmF5J1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiAndGV4dCdcblx0fVxufVxuXG52YXIgQ2xpZW50UmVxdWVzdCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdHMpIHtcblx0dmFyIHNlbGYgPSB0aGlzXG5cdHN0cmVhbS5Xcml0YWJsZS5jYWxsKHNlbGYpXG5cblx0c2VsZi5fb3B0cyA9IG9wdHNcblx0c2VsZi5fYm9keSA9IFtdXG5cdHNlbGYuX2hlYWRlcnMgPSB7fVxuXHRpZiAob3B0cy5hdXRoKVxuXHRcdHNlbGYuc2V0SGVhZGVyKCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyBuZXcgQnVmZmVyKG9wdHMuYXV0aCkudG9TdHJpbmcoJ2Jhc2U2NCcpKVxuXHRmb3JlYWNoKGtleXMob3B0cy5oZWFkZXJzKSwgZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRzZWxmLnNldEhlYWRlcihuYW1lLCBvcHRzLmhlYWRlcnNbbmFtZV0pXG5cdH0pXG5cblx0dmFyIHByZWZlckJpbmFyeVxuXHRpZiAob3B0cy5tb2RlID09PSAncHJlZmVyLXN0cmVhbWluZycpIHtcblx0XHQvLyBJZiBzdHJlYW1pbmcgaXMgYSBoaWdoIHByaW9yaXR5IGJ1dCBiaW5hcnkgY29tcGF0aWJpbGl0eSBhbmRcblx0XHQvLyB0aGUgYWNjdXJhY3kgb2YgdGhlICdjb250ZW50LXR5cGUnIGhlYWRlciBhcmVuJ3Rcblx0XHRwcmVmZXJCaW5hcnkgPSBmYWxzZVxuXHR9IGVsc2UgaWYgKG9wdHMubW9kZSA9PT0gJ2FsbG93LXdyb25nLWNvbnRlbnQtdHlwZScpIHtcblx0XHQvLyBJZiBzdHJlYW1pbmcgaXMgbW9yZSBpbXBvcnRhbnQgdGhhbiBwcmVzZXJ2aW5nIHRoZSAnY29udGVudC10eXBlJyBoZWFkZXJcblx0XHRwcmVmZXJCaW5hcnkgPSAhY2FwYWJpbGl0eS5vdmVycmlkZU1pbWVUeXBlXG5cdH0gZWxzZSBpZiAoIW9wdHMubW9kZSB8fCBvcHRzLm1vZGUgPT09ICdkZWZhdWx0JyB8fCBvcHRzLm1vZGUgPT09ICdwcmVmZXItZmFzdCcpIHtcblx0XHQvLyBVc2UgYmluYXJ5IGlmIHRleHQgc3RyZWFtaW5nIG1heSBjb3JydXB0IGRhdGEgb3IgdGhlIGNvbnRlbnQtdHlwZSBoZWFkZXIsIG9yIGZvciBzcGVlZFxuXHRcdHByZWZlckJpbmFyeSA9IHRydWVcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgZm9yIG9wdHMubW9kZScpXG5cdH1cblx0c2VsZi5fbW9kZSA9IGRlY2lkZU1vZGUocHJlZmVyQmluYXJ5KVxuXG5cdHNlbGYub24oJ2ZpbmlzaCcsIGZ1bmN0aW9uICgpIHtcblx0XHRzZWxmLl9vbkZpbmlzaCgpXG5cdH0pXG59XG5cbmluaGVyaXRzKENsaWVudFJlcXVlc3QsIHN0cmVhbS5Xcml0YWJsZSlcblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuc2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG5cdHZhciBzZWxmID0gdGhpc1xuXHR2YXIgbG93ZXJOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpXG5cdC8vIFRoaXMgY2hlY2sgaXMgbm90IG5lY2Vzc2FyeSwgYnV0IGl0IHByZXZlbnRzIHdhcm5pbmdzIGZyb20gYnJvd3NlcnMgYWJvdXQgc2V0dGluZyB1bnNhZmVcblx0Ly8gaGVhZGVycy4gVG8gYmUgaG9uZXN0IEknbSBub3QgZW50aXJlbHkgc3VyZSBoaWRpbmcgdGhlc2Ugd2FybmluZ3MgaXMgYSBnb29kIHRoaW5nLCBidXRcblx0Ly8gaHR0cC1icm93c2VyaWZ5IGRpZCBpdCwgc28gSSB3aWxsIHRvby5cblx0aWYgKGluZGV4T2YodW5zYWZlSGVhZGVycywgbG93ZXJOYW1lKSAhPT0gLTEpXG5cdFx0cmV0dXJuXG5cblx0c2VsZi5faGVhZGVyc1tsb3dlck5hbWVdID0ge1xuXHRcdG5hbWU6IG5hbWUsXG5cdFx0dmFsdWU6IHZhbHVlXG5cdH1cbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0dmFyIHNlbGYgPSB0aGlzXG5cdHJldHVybiBzZWxmLl9oZWFkZXJzW25hbWUudG9Mb3dlckNhc2UoKV0udmFsdWVcbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUucmVtb3ZlSGVhZGVyID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0dmFyIHNlbGYgPSB0aGlzXG5cdGRlbGV0ZSBzZWxmLl9oZWFkZXJzW25hbWUudG9Mb3dlckNhc2UoKV1cbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuX29uRmluaXNoID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgc2VsZiA9IHRoaXNcblxuXHRpZiAoc2VsZi5fZGVzdHJveWVkKVxuXHRcdHJldHVyblxuXHR2YXIgb3B0cyA9IHNlbGYuX29wdHNcblxuXHR2YXIgaGVhZGVyc09iaiA9IHNlbGYuX2hlYWRlcnNcblx0dmFyIGJvZHlcblx0aWYgKG9wdHMubWV0aG9kID09PSAnUE9TVCcgfHwgb3B0cy5tZXRob2QgPT09ICdQVVQnKSB7XG5cdFx0aWYgKGNhcGFiaWxpdHkuYmxvYkNvbnN0cnVjdG9yKSB7XG5cdFx0XHRib2R5ID0gbmV3IGdsb2JhbC5CbG9iKHNlbGYuX2JvZHkubWFwKGZ1bmN0aW9uIChidWZmZXIpIHtcblx0XHRcdFx0cmV0dXJuIGJ1ZmZlci50b0FycmF5QnVmZmVyKClcblx0XHRcdH0pLCB7XG5cdFx0XHRcdHR5cGU6IChoZWFkZXJzT2JqWydjb250ZW50LXR5cGUnXSB8fCB7fSkudmFsdWUgfHwgJydcblx0XHRcdH0pXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGdldCB1dGY4IHN0cmluZ1xuXHRcdFx0Ym9keSA9IEJ1ZmZlci5jb25jYXQoc2VsZi5fYm9keSkudG9TdHJpbmcoKVxuXHRcdH1cblx0fVxuXG5cdGlmIChzZWxmLl9tb2RlID09PSAnZmV0Y2gnKSB7XG5cdFx0dmFyIGhlYWRlcnMgPSBrZXlzKGhlYWRlcnNPYmopLm1hcChmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0cmV0dXJuIFtoZWFkZXJzT2JqW25hbWVdLm5hbWUsIGhlYWRlcnNPYmpbbmFtZV0udmFsdWVdXG5cdFx0fSlcblxuXHRcdGdsb2JhbC5mZXRjaChzZWxmLl9vcHRzLnVybCwge1xuXHRcdFx0bWV0aG9kOiBzZWxmLl9vcHRzLm1ldGhvZCxcblx0XHRcdGhlYWRlcnM6IGhlYWRlcnMsXG5cdFx0XHRib2R5OiBib2R5LFxuXHRcdFx0bW9kZTogJ2NvcnMnLFxuXHRcdFx0Y3JlZGVudGlhbHM6IG9wdHMud2l0aENyZWRlbnRpYWxzID8gJ2luY2x1ZGUnIDogJ3NhbWUtb3JpZ2luJ1xuXHRcdH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHRzZWxmLl9mZXRjaFJlc3BvbnNlID0gcmVzcG9uc2Vcblx0XHRcdHNlbGYuX2Nvbm5lY3QoKVxuXHRcdH0pLnRoZW4odW5kZWZpbmVkLCBmdW5jdGlvbiAocmVhc29uKSB7XG5cdFx0XHRzZWxmLmVtaXQoJ2Vycm9yJywgcmVhc29uKVxuXHRcdH0pXG5cdH0gZWxzZSB7XG5cdFx0dmFyIHhociA9IHNlbGYuX3hociA9IG5ldyBnbG9iYWwuWE1MSHR0cFJlcXVlc3QoKVxuXHRcdHRyeSB7XG5cdFx0XHR4aHIub3BlbihzZWxmLl9vcHRzLm1ldGhvZCwgc2VsZi5fb3B0cy51cmwsIHRydWUpXG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0c2VsZi5lbWl0KCdlcnJvcicsIGVycilcblx0XHRcdH0pXG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHQvLyBDYW4ndCBzZXQgcmVzcG9uc2VUeXBlIG9uIHJlYWxseSBvbGQgYnJvd3NlcnNcblx0XHRpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyKVxuXHRcdFx0eGhyLnJlc3BvbnNlVHlwZSA9IHNlbGYuX21vZGUuc3BsaXQoJzonKVswXVxuXG5cdFx0aWYgKCd3aXRoQ3JlZGVudGlhbHMnIGluIHhocilcblx0XHRcdHhoci53aXRoQ3JlZGVudGlhbHMgPSAhIW9wdHMud2l0aENyZWRlbnRpYWxzXG5cblx0XHRpZiAoc2VsZi5fbW9kZSA9PT0gJ3RleHQnICYmICdvdmVycmlkZU1pbWVUeXBlJyBpbiB4aHIpXG5cdFx0XHR4aHIub3ZlcnJpZGVNaW1lVHlwZSgndGV4dC9wbGFpbjsgY2hhcnNldD14LXVzZXItZGVmaW5lZCcpXG5cblx0XHRmb3JlYWNoKGtleXMoaGVhZGVyc09iaiksIGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHR4aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXJzT2JqW25hbWVdLm5hbWUsIGhlYWRlcnNPYmpbbmFtZV0udmFsdWUpXG5cdFx0fSlcblxuXHRcdHNlbGYuX3Jlc3BvbnNlID0gbnVsbFxuXHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRzd2l0Y2ggKHhoci5yZWFkeVN0YXRlKSB7XG5cdFx0XHRcdGNhc2UgclN0YXRlcy5MT0FESU5HOlxuXHRcdFx0XHRjYXNlIHJTdGF0ZXMuRE9ORTpcblx0XHRcdFx0XHRzZWxmLl9vblhIUlByb2dyZXNzKClcblx0XHRcdFx0XHRicmVha1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBOZWNlc3NhcnkgZm9yIHN0cmVhbWluZyBpbiBGaXJlZm94LCBzaW5jZSB4aHIucmVzcG9uc2UgaXMgT05MWSBkZWZpbmVkXG5cdFx0Ly8gaW4gb25wcm9ncmVzcywgbm90IGluIG9ucmVhZHlzdGF0ZWNoYW5nZSB3aXRoIHhoci5yZWFkeVN0YXRlID0gM1xuXHRcdGlmIChzZWxmLl9tb2RlID09PSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInKSB7XG5cdFx0XHR4aHIub25wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0c2VsZi5fb25YSFJQcm9ncmVzcygpXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0eGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoc2VsZi5fZGVzdHJveWVkKVxuXHRcdFx0XHRyZXR1cm5cblx0XHRcdHNlbGYuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ1hIUiBlcnJvcicpKVxuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHR4aHIuc2VuZChib2R5KVxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0cHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpXG5cdFx0XHR9KVxuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHhoci5zdGF0dXMgaXMgcmVhZGFibGUuIEV2ZW4gdGhvdWdoIHRoZSBzcGVjIHNheXMgaXQgc2hvdWxkXG4gKiBiZSBhdmFpbGFibGUgaW4gcmVhZHlTdGF0ZSAzLCBhY2Nlc3NpbmcgaXQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpbiBJRThcbiAqL1xuZnVuY3Rpb24gc3RhdHVzVmFsaWQgKHhocikge1xuXHR0cnkge1xuXHRcdHJldHVybiAoeGhyLnN0YXR1cyAhPT0gbnVsbClcblx0fSBjYXRjaCAoZSkge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9XG59XG5cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLl9vblhIUlByb2dyZXNzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgc2VsZiA9IHRoaXNcblxuXHRpZiAoIXN0YXR1c1ZhbGlkKHNlbGYuX3hocikgfHwgc2VsZi5fZGVzdHJveWVkKVxuXHRcdHJldHVyblxuXG5cdGlmICghc2VsZi5fcmVzcG9uc2UpXG5cdFx0c2VsZi5fY29ubmVjdCgpXG5cblx0c2VsZi5fcmVzcG9uc2UuX29uWEhSUHJvZ3Jlc3MoKVxufVxuXG5DbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5fY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIHNlbGYgPSB0aGlzXG5cblx0aWYgKHNlbGYuX2Rlc3Ryb3llZClcblx0XHRyZXR1cm5cblxuXHRzZWxmLl9yZXNwb25zZSA9IG5ldyBJbmNvbWluZ01lc3NhZ2Uoc2VsZi5feGhyLCBzZWxmLl9mZXRjaFJlc3BvbnNlLCBzZWxmLl9tb2RlKVxuXHRzZWxmLmVtaXQoJ3Jlc3BvbnNlJywgc2VsZi5fcmVzcG9uc2UpXG59XG5cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG5cdHZhciBzZWxmID0gdGhpc1xuXG5cdHNlbGYuX2JvZHkucHVzaChjaHVuaylcblx0Y2IoKVxufVxuXG5DbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5hYm9ydCA9IENsaWVudFJlcXVlc3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBzZWxmID0gdGhpc1xuXHRzZWxmLl9kZXN0cm95ZWQgPSB0cnVlXG5cdGlmIChzZWxmLl9yZXNwb25zZSlcblx0XHRzZWxmLl9yZXNwb25zZS5fZGVzdHJveWVkID0gdHJ1ZVxuXHRpZiAoc2VsZi5feGhyKVxuXHRcdHNlbGYuX3hoci5hYm9ydCgpXG5cdC8vIEN1cnJlbnRseSwgdGhlcmUgaXNuJ3QgYSB3YXkgdG8gdHJ1bHkgYWJvcnQgYSBmZXRjaC5cblx0Ly8gSWYgeW91IGxpa2UgYmlrZXNoZWRkaW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy9mZXRjaC9pc3N1ZXMvMjdcbn1cblxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGRhdGEsIGVuY29kaW5nLCBjYikge1xuXHR2YXIgc2VsZiA9IHRoaXNcblx0aWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0Y2IgPSBkYXRhXG5cdFx0ZGF0YSA9IHVuZGVmaW5lZFxuXHR9XG5cblx0c3RyZWFtLldyaXRhYmxlLnByb3RvdHlwZS5lbmQuY2FsbChzZWxmLCBkYXRhLCBlbmNvZGluZywgY2IpXG59XG5cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLmZsdXNoSGVhZGVycyA9IGZ1bmN0aW9uICgpIHt9XG5DbGllbnRSZXF1ZXN0LnByb3RvdHlwZS5zZXRUaW1lb3V0ID0gZnVuY3Rpb24gKCkge31cbkNsaWVudFJlcXVlc3QucHJvdG90eXBlLnNldE5vRGVsYXkgPSBmdW5jdGlvbiAoKSB7fVxuQ2xpZW50UmVxdWVzdC5wcm90b3R5cGUuc2V0U29ja2V0S2VlcEFsaXZlID0gZnVuY3Rpb24gKCkge31cblxuLy8gVGFrZW4gZnJvbSBodHRwOi8vd3d3LnczLm9yZy9UUi9YTUxIdHRwUmVxdWVzdC8jdGhlLXNldHJlcXVlc3RoZWFkZXIlMjglMjktbWV0aG9kXG52YXIgdW5zYWZlSGVhZGVycyA9IFtcblx0J2FjY2VwdC1jaGFyc2V0Jyxcblx0J2FjY2VwdC1lbmNvZGluZycsXG5cdCdhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LWhlYWRlcnMnLFxuXHQnYWNjZXNzLWNvbnRyb2wtcmVxdWVzdC1tZXRob2QnLFxuXHQnY29ubmVjdGlvbicsXG5cdCdjb250ZW50LWxlbmd0aCcsXG5cdCdjb29raWUnLFxuXHQnY29va2llMicsXG5cdCdkYXRlJyxcblx0J2RudCcsXG5cdCdleHBlY3QnLFxuXHQnaG9zdCcsXG5cdCdrZWVwLWFsaXZlJyxcblx0J29yaWdpbicsXG5cdCdyZWZlcmVyJyxcblx0J3RlJyxcblx0J3RyYWlsZXInLFxuXHQndHJhbnNmZXItZW5jb2RpbmcnLFxuXHQndXBncmFkZScsXG5cdCd1c2VyLWFnZW50Jyxcblx0J3ZpYSdcbl1cbiIsInZhciBjYXBhYmlsaXR5ID0gcmVxdWlyZSgnLi9jYXBhYmlsaXR5JylcbnZhciBmb3JlYWNoID0gcmVxdWlyZSgnZm9yZWFjaCcpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgc3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJylcblxudmFyIHJTdGF0ZXMgPSBleHBvcnRzLnJlYWR5U3RhdGVzID0ge1xuXHRVTlNFTlQ6IDAsXG5cdE9QRU5FRDogMSxcblx0SEVBREVSU19SRUNFSVZFRDogMixcblx0TE9BRElORzogMyxcblx0RE9ORTogNFxufVxuXG52YXIgSW5jb21pbmdNZXNzYWdlID0gZXhwb3J0cy5JbmNvbWluZ01lc3NhZ2UgPSBmdW5jdGlvbiAoeGhyLCByZXNwb25zZSwgbW9kZSkge1xuXHR2YXIgc2VsZiA9IHRoaXNcblx0c3RyZWFtLlJlYWRhYmxlLmNhbGwoc2VsZilcblxuXHRzZWxmLl9tb2RlID0gbW9kZVxuXHRzZWxmLmhlYWRlcnMgPSB7fVxuXHRzZWxmLnJhd0hlYWRlcnMgPSBbXVxuXHRzZWxmLnRyYWlsZXJzID0ge31cblx0c2VsZi5yYXdUcmFpbGVycyA9IFtdXG5cblx0Ly8gRmFrZSB0aGUgJ2Nsb3NlJyBldmVudCwgYnV0IG9ubHkgb25jZSAnZW5kJyBmaXJlc1xuXHRzZWxmLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gVGhlIG5leHRUaWNrIGlzIG5lY2Vzc2FyeSB0byBwcmV2ZW50IHRoZSAncmVxdWVzdCcgbW9kdWxlIGZyb20gY2F1c2luZyBhbiBpbmZpbml0ZSBsb29wXG5cdFx0cHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG5cdFx0XHRzZWxmLmVtaXQoJ2Nsb3NlJylcblx0XHR9KVxuXHR9KVxuXG5cdGlmIChtb2RlID09PSAnZmV0Y2gnKSB7XG5cdFx0c2VsZi5fZmV0Y2hSZXNwb25zZSA9IHJlc3BvbnNlXG5cblx0XHRzZWxmLnN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXNcblx0XHRzZWxmLnN0YXR1c01lc3NhZ2UgPSByZXNwb25zZS5zdGF0dXNUZXh0XG5cdFx0Ly8gYmFja3dhcmRzIGNvbXBhdGlibGUgdmVyc2lvbiBvZiBmb3IgKDxpdGVtPiBvZiA8aXRlcmFibGU+KTpcblx0XHQvLyBmb3IgKHZhciA8aXRlbT4sX2ksX2l0ID0gPGl0ZXJhYmxlPltTeW1ib2wuaXRlcmF0b3JdKCk7IDxpdGVtPiA9IChfaSA9IF9pdC5uZXh0KCkpLnZhbHVlLCFfaS5kb25lOylcblx0XHRmb3IgKHZhciBoZWFkZXIsIF9pLCBfaXQgPSByZXNwb25zZS5oZWFkZXJzW1N5bWJvbC5pdGVyYXRvcl0oKTsgaGVhZGVyID0gKF9pID0gX2l0Lm5leHQoKSkudmFsdWUsICFfaS5kb25lOykge1xuXHRcdFx0c2VsZi5oZWFkZXJzW2hlYWRlclswXS50b0xvd2VyQ2FzZSgpXSA9IGhlYWRlclsxXVxuXHRcdFx0c2VsZi5yYXdIZWFkZXJzLnB1c2goaGVhZGVyWzBdLCBoZWFkZXJbMV0pXG5cdFx0fVxuXG5cdFx0Ly8gVE9ETzogdGhpcyBkb2Vzbid0IHJlc3BlY3QgYmFja3ByZXNzdXJlLiBPbmNlIFdyaXRhYmxlU3RyZWFtIGlzIGF2YWlsYWJsZSwgdGhpcyBjYW4gYmUgZml4ZWRcblx0XHR2YXIgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKVxuXHRcdGZ1bmN0aW9uIHJlYWQgKCkge1xuXHRcdFx0cmVhZGVyLnJlYWQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0XHRcdFx0aWYgKHNlbGYuX2Rlc3Ryb3llZClcblx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0aWYgKHJlc3VsdC5kb25lKSB7XG5cdFx0XHRcdFx0c2VsZi5wdXNoKG51bGwpXG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdH1cblx0XHRcdFx0c2VsZi5wdXNoKG5ldyBCdWZmZXIocmVzdWx0LnZhbHVlKSlcblx0XHRcdFx0cmVhZCgpXG5cdFx0XHR9KVxuXHRcdH1cblx0XHRyZWFkKClcblxuXHR9IGVsc2Uge1xuXHRcdHNlbGYuX3hociA9IHhoclxuXHRcdHNlbGYuX3BvcyA9IDBcblxuXHRcdHNlbGYuc3RhdHVzQ29kZSA9IHhoci5zdGF0dXNcblx0XHRzZWxmLnN0YXR1c01lc3NhZ2UgPSB4aHIuc3RhdHVzVGV4dFxuXHRcdHZhciBoZWFkZXJzID0geGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnNwbGl0KC9cXHI/XFxuLylcblx0XHRmb3JlYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIChoZWFkZXIpIHtcblx0XHRcdHZhciBtYXRjaGVzID0gaGVhZGVyLm1hdGNoKC9eKFteOl0rKTpcXHMqKC4qKS8pXG5cdFx0XHRpZiAobWF0Y2hlcykge1xuXHRcdFx0XHR2YXIga2V5ID0gbWF0Y2hlc1sxXS50b0xvd2VyQ2FzZSgpXG5cdFx0XHRcdGlmIChzZWxmLmhlYWRlcnNba2V5XSAhPT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdHNlbGYuaGVhZGVyc1trZXldICs9ICcsICcgKyBtYXRjaGVzWzJdXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRzZWxmLmhlYWRlcnNba2V5XSA9IG1hdGNoZXNbMl1cblx0XHRcdFx0c2VsZi5yYXdIZWFkZXJzLnB1c2gobWF0Y2hlc1sxXSwgbWF0Y2hlc1syXSlcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0c2VsZi5fY2hhcnNldCA9ICd4LXVzZXItZGVmaW5lZCdcblx0XHRpZiAoIWNhcGFiaWxpdHkub3ZlcnJpZGVNaW1lVHlwZSkge1xuXHRcdFx0dmFyIG1pbWVUeXBlID0gc2VsZi5yYXdIZWFkZXJzWydtaW1lLXR5cGUnXVxuXHRcdFx0aWYgKG1pbWVUeXBlKSB7XG5cdFx0XHRcdHZhciBjaGFyc2V0TWF0Y2ggPSBtaW1lVHlwZS5tYXRjaCgvO1xccypjaGFyc2V0PShbXjtdKSg7fCQpLylcblx0XHRcdFx0aWYgKGNoYXJzZXRNYXRjaCkge1xuXHRcdFx0XHRcdHNlbGYuX2NoYXJzZXQgPSBjaGFyc2V0TWF0Y2hbMV0udG9Mb3dlckNhc2UoKVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXNlbGYuX2NoYXJzZXQpXG5cdFx0XHRcdHNlbGYuX2NoYXJzZXQgPSAndXRmLTgnIC8vIGJlc3QgZ3Vlc3Ncblx0XHR9XG5cdH1cbn1cblxuaW5oZXJpdHMoSW5jb21pbmdNZXNzYWdlLCBzdHJlYW0uUmVhZGFibGUpXG5cbkluY29taW5nTWVzc2FnZS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAoKSB7fVxuXG5JbmNvbWluZ01lc3NhZ2UucHJvdG90eXBlLl9vblhIUlByb2dyZXNzID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgc2VsZiA9IHRoaXNcblxuXHR2YXIgeGhyID0gc2VsZi5feGhyXG5cblx0dmFyIHJlc3BvbnNlID0gbnVsbFxuXHRzd2l0Y2ggKHNlbGYuX21vZGUpIHtcblx0XHRjYXNlICd0ZXh0OnZiYXJyYXknOiAvLyBGb3IgSUU5XG5cdFx0XHRpZiAoeGhyLnJlYWR5U3RhdGUgIT09IHJTdGF0ZXMuRE9ORSlcblx0XHRcdFx0YnJlYWtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIFRoaXMgZmFpbHMgaW4gSUU4XG5cdFx0XHRcdHJlc3BvbnNlID0gbmV3IGdsb2JhbC5WQkFycmF5KHhoci5yZXNwb25zZUJvZHkpLnRvQXJyYXkoKVxuXHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHRcdGlmIChyZXNwb25zZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRzZWxmLnB1c2gobmV3IEJ1ZmZlcihyZXNwb25zZSkpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0XHQvLyBGYWxscyB0aHJvdWdoIGluIElFOFx0XG5cdFx0Y2FzZSAndGV4dCc6XG5cdFx0XHR0cnkgeyAvLyBUaGlzIHdpbGwgZmFpbCB3aGVuIHJlYWR5U3RhdGUgPSAzIGluIElFOS4gU3dpdGNoIG1vZGUgYW5kIHdhaXQgZm9yIHJlYWR5U3RhdGUgPSA0XG5cdFx0XHRcdHJlc3BvbnNlID0geGhyLnJlc3BvbnNlVGV4dFxuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRzZWxmLl9tb2RlID0gJ3RleHQ6dmJhcnJheSdcblx0XHRcdFx0YnJlYWtcblx0XHRcdH1cblx0XHRcdGlmIChyZXNwb25zZS5sZW5ndGggPiBzZWxmLl9wb3MpIHtcblx0XHRcdFx0dmFyIG5ld0RhdGEgPSByZXNwb25zZS5zdWJzdHIoc2VsZi5fcG9zKVxuXHRcdFx0XHRpZiAoc2VsZi5fY2hhcnNldCA9PT0gJ3gtdXNlci1kZWZpbmVkJykge1xuXHRcdFx0XHRcdHZhciBidWZmZXIgPSBuZXcgQnVmZmVyKG5ld0RhdGEubGVuZ3RoKVxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbmV3RGF0YS5sZW5ndGg7IGkrKylcblx0XHRcdFx0XHRcdGJ1ZmZlcltpXSA9IG5ld0RhdGEuY2hhckNvZGVBdChpKSAmIDB4ZmZcblxuXHRcdFx0XHRcdHNlbGYucHVzaChidWZmZXIpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2VsZi5wdXNoKG5ld0RhdGEsIHNlbGYuX2NoYXJzZXQpXG5cdFx0XHRcdH1cblx0XHRcdFx0c2VsZi5fcG9zID0gcmVzcG9uc2UubGVuZ3RoXG5cdFx0XHR9XG5cdFx0XHRicmVha1xuXHRcdGNhc2UgJ2FycmF5YnVmZmVyJzpcblx0XHRcdGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gclN0YXRlcy5ET05FKVxuXHRcdFx0XHRicmVha1xuXHRcdFx0cmVzcG9uc2UgPSB4aHIucmVzcG9uc2Vcblx0XHRcdHNlbGYucHVzaChuZXcgQnVmZmVyKG5ldyBVaW50OEFycmF5KHJlc3BvbnNlKSkpXG5cdFx0XHRicmVha1xuXHRcdGNhc2UgJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJzogLy8gdGFrZSB3aG9sZVxuXHRcdFx0cmVzcG9uc2UgPSB4aHIucmVzcG9uc2Vcblx0XHRcdGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gclN0YXRlcy5MT0FESU5HIHx8ICFyZXNwb25zZSlcblx0XHRcdFx0YnJlYWtcblx0XHRcdHNlbGYucHVzaChuZXcgQnVmZmVyKG5ldyBVaW50OEFycmF5KHJlc3BvbnNlKSkpXG5cdFx0XHRicmVha1xuXHRcdGNhc2UgJ21zLXN0cmVhbSc6XG5cdFx0XHRyZXNwb25zZSA9IHhoci5yZXNwb25zZVxuXHRcdFx0aWYgKHhoci5yZWFkeVN0YXRlICE9PSByU3RhdGVzLkxPQURJTkcpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR2YXIgcmVhZGVyID0gbmV3IGdsb2JhbC5NU1N0cmVhbVJlYWRlcigpXG5cdFx0XHRyZWFkZXIub25wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKHJlYWRlci5yZXN1bHQuYnl0ZUxlbmd0aCA+IHNlbGYuX3Bvcykge1xuXHRcdFx0XHRcdHNlbGYucHVzaChuZXcgQnVmZmVyKG5ldyBVaW50OEFycmF5KHJlYWRlci5yZXN1bHQuc2xpY2Uoc2VsZi5fcG9zKSkpKVxuXHRcdFx0XHRcdHNlbGYuX3BvcyA9IHJlYWRlci5yZXN1bHQuYnl0ZUxlbmd0aFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRzZWxmLnB1c2gobnVsbClcblx0XHRcdH1cblx0XHRcdC8vIHJlYWRlci5vbmVycm9yID0gPz8/IC8vIFRPRE86IHRoaXNcblx0XHRcdHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihyZXNwb25zZSlcblx0XHRcdGJyZWFrXG5cdH1cblxuXHQvLyBUaGUgbXMtc3RyZWFtIGNhc2UgaGFuZGxlcyBlbmQgc2VwYXJhdGVseSBpbiByZWFkZXIub25sb2FkKClcblx0aWYgKHNlbGYuX3hoci5yZWFkeVN0YXRlID09PSByU3RhdGVzLkRPTkUgJiYgc2VsZi5fbW9kZSAhPT0gJ21zLXN0cmVhbScpIHtcblx0XHRzZWxmLnB1c2gobnVsbClcblx0fVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIFwiMTAwXCI6IFwiQ29udGludWVcIixcbiAgXCIxMDFcIjogXCJTd2l0Y2hpbmcgUHJvdG9jb2xzXCIsXG4gIFwiMTAyXCI6IFwiUHJvY2Vzc2luZ1wiLFxuICBcIjIwMFwiOiBcIk9LXCIsXG4gIFwiMjAxXCI6IFwiQ3JlYXRlZFwiLFxuICBcIjIwMlwiOiBcIkFjY2VwdGVkXCIsXG4gIFwiMjAzXCI6IFwiTm9uLUF1dGhvcml0YXRpdmUgSW5mb3JtYXRpb25cIixcbiAgXCIyMDRcIjogXCJObyBDb250ZW50XCIsXG4gIFwiMjA1XCI6IFwiUmVzZXQgQ29udGVudFwiLFxuICBcIjIwNlwiOiBcIlBhcnRpYWwgQ29udGVudFwiLFxuICBcIjIwN1wiOiBcIk11bHRpLVN0YXR1c1wiLFxuICBcIjMwMFwiOiBcIk11bHRpcGxlIENob2ljZXNcIixcbiAgXCIzMDFcIjogXCJNb3ZlZCBQZXJtYW5lbnRseVwiLFxuICBcIjMwMlwiOiBcIk1vdmVkIFRlbXBvcmFyaWx5XCIsXG4gIFwiMzAzXCI6IFwiU2VlIE90aGVyXCIsXG4gIFwiMzA0XCI6IFwiTm90IE1vZGlmaWVkXCIsXG4gIFwiMzA1XCI6IFwiVXNlIFByb3h5XCIsXG4gIFwiMzA3XCI6IFwiVGVtcG9yYXJ5IFJlZGlyZWN0XCIsXG4gIFwiMzA4XCI6IFwiUGVybWFuZW50IFJlZGlyZWN0XCIsXG4gIFwiNDAwXCI6IFwiQmFkIFJlcXVlc3RcIixcbiAgXCI0MDFcIjogXCJVbmF1dGhvcml6ZWRcIixcbiAgXCI0MDJcIjogXCJQYXltZW50IFJlcXVpcmVkXCIsXG4gIFwiNDAzXCI6IFwiRm9yYmlkZGVuXCIsXG4gIFwiNDA0XCI6IFwiTm90IEZvdW5kXCIsXG4gIFwiNDA1XCI6IFwiTWV0aG9kIE5vdCBBbGxvd2VkXCIsXG4gIFwiNDA2XCI6IFwiTm90IEFjY2VwdGFibGVcIixcbiAgXCI0MDdcIjogXCJQcm94eSBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZFwiLFxuICBcIjQwOFwiOiBcIlJlcXVlc3QgVGltZS1vdXRcIixcbiAgXCI0MDlcIjogXCJDb25mbGljdFwiLFxuICBcIjQxMFwiOiBcIkdvbmVcIixcbiAgXCI0MTFcIjogXCJMZW5ndGggUmVxdWlyZWRcIixcbiAgXCI0MTJcIjogXCJQcmVjb25kaXRpb24gRmFpbGVkXCIsXG4gIFwiNDEzXCI6IFwiUmVxdWVzdCBFbnRpdHkgVG9vIExhcmdlXCIsXG4gIFwiNDE0XCI6IFwiUmVxdWVzdC1VUkkgVG9vIExhcmdlXCIsXG4gIFwiNDE1XCI6IFwiVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZVwiLFxuICBcIjQxNlwiOiBcIlJlcXVlc3RlZCBSYW5nZSBOb3QgU2F0aXNmaWFibGVcIixcbiAgXCI0MTdcIjogXCJFeHBlY3RhdGlvbiBGYWlsZWRcIixcbiAgXCI0MThcIjogXCJJJ20gYSB0ZWFwb3RcIixcbiAgXCI0MjJcIjogXCJVbnByb2Nlc3NhYmxlIEVudGl0eVwiLFxuICBcIjQyM1wiOiBcIkxvY2tlZFwiLFxuICBcIjQyNFwiOiBcIkZhaWxlZCBEZXBlbmRlbmN5XCIsXG4gIFwiNDI1XCI6IFwiVW5vcmRlcmVkIENvbGxlY3Rpb25cIixcbiAgXCI0MjZcIjogXCJVcGdyYWRlIFJlcXVpcmVkXCIsXG4gIFwiNDI4XCI6IFwiUHJlY29uZGl0aW9uIFJlcXVpcmVkXCIsXG4gIFwiNDI5XCI6IFwiVG9vIE1hbnkgUmVxdWVzdHNcIixcbiAgXCI0MzFcIjogXCJSZXF1ZXN0IEhlYWRlciBGaWVsZHMgVG9vIExhcmdlXCIsXG4gIFwiNTAwXCI6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIsXG4gIFwiNTAxXCI6IFwiTm90IEltcGxlbWVudGVkXCIsXG4gIFwiNTAyXCI6IFwiQmFkIEdhdGV3YXlcIixcbiAgXCI1MDNcIjogXCJTZXJ2aWNlIFVuYXZhaWxhYmxlXCIsXG4gIFwiNTA0XCI6IFwiR2F0ZXdheSBUaW1lLW91dFwiLFxuICBcIjUwNVwiOiBcIkhUVFAgVmVyc2lvbiBOb3QgU3VwcG9ydGVkXCIsXG4gIFwiNTA2XCI6IFwiVmFyaWFudCBBbHNvIE5lZ290aWF0ZXNcIixcbiAgXCI1MDdcIjogXCJJbnN1ZmZpY2llbnQgU3RvcmFnZVwiLFxuICBcIjUwOVwiOiBcIkJhbmR3aWR0aCBMaW1pdCBFeGNlZWRlZFwiLFxuICBcIjUxMFwiOiBcIk5vdCBFeHRlbmRlZFwiLFxuICBcIjUxMVwiOiBcIk5ldHdvcmsgQXV0aGVudGljYXRpb24gUmVxdWlyZWRcIlxufVxuIiwiXG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZm9yRWFjaCAob2JqLCBmbiwgY3R4KSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwoZm4pICE9PSAnW29iamVjdCBGdW5jdGlvbl0nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2l0ZXJhdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cbiAgICB2YXIgbCA9IG9iai5sZW5ndGg7XG4gICAgaWYgKGwgPT09ICtsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBmbi5jYWxsKGN0eCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChvYmosIGspKSB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbChjdHgsIG9ialtrXSwgaywgb2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbiIsIlxudmFyIGluZGV4T2YgPSBbXS5pbmRleE9mO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFyciwgb2JqKXtcbiAgaWYgKGluZGV4T2YpIHJldHVybiBhcnIuaW5kZXhPZihvYmopO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgIGlmIChhcnJbaV0gPT09IG9iaikgcmV0dXJuIGk7XG4gIH1cbiAgcmV0dXJuIC0xO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbi8vIG1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNS1zaGltXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgaXNBcmdzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpO1xudmFyIGhhc0RvbnRFbnVtQnVnID0gISh7IHRvU3RyaW5nOiBudWxsIH0pLnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpO1xudmFyIGhhc1Byb3RvRW51bUJ1ZyA9IGZ1bmN0aW9uICgpIHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCdwcm90b3R5cGUnKTtcbnZhciBkb250RW51bXMgPSBbXG5cdCd0b1N0cmluZycsXG5cdCd0b0xvY2FsZVN0cmluZycsXG5cdCd2YWx1ZU9mJyxcblx0J2hhc093blByb3BlcnR5Jyxcblx0J2lzUHJvdG90eXBlT2YnLFxuXHQncHJvcGVydHlJc0VudW1lcmFibGUnLFxuXHQnY29uc3RydWN0b3InXG5dO1xudmFyIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlID0gZnVuY3Rpb24gKG8pIHtcblx0dmFyIGN0b3IgPSBvLmNvbnN0cnVjdG9yO1xuXHRyZXR1cm4gY3RvciAmJiBjdG9yLnByb3RvdHlwZSA9PT0gbztcbn07XG52YXIgYmxhY2tsaXN0ZWRLZXlzID0ge1xuXHQkY29uc29sZTogdHJ1ZSxcblx0JGZyYW1lRWxlbWVudDogdHJ1ZSxcblx0JGZyYW1lczogdHJ1ZSxcblx0JHBhcmVudDogdHJ1ZSxcblx0JHNlbGY6IHRydWUsXG5cdCR3ZWJraXRJbmRleGVkREI6IHRydWUsXG5cdCR3ZWJraXRTdG9yYWdlSW5mbzogdHJ1ZSxcblx0JHdpbmRvdzogdHJ1ZVxufTtcbnZhciBoYXNBdXRvbWF0aW9uRXF1YWxpdHlCdWcgPSAoZnVuY3Rpb24gKCkge1xuXHQvKiBnbG9iYWwgd2luZG93ICovXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgeyByZXR1cm4gZmFsc2U7IH1cblx0Zm9yICh2YXIgayBpbiB3aW5kb3cpIHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCFibGFja2xpc3RlZEtleXNbJyQnICsga10gJiYgaGFzLmNhbGwod2luZG93LCBrKSAmJiB3aW5kb3dba10gIT09IG51bGwgJiYgdHlwZW9mIHdpbmRvd1trXSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZSh3aW5kb3dba10pO1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufSgpKTtcbnZhciBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZUlmTm90QnVnZ3kgPSBmdW5jdGlvbiAobykge1xuXHQvKiBnbG9iYWwgd2luZG93ICovXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhaGFzQXV0b21hdGlvbkVxdWFsaXR5QnVnKSB7XG5cdFx0cmV0dXJuIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKG8pO1xuXHR9XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKG8pO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59O1xuXG52YXIga2V5c1NoaW0gPSBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuXHR2YXIgaXNPYmplY3QgPSBvYmplY3QgIT09IG51bGwgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCc7XG5cdHZhciBpc0Z1bmN0aW9uID0gdG9TdHIuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHR2YXIgaXNBcmd1bWVudHMgPSBpc0FyZ3Mob2JqZWN0KTtcblx0dmFyIGlzU3RyaW5nID0gaXNPYmplY3QgJiYgdG9TdHIuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBTdHJpbmddJztcblx0dmFyIHRoZUtleXMgPSBbXTtcblxuXHRpZiAoIWlzT2JqZWN0ICYmICFpc0Z1bmN0aW9uICYmICFpc0FyZ3VtZW50cykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5rZXlzIGNhbGxlZCBvbiBhIG5vbi1vYmplY3QnKTtcblx0fVxuXG5cdHZhciBza2lwUHJvdG8gPSBoYXNQcm90b0VudW1CdWcgJiYgaXNGdW5jdGlvbjtcblx0aWYgKGlzU3RyaW5nICYmIG9iamVjdC5sZW5ndGggPiAwICYmICFoYXMuY2FsbChvYmplY3QsIDApKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QubGVuZ3RoOyArK2kpIHtcblx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcoaSkpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChpc0FyZ3VtZW50cyAmJiBvYmplY3QubGVuZ3RoID4gMCkge1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgb2JqZWN0Lmxlbmd0aDsgKytqKSB7XG5cdFx0XHR0aGVLZXlzLnB1c2goU3RyaW5nKGopKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Zm9yICh2YXIgbmFtZSBpbiBvYmplY3QpIHtcblx0XHRcdGlmICghKHNraXBQcm90byAmJiBuYW1lID09PSAncHJvdG90eXBlJykgJiYgaGFzLmNhbGwob2JqZWN0LCBuYW1lKSkge1xuXHRcdFx0XHR0aGVLZXlzLnB1c2goU3RyaW5nKG5hbWUpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoaGFzRG9udEVudW1CdWcpIHtcblx0XHR2YXIgc2tpcENvbnN0cnVjdG9yID0gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGVJZk5vdEJ1Z2d5KG9iamVjdCk7XG5cblx0XHRmb3IgKHZhciBrID0gMDsgayA8IGRvbnRFbnVtcy5sZW5ndGg7ICsraykge1xuXHRcdFx0aWYgKCEoc2tpcENvbnN0cnVjdG9yICYmIGRvbnRFbnVtc1trXSA9PT0gJ2NvbnN0cnVjdG9yJykgJiYgaGFzLmNhbGwob2JqZWN0LCBkb250RW51bXNba10pKSB7XG5cdFx0XHRcdHRoZUtleXMucHVzaChkb250RW51bXNba10pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGhlS2V5cztcbn07XG5cbmtleXNTaGltLnNoaW0gPSBmdW5jdGlvbiBzaGltT2JqZWN0S2V5cygpIHtcblx0aWYgKE9iamVjdC5rZXlzKSB7XG5cdFx0dmFyIGtleXNXb3Jrc1dpdGhBcmd1bWVudHMgPSAoZnVuY3Rpb24gKCkge1xuXHRcdFx0Ly8gU2FmYXJpIDUuMCBidWdcblx0XHRcdHJldHVybiAoT2JqZWN0LmtleXMoYXJndW1lbnRzKSB8fCAnJykubGVuZ3RoID09PSAyO1xuXHRcdH0oMSwgMikpO1xuXHRcdGlmICgha2V5c1dvcmtzV2l0aEFyZ3VtZW50cykge1xuXHRcdFx0dmFyIG9yaWdpbmFsS2V5cyA9IE9iamVjdC5rZXlzO1xuXHRcdFx0T2JqZWN0LmtleXMgPSBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuXHRcdFx0XHRpZiAoaXNBcmdzKG9iamVjdCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gb3JpZ2luYWxLZXlzKHNsaWNlLmNhbGwob2JqZWN0KSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9yaWdpbmFsS2V5cyhvYmplY3QpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRPYmplY3Qua2V5cyA9IGtleXNTaGltO1xuXHR9XG5cdHJldHVybiBPYmplY3Qua2V5cyB8fCBrZXlzU2hpbTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5c1NoaW07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcblx0dmFyIHN0ciA9IHRvU3RyLmNhbGwodmFsdWUpO1xuXHR2YXIgaXNBcmdzID0gc3RyID09PSAnW29iamVjdCBBcmd1bWVudHNdJztcblx0aWYgKCFpc0FyZ3MpIHtcblx0XHRpc0FyZ3MgPSBzdHIgIT09ICdbb2JqZWN0IEFycmF5XScgJiZcblx0XHRcdHZhbHVlICE9PSBudWxsICYmXG5cdFx0XHR0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG5cdFx0XHR0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJyAmJlxuXHRcdFx0dmFsdWUubGVuZ3RoID49IDAgJiZcblx0XHRcdHRvU3RyLmNhbGwodmFsdWUuY2FsbGVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0fVxuXHRyZXR1cm4gaXNBcmdzO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuXG52YXIgaXNCdWZmZXJFbmNvZGluZyA9IEJ1ZmZlci5pc0VuY29kaW5nXG4gIHx8IGZ1bmN0aW9uKGVuY29kaW5nKSB7XG4gICAgICAgc3dpdGNoIChlbmNvZGluZyAmJiBlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICBjYXNlICdoZXgnOiBjYXNlICd1dGY4JzogY2FzZSAndXRmLTgnOiBjYXNlICdhc2NpaSc6IGNhc2UgJ2JpbmFyeSc6IGNhc2UgJ2Jhc2U2NCc6IGNhc2UgJ3VjczInOiBjYXNlICd1Y3MtMic6IGNhc2UgJ3V0ZjE2bGUnOiBjYXNlICd1dGYtMTZsZSc6IGNhc2UgJ3Jhdyc6IHJldHVybiB0cnVlO1xuICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZhbHNlO1xuICAgICAgIH1cbiAgICAgfVxuXG5cbmZ1bmN0aW9uIGFzc2VydEVuY29kaW5nKGVuY29kaW5nKSB7XG4gIGlmIChlbmNvZGluZyAmJiAhaXNCdWZmZXJFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZyk7XG4gIH1cbn1cblxuLy8gU3RyaW5nRGVjb2RlciBwcm92aWRlcyBhbiBpbnRlcmZhY2UgZm9yIGVmZmljaWVudGx5IHNwbGl0dGluZyBhIHNlcmllcyBvZlxuLy8gYnVmZmVycyBpbnRvIGEgc2VyaWVzIG9mIEpTIHN0cmluZ3Mgd2l0aG91dCBicmVha2luZyBhcGFydCBtdWx0aS1ieXRlXG4vLyBjaGFyYWN0ZXJzLiBDRVNVLTggaXMgaGFuZGxlZCBhcyBwYXJ0IG9mIHRoZSBVVEYtOCBlbmNvZGluZy5cbi8vXG4vLyBAVE9ETyBIYW5kbGluZyBhbGwgZW5jb2RpbmdzIGluc2lkZSBhIHNpbmdsZSBvYmplY3QgbWFrZXMgaXQgdmVyeSBkaWZmaWN1bHRcbi8vIHRvIHJlYXNvbiBhYm91dCB0aGlzIGNvZGUsIHNvIGl0IHNob3VsZCBiZSBzcGxpdCB1cCBpbiB0aGUgZnV0dXJlLlxuLy8gQFRPRE8gVGhlcmUgc2hvdWxkIGJlIGEgdXRmOC1zdHJpY3QgZW5jb2RpbmcgdGhhdCByZWplY3RzIGludmFsaWQgVVRGLTggY29kZVxuLy8gcG9pbnRzIGFzIHVzZWQgYnkgQ0VTVS04LlxudmFyIFN0cmluZ0RlY29kZXIgPSBleHBvcnRzLlN0cmluZ0RlY29kZXIgPSBmdW5jdGlvbihlbmNvZGluZykge1xuICB0aGlzLmVuY29kaW5nID0gKGVuY29kaW5nIHx8ICd1dGY4JykudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bLV9dLywgJycpO1xuICBhc3NlcnRFbmNvZGluZyhlbmNvZGluZyk7XG4gIHN3aXRjaCAodGhpcy5lbmNvZGluZykge1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgLy8gQ0VTVS04IHJlcHJlc2VudHMgZWFjaCBvZiBTdXJyb2dhdGUgUGFpciBieSAzLWJ5dGVzXG4gICAgICB0aGlzLnN1cnJvZ2F0ZVNpemUgPSAzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICAvLyBVVEYtMTYgcmVwcmVzZW50cyBlYWNoIG9mIFN1cnJvZ2F0ZSBQYWlyIGJ5IDItYnl0ZXNcbiAgICAgIHRoaXMuc3Vycm9nYXRlU2l6ZSA9IDI7XG4gICAgICB0aGlzLmRldGVjdEluY29tcGxldGVDaGFyID0gdXRmMTZEZXRlY3RJbmNvbXBsZXRlQ2hhcjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAvLyBCYXNlLTY0IHN0b3JlcyAzIGJ5dGVzIGluIDQgY2hhcnMsIGFuZCBwYWRzIHRoZSByZW1haW5kZXIuXG4gICAgICB0aGlzLnN1cnJvZ2F0ZVNpemUgPSAzO1xuICAgICAgdGhpcy5kZXRlY3RJbmNvbXBsZXRlQ2hhciA9IGJhc2U2NERldGVjdEluY29tcGxldGVDaGFyO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRoaXMud3JpdGUgPSBwYXNzVGhyb3VnaFdyaXRlO1xuICAgICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRW5vdWdoIHNwYWNlIHRvIHN0b3JlIGFsbCBieXRlcyBvZiBhIHNpbmdsZSBjaGFyYWN0ZXIuIFVURi04IG5lZWRzIDRcbiAgLy8gYnl0ZXMsIGJ1dCBDRVNVLTggbWF5IHJlcXVpcmUgdXAgdG8gNiAoMyBieXRlcyBwZXIgc3Vycm9nYXRlKS5cbiAgdGhpcy5jaGFyQnVmZmVyID0gbmV3IEJ1ZmZlcig2KTtcbiAgLy8gTnVtYmVyIG9mIGJ5dGVzIHJlY2VpdmVkIGZvciB0aGUgY3VycmVudCBpbmNvbXBsZXRlIG11bHRpLWJ5dGUgY2hhcmFjdGVyLlxuICB0aGlzLmNoYXJSZWNlaXZlZCA9IDA7XG4gIC8vIE51bWJlciBvZiBieXRlcyBleHBlY3RlZCBmb3IgdGhlIGN1cnJlbnQgaW5jb21wbGV0ZSBtdWx0aS1ieXRlIGNoYXJhY3Rlci5cbiAgdGhpcy5jaGFyTGVuZ3RoID0gMDtcbn07XG5cblxuLy8gd3JpdGUgZGVjb2RlcyB0aGUgZ2l2ZW4gYnVmZmVyIGFuZCByZXR1cm5zIGl0IGFzIEpTIHN0cmluZyB0aGF0IGlzXG4vLyBndWFyYW50ZWVkIHRvIG5vdCBjb250YWluIGFueSBwYXJ0aWFsIG11bHRpLWJ5dGUgY2hhcmFjdGVycy4gQW55IHBhcnRpYWxcbi8vIGNoYXJhY3RlciBmb3VuZCBhdCB0aGUgZW5kIG9mIHRoZSBidWZmZXIgaXMgYnVmZmVyZWQgdXAsIGFuZCB3aWxsIGJlXG4vLyByZXR1cm5lZCB3aGVuIGNhbGxpbmcgd3JpdGUgYWdhaW4gd2l0aCB0aGUgcmVtYWluaW5nIGJ5dGVzLlxuLy9cbi8vIE5vdGU6IENvbnZlcnRpbmcgYSBCdWZmZXIgY29udGFpbmluZyBhbiBvcnBoYW4gc3Vycm9nYXRlIHRvIGEgU3RyaW5nXG4vLyBjdXJyZW50bHkgd29ya3MsIGJ1dCBjb252ZXJ0aW5nIGEgU3RyaW5nIHRvIGEgQnVmZmVyICh2aWEgYG5ldyBCdWZmZXJgLCBvclxuLy8gQnVmZmVyI3dyaXRlKSB3aWxsIHJlcGxhY2UgaW5jb21wbGV0ZSBzdXJyb2dhdGVzIHdpdGggdGhlIHVuaWNvZGVcbi8vIHJlcGxhY2VtZW50IGNoYXJhY3Rlci4gU2VlIGh0dHBzOi8vY29kZXJldmlldy5jaHJvbWl1bS5vcmcvMTIxMTczMDA5LyAuXG5TdHJpbmdEZWNvZGVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICB2YXIgY2hhclN0ciA9ICcnO1xuICAvLyBpZiBvdXIgbGFzdCB3cml0ZSBlbmRlZCB3aXRoIGFuIGluY29tcGxldGUgbXVsdGlieXRlIGNoYXJhY3RlclxuICB3aGlsZSAodGhpcy5jaGFyTGVuZ3RoKSB7XG4gICAgLy8gZGV0ZXJtaW5lIGhvdyBtYW55IHJlbWFpbmluZyBieXRlcyB0aGlzIGJ1ZmZlciBoYXMgdG8gb2ZmZXIgZm9yIHRoaXMgY2hhclxuICAgIHZhciBhdmFpbGFibGUgPSAoYnVmZmVyLmxlbmd0aCA+PSB0aGlzLmNoYXJMZW5ndGggLSB0aGlzLmNoYXJSZWNlaXZlZCkgP1xuICAgICAgICB0aGlzLmNoYXJMZW5ndGggLSB0aGlzLmNoYXJSZWNlaXZlZCA6XG4gICAgICAgIGJ1ZmZlci5sZW5ndGg7XG5cbiAgICAvLyBhZGQgdGhlIG5ldyBieXRlcyB0byB0aGUgY2hhciBidWZmZXJcbiAgICBidWZmZXIuY29weSh0aGlzLmNoYXJCdWZmZXIsIHRoaXMuY2hhclJlY2VpdmVkLCAwLCBhdmFpbGFibGUpO1xuICAgIHRoaXMuY2hhclJlY2VpdmVkICs9IGF2YWlsYWJsZTtcblxuICAgIGlmICh0aGlzLmNoYXJSZWNlaXZlZCA8IHRoaXMuY2hhckxlbmd0aCkge1xuICAgICAgLy8gc3RpbGwgbm90IGVub3VnaCBjaGFycyBpbiB0aGlzIGJ1ZmZlcj8gd2FpdCBmb3IgbW9yZSAuLi5cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgYnl0ZXMgYmVsb25naW5nIHRvIHRoZSBjdXJyZW50IGNoYXJhY3RlciBmcm9tIHRoZSBidWZmZXJcbiAgICBidWZmZXIgPSBidWZmZXIuc2xpY2UoYXZhaWxhYmxlLCBidWZmZXIubGVuZ3RoKTtcblxuICAgIC8vIGdldCB0aGUgY2hhcmFjdGVyIHRoYXQgd2FzIHNwbGl0XG4gICAgY2hhclN0ciA9IHRoaXMuY2hhckJ1ZmZlci5zbGljZSgwLCB0aGlzLmNoYXJMZW5ndGgpLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpO1xuXG4gICAgLy8gQ0VTVS04OiBsZWFkIHN1cnJvZ2F0ZSAoRDgwMC1EQkZGKSBpcyBhbHNvIHRoZSBpbmNvbXBsZXRlIGNoYXJhY3RlclxuICAgIHZhciBjaGFyQ29kZSA9IGNoYXJTdHIuY2hhckNvZGVBdChjaGFyU3RyLmxlbmd0aCAtIDEpO1xuICAgIGlmIChjaGFyQ29kZSA+PSAweEQ4MDAgJiYgY2hhckNvZGUgPD0gMHhEQkZGKSB7XG4gICAgICB0aGlzLmNoYXJMZW5ndGggKz0gdGhpcy5zdXJyb2dhdGVTaXplO1xuICAgICAgY2hhclN0ciA9ICcnO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHRoaXMuY2hhclJlY2VpdmVkID0gdGhpcy5jaGFyTGVuZ3RoID0gMDtcblxuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBtb3JlIGJ5dGVzIGluIHRoaXMgYnVmZmVyLCBqdXN0IGVtaXQgb3VyIGNoYXJcbiAgICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGNoYXJTdHI7XG4gICAgfVxuICAgIGJyZWFrO1xuICB9XG5cbiAgLy8gZGV0ZXJtaW5lIGFuZCBzZXQgY2hhckxlbmd0aCAvIGNoYXJSZWNlaXZlZFxuICB0aGlzLmRldGVjdEluY29tcGxldGVDaGFyKGJ1ZmZlcik7XG5cbiAgdmFyIGVuZCA9IGJ1ZmZlci5sZW5ndGg7XG4gIGlmICh0aGlzLmNoYXJMZW5ndGgpIHtcbiAgICAvLyBidWZmZXIgdGhlIGluY29tcGxldGUgY2hhcmFjdGVyIGJ5dGVzIHdlIGdvdFxuICAgIGJ1ZmZlci5jb3B5KHRoaXMuY2hhckJ1ZmZlciwgMCwgYnVmZmVyLmxlbmd0aCAtIHRoaXMuY2hhclJlY2VpdmVkLCBlbmQpO1xuICAgIGVuZCAtPSB0aGlzLmNoYXJSZWNlaXZlZDtcbiAgfVxuXG4gIGNoYXJTdHIgKz0gYnVmZmVyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIGVuZCk7XG5cbiAgdmFyIGVuZCA9IGNoYXJTdHIubGVuZ3RoIC0gMTtcbiAgdmFyIGNoYXJDb2RlID0gY2hhclN0ci5jaGFyQ29kZUF0KGVuZCk7XG4gIC8vIENFU1UtODogbGVhZCBzdXJyb2dhdGUgKEQ4MDAtREJGRikgaXMgYWxzbyB0aGUgaW5jb21wbGV0ZSBjaGFyYWN0ZXJcbiAgaWYgKGNoYXJDb2RlID49IDB4RDgwMCAmJiBjaGFyQ29kZSA8PSAweERCRkYpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc3Vycm9nYXRlU2l6ZTtcbiAgICB0aGlzLmNoYXJMZW5ndGggKz0gc2l6ZTtcbiAgICB0aGlzLmNoYXJSZWNlaXZlZCArPSBzaXplO1xuICAgIHRoaXMuY2hhckJ1ZmZlci5jb3B5KHRoaXMuY2hhckJ1ZmZlciwgc2l6ZSwgMCwgc2l6ZSk7XG4gICAgYnVmZmVyLmNvcHkodGhpcy5jaGFyQnVmZmVyLCAwLCAwLCBzaXplKTtcbiAgICByZXR1cm4gY2hhclN0ci5zdWJzdHJpbmcoMCwgZW5kKTtcbiAgfVxuXG4gIC8vIG9yIGp1c3QgZW1pdCB0aGUgY2hhclN0clxuICByZXR1cm4gY2hhclN0cjtcbn07XG5cbi8vIGRldGVjdEluY29tcGxldGVDaGFyIGRldGVybWluZXMgaWYgdGhlcmUgaXMgYW4gaW5jb21wbGV0ZSBVVEYtOCBjaGFyYWN0ZXIgYXRcbi8vIHRoZSBlbmQgb2YgdGhlIGdpdmVuIGJ1ZmZlci4gSWYgc28sIGl0IHNldHMgdGhpcy5jaGFyTGVuZ3RoIHRvIHRoZSBieXRlXG4vLyBsZW5ndGggdGhhdCBjaGFyYWN0ZXIsIGFuZCBzZXRzIHRoaXMuY2hhclJlY2VpdmVkIHRvIHRoZSBudW1iZXIgb2YgYnl0ZXNcbi8vIHRoYXQgYXJlIGF2YWlsYWJsZSBmb3IgdGhpcyBjaGFyYWN0ZXIuXG5TdHJpbmdEZWNvZGVyLnByb3RvdHlwZS5kZXRlY3RJbmNvbXBsZXRlQ2hhciA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAvLyBkZXRlcm1pbmUgaG93IG1hbnkgYnl0ZXMgd2UgaGF2ZSB0byBjaGVjayBhdCB0aGUgZW5kIG9mIHRoaXMgYnVmZmVyXG4gIHZhciBpID0gKGJ1ZmZlci5sZW5ndGggPj0gMykgPyAzIDogYnVmZmVyLmxlbmd0aDtcblxuICAvLyBGaWd1cmUgb3V0IGlmIG9uZSBvZiB0aGUgbGFzdCBpIGJ5dGVzIG9mIG91ciBidWZmZXIgYW5ub3VuY2VzIGFuXG4gIC8vIGluY29tcGxldGUgY2hhci5cbiAgZm9yICg7IGkgPiAwOyBpLS0pIHtcbiAgICB2YXIgYyA9IGJ1ZmZlcltidWZmZXIubGVuZ3RoIC0gaV07XG5cbiAgICAvLyBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9VVEYtOCNEZXNjcmlwdGlvblxuXG4gICAgLy8gMTEwWFhYWFhcbiAgICBpZiAoaSA9PSAxICYmIGMgPj4gNSA9PSAweDA2KSB7XG4gICAgICB0aGlzLmNoYXJMZW5ndGggPSAyO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gMTExMFhYWFhcbiAgICBpZiAoaSA8PSAyICYmIGMgPj4gNCA9PSAweDBFKSB7XG4gICAgICB0aGlzLmNoYXJMZW5ndGggPSAzO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gMTExMTBYWFhcbiAgICBpZiAoaSA8PSAzICYmIGMgPj4gMyA9PSAweDFFKSB7XG4gICAgICB0aGlzLmNoYXJMZW5ndGggPSA0O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHRoaXMuY2hhclJlY2VpdmVkID0gaTtcbn07XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICB2YXIgcmVzID0gJyc7XG4gIGlmIChidWZmZXIgJiYgYnVmZmVyLmxlbmd0aClcbiAgICByZXMgPSB0aGlzLndyaXRlKGJ1ZmZlcik7XG5cbiAgaWYgKHRoaXMuY2hhclJlY2VpdmVkKSB7XG4gICAgdmFyIGNyID0gdGhpcy5jaGFyUmVjZWl2ZWQ7XG4gICAgdmFyIGJ1ZiA9IHRoaXMuY2hhckJ1ZmZlcjtcbiAgICB2YXIgZW5jID0gdGhpcy5lbmNvZGluZztcbiAgICByZXMgKz0gYnVmLnNsaWNlKDAsIGNyKS50b1N0cmluZyhlbmMpO1xuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cbmZ1bmN0aW9uIHBhc3NUaHJvdWdoV3JpdGUoYnVmZmVyKSB7XG4gIHJldHVybiBidWZmZXIudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG59XG5cbmZ1bmN0aW9uIHV0ZjE2RGV0ZWN0SW5jb21wbGV0ZUNoYXIoYnVmZmVyKSB7XG4gIHRoaXMuY2hhclJlY2VpdmVkID0gYnVmZmVyLmxlbmd0aCAlIDI7XG4gIHRoaXMuY2hhckxlbmd0aCA9IHRoaXMuY2hhclJlY2VpdmVkID8gMiA6IDA7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NERldGVjdEluY29tcGxldGVDaGFyKGJ1ZmZlcikge1xuICB0aGlzLmNoYXJSZWNlaXZlZCA9IGJ1ZmZlci5sZW5ndGggJSAzO1xuICB0aGlzLmNoYXJMZW5ndGggPSB0aGlzLmNoYXJSZWNlaXZlZCA/IDMgOiAwO1xufVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgICBob3N0bGVzc1Byb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gICAgc2xhc2hlZFByb3RvY29sID0ge1xuICAgICAgJ2h0dHAnOiB0cnVlLFxuICAgICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAgICdmdHAnOiB0cnVlLFxuICAgICAgJ2dvcGhlcic6IHRydWUsXG4gICAgICAnZmlsZSc6IHRydWUsXG4gICAgICAnaHR0cDonOiB0cnVlLFxuICAgICAgJ2h0dHBzOic6IHRydWUsXG4gICAgICAnZnRwOic6IHRydWUsXG4gICAgICAnZ29waGVyOic6IHRydWUsXG4gICAgICAnZmlsZTonOiB0cnVlXG4gICAgfSxcbiAgICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiBpc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIWlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnkgY29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgdGhlIHBhcnQgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhcyBub24gQVNDSUkgY2hhcmFjdGVycy4gSS5lLiBpdCBkb3NlbnQgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBpbiBBU0NJSS5cbiAgICAgIHZhciBkb21haW5BcnJheSA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoJy4nKTtcbiAgICAgIHZhciBuZXdPdXQgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9tYWluQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHMgPSBkb21haW5BcnJheVtpXTtcbiAgICAgICAgbmV3T3V0LnB1c2gocy5tYXRjaCgvW15BLVphLXowLTlfLV0vKSA/XG4gICAgICAgICAgICAneG4tLScgKyBwdW55Y29kZS5lbmNvZGUocykgOiBzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBuZXdPdXQuam9pbignLicpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAoaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKGlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICBPYmplY3Qua2V5cyh0aGlzKS5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgICByZXN1bHRba10gPSB0aGlzW2tdO1xuICB9LCB0aGlzKTtcblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIE9iamVjdC5rZXlzKHJlbGF0aXZlKS5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgICAgIGlmIChrICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICB9KTtcblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICBPYmplY3Qua2V5cyhyZWxhdGl2ZSkuZm9yRWFjaChmdW5jdGlvbihrKSB7XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfSk7XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCFpc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCFpc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0KSAmJiAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8XG4gICAgICBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCFpc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSBcInN0cmluZ1wiO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiAgYXJnID09IG51bGw7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBleHRlbmRcblxuZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIHZhciB0YXJnZXQgPSB7fVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXVxuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRcbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTUgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9ICcnO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMgKz0gJyAnICsgYXJnO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3NlcyArPSAnICcgKyBjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzICs9ICcgJyArIGtleTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5zdWJzdHIoMSk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCIvKiFcclxuICogY29va2llXHJcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTQgUm9tYW4gU2h0eWxtYW5cclxuICogQ29weXJpZ2h0KGMpIDIwMTUgRG91Z2xhcyBDaHJpc3RvcGhlciBXaWxzb25cclxuICogTUlUIExpY2Vuc2VkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIE1vZHVsZSBleHBvcnRzLlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xyXG5leHBvcnRzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcclxuXHJcbi8qKlxyXG4gKiBNb2R1bGUgdmFyaWFibGVzLlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuXHJcbnZhciBkZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7XHJcbnZhciBlbmNvZGUgPSBlbmNvZGVVUklDb21wb25lbnQ7XHJcbnZhciBwYWlyU3BsaXRSZWdFeHAgPSAvOyAqLztcclxuXHJcbi8qKlxyXG4gKiBSZWdFeHAgdG8gbWF0Y2ggZmllbGQtY29udGVudCBpbiBSRkMgNzIzMCBzZWMgMy4yXHJcbiAqXHJcbiAqIGZpZWxkLWNvbnRlbnQgPSBmaWVsZC12Y2hhciBbIDEqKCBTUCAvIEhUQUIgKSBmaWVsZC12Y2hhciBdXHJcbiAqIGZpZWxkLXZjaGFyICAgPSBWQ0hBUiAvIG9icy10ZXh0XHJcbiAqIG9icy10ZXh0ICAgICAgPSAleDgwLUZGXHJcbiAqL1xyXG5cclxudmFyIGZpZWxkQ29udGVudFJlZ0V4cCA9IC9eW1xcdTAwMDlcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdTAwZmZdKyQvO1xyXG5cclxuLyoqXHJcbiAqIFBhcnNlIGEgY29va2llIGhlYWRlci5cclxuICpcclxuICogUGFyc2UgdGhlIGdpdmVuIGNvb2tpZSBoZWFkZXIgc3RyaW5nIGludG8gYW4gb2JqZWN0XHJcbiAqIFRoZSBvYmplY3QgaGFzIHRoZSB2YXJpb3VzIGNvb2tpZXMgYXMga2V5cyhuYW1lcykgPT4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcmV0dXJuIHtvYmplY3R9XHJcbiAqIEBwdWJsaWNcclxuICovXHJcblxyXG5mdW5jdGlvbiBwYXJzZShzdHIsIG9wdGlvbnMpIHtcclxuICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHN0ciBtdXN0IGJlIGEgc3RyaW5nJyk7XHJcbiAgfVxyXG5cclxuICB2YXIgb2JqID0ge31cclxuICB2YXIgb3B0ID0gb3B0aW9ucyB8fCB7fTtcclxuICB2YXIgcGFpcnMgPSBzdHIuc3BsaXQocGFpclNwbGl0UmVnRXhwKTtcclxuICB2YXIgZGVjID0gb3B0LmRlY29kZSB8fCBkZWNvZGU7XHJcblxyXG4gIHBhaXJzLmZvckVhY2goZnVuY3Rpb24ocGFpcikge1xyXG4gICAgdmFyIGVxX2lkeCA9IHBhaXIuaW5kZXhPZignPScpXHJcblxyXG4gICAgLy8gc2tpcCB0aGluZ3MgdGhhdCBkb24ndCBsb29rIGxpa2Uga2V5PXZhbHVlXHJcbiAgICBpZiAoZXFfaWR4IDwgMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGtleSA9IHBhaXIuc3Vic3RyKDAsIGVxX2lkeCkudHJpbSgpXHJcbiAgICB2YXIgdmFsID0gcGFpci5zdWJzdHIoKytlcV9pZHgsIHBhaXIubGVuZ3RoKS50cmltKCk7XHJcblxyXG4gICAgLy8gcXVvdGVkIHZhbHVlc1xyXG4gICAgaWYgKCdcIicgPT0gdmFsWzBdKSB7XHJcbiAgICAgIHZhbCA9IHZhbC5zbGljZSgxLCAtMSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gb25seSBhc3NpZ24gb25jZVxyXG4gICAgaWYgKHVuZGVmaW5lZCA9PSBvYmpba2V5XSkge1xyXG4gICAgICBvYmpba2V5XSA9IHRyeURlY29kZSh2YWwsIGRlYyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXJpYWxpemUgZGF0YSBpbnRvIGEgY29va2llIGhlYWRlci5cclxuICpcclxuICogU2VyaWFsaXplIHRoZSBhIG5hbWUgdmFsdWUgcGFpciBpbnRvIGEgY29va2llIHN0cmluZyBzdWl0YWJsZSBmb3JcclxuICogaHR0cCBoZWFkZXJzLiBBbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdCBzcGVjaWZpZWQgY29va2llIHBhcmFtZXRlcnMuXHJcbiAqXHJcbiAqIHNlcmlhbGl6ZSgnZm9vJywgJ2JhcicsIHsgaHR0cE9ubHk6IHRydWUgfSlcclxuICogICA9PiBcImZvbz1iYXI7IGh0dHBPbmx5XCJcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcclxuICogQHBhcmFtIHtzdHJpbmd9IHZhbFxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEByZXR1cm4ge3N0cmluZ31cclxuICogQHB1YmxpY1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHNlcmlhbGl6ZShuYW1lLCB2YWwsIG9wdGlvbnMpIHtcclxuICB2YXIgb3B0ID0gb3B0aW9ucyB8fCB7fTtcclxuICB2YXIgZW5jID0gb3B0LmVuY29kZSB8fCBlbmNvZGU7XHJcblxyXG4gIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3QobmFtZSkpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IG5hbWUgaXMgaW52YWxpZCcpO1xyXG4gIH1cclxuXHJcbiAgdmFyIHZhbHVlID0gZW5jKHZhbCk7XHJcblxyXG4gIGlmICh2YWx1ZSAmJiAhZmllbGRDb250ZW50UmVnRXhwLnRlc3QodmFsdWUpKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCB2YWwgaXMgaW52YWxpZCcpO1xyXG4gIH1cclxuXHJcbiAgdmFyIHBhaXJzID0gW25hbWUgKyAnPScgKyB2YWx1ZV07XHJcblxyXG4gIGlmIChudWxsICE9IG9wdC5tYXhBZ2UpIHtcclxuICAgIHZhciBtYXhBZ2UgPSBvcHQubWF4QWdlIC0gMDtcclxuICAgIGlmIChpc05hTihtYXhBZ2UpKSB0aHJvdyBuZXcgRXJyb3IoJ21heEFnZSBzaG91bGQgYmUgYSBOdW1iZXInKTtcclxuICAgIHBhaXJzLnB1c2goJ01heC1BZ2U9JyArIG1heEFnZSk7XHJcbiAgfVxyXG5cclxuICBpZiAob3B0LmRvbWFpbikge1xyXG4gICAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChvcHQuZG9tYWluKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gZG9tYWluIGlzIGludmFsaWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBwYWlycy5wdXNoKCdEb21haW49JyArIG9wdC5kb21haW4pO1xyXG4gIH1cclxuXHJcbiAgaWYgKG9wdC5wYXRoKSB7XHJcbiAgICBpZiAoIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KG9wdC5wYXRoKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gcGF0aCBpcyBpbnZhbGlkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcGFpcnMucHVzaCgnUGF0aD0nICsgb3B0LnBhdGgpO1xyXG4gIH1cclxuXHJcbiAgaWYgKG9wdC5leHBpcmVzKSBwYWlycy5wdXNoKCdFeHBpcmVzPScgKyBvcHQuZXhwaXJlcy50b1VUQ1N0cmluZygpKTtcclxuICBpZiAob3B0Lmh0dHBPbmx5KSBwYWlycy5wdXNoKCdIdHRwT25seScpO1xyXG4gIGlmIChvcHQuc2VjdXJlKSBwYWlycy5wdXNoKCdTZWN1cmUnKTtcclxuICBpZiAob3B0LmZpcnN0UGFydHlPbmx5KSBwYWlycy5wdXNoKCdGaXJzdC1QYXJ0eS1Pbmx5Jyk7XHJcblxyXG4gIHJldHVybiBwYWlycy5qb2luKCc7ICcpO1xyXG59XHJcblxyXG4vKipcclxuICogVHJ5IGRlY29kaW5nIGEgc3RyaW5nIHVzaW5nIGEgZGVjb2RpbmcgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZGVjb2RlXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gdHJ5RGVjb2RlKHN0ciwgZGVjb2RlKSB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBkZWNvZGUoc3RyKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gc3RyO1xyXG4gIH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWInKVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXNhcCA9IHJlcXVpcmUoJ2FzYXAvcmF3Jyk7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vLyBTdGF0ZXM6XG4vL1xuLy8gMCAtIHBlbmRpbmdcbi8vIDEgLSBmdWxmaWxsZWQgd2l0aCBfdmFsdWVcbi8vIDIgLSByZWplY3RlZCB3aXRoIF92YWx1ZVxuLy8gMyAtIGFkb3B0ZWQgdGhlIHN0YXRlIG9mIGFub3RoZXIgcHJvbWlzZSwgX3ZhbHVlXG4vL1xuLy8gb25jZSB0aGUgc3RhdGUgaXMgbm8gbG9uZ2VyIHBlbmRpbmcgKDApIGl0IGlzIGltbXV0YWJsZVxuXG4vLyBBbGwgYF9gIHByZWZpeGVkIHByb3BlcnRpZXMgd2lsbCBiZSByZWR1Y2VkIHRvIGBfe3JhbmRvbSBudW1iZXJ9YFxuLy8gYXQgYnVpbGQgdGltZSB0byBvYmZ1c2NhdGUgdGhlbSBhbmQgZGlzY291cmFnZSB0aGVpciB1c2UuXG4vLyBXZSBkb24ndCB1c2Ugc3ltYm9scyBvciBPYmplY3QuZGVmaW5lUHJvcGVydHkgdG8gZnVsbHkgaGlkZSB0aGVtXG4vLyBiZWNhdXNlIHRoZSBwZXJmb3JtYW5jZSBpc24ndCBnb29kIGVub3VnaC5cblxuXG4vLyB0byBhdm9pZCB1c2luZyB0cnkvY2F0Y2ggaW5zaWRlIGNyaXRpY2FsIGZ1bmN0aW9ucywgd2Vcbi8vIGV4dHJhY3QgdGhlbSB0byBoZXJlLlxudmFyIExBU1RfRVJST1IgPSBudWxsO1xudmFyIElTX0VSUk9SID0ge307XG5mdW5jdGlvbiBnZXRUaGVuKG9iaikge1xuICB0cnkge1xuICAgIHJldHVybiBvYmoudGhlbjtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBMQVNUX0VSUk9SID0gZXg7XG4gICAgcmV0dXJuIElTX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeUNhbGxPbmUoZm4sIGEpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4oYSk7XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgTEFTVF9FUlJPUiA9IGV4O1xuICAgIHJldHVybiBJU19FUlJPUjtcbiAgfVxufVxuZnVuY3Rpb24gdHJ5Q2FsbFR3byhmbiwgYSwgYikge1xuICB0cnkge1xuICAgIGZuKGEsIGIpO1xuICB9IGNhdGNoIChleCkge1xuICAgIExBU1RfRVJST1IgPSBleDtcbiAgICByZXR1cm4gSVNfRVJST1I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9taXNlO1xuXG5mdW5jdGlvbiBQcm9taXNlKGZuKSB7XG4gIGlmICh0eXBlb2YgdGhpcyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtcbiAgfVxuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbm90IGEgZnVuY3Rpb24nKTtcbiAgfVxuICB0aGlzLl8zNyA9IDA7XG4gIHRoaXMuXzEyID0gbnVsbDtcbiAgdGhpcy5fNTkgPSBbXTtcbiAgaWYgKGZuID09PSBub29wKSByZXR1cm47XG4gIGRvUmVzb2x2ZShmbiwgdGhpcyk7XG59XG5Qcm9taXNlLl85OSA9IG5vb3A7XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICBpZiAodGhpcy5jb25zdHJ1Y3RvciAhPT0gUHJvbWlzZSkge1xuICAgIHJldHVybiBzYWZlVGhlbih0aGlzLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gIH1cbiAgdmFyIHJlcyA9IG5ldyBQcm9taXNlKG5vb3ApO1xuICBoYW5kbGUodGhpcywgbmV3IEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHJlcykpO1xuICByZXR1cm4gcmVzO1xufTtcblxuZnVuY3Rpb24gc2FmZVRoZW4oc2VsZiwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgcmV0dXJuIG5ldyBzZWxmLmNvbnN0cnVjdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVzID0gbmV3IFByb21pc2Uobm9vcCk7XG4gICAgcmVzLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICBoYW5kbGUoc2VsZiwgbmV3IEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHJlcykpO1xuICB9KTtcbn07XG5mdW5jdGlvbiBoYW5kbGUoc2VsZiwgZGVmZXJyZWQpIHtcbiAgd2hpbGUgKHNlbGYuXzM3ID09PSAzKSB7XG4gICAgc2VsZiA9IHNlbGYuXzEyO1xuICB9XG4gIGlmIChzZWxmLl8zNyA9PT0gMCkge1xuICAgIHNlbGYuXzU5LnB1c2goZGVmZXJyZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICBhc2FwKGZ1bmN0aW9uKCkge1xuICAgIHZhciBjYiA9IHNlbGYuXzM3ID09PSAxID8gZGVmZXJyZWQub25GdWxmaWxsZWQgOiBkZWZlcnJlZC5vblJlamVjdGVkO1xuICAgIGlmIChjYiA9PT0gbnVsbCkge1xuICAgICAgaWYgKHNlbGYuXzM3ID09PSAxKSB7XG4gICAgICAgIHJlc29sdmUoZGVmZXJyZWQucHJvbWlzZSwgc2VsZi5fMTIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KGRlZmVycmVkLnByb21pc2UsIHNlbGYuXzEyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJldCA9IHRyeUNhbGxPbmUoY2IsIHNlbGYuXzEyKTtcbiAgICBpZiAocmV0ID09PSBJU19FUlJPUikge1xuICAgICAgcmVqZWN0KGRlZmVycmVkLnByb21pc2UsIExBU1RfRVJST1IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKGRlZmVycmVkLnByb21pc2UsIHJldCk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIHJlc29sdmUoc2VsZiwgbmV3VmFsdWUpIHtcbiAgLy8gUHJvbWlzZSBSZXNvbHV0aW9uIFByb2NlZHVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Byb21pc2VzLWFwbHVzL3Byb21pc2VzLXNwZWMjdGhlLXByb21pc2UtcmVzb2x1dGlvbi1wcm9jZWR1cmVcbiAgaWYgKG5ld1ZhbHVlID09PSBzZWxmKSB7XG4gICAgcmV0dXJuIHJlamVjdChcbiAgICAgIHNlbGYsXG4gICAgICBuZXcgVHlwZUVycm9yKCdBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLicpXG4gICAgKTtcbiAgfVxuICBpZiAoXG4gICAgbmV3VmFsdWUgJiZcbiAgICAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgbmV3VmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICkge1xuICAgIHZhciB0aGVuID0gZ2V0VGhlbihuZXdWYWx1ZSk7XG4gICAgaWYgKHRoZW4gPT09IElTX0VSUk9SKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHNlbGYsIExBU1RfRVJST1IpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGVuID09PSBzZWxmLnRoZW4gJiZcbiAgICAgIG5ld1ZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZVxuICAgICkge1xuICAgICAgc2VsZi5fMzcgPSAzO1xuICAgICAgc2VsZi5fMTIgPSBuZXdWYWx1ZTtcbiAgICAgIGZpbmFsZShzZWxmKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBkb1Jlc29sdmUodGhlbi5iaW5kKG5ld1ZhbHVlKSwgc2VsZik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIHNlbGYuXzM3ID0gMTtcbiAgc2VsZi5fMTIgPSBuZXdWYWx1ZTtcbiAgZmluYWxlKHNlbGYpO1xufVxuXG5mdW5jdGlvbiByZWplY3Qoc2VsZiwgbmV3VmFsdWUpIHtcbiAgc2VsZi5fMzcgPSAyO1xuICBzZWxmLl8xMiA9IG5ld1ZhbHVlO1xuICBmaW5hbGUoc2VsZik7XG59XG5mdW5jdGlvbiBmaW5hbGUoc2VsZikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuXzU5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaGFuZGxlKHNlbGYsIHNlbGYuXzU5W2ldKTtcbiAgfVxuICBzZWxmLl81OSA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb21pc2Upe1xuICB0aGlzLm9uRnVsZmlsbGVkID0gdHlwZW9mIG9uRnVsZmlsbGVkID09PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiBudWxsO1xuICB0aGlzLm9uUmVqZWN0ZWQgPSB0eXBlb2Ygb25SZWplY3RlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uUmVqZWN0ZWQgOiBudWxsO1xuICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xufVxuXG4vKipcbiAqIFRha2UgYSBwb3RlbnRpYWxseSBtaXNiZWhhdmluZyByZXNvbHZlciBmdW5jdGlvbiBhbmQgbWFrZSBzdXJlXG4gKiBvbkZ1bGZpbGxlZCBhbmQgb25SZWplY3RlZCBhcmUgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBNYWtlcyBubyBndWFyYW50ZWVzIGFib3V0IGFzeW5jaHJvbnkuXG4gKi9cbmZ1bmN0aW9uIGRvUmVzb2x2ZShmbiwgcHJvbWlzZSkge1xuICB2YXIgZG9uZSA9IGZhbHNlO1xuICB2YXIgcmVzID0gdHJ5Q2FsbFR3byhmbiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICBkb25lID0gdHJ1ZTtcbiAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgZG9uZSA9IHRydWU7XG4gICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIH0pXG4gIGlmICghZG9uZSAmJiByZXMgPT09IElTX0VSUk9SKSB7XG4gICAgZG9uZSA9IHRydWU7XG4gICAgcmVqZWN0KHByb21pc2UsIExBU1RfRVJST1IpO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBQcm9taXNlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZTtcblByb21pc2UucHJvdG90eXBlLmRvbmUgPSBmdW5jdGlvbiAob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgdmFyIHNlbGYgPSBhcmd1bWVudHMubGVuZ3RoID8gdGhpcy50aGVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiB0aGlzO1xuICBzZWxmLnRoZW4obnVsbCwgZnVuY3Rpb24gKGVycikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0sIDApO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vVGhpcyBmaWxlIGNvbnRhaW5zIHRoZSBFUzYgZXh0ZW5zaW9ucyB0byB0aGUgY29yZSBQcm9taXNlcy9BKyBBUElcblxudmFyIFByb21pc2UgPSByZXF1aXJlKCcuL2NvcmUuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcm9taXNlO1xuXG4vKiBTdGF0aWMgRnVuY3Rpb25zICovXG5cbnZhciBUUlVFID0gdmFsdWVQcm9taXNlKHRydWUpO1xudmFyIEZBTFNFID0gdmFsdWVQcm9taXNlKGZhbHNlKTtcbnZhciBOVUxMID0gdmFsdWVQcm9taXNlKG51bGwpO1xudmFyIFVOREVGSU5FRCA9IHZhbHVlUHJvbWlzZSh1bmRlZmluZWQpO1xudmFyIFpFUk8gPSB2YWx1ZVByb21pc2UoMCk7XG52YXIgRU1QVFlTVFJJTkcgPSB2YWx1ZVByb21pc2UoJycpO1xuXG5mdW5jdGlvbiB2YWx1ZVByb21pc2UodmFsdWUpIHtcbiAgdmFyIHAgPSBuZXcgUHJvbWlzZShQcm9taXNlLl85OSk7XG4gIHAuXzM3ID0gMTtcbiAgcC5fMTIgPSB2YWx1ZTtcbiAgcmV0dXJuIHA7XG59XG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkgcmV0dXJuIHZhbHVlO1xuXG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIE5VTEw7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gVU5ERUZJTkVEO1xuICBpZiAodmFsdWUgPT09IHRydWUpIHJldHVybiBUUlVFO1xuICBpZiAodmFsdWUgPT09IGZhbHNlKSByZXR1cm4gRkFMU0U7XG4gIGlmICh2YWx1ZSA9PT0gMCkgcmV0dXJuIFpFUk87XG4gIGlmICh2YWx1ZSA9PT0gJycpIHJldHVybiBFTVBUWVNUUklORztcblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHRoZW4gPSB2YWx1ZS50aGVuO1xuICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSh0aGVuLmJpbmQodmFsdWUpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWVQcm9taXNlKHZhbHVlKTtcbn07XG5cblByb21pc2UuYWxsID0gZnVuY3Rpb24gKGFycikge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycik7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiByZXNvbHZlKFtdKTtcbiAgICB2YXIgcmVtYWluaW5nID0gYXJncy5sZW5ndGg7XG4gICAgZnVuY3Rpb24gcmVzKGksIHZhbCkge1xuICAgICAgaWYgKHZhbCAmJiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIFByb21pc2UgJiYgdmFsLnRoZW4gPT09IFByb21pc2UucHJvdG90eXBlLnRoZW4pIHtcbiAgICAgICAgICB3aGlsZSAodmFsLl8zNyA9PT0gMykge1xuICAgICAgICAgICAgdmFsID0gdmFsLl8xMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbC5fMzcgPT09IDEpIHJldHVybiByZXMoaSwgdmFsLl8xMik7XG4gICAgICAgICAgaWYgKHZhbC5fMzcgPT09IDIpIHJlamVjdCh2YWwuXzEyKTtcbiAgICAgICAgICB2YWwudGhlbihmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICByZXMoaSwgdmFsKTtcbiAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgdGhlbiA9IHZhbC50aGVuO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFyIHAgPSBuZXcgUHJvbWlzZSh0aGVuLmJpbmQodmFsKSk7XG4gICAgICAgICAgICBwLnRoZW4oZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICByZXMoaSwgdmFsKTtcbiAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhcmdzW2ldID0gdmFsO1xuICAgICAgaWYgKC0tcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzKGksIGFyZ3NbaV0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlamVjdCh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qIFByb3RvdHlwZSBNZXRob2RzICovXG5cblByb21pc2UucHJvdG90eXBlWydjYXRjaCddID0gZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBQcm9taXNlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZTtcblByb21pc2UucHJvdG90eXBlWydmaW5hbGx5J10gPSBmdW5jdGlvbiAoZikge1xuICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZigpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZigpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29yZS5qcycpO1xucmVxdWlyZSgnLi9kb25lLmpzJyk7XG5yZXF1aXJlKCcuL2ZpbmFsbHkuanMnKTtcbnJlcXVpcmUoJy4vZXM2LWV4dGVuc2lvbnMuanMnKTtcbnJlcXVpcmUoJy4vbm9kZS1leHRlbnNpb25zLmpzJyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIFRoaXMgZmlsZSBjb250YWlucyB0aGVuL3Byb21pc2Ugc3BlY2lmaWMgZXh0ZW5zaW9ucyB0aGF0IGFyZSBvbmx5IHVzZWZ1bFxuLy8gZm9yIG5vZGUuanMgaW50ZXJvcFxuXG52YXIgUHJvbWlzZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpO1xudmFyIGFzYXAgPSByZXF1aXJlKCdhc2FwJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZTtcblxuLyogU3RhdGljIEZ1bmN0aW9ucyAqL1xuXG5Qcm9taXNlLmRlbm9kZWlmeSA9IGZ1bmN0aW9uIChmbiwgYXJndW1lbnRDb3VudCkge1xuICBhcmd1bWVudENvdW50ID0gYXJndW1lbnRDb3VudCB8fCBJbmZpbml0eTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDAsXG4gICAgICAgIGFyZ3VtZW50Q291bnQgPiAwID8gYXJndW1lbnRDb3VudCA6IDApO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBhcmdzLnB1c2goZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpO1xuICAgICAgICBlbHNlIHJlc29sdmUocmVzKTtcbiAgICAgIH0pXG4gICAgICB2YXIgcmVzID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICBpZiAocmVzICYmXG4gICAgICAgIChcbiAgICAgICAgICB0eXBlb2YgcmVzID09PSAnb2JqZWN0JyB8fFxuICAgICAgICAgIHR5cGVvZiByZXMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgKSAmJlxuICAgICAgICB0eXBlb2YgcmVzLnRoZW4gPT09ICdmdW5jdGlvbidcbiAgICAgICkge1xuICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuUHJvbWlzZS5ub2RlaWZ5ID0gZnVuY3Rpb24gKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgIHZhciBjYWxsYmFjayA9XG4gICAgICB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nID8gYXJncy5wb3AoKSA6IG51bGw7XG4gICAgdmFyIGN0eCA9IHRoaXM7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpLm5vZGVpZnkoY2FsbGJhY2ssIGN0eCk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGlmIChjYWxsYmFjayA9PT0gbnVsbCB8fCB0eXBlb2YgY2FsbGJhY2sgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICByZWplY3QoZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY3R4LCBleCk7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblByb21pc2UucHJvdG90eXBlLm5vZGVpZnkgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGN0eCkge1xuICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdmdW5jdGlvbicpIHJldHVybiB0aGlzO1xuXG4gIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwoY3R4LCBudWxsLCB2YWx1ZSk7XG4gICAgfSk7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwoY3R4LCBlcnIpO1xuICAgIH0pO1xuICB9KTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vLyByYXdBc2FwIHByb3ZpZGVzIGV2ZXJ5dGhpbmcgd2UgbmVlZCBleGNlcHQgZXhjZXB0aW9uIG1hbmFnZW1lbnQuXG52YXIgcmF3QXNhcCA9IHJlcXVpcmUoXCIuL3Jhd1wiKTtcbi8vIFJhd1Rhc2tzIGFyZSByZWN5Y2xlZCB0byByZWR1Y2UgR0MgY2h1cm4uXG52YXIgZnJlZVRhc2tzID0gW107XG4vLyBXZSBxdWV1ZSBlcnJvcnMgdG8gZW5zdXJlIHRoZXkgYXJlIHRocm93biBpbiByaWdodCBvcmRlciAoRklGTykuXG4vLyBBcnJheS1hcy1xdWV1ZSBpcyBnb29kIGVub3VnaCBoZXJlLCBzaW5jZSB3ZSBhcmUganVzdCBkZWFsaW5nIHdpdGggZXhjZXB0aW9ucy5cbnZhciBwZW5kaW5nRXJyb3JzID0gW107XG52YXIgcmVxdWVzdEVycm9yVGhyb3cgPSByYXdBc2FwLm1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcih0aHJvd0ZpcnN0RXJyb3IpO1xuXG5mdW5jdGlvbiB0aHJvd0ZpcnN0RXJyb3IoKSB7XG4gICAgaWYgKHBlbmRpbmdFcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IHBlbmRpbmdFcnJvcnMuc2hpZnQoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ2FsbHMgYSB0YXNrIGFzIHNvb24gYXMgcG9zc2libGUgYWZ0ZXIgcmV0dXJuaW5nLCBpbiBpdHMgb3duIGV2ZW50LCB3aXRoIHByaW9yaXR5XG4gKiBvdmVyIG90aGVyIGV2ZW50cyBsaWtlIGFuaW1hdGlvbiwgcmVmbG93LCBhbmQgcmVwYWludC4gQW4gZXJyb3IgdGhyb3duIGZyb20gYW5cbiAqIGV2ZW50IHdpbGwgbm90IGludGVycnVwdCwgbm9yIGV2ZW4gc3Vic3RhbnRpYWxseSBzbG93IGRvd24gdGhlIHByb2Nlc3Npbmcgb2ZcbiAqIG90aGVyIGV2ZW50cywgYnV0IHdpbGwgYmUgcmF0aGVyIHBvc3Rwb25lZCB0byBhIGxvd2VyIHByaW9yaXR5IGV2ZW50LlxuICogQHBhcmFtIHt7Y2FsbH19IHRhc2sgQSBjYWxsYWJsZSBvYmplY3QsIHR5cGljYWxseSBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgbm9cbiAqIGFyZ3VtZW50cy5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBhc2FwO1xuZnVuY3Rpb24gYXNhcCh0YXNrKSB7XG4gICAgdmFyIHJhd1Rhc2s7XG4gICAgaWYgKGZyZWVUYXNrcy5sZW5ndGgpIHtcbiAgICAgICAgcmF3VGFzayA9IGZyZWVUYXNrcy5wb3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByYXdUYXNrID0gbmV3IFJhd1Rhc2soKTtcbiAgICB9XG4gICAgcmF3VGFzay50YXNrID0gdGFzaztcbiAgICByYXdBc2FwKHJhd1Rhc2spO1xufVxuXG4vLyBXZSB3cmFwIHRhc2tzIHdpdGggcmVjeWNsYWJsZSB0YXNrIG9iamVjdHMuICBBIHRhc2sgb2JqZWN0IGltcGxlbWVudHNcbi8vIGBjYWxsYCwganVzdCBsaWtlIGEgZnVuY3Rpb24uXG5mdW5jdGlvbiBSYXdUYXNrKCkge1xuICAgIHRoaXMudGFzayA9IG51bGw7XG59XG5cbi8vIFRoZSBzb2xlIHB1cnBvc2Ugb2Ygd3JhcHBpbmcgdGhlIHRhc2sgaXMgdG8gY2F0Y2ggdGhlIGV4Y2VwdGlvbiBhbmQgcmVjeWNsZVxuLy8gdGhlIHRhc2sgb2JqZWN0IGFmdGVyIGl0cyBzaW5nbGUgdXNlLlxuUmF3VGFzay5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICB0aGlzLnRhc2suY2FsbCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChhc2FwLm9uZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaG9vayBleGlzdHMgcHVyZWx5IGZvciB0ZXN0aW5nIHB1cnBvc2VzLlxuICAgICAgICAgICAgLy8gSXRzIG5hbWUgd2lsbCBiZSBwZXJpb2RpY2FsbHkgcmFuZG9taXplZCB0byBicmVhayBhbnkgY29kZSB0aGF0XG4gICAgICAgICAgICAvLyBkZXBlbmRzIG9uIGl0cyBleGlzdGVuY2UuXG4gICAgICAgICAgICBhc2FwLm9uZXJyb3IoZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSW4gYSB3ZWIgYnJvd3NlciwgZXhjZXB0aW9ucyBhcmUgbm90IGZhdGFsLiBIb3dldmVyLCB0byBhdm9pZFxuICAgICAgICAgICAgLy8gc2xvd2luZyBkb3duIHRoZSBxdWV1ZSBvZiBwZW5kaW5nIHRhc2tzLCB3ZSByZXRocm93IHRoZSBlcnJvciBpbiBhXG4gICAgICAgICAgICAvLyBsb3dlciBwcmlvcml0eSB0dXJuLlxuICAgICAgICAgICAgcGVuZGluZ0Vycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICAgIHJlcXVlc3RFcnJvclRocm93KCk7XG4gICAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgICAgICBmcmVlVGFza3NbZnJlZVRhc2tzLmxlbmd0aF0gPSB0aGlzO1xuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gVXNlIHRoZSBmYXN0ZXN0IG1lYW5zIHBvc3NpYmxlIHRvIGV4ZWN1dGUgYSB0YXNrIGluIGl0cyBvd24gdHVybiwgd2l0aFxuLy8gcHJpb3JpdHkgb3ZlciBvdGhlciBldmVudHMgaW5jbHVkaW5nIElPLCBhbmltYXRpb24sIHJlZmxvdywgYW5kIHJlZHJhd1xuLy8gZXZlbnRzIGluIGJyb3dzZXJzLlxuLy9cbi8vIEFuIGV4Y2VwdGlvbiB0aHJvd24gYnkgYSB0YXNrIHdpbGwgcGVybWFuZW50bHkgaW50ZXJydXB0IHRoZSBwcm9jZXNzaW5nIG9mXG4vLyBzdWJzZXF1ZW50IHRhc2tzLiBUaGUgaGlnaGVyIGxldmVsIGBhc2FwYCBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgaWYgYW5cbi8vIGV4Y2VwdGlvbiBpcyB0aHJvd24gYnkgYSB0YXNrLCB0aGF0IHRoZSB0YXNrIHF1ZXVlIHdpbGwgY29udGludWUgZmx1c2hpbmcgYXNcbi8vIHNvb24gYXMgcG9zc2libGUsIGJ1dCBpZiB5b3UgdXNlIGByYXdBc2FwYCBkaXJlY3RseSwgeW91IGFyZSByZXNwb25zaWJsZSB0b1xuLy8gZWl0aGVyIGVuc3VyZSB0aGF0IG5vIGV4Y2VwdGlvbnMgYXJlIHRocm93biBmcm9tIHlvdXIgdGFzaywgb3IgdG8gbWFudWFsbHlcbi8vIGNhbGwgYHJhd0FzYXAucmVxdWVzdEZsdXNoYCBpZiBhbiBleGNlcHRpb24gaXMgdGhyb3duLlxubW9kdWxlLmV4cG9ydHMgPSByYXdBc2FwO1xuZnVuY3Rpb24gcmF3QXNhcCh0YXNrKSB7XG4gICAgaWYgKCFxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcmVxdWVzdEZsdXNoKCk7XG4gICAgICAgIGZsdXNoaW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gRXF1aXZhbGVudCB0byBwdXNoLCBidXQgYXZvaWRzIGEgZnVuY3Rpb24gY2FsbC5cbiAgICBxdWV1ZVtxdWV1ZS5sZW5ndGhdID0gdGFzaztcbn1cblxudmFyIHF1ZXVlID0gW107XG4vLyBPbmNlIGEgZmx1c2ggaGFzIGJlZW4gcmVxdWVzdGVkLCBubyBmdXJ0aGVyIGNhbGxzIHRvIGByZXF1ZXN0Rmx1c2hgIGFyZVxuLy8gbmVjZXNzYXJ5IHVudGlsIHRoZSBuZXh0IGBmbHVzaGAgY29tcGxldGVzLlxudmFyIGZsdXNoaW5nID0gZmFsc2U7XG4vLyBgcmVxdWVzdEZsdXNoYCBpcyBhbiBpbXBsZW1lbnRhdGlvbi1zcGVjaWZpYyBtZXRob2QgdGhhdCBhdHRlbXB0cyB0byBraWNrXG4vLyBvZmYgYSBgZmx1c2hgIGV2ZW50IGFzIHF1aWNrbHkgYXMgcG9zc2libGUuIGBmbHVzaGAgd2lsbCBhdHRlbXB0IHRvIGV4aGF1c3Rcbi8vIHRoZSBldmVudCBxdWV1ZSBiZWZvcmUgeWllbGRpbmcgdG8gdGhlIGJyb3dzZXIncyBvd24gZXZlbnQgbG9vcC5cbnZhciByZXF1ZXN0Rmx1c2g7XG4vLyBUaGUgcG9zaXRpb24gb2YgdGhlIG5leHQgdGFzayB0byBleGVjdXRlIGluIHRoZSB0YXNrIHF1ZXVlLiBUaGlzIGlzXG4vLyBwcmVzZXJ2ZWQgYmV0d2VlbiBjYWxscyB0byBgZmx1c2hgIHNvIHRoYXQgaXQgY2FuIGJlIHJlc3VtZWQgaWZcbi8vIGEgdGFzayB0aHJvd3MgYW4gZXhjZXB0aW9uLlxudmFyIGluZGV4ID0gMDtcbi8vIElmIGEgdGFzayBzY2hlZHVsZXMgYWRkaXRpb25hbCB0YXNrcyByZWN1cnNpdmVseSwgdGhlIHRhc2sgcXVldWUgY2FuIGdyb3dcbi8vIHVuYm91bmRlZC4gVG8gcHJldmVudCBtZW1vcnkgZXhoYXVzdGlvbiwgdGhlIHRhc2sgcXVldWUgd2lsbCBwZXJpb2RpY2FsbHlcbi8vIHRydW5jYXRlIGFscmVhZHktY29tcGxldGVkIHRhc2tzLlxudmFyIGNhcGFjaXR5ID0gMTAyNDtcblxuLy8gVGhlIGZsdXNoIGZ1bmN0aW9uIHByb2Nlc3NlcyBhbGwgdGFza3MgdGhhdCBoYXZlIGJlZW4gc2NoZWR1bGVkIHdpdGhcbi8vIGByYXdBc2FwYCB1bmxlc3MgYW5kIHVudGlsIG9uZSBvZiB0aG9zZSB0YXNrcyB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuLy8gSWYgYSB0YXNrIHRocm93cyBhbiBleGNlcHRpb24sIGBmbHVzaGAgZW5zdXJlcyB0aGF0IGl0cyBzdGF0ZSB3aWxsIHJlbWFpblxuLy8gY29uc2lzdGVudCBhbmQgd2lsbCByZXN1bWUgd2hlcmUgaXQgbGVmdCBvZmYgd2hlbiBjYWxsZWQgYWdhaW4uXG4vLyBIb3dldmVyLCBgZmx1c2hgIGRvZXMgbm90IG1ha2UgYW55IGFycmFuZ2VtZW50cyB0byBiZSBjYWxsZWQgYWdhaW4gaWYgYW5cbi8vIGV4Y2VwdGlvbiBpcyB0aHJvd24uXG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgICB3aGlsZSAoaW5kZXggPCBxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgICAvLyBBZHZhbmNlIHRoZSBpbmRleCBiZWZvcmUgY2FsbGluZyB0aGUgdGFzay4gVGhpcyBlbnN1cmVzIHRoYXQgd2Ugd2lsbFxuICAgICAgICAvLyBiZWdpbiBmbHVzaGluZyBvbiB0aGUgbmV4dCB0YXNrIHRoZSB0YXNrIHRocm93cyBhbiBlcnJvci5cbiAgICAgICAgaW5kZXggPSBpbmRleCArIDE7XG4gICAgICAgIHF1ZXVlW2N1cnJlbnRJbmRleF0uY2FsbCgpO1xuICAgICAgICAvLyBQcmV2ZW50IGxlYWtpbmcgbWVtb3J5IGZvciBsb25nIGNoYWlucyBvZiByZWN1cnNpdmUgY2FsbHMgdG8gYGFzYXBgLlxuICAgICAgICAvLyBJZiB3ZSBjYWxsIGBhc2FwYCB3aXRoaW4gdGFza3Mgc2NoZWR1bGVkIGJ5IGBhc2FwYCwgdGhlIHF1ZXVlIHdpbGxcbiAgICAgICAgLy8gZ3JvdywgYnV0IHRvIGF2b2lkIGFuIE8obikgd2FsayBmb3IgZXZlcnkgdGFzayB3ZSBleGVjdXRlLCB3ZSBkb24ndFxuICAgICAgICAvLyBzaGlmdCB0YXNrcyBvZmYgdGhlIHF1ZXVlIGFmdGVyIHRoZXkgaGF2ZSBiZWVuIGV4ZWN1dGVkLlxuICAgICAgICAvLyBJbnN0ZWFkLCB3ZSBwZXJpb2RpY2FsbHkgc2hpZnQgMTAyNCB0YXNrcyBvZmYgdGhlIHF1ZXVlLlxuICAgICAgICBpZiAoaW5kZXggPiBjYXBhY2l0eSkge1xuICAgICAgICAgICAgLy8gTWFudWFsbHkgc2hpZnQgYWxsIHZhbHVlcyBzdGFydGluZyBhdCB0aGUgaW5kZXggYmFjayB0byB0aGVcbiAgICAgICAgICAgIC8vIGJlZ2lubmluZyBvZiB0aGUgcXVldWUuXG4gICAgICAgICAgICBmb3IgKHZhciBzY2FuID0gMCwgbmV3TGVuZ3RoID0gcXVldWUubGVuZ3RoIC0gaW5kZXg7IHNjYW4gPCBuZXdMZW5ndGg7IHNjYW4rKykge1xuICAgICAgICAgICAgICAgIHF1ZXVlW3NjYW5dID0gcXVldWVbc2NhbiArIGluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHF1ZXVlLmxlbmd0aCAtPSBpbmRleDtcbiAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5sZW5ndGggPSAwO1xuICAgIGluZGV4ID0gMDtcbiAgICBmbHVzaGluZyA9IGZhbHNlO1xufVxuXG4vLyBgcmVxdWVzdEZsdXNoYCBpcyBpbXBsZW1lbnRlZCB1c2luZyBhIHN0cmF0ZWd5IGJhc2VkIG9uIGRhdGEgY29sbGVjdGVkIGZyb21cbi8vIGV2ZXJ5IGF2YWlsYWJsZSBTYXVjZUxhYnMgU2VsZW5pdW0gd2ViIGRyaXZlciB3b3JrZXIgYXQgdGltZSBvZiB3cml0aW5nLlxuLy8gaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvMW1HLTVVWUd1cDVxeEdkRU1Xa2hQNkJXQ3owNTNOVWIyRTFRb1VUVTE2dUEvZWRpdCNnaWQ9NzgzNzI0NTkzXG5cbi8vIFNhZmFyaSA2IGFuZCA2LjEgZm9yIGRlc2t0b3AsIGlQYWQsIGFuZCBpUGhvbmUgYXJlIHRoZSBvbmx5IGJyb3dzZXJzIHRoYXRcbi8vIGhhdmUgV2ViS2l0TXV0YXRpb25PYnNlcnZlciBidXQgbm90IHVuLXByZWZpeGVkIE11dGF0aW9uT2JzZXJ2ZXIuXG4vLyBNdXN0IHVzZSBgZ2xvYmFsYCBpbnN0ZWFkIG9mIGB3aW5kb3dgIHRvIHdvcmsgaW4gYm90aCBmcmFtZXMgYW5kIHdlYlxuLy8gd29ya2Vycy4gYGdsb2JhbGAgaXMgYSBwcm92aXNpb24gb2YgQnJvd3NlcmlmeSwgTXIsIE1ycywgb3IgTW9wLlxudmFyIEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG5cbi8vIE11dGF0aW9uT2JzZXJ2ZXJzIGFyZSBkZXNpcmFibGUgYmVjYXVzZSB0aGV5IGhhdmUgaGlnaCBwcmlvcml0eSBhbmQgd29ya1xuLy8gcmVsaWFibHkgZXZlcnl3aGVyZSB0aGV5IGFyZSBpbXBsZW1lbnRlZC5cbi8vIFRoZXkgYXJlIGltcGxlbWVudGVkIGluIGFsbCBtb2Rlcm4gYnJvd3NlcnMuXG4vL1xuLy8gLSBBbmRyb2lkIDQtNC4zXG4vLyAtIENocm9tZSAyNi0zNFxuLy8gLSBGaXJlZm94IDE0LTI5XG4vLyAtIEludGVybmV0IEV4cGxvcmVyIDExXG4vLyAtIGlQYWQgU2FmYXJpIDYtNy4xXG4vLyAtIGlQaG9uZSBTYWZhcmkgNy03LjFcbi8vIC0gU2FmYXJpIDYtN1xuaWYgKHR5cGVvZiBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmVxdWVzdEZsdXNoID0gbWFrZVJlcXVlc3RDYWxsRnJvbU11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpO1xuXG4vLyBNZXNzYWdlQ2hhbm5lbHMgYXJlIGRlc2lyYWJsZSBiZWNhdXNlIHRoZXkgZ2l2ZSBkaXJlY3QgYWNjZXNzIHRvIHRoZSBIVE1MXG4vLyB0YXNrIHF1ZXVlLCBhcmUgaW1wbGVtZW50ZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTAsIFNhZmFyaSA1LjAtMSwgYW5kIE9wZXJhXG4vLyAxMS0xMiwgYW5kIGluIHdlYiB3b3JrZXJzIGluIG1hbnkgZW5naW5lcy5cbi8vIEFsdGhvdWdoIG1lc3NhZ2UgY2hhbm5lbHMgeWllbGQgdG8gYW55IHF1ZXVlZCByZW5kZXJpbmcgYW5kIElPIHRhc2tzLCB0aGV5XG4vLyB3b3VsZCBiZSBiZXR0ZXIgdGhhbiBpbXBvc2luZyB0aGUgNG1zIGRlbGF5IG9mIHRpbWVycy5cbi8vIEhvd2V2ZXIsIHRoZXkgZG8gbm90IHdvcmsgcmVsaWFibHkgaW4gSW50ZXJuZXQgRXhwbG9yZXIgb3IgU2FmYXJpLlxuXG4vLyBJbnRlcm5ldCBFeHBsb3JlciAxMCBpcyB0aGUgb25seSBicm93c2VyIHRoYXQgaGFzIHNldEltbWVkaWF0ZSBidXQgZG9lc1xuLy8gbm90IGhhdmUgTXV0YXRpb25PYnNlcnZlcnMuXG4vLyBBbHRob3VnaCBzZXRJbW1lZGlhdGUgeWllbGRzIHRvIHRoZSBicm93c2VyJ3MgcmVuZGVyZXIsIGl0IHdvdWxkIGJlXG4vLyBwcmVmZXJyYWJsZSB0byBmYWxsaW5nIGJhY2sgdG8gc2V0VGltZW91dCBzaW5jZSBpdCBkb2VzIG5vdCBoYXZlXG4vLyB0aGUgbWluaW11bSA0bXMgcGVuYWx0eS5cbi8vIFVuZm9ydHVuYXRlbHkgdGhlcmUgYXBwZWFycyB0byBiZSBhIGJ1ZyBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMCBNb2JpbGUgKGFuZFxuLy8gRGVza3RvcCB0byBhIGxlc3NlciBleHRlbnQpIHRoYXQgcmVuZGVycyBib3RoIHNldEltbWVkaWF0ZSBhbmRcbi8vIE1lc3NhZ2VDaGFubmVsIHVzZWxlc3MgZm9yIHRoZSBwdXJwb3NlcyBvZiBBU0FQLlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2lzc3Vlcy8zOTZcblxuLy8gVGltZXJzIGFyZSBpbXBsZW1lbnRlZCB1bml2ZXJzYWxseS5cbi8vIFdlIGZhbGwgYmFjayB0byB0aW1lcnMgaW4gd29ya2VycyBpbiBtb3N0IGVuZ2luZXMsIGFuZCBpbiBmb3JlZ3JvdW5kXG4vLyBjb250ZXh0cyBpbiB0aGUgZm9sbG93aW5nIGJyb3dzZXJzLlxuLy8gSG93ZXZlciwgbm90ZSB0aGF0IGV2ZW4gdGhpcyBzaW1wbGUgY2FzZSByZXF1aXJlcyBudWFuY2VzIHRvIG9wZXJhdGUgaW4gYVxuLy8gYnJvYWQgc3BlY3RydW0gb2YgYnJvd3NlcnMuXG4vL1xuLy8gLSBGaXJlZm94IDMtMTNcbi8vIC0gSW50ZXJuZXQgRXhwbG9yZXIgNi05XG4vLyAtIGlQYWQgU2FmYXJpIDQuM1xuLy8gLSBMeW54IDIuOC43XG59IGVsc2Uge1xuICAgIHJlcXVlc3RGbHVzaCA9IG1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcihmbHVzaCk7XG59XG5cbi8vIGByZXF1ZXN0Rmx1c2hgIHJlcXVlc3RzIHRoYXQgdGhlIGhpZ2ggcHJpb3JpdHkgZXZlbnQgcXVldWUgYmUgZmx1c2hlZCBhc1xuLy8gc29vbiBhcyBwb3NzaWJsZS5cbi8vIFRoaXMgaXMgdXNlZnVsIHRvIHByZXZlbnQgYW4gZXJyb3IgdGhyb3duIGluIGEgdGFzayBmcm9tIHN0YWxsaW5nIHRoZSBldmVudFxuLy8gcXVldWUgaWYgdGhlIGV4Y2VwdGlvbiBoYW5kbGVkIGJ5IE5vZGUuanPigJlzXG4vLyBgcHJvY2Vzcy5vbihcInVuY2F1Z2h0RXhjZXB0aW9uXCIpYCBvciBieSBhIGRvbWFpbi5cbnJhd0FzYXAucmVxdWVzdEZsdXNoID0gcmVxdWVzdEZsdXNoO1xuXG4vLyBUbyByZXF1ZXN0IGEgaGlnaCBwcmlvcml0eSBldmVudCwgd2UgaW5kdWNlIGEgbXV0YXRpb24gb2JzZXJ2ZXIgYnkgdG9nZ2xpbmdcbi8vIHRoZSB0ZXh0IG9mIGEgdGV4dCBub2RlIGJldHdlZW4gXCIxXCIgYW5kIFwiLTFcIi5cbmZ1bmN0aW9uIG1ha2VSZXF1ZXN0Q2FsbEZyb21NdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHRvZ2dsZSA9IDE7XG4gICAgdmFyIG9ic2VydmVyID0gbmV3IEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcbiAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSwge2NoYXJhY3RlckRhdGE6IHRydWV9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVxdWVzdENhbGwoKSB7XG4gICAgICAgIHRvZ2dsZSA9IC10b2dnbGU7XG4gICAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZTtcbiAgICB9O1xufVxuXG4vLyBUaGUgbWVzc2FnZSBjaGFubmVsIHRlY2huaXF1ZSB3YXMgZGlzY292ZXJlZCBieSBNYWx0ZSBVYmwgYW5kIHdhcyB0aGVcbi8vIG9yaWdpbmFsIGZvdW5kYXRpb24gZm9yIHRoaXMgbGlicmFyeS5cbi8vIGh0dHA6Ly93d3cubm9uYmxvY2tpbmcuaW8vMjAxMS8wNi93aW5kb3duZXh0dGljay5odG1sXG5cbi8vIFNhZmFyaSA2LjAuNSAoYXQgbGVhc3QpIGludGVybWl0dGVudGx5IGZhaWxzIHRvIGNyZWF0ZSBtZXNzYWdlIHBvcnRzIG9uIGFcbi8vIHBhZ2UncyBmaXJzdCBsb2FkLiBUaGFua2Z1bGx5LCB0aGlzIHZlcnNpb24gb2YgU2FmYXJpIHN1cHBvcnRzXG4vLyBNdXRhdGlvbk9ic2VydmVycywgc28gd2UgZG9uJ3QgbmVlZCB0byBmYWxsIGJhY2sgaW4gdGhhdCBjYXNlLlxuXG4vLyBmdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tTWVzc2FnZUNoYW5uZWwoY2FsbGJhY2spIHtcbi8vICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuLy8gICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gY2FsbGJhY2s7XG4vLyAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuLy8gICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuLy8gICAgIH07XG4vLyB9XG5cbi8vIEZvciByZWFzb25zIGV4cGxhaW5lZCBhYm92ZSwgd2UgYXJlIGFsc28gdW5hYmxlIHRvIHVzZSBgc2V0SW1tZWRpYXRlYFxuLy8gdW5kZXIgYW55IGNpcmN1bXN0YW5jZXMuXG4vLyBFdmVuIGlmIHdlIHdlcmUsIHRoZXJlIGlzIGFub3RoZXIgYnVnIGluIEludGVybmV0IEV4cGxvcmVyIDEwLlxuLy8gSXQgaXMgbm90IHN1ZmZpY2llbnQgdG8gYXNzaWduIGBzZXRJbW1lZGlhdGVgIHRvIGByZXF1ZXN0Rmx1c2hgIGJlY2F1c2Vcbi8vIGBzZXRJbW1lZGlhdGVgIG11c3QgYmUgY2FsbGVkICpieSBuYW1lKiBhbmQgdGhlcmVmb3JlIG11c3QgYmUgd3JhcHBlZCBpbiBhXG4vLyBjbG9zdXJlLlxuLy8gTmV2ZXIgZm9yZ2V0LlxuXG4vLyBmdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tU2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4vLyAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuLy8gICAgICAgICBzZXRJbW1lZGlhdGUoY2FsbGJhY2spO1xuLy8gICAgIH07XG4vLyB9XG5cbi8vIFNhZmFyaSA2LjAgaGFzIGEgcHJvYmxlbSB3aGVyZSB0aW1lcnMgd2lsbCBnZXQgbG9zdCB3aGlsZSB0aGUgdXNlciBpc1xuLy8gc2Nyb2xsaW5nLiBUaGlzIHByb2JsZW0gZG9lcyBub3QgaW1wYWN0IEFTQVAgYmVjYXVzZSBTYWZhcmkgNi4wIHN1cHBvcnRzXG4vLyBtdXRhdGlvbiBvYnNlcnZlcnMsIHNvIHRoYXQgaW1wbGVtZW50YXRpb24gaXMgdXNlZCBpbnN0ZWFkLlxuLy8gSG93ZXZlciwgaWYgd2UgZXZlciBlbGVjdCB0byB1c2UgdGltZXJzIGluIFNhZmFyaSwgdGhlIHByZXZhbGVudCB3b3JrLWFyb3VuZFxuLy8gaXMgdG8gYWRkIGEgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyIHRoYXQgY2FsbHMgZm9yIGEgZmx1c2guXG5cbi8vIGBzZXRUaW1lb3V0YCBkb2VzIG5vdCBjYWxsIHRoZSBwYXNzZWQgY2FsbGJhY2sgaWYgdGhlIGRlbGF5IGlzIGxlc3MgdGhhblxuLy8gYXBwcm94aW1hdGVseSA3IGluIHdlYiB3b3JrZXJzIGluIEZpcmVmb3ggOCB0aHJvdWdoIDE4LCBhbmQgc29tZXRpbWVzIG5vdFxuLy8gZXZlbiB0aGVuLlxuXG5mdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tVGltZXIoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVxdWVzdENhbGwoKSB7XG4gICAgICAgIC8vIFdlIGRpc3BhdGNoIGEgdGltZW91dCB3aXRoIGEgc3BlY2lmaWVkIGRlbGF5IG9mIDAgZm9yIGVuZ2luZXMgdGhhdFxuICAgICAgICAvLyBjYW4gcmVsaWFibHkgYWNjb21tb2RhdGUgdGhhdCByZXF1ZXN0LiBUaGlzIHdpbGwgdXN1YWxseSBiZSBzbmFwcGVkXG4gICAgICAgIC8vIHRvIGEgNCBtaWxpc2Vjb25kIGRlbGF5LCBidXQgb25jZSB3ZSdyZSBmbHVzaGluZywgdGhlcmUncyBubyBkZWxheVxuICAgICAgICAvLyBiZXR3ZWVuIGV2ZW50cy5cbiAgICAgICAgdmFyIHRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KGhhbmRsZVRpbWVyLCAwKTtcbiAgICAgICAgLy8gSG93ZXZlciwgc2luY2UgdGhpcyB0aW1lciBnZXRzIGZyZXF1ZW50bHkgZHJvcHBlZCBpbiBGaXJlZm94XG4gICAgICAgIC8vIHdvcmtlcnMsIHdlIGVubGlzdCBhbiBpbnRlcnZhbCBoYW5kbGUgdGhhdCB3aWxsIHRyeSB0byBmaXJlXG4gICAgICAgIC8vIGFuIGV2ZW50IDIwIHRpbWVzIHBlciBzZWNvbmQgdW50aWwgaXQgc3VjY2VlZHMuXG4gICAgICAgIHZhciBpbnRlcnZhbEhhbmRsZSA9IHNldEludGVydmFsKGhhbmRsZVRpbWVyLCA1MCk7XG5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlVGltZXIoKSB7XG4gICAgICAgICAgICAvLyBXaGljaGV2ZXIgdGltZXIgc3VjY2VlZHMgd2lsbCBjYW5jZWwgYm90aCB0aW1lcnMgYW5kXG4gICAgICAgICAgICAvLyBleGVjdXRlIHRoZSBjYWxsYmFjay5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SGFuZGxlKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxIYW5kbGUpO1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8vIFRoaXMgaXMgZm9yIGBhc2FwLmpzYCBvbmx5LlxuLy8gSXRzIG5hbWUgd2lsbCBiZSBwZXJpb2RpY2FsbHkgcmFuZG9taXplZCB0byBicmVhayBhbnkgY29kZSB0aGF0IGRlcGVuZHMgb25cbi8vIGl0cyBleGlzdGVuY2UuXG5yYXdBc2FwLm1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lciA9IG1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcjtcblxuLy8gQVNBUCB3YXMgb3JpZ2luYWxseSBhIG5leHRUaWNrIHNoaW0gaW5jbHVkZWQgaW4gUS4gVGhpcyB3YXMgZmFjdG9yZWQgb3V0XG4vLyBpbnRvIHRoaXMgQVNBUCBwYWNrYWdlLiBJdCB3YXMgbGF0ZXIgYWRhcHRlZCB0byBSU1ZQIHdoaWNoIG1hZGUgZnVydGhlclxuLy8gYW1lbmRtZW50cy4gVGhlc2UgZGVjaXNpb25zLCBwYXJ0aWN1bGFybHkgdG8gbWFyZ2luYWxpemUgTWVzc2FnZUNoYW5uZWwgYW5kXG4vLyB0byBjYXB0dXJlIHRoZSBNdXRhdGlvbk9ic2VydmVyIGltcGxlbWVudGF0aW9uIGluIGEgY2xvc3VyZSwgd2VyZSBpbnRlZ3JhdGVkXG4vLyBiYWNrIGludG8gQVNBUCBwcm9wZXIuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvY2RkZjcyMzI1NDZhOWNmODU4NTI0Yjc1Y2RlNmY5ZWRmNzI2MjBhNy9saWIvcnN2cC9hc2FwLmpzXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL1JlYWN0V2l0aEFkZG9ucycpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEF1dG9Gb2N1c01peGluXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGZvY3VzTm9kZSA9IHJlcXVpcmUoXCIuL2ZvY3VzTm9kZVwiKTtcblxudmFyIEF1dG9Gb2N1c01peGluID0ge1xuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuYXV0b0ZvY3VzKSB7XG4gICAgICBmb2N1c05vZGUodGhpcy5nZXRET01Ob2RlKCkpO1xuICAgIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBBdXRvRm9jdXNNaXhpbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEJlZm9yZUlucHV0RXZlbnRQbHVnaW5cbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRDb25zdGFudHMgPSByZXF1aXJlKFwiLi9FdmVudENvbnN0YW50c1wiKTtcbnZhciBFdmVudFByb3BhZ2F0b3JzID0gcmVxdWlyZShcIi4vRXZlbnRQcm9wYWdhdG9yc1wiKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoXCIuL0V4ZWN1dGlvbkVudmlyb25tZW50XCIpO1xudmFyIEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZSA9IHJlcXVpcmUoXCIuL0ZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZVwiKTtcbnZhciBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50ID0gcmVxdWlyZShcIi4vU3ludGhldGljQ29tcG9zaXRpb25FdmVudFwiKTtcbnZhciBTeW50aGV0aWNJbnB1dEV2ZW50ID0gcmVxdWlyZShcIi4vU3ludGhldGljSW5wdXRFdmVudFwiKTtcblxudmFyIGtleU9mID0gcmVxdWlyZShcIi4va2V5T2ZcIik7XG5cbnZhciBFTkRfS0VZQ09ERVMgPSBbOSwgMTMsIDI3LCAzMl07IC8vIFRhYiwgUmV0dXJuLCBFc2MsIFNwYWNlXG52YXIgU1RBUlRfS0VZQ09ERSA9IDIyOTtcblxudmFyIGNhblVzZUNvbXBvc2l0aW9uRXZlbnQgPSAoXG4gIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJlxuICAnQ29tcG9zaXRpb25FdmVudCcgaW4gd2luZG93XG4pO1xuXG52YXIgZG9jdW1lbnRNb2RlID0gbnVsbDtcbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHtcbiAgZG9jdW1lbnRNb2RlID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xufVxuXG4vLyBXZWJraXQgb2ZmZXJzIGEgdmVyeSB1c2VmdWwgYHRleHRJbnB1dGAgZXZlbnQgdGhhdCBjYW4gYmUgdXNlZCB0b1xuLy8gZGlyZWN0bHkgcmVwcmVzZW50IGBiZWZvcmVJbnB1dGAuIFRoZSBJRSBgdGV4dGlucHV0YCBldmVudCBpcyBub3QgYXNcbi8vIHVzZWZ1bCwgc28gd2UgZG9uJ3QgdXNlIGl0LlxudmFyIGNhblVzZVRleHRJbnB1dEV2ZW50ID0gKFxuICBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiZcbiAgJ1RleHRFdmVudCcgaW4gd2luZG93ICYmXG4gICFkb2N1bWVudE1vZGUgJiZcbiAgIWlzUHJlc3RvKClcbik7XG5cbi8vIEluIElFOSssIHdlIGhhdmUgYWNjZXNzIHRvIGNvbXBvc2l0aW9uIGV2ZW50cywgYnV0IHRoZSBkYXRhIHN1cHBsaWVkXG4vLyBieSB0aGUgbmF0aXZlIGNvbXBvc2l0aW9uZW5kIGV2ZW50IG1heSBiZSBpbmNvcnJlY3QuIEphcGFuZXNlIGlkZW9ncmFwaGljXG4vLyBzcGFjZXMsIGZvciBpbnN0YW5jZSAoXFx1MzAwMCkgYXJlIG5vdCByZWNvcmRlZCBjb3JyZWN0bHkuXG52YXIgdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgPSAoXG4gIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJlxuICAoXG4gICAgKCFjYW5Vc2VDb21wb3NpdGlvbkV2ZW50IHx8IGRvY3VtZW50TW9kZSAmJiBkb2N1bWVudE1vZGUgPiA4ICYmIGRvY3VtZW50TW9kZSA8PSAxMSlcbiAgKVxuKTtcblxuLyoqXG4gKiBPcGVyYSA8PSAxMiBpbmNsdWRlcyBUZXh0RXZlbnQgaW4gd2luZG93LCBidXQgZG9lcyBub3QgZmlyZVxuICogdGV4dCBpbnB1dCBldmVudHMuIFJlbHkgb24ga2V5cHJlc3MgaW5zdGVhZC5cbiAqL1xuZnVuY3Rpb24gaXNQcmVzdG8oKSB7XG4gIHZhciBvcGVyYSA9IHdpbmRvdy5vcGVyYTtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygb3BlcmEgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIG9wZXJhLnZlcnNpb24gPT09ICdmdW5jdGlvbicgJiZcbiAgICBwYXJzZUludChvcGVyYS52ZXJzaW9uKCksIDEwKSA8PSAxMlxuICApO1xufVxuXG52YXIgU1BBQ0VCQVJfQ09ERSA9IDMyO1xudmFyIFNQQUNFQkFSX0NIQVIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFNQQUNFQkFSX0NPREUpO1xuXG52YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG5cbi8vIEV2ZW50cyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBuYW1lcy5cbnZhciBldmVudFR5cGVzID0ge1xuICBiZWZvcmVJbnB1dDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25CZWZvcmVJbnB1dDogbnVsbH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkJlZm9yZUlucHV0Q2FwdHVyZTogbnVsbH0pXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFtcbiAgICAgIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25FbmQsXG4gICAgICB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzLFxuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BUZXh0SW5wdXQsXG4gICAgICB0b3BMZXZlbFR5cGVzLnRvcFBhc3RlXG4gICAgXVxuICB9LFxuICBjb21wb3NpdGlvbkVuZDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25Db21wb3NpdGlvbkVuZDogbnVsbH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkNvbXBvc2l0aW9uRW5kQ2FwdHVyZTogbnVsbH0pXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFtcbiAgICAgIHRvcExldmVsVHlwZXMudG9wQmx1cixcbiAgICAgIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25FbmQsXG4gICAgICB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24sXG4gICAgICB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzLFxuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcCxcbiAgICAgIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duXG4gICAgXVxuICB9LFxuICBjb21wb3NpdGlvblN0YXJ0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNvbXBvc2l0aW9uU3RhcnQ6IG51bGx9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Db21wb3NpdGlvblN0YXJ0Q2FwdHVyZTogbnVsbH0pXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFtcbiAgICAgIHRvcExldmVsVHlwZXMudG9wQmx1cixcbiAgICAgIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25TdGFydCxcbiAgICAgIHRvcExldmVsVHlwZXMudG9wS2V5RG93bixcbiAgICAgIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3MsXG4gICAgICB0b3BMZXZlbFR5cGVzLnRvcEtleVVwLFxuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd25cbiAgICBdXG4gIH0sXG4gIGNvbXBvc2l0aW9uVXBkYXRlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNvbXBvc2l0aW9uVXBkYXRlOiBudWxsfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ29tcG9zaXRpb25VcGRhdGVDYXB0dXJlOiBudWxsfSlcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW1xuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BCbHVyLFxuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvblVwZGF0ZSxcbiAgICAgIHRvcExldmVsVHlwZXMudG9wS2V5RG93bixcbiAgICAgIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3MsXG4gICAgICB0b3BMZXZlbFR5cGVzLnRvcEtleVVwLFxuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd25cbiAgICBdXG4gIH1cbn07XG5cbi8vIFRyYWNrIHdoZXRoZXIgd2UndmUgZXZlciBoYW5kbGVkIGEga2V5cHJlc3Mgb24gdGhlIHNwYWNlIGtleS5cbnZhciBoYXNTcGFjZUtleXByZXNzID0gZmFsc2U7XG5cbi8qKlxuICogUmV0dXJuIHdoZXRoZXIgYSBuYXRpdmUga2V5cHJlc3MgZXZlbnQgaXMgYXNzdW1lZCB0byBiZSBhIGNvbW1hbmQuXG4gKiBUaGlzIGlzIHJlcXVpcmVkIGJlY2F1c2UgRmlyZWZveCBmaXJlcyBga2V5cHJlc3NgIGV2ZW50cyBmb3Iga2V5IGNvbW1hbmRzXG4gKiAoY3V0LCBjb3B5LCBzZWxlY3QtYWxsLCBldGMuKSBldmVuIHRob3VnaCBubyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5cHJlc3NDb21tYW5kKG5hdGl2ZUV2ZW50KSB7XG4gIHJldHVybiAoXG4gICAgKG5hdGl2ZUV2ZW50LmN0cmxLZXkgfHwgbmF0aXZlRXZlbnQuYWx0S2V5IHx8IG5hdGl2ZUV2ZW50Lm1ldGFLZXkpICYmXG4gICAgLy8gY3RybEtleSAmJiBhbHRLZXkgaXMgZXF1aXZhbGVudCB0byBBbHRHciwgYW5kIGlzIG5vdCBhIGNvbW1hbmQuXG4gICAgIShuYXRpdmVFdmVudC5jdHJsS2V5ICYmIG5hdGl2ZUV2ZW50LmFsdEtleSlcbiAgKTtcbn1cblxuXG4vKipcbiAqIFRyYW5zbGF0ZSBuYXRpdmUgdG9wIGxldmVsIGV2ZW50cyBpbnRvIGV2ZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGVcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUodG9wTGV2ZWxUeXBlKSB7XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uU3RhcnQ6XG4gICAgICByZXR1cm4gZXZlbnRUeXBlcy5jb21wb3NpdGlvblN0YXJ0O1xuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvbkVuZDpcbiAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uRW5kO1xuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvblVwZGF0ZTpcbiAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uVXBkYXRlO1xuICB9XG59XG5cbi8qKlxuICogRG9lcyBvdXIgZmFsbGJhY2sgYmVzdC1ndWVzcyBtb2RlbCB0aGluayB0aGlzIGV2ZW50IHNpZ25pZmllcyB0aGF0XG4gKiBjb21wb3NpdGlvbiBoYXMgYmVndW4/XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZVxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ZhbGxiYWNrQ29tcG9zaXRpb25TdGFydCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIHJldHVybiAoXG4gICAgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24gJiZcbiAgICBuYXRpdmVFdmVudC5rZXlDb2RlID09PSBTVEFSVF9LRVlDT0RFXG4gICk7XG59XG5cbi8qKlxuICogRG9lcyBvdXIgZmFsbGJhY2sgbW9kZSB0aGluayB0aGF0IHRoaXMgZXZlbnQgaXMgdGhlIGVuZCBvZiBjb21wb3NpdGlvbj9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwOlxuICAgICAgLy8gQ29tbWFuZCBrZXlzIGluc2VydCBvciBjbGVhciBJTUUgaW5wdXQuXG4gICAgICByZXR1cm4gKEVORF9LRVlDT0RFUy5pbmRleE9mKG5hdGl2ZUV2ZW50LmtleUNvZGUpICE9PSAtMSk7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleURvd246XG4gICAgICAvLyBFeHBlY3QgSU1FIGtleUNvZGUgb24gZWFjaCBrZXlkb3duLiBJZiB3ZSBnZXQgYW55IG90aGVyXG4gICAgICAvLyBjb2RlIHdlIG11c3QgaGF2ZSBleGl0ZWQgZWFybGllci5cbiAgICAgIHJldHVybiAobmF0aXZlRXZlbnQua2V5Q29kZSAhPT0gU1RBUlRfS0VZQ09ERSk7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd246XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEJsdXI6XG4gICAgICAvLyBFdmVudHMgYXJlIG5vdCBwb3NzaWJsZSB3aXRob3V0IGNhbmNlbGxpbmcgSU1FLlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIEdvb2dsZSBJbnB1dCBUb29scyBwcm92aWRlcyBjb21wb3NpdGlvbiBkYXRhIHZpYSBhIEN1c3RvbUV2ZW50LFxuICogd2l0aCB0aGUgYGRhdGFgIHByb3BlcnR5IHBvcHVsYXRlZCBpbiB0aGUgYGRldGFpbGAgb2JqZWN0LiBJZiB0aGlzXG4gKiBpcyBhdmFpbGFibGUgb24gdGhlIGV2ZW50IG9iamVjdCwgdXNlIGl0LiBJZiBub3QsIHRoaXMgaXMgYSBwbGFpblxuICogY29tcG9zaXRpb24gZXZlbnQgYW5kIHdlIGhhdmUgbm90aGluZyBzcGVjaWFsIHRvIGV4dHJhY3QuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50XG4gKiBAcmV0dXJuIHs/c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KSB7XG4gIHZhciBkZXRhaWwgPSBuYXRpdmVFdmVudC5kZXRhaWw7XG4gIGlmICh0eXBlb2YgZGV0YWlsID09PSAnb2JqZWN0JyAmJiAnZGF0YScgaW4gZGV0YWlsKSB7XG4gICAgcmV0dXJuIGRldGFpbC5kYXRhO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vLyBUcmFjayB0aGUgY3VycmVudCBJTUUgY29tcG9zaXRpb24gZmFsbGJhY2sgb2JqZWN0LCBpZiBhbnkuXG52YXIgY3VycmVudENvbXBvc2l0aW9uID0gbnVsbDtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBFdmVudENvbnN0YW50c2AuXG4gKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSB0b3BMZXZlbFRhcmdldCBUaGUgbGlzdGVuaW5nIGNvbXBvbmVudCByb290IG5vZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUYXJnZXRJRCBJRCBvZiBgdG9wTGV2ZWxUYXJnZXRgLlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7P29iamVjdH0gQSBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50LlxuICovXG5mdW5jdGlvbiBleHRyYWN0Q29tcG9zaXRpb25FdmVudChcbiAgdG9wTGV2ZWxUeXBlLFxuICB0b3BMZXZlbFRhcmdldCxcbiAgdG9wTGV2ZWxUYXJnZXRJRCxcbiAgbmF0aXZlRXZlbnRcbikge1xuICB2YXIgZXZlbnRUeXBlO1xuICB2YXIgZmFsbGJhY2tEYXRhO1xuXG4gIGlmIChjYW5Vc2VDb21wb3NpdGlvbkV2ZW50KSB7XG4gICAgZXZlbnRUeXBlID0gZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUodG9wTGV2ZWxUeXBlKTtcbiAgfSBlbHNlIGlmICghY3VycmVudENvbXBvc2l0aW9uKSB7XG4gICAgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICBldmVudFR5cGUgPSBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgIGV2ZW50VHlwZSA9IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gIH1cblxuICBpZiAoIWV2ZW50VHlwZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhKSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgY29tcG9zaXRpb24gaXMgc3RvcmVkIHN0YXRpY2FsbHkgYW5kIG11c3Qgbm90IGJlXG4gICAgLy8gb3ZlcndyaXR0ZW4gd2hpbGUgY29tcG9zaXRpb24gY29udGludWVzLlxuICAgIGlmICghY3VycmVudENvbXBvc2l0aW9uICYmIGV2ZW50VHlwZSA9PT0gZXZlbnRUeXBlcy5jb21wb3NpdGlvblN0YXJ0KSB7XG4gICAgICBjdXJyZW50Q29tcG9zaXRpb24gPSBGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUuZ2V0UG9vbGVkKHRvcExldmVsVGFyZ2V0KTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSA9PT0gZXZlbnRUeXBlcy5jb21wb3NpdGlvbkVuZCkge1xuICAgICAgaWYgKGN1cnJlbnRDb21wb3NpdGlvbikge1xuICAgICAgICBmYWxsYmFja0RhdGEgPSBjdXJyZW50Q29tcG9zaXRpb24uZ2V0RGF0YSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBldmVudCA9IFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQuZ2V0UG9vbGVkKFxuICAgIGV2ZW50VHlwZSxcbiAgICB0b3BMZXZlbFRhcmdldElELFxuICAgIG5hdGl2ZUV2ZW50XG4gICk7XG5cbiAgaWYgKGZhbGxiYWNrRGF0YSkge1xuICAgIC8vIEluamVjdCBkYXRhIGdlbmVyYXRlZCBmcm9tIGZhbGxiYWNrIHBhdGggaW50byB0aGUgc3ludGhldGljIGV2ZW50LlxuICAgIC8vIFRoaXMgbWF0Y2hlcyB0aGUgcHJvcGVydHkgb2YgbmF0aXZlIENvbXBvc2l0aW9uRXZlbnRJbnRlcmZhY2UuXG4gICAgZXZlbnQuZGF0YSA9IGZhbGxiYWNrRGF0YTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3VzdG9tRGF0YSA9IGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgIGlmIChjdXN0b21EYXRhICE9PSBudWxsKSB7XG4gICAgICBldmVudC5kYXRhID0gY3VzdG9tRGF0YTtcbiAgICB9XG4gIH1cblxuICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICByZXR1cm4gZXZlbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgRXZlbnRDb25zdGFudHNgLlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7P3N0cmluZ30gVGhlIHN0cmluZyBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYGJlZm9yZUlucHV0YCBldmVudC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kOlxuICAgICAgcmV0dXJuIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzczpcbiAgICAgIC8qKlxuICAgICAgICogSWYgbmF0aXZlIGB0ZXh0SW5wdXRgIGV2ZW50cyBhcmUgYXZhaWxhYmxlLCBvdXIgZ29hbCBpcyB0byBtYWtlXG4gICAgICAgKiB1c2Ugb2YgdGhlbS4gSG93ZXZlciwgdGhlcmUgaXMgYSBzcGVjaWFsIGNhc2U6IHRoZSBzcGFjZWJhciBrZXkuXG4gICAgICAgKiBJbiBXZWJraXQsIHByZXZlbnRpbmcgZGVmYXVsdCBvbiBhIHNwYWNlYmFyIGB0ZXh0SW5wdXRgIGV2ZW50XG4gICAgICAgKiBjYW5jZWxzIGNoYXJhY3RlciBpbnNlcnRpb24sIGJ1dCBpdCAqYWxzbyogY2F1c2VzIHRoZSBicm93c2VyXG4gICAgICAgKiB0byBmYWxsIGJhY2sgdG8gaXRzIGRlZmF1bHQgc3BhY2ViYXIgYmVoYXZpb3Igb2Ygc2Nyb2xsaW5nIHRoZVxuICAgICAgICogcGFnZS5cbiAgICAgICAqXG4gICAgICAgKiBUcmFja2luZyBhdDpcbiAgICAgICAqIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNTUxMDNcbiAgICAgICAqXG4gICAgICAgKiBUbyBhdm9pZCB0aGlzIGlzc3VlLCB1c2UgdGhlIGtleXByZXNzIGV2ZW50IGFzIGlmIG5vIGB0ZXh0SW5wdXRgXG4gICAgICAgKiBldmVudCBpcyBhdmFpbGFibGUuXG4gICAgICAgKi9cbiAgICAgIHZhciB3aGljaCA9IG5hdGl2ZUV2ZW50LndoaWNoO1xuICAgICAgaWYgKHdoaWNoICE9PSBTUEFDRUJBUl9DT0RFKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBoYXNTcGFjZUtleXByZXNzID0gdHJ1ZTtcbiAgICAgIHJldHVybiBTUEFDRUJBUl9DSEFSO1xuXG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRleHRJbnB1dDpcbiAgICAgIC8vIFJlY29yZCB0aGUgY2hhcmFjdGVycyB0byBiZSBhZGRlZCB0byB0aGUgRE9NLlxuICAgICAgdmFyIGNoYXJzID0gbmF0aXZlRXZlbnQuZGF0YTtcblxuICAgICAgLy8gSWYgaXQncyBhIHNwYWNlYmFyIGNoYXJhY3RlciwgYXNzdW1lIHRoYXQgd2UgaGF2ZSBhbHJlYWR5IGhhbmRsZWRcbiAgICAgIC8vIGl0IGF0IHRoZSBrZXlwcmVzcyBsZXZlbCBhbmQgYmFpbCBpbW1lZGlhdGVseS4gQW5kcm9pZCBDaHJvbWVcbiAgICAgIC8vIGRvZXNuJ3QgZ2l2ZSB1cyBrZXljb2Rlcywgc28gd2UgbmVlZCB0byBibGFja2xpc3QgaXQuXG4gICAgICBpZiAoY2hhcnMgPT09IFNQQUNFQkFSX0NIQVIgJiYgaGFzU3BhY2VLZXlwcmVzcykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoYXJzO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIEZvciBvdGhlciBuYXRpdmUgZXZlbnQgdHlwZXMsIGRvIG5vdGhpbmcuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEZvciBicm93c2VycyB0aGF0IGRvIG5vdCBwcm92aWRlIHRoZSBgdGV4dElucHV0YCBldmVudCwgZXh0cmFjdCB0aGVcbiAqIGFwcHJvcHJpYXRlIHN0cmluZyB0byB1c2UgZm9yIFN5bnRoZXRpY0lucHV0RXZlbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgRXZlbnRDb25zdGFudHNgLlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7P3N0cmluZ30gVGhlIGZhbGxiYWNrIHN0cmluZyBmb3IgdGhpcyBgYmVmb3JlSW5wdXRgIGV2ZW50LlxuICovXG5mdW5jdGlvbiBnZXRGYWxsYmFja0JlZm9yZUlucHV0Q2hhcnModG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICAvLyBJZiB3ZSBhcmUgY3VycmVudGx5IGNvbXBvc2luZyAoSU1FKSBhbmQgdXNpbmcgYSBmYWxsYmFjayB0byBkbyBzbyxcbiAgLy8gdHJ5IHRvIGV4dHJhY3QgdGhlIGNvbXBvc2VkIGNoYXJhY3RlcnMgZnJvbSB0aGUgZmFsbGJhY2sgb2JqZWN0LlxuICBpZiAoY3VycmVudENvbXBvc2l0aW9uKSB7XG4gICAgaWYgKFxuICAgICAgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kIHx8XG4gICAgICBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudClcbiAgICApIHtcbiAgICAgIHZhciBjaGFycyA9IGN1cnJlbnRDb21wb3NpdGlvbi5nZXREYXRhKCk7XG4gICAgICBGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUucmVsZWFzZShjdXJyZW50Q29tcG9zaXRpb24pO1xuICAgICAgY3VycmVudENvbXBvc2l0aW9uID0gbnVsbDtcbiAgICAgIHJldHVybiBjaGFycztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BQYXN0ZTpcbiAgICAgIC8vIElmIGEgcGFzdGUgZXZlbnQgb2NjdXJzIGFmdGVyIGEga2V5cHJlc3MsIHRocm93IG91dCB0aGUgaW5wdXRcbiAgICAgIC8vIGNoYXJzLiBQYXN0ZSBldmVudHMgc2hvdWxkIG5vdCBsZWFkIHRvIEJlZm9yZUlucHV0IGV2ZW50cy5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzczpcbiAgICAgIC8qKlxuICAgICAgICogQXMgb2YgdjI3LCBGaXJlZm94IG1heSBmaXJlIGtleXByZXNzIGV2ZW50cyBldmVuIHdoZW4gbm8gY2hhcmFjdGVyXG4gICAgICAgKiB3aWxsIGJlIGluc2VydGVkLiBBIGZldyBwb3NzaWJpbGl0aWVzOlxuICAgICAgICpcbiAgICAgICAqIC0gYHdoaWNoYCBpcyBgMGAuIEFycm93IGtleXMsIEVzYyBrZXksIGV0Yy5cbiAgICAgICAqXG4gICAgICAgKiAtIGB3aGljaGAgaXMgdGhlIHByZXNzZWQga2V5IGNvZGUsIGJ1dCBubyBjaGFyIGlzIGF2YWlsYWJsZS5cbiAgICAgICAqICAgRXg6ICdBbHRHciArIGRgIGluIFBvbGlzaC4gVGhlcmUgaXMgbm8gbW9kaWZpZWQgY2hhcmFjdGVyIGZvclxuICAgICAgICogICB0aGlzIGtleSBjb21iaW5hdGlvbiBhbmQgbm8gY2hhcmFjdGVyIGlzIGluc2VydGVkIGludG8gdGhlXG4gICAgICAgKiAgIGRvY3VtZW50LCBidXQgRkYgZmlyZXMgdGhlIGtleXByZXNzIGZvciBjaGFyIGNvZGUgYDEwMGAgYW55d2F5LlxuICAgICAgICogICBObyBgaW5wdXRgIGV2ZW50IHdpbGwgb2NjdXIuXG4gICAgICAgKlxuICAgICAgICogLSBgd2hpY2hgIGlzIHRoZSBwcmVzc2VkIGtleSBjb2RlLCBidXQgYSBjb21tYW5kIGNvbWJpbmF0aW9uIGlzXG4gICAgICAgKiAgIGJlaW5nIHVzZWQuIEV4OiBgQ21kK0NgLiBObyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQsIGFuZCBub1xuICAgICAgICogICBgaW5wdXRgIGV2ZW50IHdpbGwgb2NjdXIuXG4gICAgICAgKi9cbiAgICAgIGlmIChuYXRpdmVFdmVudC53aGljaCAmJiAhaXNLZXlwcmVzc0NvbW1hbmQobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG5hdGl2ZUV2ZW50LndoaWNoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvbkVuZDpcbiAgICAgIHJldHVybiB1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSA/IG51bGwgOiBuYXRpdmVFdmVudC5kYXRhO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEV4dHJhY3QgYSBTeW50aGV0aWNJbnB1dEV2ZW50IGZvciBgYmVmb3JlSW5wdXRgLCBiYXNlZCBvbiBlaXRoZXIgbmF0aXZlXG4gKiBgdGV4dElucHV0YCBvciBmYWxsYmFjayBiZWhhdmlvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBFdmVudENvbnN0YW50c2AuXG4gKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSB0b3BMZXZlbFRhcmdldCBUaGUgbGlzdGVuaW5nIGNvbXBvbmVudCByb290IG5vZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUYXJnZXRJRCBJRCBvZiBgdG9wTGV2ZWxUYXJnZXRgLlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7P29iamVjdH0gQSBTeW50aGV0aWNJbnB1dEV2ZW50LlxuICovXG5mdW5jdGlvbiBleHRyYWN0QmVmb3JlSW5wdXRFdmVudChcbiAgdG9wTGV2ZWxUeXBlLFxuICB0b3BMZXZlbFRhcmdldCxcbiAgdG9wTGV2ZWxUYXJnZXRJRCxcbiAgbmF0aXZlRXZlbnRcbikge1xuICB2YXIgY2hhcnM7XG5cbiAgaWYgKGNhblVzZVRleHRJbnB1dEV2ZW50KSB7XG4gICAgY2hhcnMgPSBnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9IGVsc2Uge1xuICAgIGNoYXJzID0gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9XG5cbiAgLy8gSWYgbm8gY2hhcmFjdGVycyBhcmUgYmVpbmcgaW5zZXJ0ZWQsIG5vIEJlZm9yZUlucHV0IGV2ZW50IHNob3VsZFxuICAvLyBiZSBmaXJlZC5cbiAgaWYgKCFjaGFycykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljSW5wdXRFdmVudC5nZXRQb29sZWQoXG4gICAgZXZlbnRUeXBlcy5iZWZvcmVJbnB1dCxcbiAgICB0b3BMZXZlbFRhcmdldElELFxuICAgIG5hdGl2ZUV2ZW50XG4gICk7XG5cbiAgZXZlbnQuZGF0YSA9IGNoYXJzO1xuICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICByZXR1cm4gZXZlbnQ7XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuIGBvbkJlZm9yZUlucHV0YCBldmVudCB0byBtYXRjaFxuICogaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAxMzExMDUvI2V2ZW50cy1pbnB1dGV2ZW50cy5cbiAqXG4gKiBUaGlzIGV2ZW50IHBsdWdpbiBpcyBiYXNlZCBvbiB0aGUgbmF0aXZlIGB0ZXh0SW5wdXRgIGV2ZW50XG4gKiBhdmFpbGFibGUgaW4gQ2hyb21lLCBTYWZhcmksIE9wZXJhLCBhbmQgSUUuIFRoaXMgZXZlbnQgZmlyZXMgYWZ0ZXJcbiAqIGBvbktleVByZXNzYCBhbmQgYG9uQ29tcG9zaXRpb25FbmRgLCBidXQgYmVmb3JlIGBvbklucHV0YC5cbiAqXG4gKiBgYmVmb3JlSW5wdXRgIGlzIHNwZWMnZCBidXQgbm90IGltcGxlbWVudGVkIGluIGFueSBicm93c2VycywgYW5kXG4gKiB0aGUgYGlucHV0YCBldmVudCBkb2VzIG5vdCBwcm92aWRlIGFueSB1c2VmdWwgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBoYXNcbiAqIGFjdHVhbGx5IGJlZW4gYWRkZWQsIGNvbnRyYXJ5IHRvIHRoZSBzcGVjLiBUaHVzLCBgdGV4dElucHV0YCBpcyB0aGUgYmVzdFxuICogYXZhaWxhYmxlIGV2ZW50IHRvIGlkZW50aWZ5IHRoZSBjaGFyYWN0ZXJzIHRoYXQgaGF2ZSBhY3R1YWxseSBiZWVuIGluc2VydGVkXG4gKiBpbnRvIHRoZSB0YXJnZXQgbm9kZS5cbiAqXG4gKiBUaGlzIHBsdWdpbiBpcyBhbHNvIHJlc3BvbnNpYmxlIGZvciBlbWl0dGluZyBgY29tcG9zaXRpb25gIGV2ZW50cywgdGh1c1xuICogYWxsb3dpbmcgdXMgdG8gc2hhcmUgY29tcG9zaXRpb24gZmFsbGJhY2sgY29kZSBmb3IgYm90aCBgYmVmb3JlSW5wdXRgIGFuZFxuICogYGNvbXBvc2l0aW9uYCBldmVudCB0eXBlcy5cbiAqL1xudmFyIEJlZm9yZUlucHV0RXZlbnRQbHVnaW4gPSB7XG5cbiAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyxcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgRXZlbnRDb25zdGFudHNgLlxuICAgKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSB0b3BMZXZlbFRhcmdldCBUaGUgbGlzdGVuaW5nIGNvbXBvbmVudCByb290IG5vZGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFRhcmdldElEIElEIG9mIGB0b3BMZXZlbFRhcmdldGAuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAgICogQHJldHVybiB7Kn0gQW4gYWNjdW11bGF0aW9uIG9mIHN5bnRoZXRpYyBldmVudHMuXG4gICAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmV4dHJhY3RFdmVudHN9XG4gICAqL1xuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbihcbiAgICB0b3BMZXZlbFR5cGUsXG4gICAgdG9wTGV2ZWxUYXJnZXQsXG4gICAgdG9wTGV2ZWxUYXJnZXRJRCxcbiAgICBuYXRpdmVFdmVudFxuICApIHtcbiAgICByZXR1cm4gW1xuICAgICAgZXh0cmFjdENvbXBvc2l0aW9uRXZlbnQoXG4gICAgICAgIHRvcExldmVsVHlwZSxcbiAgICAgICAgdG9wTGV2ZWxUYXJnZXQsXG4gICAgICAgIHRvcExldmVsVGFyZ2V0SUQsXG4gICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICApLFxuICAgICAgZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQoXG4gICAgICAgIHRvcExldmVsVHlwZSxcbiAgICAgICAgdG9wTGV2ZWxUYXJnZXQsXG4gICAgICAgIHRvcExldmVsVGFyZ2V0SUQsXG4gICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICApXG4gICAgXTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIENTU0NvcmVcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcblxuLyoqXG4gKiBUaGUgQ1NTQ29yZSBtb2R1bGUgc3BlY2lmaWVzIHRoZSBBUEkgKGFuZCBpbXBsZW1lbnRzIG1vc3Qgb2YgdGhlIG1ldGhvZHMpXG4gKiB0aGF0IHNob3VsZCBiZSB1c2VkIHdoZW4gZGVhbGluZyB3aXRoIHRoZSBkaXNwbGF5IG9mIGVsZW1lbnRzICh2aWEgdGhlaXJcbiAqIENTUyBjbGFzc2VzIGFuZCB2aXNpYmlsaXR5IG9uIHNjcmVlbi4gSXQgaXMgYW4gQVBJIGZvY3VzZWQgb24gbXV0YXRpbmcgdGhlXG4gKiBkaXNwbGF5IGFuZCBub3QgcmVhZGluZyBpdCBhcyBubyBsb2dpY2FsIHN0YXRlIHNob3VsZCBiZSBlbmNvZGVkIGluIHRoZVxuICogZGlzcGxheSBvZiBlbGVtZW50cy5cbiAqL1xuXG52YXIgQ1NTQ29yZSA9IHtcblxuICAvKipcbiAgICogQWRkcyB0aGUgY2xhc3MgcGFzc2VkIGluIHRvIHRoZSBlbGVtZW50IGlmIGl0IGRvZXNuJ3QgYWxyZWFkeSBoYXZlIGl0LlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gc2V0IHRoZSBjbGFzcyBvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIHRoZSBDU1MgY2xhc3NOYW1lXG4gICAqIEByZXR1cm4ge0RPTUVsZW1lbnR9IHRoZSBlbGVtZW50IHBhc3NlZCBpblxuICAgKi9cbiAgYWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAhL1xccy8udGVzdChjbGFzc05hbWUpLFxuICAgICAgJ0NTU0NvcmUuYWRkQ2xhc3MgdGFrZXMgb25seSBhIHNpbmdsZSBjbGFzcyBuYW1lLiBcIiVzXCIgY29udGFpbnMgJyArXG4gICAgICAnbXVsdGlwbGUgY2xhc3Nlcy4nLCBjbGFzc05hbWVcbiAgICApIDogaW52YXJpYW50KCEvXFxzLy50ZXN0KGNsYXNzTmFtZSkpKTtcblxuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoIUNTU0NvcmUuaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lICsgJyAnICsgY2xhc3NOYW1lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgY2xhc3MgcGFzc2VkIGluIGZyb20gdGhlIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIHNldCB0aGUgY2xhc3Mgb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzTmFtZVxuICAgKiBAcmV0dXJuIHtET01FbGVtZW50fSB0aGUgZWxlbWVudCBwYXNzZWQgaW5cbiAgICovXG4gIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgIS9cXHMvLnRlc3QoY2xhc3NOYW1lKSxcbiAgICAgICdDU1NDb3JlLnJlbW92ZUNsYXNzIHRha2VzIG9ubHkgYSBzaW5nbGUgY2xhc3MgbmFtZS4gXCIlc1wiIGNvbnRhaW5zICcgK1xuICAgICAgJ211bHRpcGxlIGNsYXNzZXMuJywgY2xhc3NOYW1lXG4gICAgKSA6IGludmFyaWFudCghL1xccy8udGVzdChjbGFzc05hbWUpKSk7XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKENTU0NvcmUuaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lXG4gICAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGNsYXNzTmFtZSArICcoPzpcXFxcc3wkKScsICdnJyksICckMScpXG4gICAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJyAnKSAvLyBtdWx0aXBsZSBzcGFjZXMgdG8gb25lXG4gICAgICAgICAgLnJlcGxhY2UoL15cXHMqfFxccyokL2csICcnKTsgLy8gdHJpbSB0aGUgZW5kc1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSxcblxuICAvKipcbiAgICogSGVscGVyIHRvIGFkZCBvciByZW1vdmUgYSBjbGFzcyBmcm9tIGFuIGVsZW1lbnQgYmFzZWQgb24gYSBjb25kaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB0byBzZXQgdGhlIGNsYXNzIG9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzc05hbWVcbiAgICogQHBhcmFtIHsqfSBib29sIGNvbmRpdGlvbiB0byB3aGV0aGVyIHRvIGFkZCBvciByZW1vdmUgdGhlIGNsYXNzXG4gICAqIEByZXR1cm4ge0RPTUVsZW1lbnR9IHRoZSBlbGVtZW50IHBhc3NlZCBpblxuICAgKi9cbiAgY29uZGl0aW9uQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgYm9vbCkge1xuICAgIHJldHVybiAoYm9vbCA/IENTU0NvcmUuYWRkQ2xhc3MgOiBDU1NDb3JlLnJlbW92ZUNsYXNzKShlbGVtZW50LCBjbGFzc05hbWUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUZXN0cyB3aGV0aGVyIHRoZSBlbGVtZW50IGhhcyB0aGUgY2xhc3Mgc3BlY2lmaWVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTU5vZGV8RE9NV2luZG93fSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIHNldCB0aGUgY2xhc3Mgb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzTmFtZVxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBlbGVtZW50IGhhcyB0aGUgY2xhc3MsIGZhbHNlIGlmIG5vdFxuICAgKi9cbiAgaGFzQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAhL1xccy8udGVzdChjbGFzc05hbWUpLFxuICAgICAgJ0NTUy5oYXNDbGFzcyB0YWtlcyBvbmx5IGEgc2luZ2xlIGNsYXNzIG5hbWUuJ1xuICAgICkgOiBpbnZhcmlhbnQoIS9cXHMvLnRlc3QoY2xhc3NOYW1lKSkpO1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgcmV0dXJuICEhY2xhc3NOYW1lICYmIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XG4gICAgfVxuICAgIHJldHVybiAoJyAnICsgZWxlbWVudC5jbGFzc05hbWUgKyAnICcpLmluZGV4T2YoJyAnICsgY2xhc3NOYW1lICsgJyAnKSA+IC0xO1xuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ1NTQ29yZTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBDU1NQcm9wZXJ0eVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDU1MgcHJvcGVydGllcyB3aGljaCBhY2NlcHQgbnVtYmVycyBidXQgYXJlIG5vdCBpbiB1bml0cyBvZiBcInB4XCIuXG4gKi9cbnZhciBpc1VuaXRsZXNzTnVtYmVyID0ge1xuICBib3hGbGV4OiB0cnVlLFxuICBib3hGbGV4R3JvdXA6IHRydWUsXG4gIGNvbHVtbkNvdW50OiB0cnVlLFxuICBmbGV4OiB0cnVlLFxuICBmbGV4R3JvdzogdHJ1ZSxcbiAgZmxleFBvc2l0aXZlOiB0cnVlLFxuICBmbGV4U2hyaW5rOiB0cnVlLFxuICBmbGV4TmVnYXRpdmU6IHRydWUsXG4gIGZvbnRXZWlnaHQ6IHRydWUsXG4gIGxpbmVDbGFtcDogdHJ1ZSxcbiAgbGluZUhlaWdodDogdHJ1ZSxcbiAgb3BhY2l0eTogdHJ1ZSxcbiAgb3JkZXI6IHRydWUsXG4gIG9ycGhhbnM6IHRydWUsXG4gIHdpZG93czogdHJ1ZSxcbiAgekluZGV4OiB0cnVlLFxuICB6b29tOiB0cnVlLFxuXG4gIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcbiAgZmlsbE9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZURhc2hvZmZzZXQ6IHRydWUsXG4gIHN0cm9rZU9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZVdpZHRoOiB0cnVlXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggdmVuZG9yLXNwZWNpZmljIHByZWZpeCwgZWc6IFdlYmtpdFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBzdHlsZSBuYW1lLCBlZzogdHJhbnNpdGlvbkR1cmF0aW9uXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN0eWxlIG5hbWUgcHJlZml4ZWQgd2l0aCBgcHJlZml4YCwgcHJvcGVybHkgY2FtZWxDYXNlZCwgZWc6XG4gKiBXZWJraXRUcmFuc2l0aW9uRHVyYXRpb25cbiAqL1xuZnVuY3Rpb24gcHJlZml4S2V5KHByZWZpeCwga2V5KSB7XG4gIHJldHVybiBwcmVmaXggKyBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgc3R5bGUgbmFtZXMgdGhhdCBtYXkgY29tZSBwYXNzZWQgaW4gcHJlZml4ZWQgYnkgYWRkaW5nIHBlcm11dGF0aW9uc1xuICogb2YgdmVuZG9yIHByZWZpeGVzLlxuICovXG52YXIgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdtcycsICdNb3onLCAnTyddO1xuXG4vLyBVc2luZyBPYmplY3Qua2V5cyBoZXJlLCBvciBlbHNlIHRoZSB2YW5pbGxhIGZvci1pbiBsb29wIG1ha2VzIElFOCBnbyBpbnRvIGFuXG4vLyBpbmZpbml0ZSBsb29wLCBiZWNhdXNlIGl0IGl0ZXJhdGVzIG92ZXIgdGhlIG5ld2x5IGFkZGVkIHByb3BzIHRvby5cbk9iamVjdC5rZXlzKGlzVW5pdGxlc3NOdW1iZXIpLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIGlzVW5pdGxlc3NOdW1iZXJbcHJlZml4S2V5KHByZWZpeCwgcHJvcCldID0gaXNVbml0bGVzc051bWJlcltwcm9wXTtcbiAgfSk7XG59KTtcblxuLyoqXG4gKiBNb3N0IHN0eWxlIHByb3BlcnRpZXMgY2FuIGJlIHVuc2V0IGJ5IGRvaW5nIC5zdHlsZVtwcm9wXSA9ICcnIGJ1dCBJRThcbiAqIGRvZXNuJ3QgbGlrZSBkb2luZyB0aGF0IHdpdGggc2hvcnRoYW5kIHByb3BlcnRpZXMgc28gZm9yIHRoZSBwcm9wZXJ0aWVzIHRoYXRcbiAqIElFOCBicmVha3Mgb24sIHdoaWNoIGFyZSBsaXN0ZWQgaGVyZSwgd2UgaW5zdGVhZCB1bnNldCBlYWNoIG9mIHRoZVxuICogaW5kaXZpZHVhbCBwcm9wZXJ0aWVzLiBTZWUgaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzODUuXG4gKiBUaGUgNC12YWx1ZSAnY2xvY2snIHByb3BlcnRpZXMgbGlrZSBtYXJnaW4sIHBhZGRpbmcsIGJvcmRlci13aWR0aCBzZWVtIHRvXG4gKiBiZWhhdmUgd2l0aG91dCBhbnkgcHJvYmxlbXMuIEN1cmlvdXNseSwgbGlzdC1zdHlsZSB3b3JrcyB0b28gd2l0aG91dCBhbnlcbiAqIHNwZWNpYWwgcHJvZGRpbmcuXG4gKi9cbnZhciBzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnMgPSB7XG4gIGJhY2tncm91bmQ6IHtcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IHRydWUsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uOiB0cnVlLFxuICAgIGJhY2tncm91bmRSZXBlYXQ6IHRydWUsXG4gICAgYmFja2dyb3VuZENvbG9yOiB0cnVlXG4gIH0sXG4gIGJvcmRlcjoge1xuICAgIGJvcmRlcldpZHRoOiB0cnVlLFxuICAgIGJvcmRlclN0eWxlOiB0cnVlLFxuICAgIGJvcmRlckNvbG9yOiB0cnVlXG4gIH0sXG4gIGJvcmRlckJvdHRvbToge1xuICAgIGJvcmRlckJvdHRvbVdpZHRoOiB0cnVlLFxuICAgIGJvcmRlckJvdHRvbVN0eWxlOiB0cnVlLFxuICAgIGJvcmRlckJvdHRvbUNvbG9yOiB0cnVlXG4gIH0sXG4gIGJvcmRlckxlZnQ6IHtcbiAgICBib3JkZXJMZWZ0V2lkdGg6IHRydWUsXG4gICAgYm9yZGVyTGVmdFN0eWxlOiB0cnVlLFxuICAgIGJvcmRlckxlZnRDb2xvcjogdHJ1ZVxuICB9LFxuICBib3JkZXJSaWdodDoge1xuICAgIGJvcmRlclJpZ2h0V2lkdGg6IHRydWUsXG4gICAgYm9yZGVyUmlnaHRTdHlsZTogdHJ1ZSxcbiAgICBib3JkZXJSaWdodENvbG9yOiB0cnVlXG4gIH0sXG4gIGJvcmRlclRvcDoge1xuICAgIGJvcmRlclRvcFdpZHRoOiB0cnVlLFxuICAgIGJvcmRlclRvcFN0eWxlOiB0cnVlLFxuICAgIGJvcmRlclRvcENvbG9yOiB0cnVlXG4gIH0sXG4gIGZvbnQ6IHtcbiAgICBmb250U3R5bGU6IHRydWUsXG4gICAgZm9udFZhcmlhbnQ6IHRydWUsXG4gICAgZm9udFdlaWdodDogdHJ1ZSxcbiAgICBmb250U2l6ZTogdHJ1ZSxcbiAgICBsaW5lSGVpZ2h0OiB0cnVlLFxuICAgIGZvbnRGYW1pbHk6IHRydWVcbiAgfVxufTtcblxudmFyIENTU1Byb3BlcnR5ID0ge1xuICBpc1VuaXRsZXNzTnVtYmVyOiBpc1VuaXRsZXNzTnVtYmVyLFxuICBzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnM6IHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uc1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDU1NQcm9wZXJ0eTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBDU1NQcm9wZXJ0eU9wZXJhdGlvbnNcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ1NTUHJvcGVydHkgPSByZXF1aXJlKFwiLi9DU1NQcm9wZXJ0eVwiKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoXCIuL0V4ZWN1dGlvbkVudmlyb25tZW50XCIpO1xuXG52YXIgY2FtZWxpemVTdHlsZU5hbWUgPSByZXF1aXJlKFwiLi9jYW1lbGl6ZVN0eWxlTmFtZVwiKTtcbnZhciBkYW5nZXJvdXNTdHlsZVZhbHVlID0gcmVxdWlyZShcIi4vZGFuZ2Vyb3VzU3R5bGVWYWx1ZVwiKTtcbnZhciBoeXBoZW5hdGVTdHlsZU5hbWUgPSByZXF1aXJlKFwiLi9oeXBoZW5hdGVTdHlsZU5hbWVcIik7XG52YXIgbWVtb2l6ZVN0cmluZ09ubHkgPSByZXF1aXJlKFwiLi9tZW1vaXplU3RyaW5nT25seVwiKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZShcIi4vd2FybmluZ1wiKTtcblxudmFyIHByb2Nlc3NTdHlsZU5hbWUgPSBtZW1vaXplU3RyaW5nT25seShmdW5jdGlvbihzdHlsZU5hbWUpIHtcbiAgcmV0dXJuIGh5cGhlbmF0ZVN0eWxlTmFtZShzdHlsZU5hbWUpO1xufSk7XG5cbnZhciBzdHlsZUZsb2F0QWNjZXNzb3IgPSAnY3NzRmxvYXQnO1xuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAvLyBJRTggb25seSBzdXBwb3J0cyBhY2Nlc3NpbmcgY3NzRmxvYXQgKHN0YW5kYXJkKSBhcyBzdHlsZUZsb2F0XG4gIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY3NzRmxvYXQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0eWxlRmxvYXRBY2Nlc3NvciA9ICdzdHlsZUZsb2F0JztcbiAgfVxufVxuXG5pZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gIC8vICdtc1RyYW5zZm9ybScgaXMgY29ycmVjdCwgYnV0IHRoZSBvdGhlciBwcmVmaXhlcyBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcbiAgdmFyIGJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybiA9IC9eKD86d2Via2l0fG1venxvKVtBLVpdLztcblxuICAvLyBzdHlsZSB2YWx1ZXMgc2hvdWxkbid0IGNvbnRhaW4gYSBzZW1pY29sb25cbiAgdmFyIGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiA9IC87XFxzKiQvO1xuXG4gIHZhciB3YXJuZWRTdHlsZU5hbWVzID0ge307XG4gIHZhciB3YXJuZWRTdHlsZVZhbHVlcyA9IHt9O1xuXG4gIHZhciB3YXJuSHlwaGVuYXRlZFN0eWxlTmFtZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiB3YXJuZWRTdHlsZU5hbWVzW25hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICBmYWxzZSxcbiAgICAgICdVbnN1cHBvcnRlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPycsXG4gICAgICBuYW1lLFxuICAgICAgY2FtZWxpemVTdHlsZU5hbWUobmFtZSlcbiAgICApIDogbnVsbCk7XG4gIH07XG5cbiAgdmFyIHdhcm5CYWRWZW5kb3JlZFN0eWxlTmFtZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiB3YXJuZWRTdHlsZU5hbWVzW25hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICBmYWxzZSxcbiAgICAgICdVbnN1cHBvcnRlZCB2ZW5kb3ItcHJlZml4ZWQgc3R5bGUgcHJvcGVydHkgJXMuIERpZCB5b3UgbWVhbiAlcz8nLFxuICAgICAgbmFtZSxcbiAgICAgIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpXG4gICAgKSA6IG51bGwpO1xuICB9O1xuXG4gIHZhciB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIGlmICh3YXJuZWRTdHlsZVZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkgJiYgd2FybmVkU3R5bGVWYWx1ZXNbdmFsdWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkU3R5bGVWYWx1ZXNbdmFsdWVdID0gdHJ1ZTtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgIGZhbHNlLFxuICAgICAgJ1N0eWxlIHByb3BlcnR5IHZhbHVlcyBzaG91bGRuXFwndCBjb250YWluIGEgc2VtaWNvbG9uLiAnICtcbiAgICAgICdUcnkgXCIlczogJXNcIiBpbnN0ZWFkLicsXG4gICAgICBuYW1lLFxuICAgICAgdmFsdWUucmVwbGFjZShiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4sICcnKVxuICAgICkgOiBudWxsKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKi9cbiAgdmFyIHdhcm5WYWxpZFN0eWxlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBpZiAobmFtZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgd2Fybkh5cGhlbmF0ZWRTdHlsZU5hbWUobmFtZSk7XG4gICAgfSBlbHNlIGlmIChiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4udGVzdChuYW1lKSkge1xuICAgICAgd2FybkJhZFZlbmRvcmVkU3R5bGVOYW1lKG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLnRlc3QodmFsdWUpKSB7XG4gICAgICB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24obmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBPcGVyYXRpb25zIGZvciBkZWFsaW5nIHdpdGggQ1NTIHByb3BlcnRpZXMuXG4gKi9cbnZhciBDU1NQcm9wZXJ0eU9wZXJhdGlvbnMgPSB7XG5cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZXMgYSBtYXBwaW5nIG9mIHN0eWxlIHByb3BlcnRpZXMgZm9yIHVzZSBhcyBpbmxpbmUgc3R5bGVzOlxuICAgKlxuICAgKiAgID4gY3JlYXRlTWFya3VwRm9yU3R5bGVzKHt3aWR0aDogJzIwMHB4JywgaGVpZ2h0OiAwfSlcbiAgICogICBcIndpZHRoOjIwMHB4O2hlaWdodDowO1wiXG4gICAqXG4gICAqIFVuZGVmaW5lZCB2YWx1ZXMgYXJlIGlnbm9yZWQgc28gdGhhdCBkZWNsYXJhdGl2ZSBwcm9ncmFtbWluZyBpcyBlYXNpZXIuXG4gICAqIFRoZSByZXN1bHQgc2hvdWxkIGJlIEhUTUwtZXNjYXBlZCBiZWZvcmUgaW5zZXJ0aW9uIGludG8gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlc1xuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgY3JlYXRlTWFya3VwRm9yU3R5bGVzOiBmdW5jdGlvbihzdHlsZXMpIHtcbiAgICB2YXIgc2VyaWFsaXplZCA9ICcnO1xuICAgIGZvciAodmFyIHN0eWxlTmFtZSBpbiBzdHlsZXMpIHtcbiAgICAgIGlmICghc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgc3R5bGVWYWx1ZSA9IHN0eWxlc1tzdHlsZU5hbWVdO1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICB3YXJuVmFsaWRTdHlsZShzdHlsZU5hbWUsIHN0eWxlVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN0eWxlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBzZXJpYWxpemVkICs9IHByb2Nlc3NTdHlsZU5hbWUoc3R5bGVOYW1lKSArICc6JztcbiAgICAgICAgc2VyaWFsaXplZCArPSBkYW5nZXJvdXNTdHlsZVZhbHVlKHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSkgKyAnOyc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZXJpYWxpemVkIHx8IG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZhbHVlIGZvciBtdWx0aXBsZSBzdHlsZXMgb24gYSBub2RlLiAgSWYgYSB2YWx1ZSBpcyBzcGVjaWZpZWQgYXNcbiAgICogJycgKGVtcHR5IHN0cmluZyksIHRoZSBjb3JyZXNwb25kaW5nIHN0eWxlIHByb3BlcnR5IHdpbGwgYmUgdW5zZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGVzXG4gICAqL1xuICBzZXRWYWx1ZUZvclN0eWxlczogZnVuY3Rpb24obm9kZSwgc3R5bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gbm9kZS5zdHlsZTtcbiAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICBpZiAoIXN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICB3YXJuVmFsaWRTdHlsZShzdHlsZU5hbWUsIHN0eWxlc1tzdHlsZU5hbWVdKTtcbiAgICAgIH1cbiAgICAgIHZhciBzdHlsZVZhbHVlID0gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShzdHlsZU5hbWUsIHN0eWxlc1tzdHlsZU5hbWVdKTtcbiAgICAgIGlmIChzdHlsZU5hbWUgPT09ICdmbG9hdCcpIHtcbiAgICAgICAgc3R5bGVOYW1lID0gc3R5bGVGbG9hdEFjY2Vzc29yO1xuICAgICAgfVxuICAgICAgaWYgKHN0eWxlVmFsdWUpIHtcbiAgICAgICAgc3R5bGVbc3R5bGVOYW1lXSA9IHN0eWxlVmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZXhwYW5zaW9uID0gQ1NTUHJvcGVydHkuc2hvcnRoYW5kUHJvcGVydHlFeHBhbnNpb25zW3N0eWxlTmFtZV07XG4gICAgICAgIGlmIChleHBhbnNpb24pIHtcbiAgICAgICAgICAvLyBTaG9ydGhhbmQgcHJvcGVydHkgdGhhdCBJRTggd29uJ3QgbGlrZSB1bnNldHRpbmcsIHNvIHVuc2V0IGVhY2hcbiAgICAgICAgICAvLyBjb21wb25lbnQgdG8gcGxhY2F0ZSBpdFxuICAgICAgICAgIGZvciAodmFyIGluZGl2aWR1YWxTdHlsZU5hbWUgaW4gZXhwYW5zaW9uKSB7XG4gICAgICAgICAgICBzdHlsZVtpbmRpdmlkdWFsU3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZVtzdHlsZU5hbWVdID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDU1NQcm9wZXJ0eU9wZXJhdGlvbnM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgQ2FsbGJhY2tRdWV1ZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFBvb2xlZENsYXNzID0gcmVxdWlyZShcIi4vUG9vbGVkQ2xhc3NcIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHBzZXVkby1ldmVudCBtb2R1bGUgdG8gaGVscCBrZWVwIHRyYWNrIG9mIGNvbXBvbmVudHMgd2FpdGluZyB0b1xuICogYmUgbm90aWZpZWQgd2hlbiB0aGVpciBET00gcmVwcmVzZW50YXRpb25zIGFyZSBhdmFpbGFibGUgZm9yIHVzZS5cbiAqXG4gKiBUaGlzIGltcGxlbWVudHMgYFBvb2xlZENsYXNzYCwgc28geW91IHNob3VsZCBuZXZlciBuZWVkIHRvIGluc3RhbnRpYXRlIHRoaXMuXG4gKiBJbnN0ZWFkLCB1c2UgYENhbGxiYWNrUXVldWUuZ2V0UG9vbGVkKClgLlxuICpcbiAqIEBjbGFzcyBSZWFjdE1vdW50UmVhZHlcbiAqIEBpbXBsZW1lbnRzIFBvb2xlZENsYXNzXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gQ2FsbGJhY2tRdWV1ZSgpIHtcbiAgdGhpcy5fY2FsbGJhY2tzID0gbnVsbDtcbiAgdGhpcy5fY29udGV4dHMgPSBudWxsO1xufVxuXG5hc3NpZ24oQ2FsbGJhY2tRdWV1ZS5wcm90b3R5cGUsIHtcblxuICAvKipcbiAgICogRW5xdWV1ZXMgYSBjYWxsYmFjayB0byBiZSBpbnZva2VkIHdoZW4gYG5vdGlmeUFsbGAgaXMgaW52b2tlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgSW52b2tlZCB3aGVuIGBub3RpZnlBbGxgIGlzIGludm9rZWQuXG4gICAqIEBwYXJhbSB7P29iamVjdH0gY29udGV4dCBDb250ZXh0IHRvIGNhbGwgYGNhbGxiYWNrYCB3aXRoLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWU6IGZ1bmN0aW9uKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IFtdO1xuICAgIHRoaXMuX2NvbnRleHRzID0gdGhpcy5fY29udGV4dHMgfHwgW107XG4gICAgdGhpcy5fY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRoaXMuX2NvbnRleHRzLnB1c2goY29udGV4dCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZXMgYWxsIGVucXVldWVkIGNhbGxiYWNrcyBhbmQgY2xlYXJzIHRoZSBxdWV1ZS4gVGhpcyBpcyBpbnZva2VkIGFmdGVyXG4gICAqIHRoZSBET00gcmVwcmVzZW50YXRpb24gb2YgYSBjb21wb25lbnQgaGFzIGJlZW4gY3JlYXRlZCBvciB1cGRhdGVkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeUFsbDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcztcbiAgICB2YXIgY29udGV4dHMgPSB0aGlzLl9jb250ZXh0cztcbiAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICBjYWxsYmFja3MubGVuZ3RoID09PSBjb250ZXh0cy5sZW5ndGgsXG4gICAgICAgICdNaXNtYXRjaGVkIGxpc3Qgb2YgY29udGV4dHMgaW4gY2FsbGJhY2sgcXVldWUnXG4gICAgICApIDogaW52YXJpYW50KGNhbGxiYWNrcy5sZW5ndGggPT09IGNvbnRleHRzLmxlbmd0aCkpO1xuICAgICAgdGhpcy5fY2FsbGJhY2tzID0gbnVsbDtcbiAgICAgIHRoaXMuX2NvbnRleHRzID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjYWxsYmFja3NbaV0uY2FsbChjb250ZXh0c1tpXSk7XG4gICAgICB9XG4gICAgICBjYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICAgIGNvbnRleHRzLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGludGVybmFsIHF1ZXVlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9jYWxsYmFja3MgPSBudWxsO1xuICAgIHRoaXMuX2NvbnRleHRzID0gbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogYFBvb2xlZENsYXNzYCBsb29rcyBmb3IgdGhpcy5cbiAgICovXG4gIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG59KTtcblxuUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKENhbGxiYWNrUXVldWUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbGxiYWNrUXVldWU7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgQ2hhbmdlRXZlbnRQbHVnaW5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudENvbnN0YW50cyA9IHJlcXVpcmUoXCIuL0V2ZW50Q29uc3RhbnRzXCIpO1xudmFyIEV2ZW50UGx1Z2luSHViID0gcmVxdWlyZShcIi4vRXZlbnRQbHVnaW5IdWJcIik7XG52YXIgRXZlbnRQcm9wYWdhdG9ycyA9IHJlcXVpcmUoXCIuL0V2ZW50UHJvcGFnYXRvcnNcIik7XG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi9FeGVjdXRpb25FbnZpcm9ubWVudFwiKTtcbnZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKFwiLi9SZWFjdFVwZGF0ZXNcIik7XG52YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKFwiLi9TeW50aGV0aWNFdmVudFwiKTtcblxudmFyIGlzRXZlbnRTdXBwb3J0ZWQgPSByZXF1aXJlKFwiLi9pc0V2ZW50U3VwcG9ydGVkXCIpO1xudmFyIGlzVGV4dElucHV0RWxlbWVudCA9IHJlcXVpcmUoXCIuL2lzVGV4dElucHV0RWxlbWVudFwiKTtcbnZhciBrZXlPZiA9IHJlcXVpcmUoXCIuL2tleU9mXCIpO1xuXG52YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG5cbnZhciBldmVudFR5cGVzID0ge1xuICBjaGFuZ2U6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ2hhbmdlOiBudWxsfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ2hhbmdlQ2FwdHVyZTogbnVsbH0pXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFtcbiAgICAgIHRvcExldmVsVHlwZXMudG9wQmx1cixcbiAgICAgIHRvcExldmVsVHlwZXMudG9wQ2hhbmdlLFxuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BDbGljayxcbiAgICAgIHRvcExldmVsVHlwZXMudG9wRm9jdXMsXG4gICAgICB0b3BMZXZlbFR5cGVzLnRvcElucHV0LFxuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duLFxuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcCxcbiAgICAgIHRvcExldmVsVHlwZXMudG9wU2VsZWN0aW9uQ2hhbmdlXG4gICAgXVxuICB9XG59O1xuXG4vKipcbiAqIEZvciBJRSBzaGltc1xuICovXG52YXIgYWN0aXZlRWxlbWVudCA9IG51bGw7XG52YXIgYWN0aXZlRWxlbWVudElEID0gbnVsbDtcbnZhciBhY3RpdmVFbGVtZW50VmFsdWUgPSBudWxsO1xudmFyIGFjdGl2ZUVsZW1lbnRWYWx1ZVByb3AgPSBudWxsO1xuXG4vKipcbiAqIFNFQ1RJT046IGhhbmRsZSBgY2hhbmdlYCBldmVudFxuICovXG5mdW5jdGlvbiBzaG91bGRVc2VDaGFuZ2VFdmVudChlbGVtKSB7XG4gIHJldHVybiAoXG4gICAgZWxlbS5ub2RlTmFtZSA9PT0gJ1NFTEVDVCcgfHxcbiAgICAoZWxlbS5ub2RlTmFtZSA9PT0gJ0lOUFVUJyAmJiBlbGVtLnR5cGUgPT09ICdmaWxlJylcbiAgKTtcbn1cblxudmFyIGRvZXNDaGFuZ2VFdmVudEJ1YmJsZSA9IGZhbHNlO1xuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAvLyBTZWUgYGhhbmRsZUNoYW5nZWAgY29tbWVudCBiZWxvd1xuICBkb2VzQ2hhbmdlRXZlbnRCdWJibGUgPSBpc0V2ZW50U3VwcG9ydGVkKCdjaGFuZ2UnKSAmJiAoXG4gICAgKCEoJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDgpXG4gICk7XG59XG5cbmZ1bmN0aW9uIG1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGV2ZW50ID0gU3ludGhldGljRXZlbnQuZ2V0UG9vbGVkKFxuICAgIGV2ZW50VHlwZXMuY2hhbmdlLFxuICAgIGFjdGl2ZUVsZW1lbnRJRCxcbiAgICBuYXRpdmVFdmVudFxuICApO1xuICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuXG4gIC8vIElmIGNoYW5nZSBhbmQgcHJvcGVydHljaGFuZ2UgYnViYmxlZCwgd2UnZCBqdXN0IGJpbmQgdG8gaXQgbGlrZSBhbGwgdGhlXG4gIC8vIG90aGVyIGV2ZW50cyBhbmQgaGF2ZSBpdCBnbyB0aHJvdWdoIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci4gU2luY2UgaXRcbiAgLy8gZG9lc24ndCwgd2UgbWFudWFsbHkgbGlzdGVuIGZvciB0aGUgZXZlbnRzIGFuZCBzbyB3ZSBoYXZlIHRvIGVucXVldWUgYW5kXG4gIC8vIHByb2Nlc3MgdGhlIGFic3RyYWN0IGV2ZW50IG1hbnVhbGx5LlxuICAvL1xuICAvLyBCYXRjaGluZyBpcyBuZWNlc3NhcnkgaGVyZSBpbiBvcmRlciB0byBlbnN1cmUgdGhhdCBhbGwgZXZlbnQgaGFuZGxlcnMgcnVuXG4gIC8vIGJlZm9yZSB0aGUgbmV4dCByZXJlbmRlciAoaW5jbHVkaW5nIGV2ZW50IGhhbmRsZXJzIGF0dGFjaGVkIHRvIGFuY2VzdG9yXG4gIC8vIGVsZW1lbnRzIGluc3RlYWQgb2YgZGlyZWN0bHkgb24gdGhlIGlucHV0KS4gV2l0aG91dCB0aGlzLCBjb250cm9sbGVkXG4gIC8vIGNvbXBvbmVudHMgZG9uJ3Qgd29yayBwcm9wZXJseSBpbiBjb25qdW5jdGlvbiB3aXRoIGV2ZW50IGJ1YmJsaW5nIGJlY2F1c2VcbiAgLy8gdGhlIGNvbXBvbmVudCBpcyByZXJlbmRlcmVkIGFuZCB0aGUgdmFsdWUgcmV2ZXJ0ZWQgYmVmb3JlIGFsbCB0aGUgZXZlbnRcbiAgLy8gaGFuZGxlcnMgY2FuIHJ1bi4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNzA4LlxuICBSZWFjdFVwZGF0ZXMuYmF0Y2hlZFVwZGF0ZXMocnVuRXZlbnRJbkJhdGNoLCBldmVudCk7XG59XG5cbmZ1bmN0aW9uIHJ1bkV2ZW50SW5CYXRjaChldmVudCkge1xuICBFdmVudFBsdWdpbkh1Yi5lbnF1ZXVlRXZlbnRzKGV2ZW50KTtcbiAgRXZlbnRQbHVnaW5IdWIucHJvY2Vzc0V2ZW50UXVldWUoKTtcbn1cblxuZnVuY3Rpb24gc3RhcnRXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KHRhcmdldCwgdGFyZ2V0SUQpIHtcbiAgYWN0aXZlRWxlbWVudCA9IHRhcmdldDtcbiAgYWN0aXZlRWxlbWVudElEID0gdGFyZ2V0SUQ7XG4gIGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uY2hhbmdlJywgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudCk7XG59XG5cbmZ1bmN0aW9uIHN0b3BXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KCkge1xuICBpZiAoIWFjdGl2ZUVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYWN0aXZlRWxlbWVudC5kZXRhY2hFdmVudCgnb25jaGFuZ2UnLCBtYW51YWxEaXNwYXRjaENoYW5nZUV2ZW50KTtcbiAgYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gIGFjdGl2ZUVsZW1lbnRJRCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFRhcmdldElERm9yQ2hhbmdlRXZlbnQoXG4gICAgdG9wTGV2ZWxUeXBlLFxuICAgIHRvcExldmVsVGFyZ2V0LFxuICAgIHRvcExldmVsVGFyZ2V0SUQpIHtcbiAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BDaGFuZ2UpIHtcbiAgICByZXR1cm4gdG9wTGV2ZWxUYXJnZXRJRDtcbiAgfVxufVxuZnVuY3Rpb24gaGFuZGxlRXZlbnRzRm9yQ2hhbmdlRXZlbnRJRTgoXG4gICAgdG9wTGV2ZWxUeXBlLFxuICAgIHRvcExldmVsVGFyZ2V0LFxuICAgIHRvcExldmVsVGFyZ2V0SUQpIHtcbiAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BGb2N1cykge1xuICAgIC8vIHN0b3BXYXRjaGluZygpIHNob3VsZCBiZSBhIG5vb3AgaGVyZSBidXQgd2UgY2FsbCBpdCBqdXN0IGluIGNhc2Ugd2VcbiAgICAvLyBtaXNzZWQgYSBibHVyIGV2ZW50IHNvbWVob3cuXG4gICAgc3RvcFdhdGNoaW5nRm9yQ2hhbmdlRXZlbnRJRTgoKTtcbiAgICBzdGFydFdhdGNoaW5nRm9yQ2hhbmdlRXZlbnRJRTgodG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQpO1xuICB9IGVsc2UgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BCbHVyKSB7XG4gICAgc3RvcFdhdGNoaW5nRm9yQ2hhbmdlRXZlbnRJRTgoKTtcbiAgfVxufVxuXG5cbi8qKlxuICogU0VDVElPTjogaGFuZGxlIGBpbnB1dGAgZXZlbnRcbiAqL1xudmFyIGlzSW5wdXRFdmVudFN1cHBvcnRlZCA9IGZhbHNlO1xuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAvLyBJRTkgY2xhaW1zIHRvIHN1cHBvcnQgdGhlIGlucHV0IGV2ZW50IGJ1dCBmYWlscyB0byB0cmlnZ2VyIGl0IHdoZW5cbiAgLy8gZGVsZXRpbmcgdGV4dCwgc28gd2UgaWdub3JlIGl0cyBpbnB1dCBldmVudHNcbiAgaXNJbnB1dEV2ZW50U3VwcG9ydGVkID0gaXNFdmVudFN1cHBvcnRlZCgnaW5wdXQnKSAmJiAoXG4gICAgKCEoJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDkpXG4gICk7XG59XG5cbi8qKlxuICogKEZvciBvbGQgSUUuKSBSZXBsYWNlbWVudCBnZXR0ZXIvc2V0dGVyIGZvciB0aGUgYHZhbHVlYCBwcm9wZXJ0eSB0aGF0IGdldHNcbiAqIHNldCBvbiB0aGUgYWN0aXZlIGVsZW1lbnQuXG4gKi9cbnZhciBuZXdWYWx1ZVByb3AgPSAge1xuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBhY3RpdmVFbGVtZW50VmFsdWVQcm9wLmdldC5jYWxsKHRoaXMpO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgIC8vIENhc3QgdG8gYSBzdHJpbmcgc28gd2UgY2FuIGRvIGVxdWFsaXR5IGNoZWNrcy5cbiAgICBhY3RpdmVFbGVtZW50VmFsdWUgPSAnJyArIHZhbDtcbiAgICBhY3RpdmVFbGVtZW50VmFsdWVQcm9wLnNldC5jYWxsKHRoaXMsIHZhbCk7XG4gIH1cbn07XG5cbi8qKlxuICogKEZvciBvbGQgSUUuKSBTdGFydHMgdHJhY2tpbmcgcHJvcGVydHljaGFuZ2UgZXZlbnRzIG9uIHRoZSBwYXNzZWQtaW4gZWxlbWVudFxuICogYW5kIG92ZXJyaWRlIHRoZSB2YWx1ZSBwcm9wZXJ0eSBzbyB0aGF0IHdlIGNhbiBkaXN0aW5ndWlzaCB1c2VyIGV2ZW50cyBmcm9tXG4gKiB2YWx1ZSBjaGFuZ2VzIGluIEpTLlxuICovXG5mdW5jdGlvbiBzdGFydFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UodGFyZ2V0LCB0YXJnZXRJRCkge1xuICBhY3RpdmVFbGVtZW50ID0gdGFyZ2V0O1xuICBhY3RpdmVFbGVtZW50SUQgPSB0YXJnZXRJRDtcbiAgYWN0aXZlRWxlbWVudFZhbHVlID0gdGFyZ2V0LnZhbHVlO1xuICBhY3RpdmVFbGVtZW50VmFsdWVQcm9wID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICB0YXJnZXQuY29uc3RydWN0b3IucHJvdG90eXBlLFxuICAgICd2YWx1ZSdcbiAgKTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYWN0aXZlRWxlbWVudCwgJ3ZhbHVlJywgbmV3VmFsdWVQcm9wKTtcbiAgYWN0aXZlRWxlbWVudC5hdHRhY2hFdmVudCgnb25wcm9wZXJ0eWNoYW5nZScsIGhhbmRsZVByb3BlcnR5Q2hhbmdlKTtcbn1cblxuLyoqXG4gKiAoRm9yIG9sZCBJRS4pIFJlbW92ZXMgdGhlIGV2ZW50IGxpc3RlbmVycyBmcm9tIHRoZSBjdXJyZW50bHktdHJhY2tlZCBlbGVtZW50LFxuICogaWYgYW55IGV4aXN0cy5cbiAqL1xuZnVuY3Rpb24gc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKSB7XG4gIGlmICghYWN0aXZlRWxlbWVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGRlbGV0ZSByZXN0b3JlcyB0aGUgb3JpZ2luYWwgcHJvcGVydHkgZGVmaW5pdGlvblxuICBkZWxldGUgYWN0aXZlRWxlbWVudC52YWx1ZTtcbiAgYWN0aXZlRWxlbWVudC5kZXRhY2hFdmVudCgnb25wcm9wZXJ0eWNoYW5nZScsIGhhbmRsZVByb3BlcnR5Q2hhbmdlKTtcblxuICBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgYWN0aXZlRWxlbWVudElEID0gbnVsbDtcbiAgYWN0aXZlRWxlbWVudFZhbHVlID0gbnVsbDtcbiAgYWN0aXZlRWxlbWVudFZhbHVlUHJvcCA9IG51bGw7XG59XG5cbi8qKlxuICogKEZvciBvbGQgSUUuKSBIYW5kbGVzIGEgcHJvcGVydHljaGFuZ2UgZXZlbnQsIHNlbmRpbmcgYSBgY2hhbmdlYCBldmVudCBpZlxuICogdGhlIHZhbHVlIG9mIHRoZSBhY3RpdmUgZWxlbWVudCBoYXMgY2hhbmdlZC5cbiAqL1xuZnVuY3Rpb24gaGFuZGxlUHJvcGVydHlDaGFuZ2UobmF0aXZlRXZlbnQpIHtcbiAgaWYgKG5hdGl2ZUV2ZW50LnByb3BlcnR5TmFtZSAhPT0gJ3ZhbHVlJykge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgdmFsdWUgPSBuYXRpdmVFdmVudC5zcmNFbGVtZW50LnZhbHVlO1xuICBpZiAodmFsdWUgPT09IGFjdGl2ZUVsZW1lbnRWYWx1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBhY3RpdmVFbGVtZW50VmFsdWUgPSB2YWx1ZTtcblxuICBtYW51YWxEaXNwYXRjaENoYW5nZUV2ZW50KG5hdGl2ZUV2ZW50KTtcbn1cblxuLyoqXG4gKiBJZiBhIGBjaGFuZ2VgIGV2ZW50IHNob3VsZCBiZSBmaXJlZCwgcmV0dXJucyB0aGUgdGFyZ2V0J3MgSUQuXG4gKi9cbmZ1bmN0aW9uIGdldFRhcmdldElERm9ySW5wdXRFdmVudChcbiAgICB0b3BMZXZlbFR5cGUsXG4gICAgdG9wTGV2ZWxUYXJnZXQsXG4gICAgdG9wTGV2ZWxUYXJnZXRJRCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcElucHV0KSB7XG4gICAgLy8gSW4gbW9kZXJuIGJyb3dzZXJzIChpLmUuLCBub3QgSUU4IG9yIElFOSksIHRoZSBpbnB1dCBldmVudCBpcyBleGFjdGx5XG4gICAgLy8gd2hhdCB3ZSB3YW50IHNvIGZhbGwgdGhyb3VnaCBoZXJlIGFuZCB0cmlnZ2VyIGFuIGFic3RyYWN0IGV2ZW50XG4gICAgcmV0dXJuIHRvcExldmVsVGFyZ2V0SUQ7XG4gIH1cbn1cblxuLy8gRm9yIElFOCBhbmQgSUU5LlxuZnVuY3Rpb24gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudElFKFxuICAgIHRvcExldmVsVHlwZSxcbiAgICB0b3BMZXZlbFRhcmdldCxcbiAgICB0b3BMZXZlbFRhcmdldElEKSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wRm9jdXMpIHtcbiAgICAvLyBJbiBJRTgsIHdlIGNhbiBjYXB0dXJlIGFsbW9zdCBhbGwgLnZhbHVlIGNoYW5nZXMgYnkgYWRkaW5nIGFcbiAgICAvLyBwcm9wZXJ0eWNoYW5nZSBoYW5kbGVyIGFuZCBsb29raW5nIGZvciBldmVudHMgd2l0aCBwcm9wZXJ0eU5hbWVcbiAgICAvLyBlcXVhbCB0byAndmFsdWUnXG4gICAgLy8gSW4gSUU5LCBwcm9wZXJ0eWNoYW5nZSBmaXJlcyBmb3IgbW9zdCBpbnB1dCBldmVudHMgYnV0IGlzIGJ1Z2d5IGFuZFxuICAgIC8vIGRvZXNuJ3QgZmlyZSB3aGVuIHRleHQgaXMgZGVsZXRlZCwgYnV0IGNvbnZlbmllbnRseSwgc2VsZWN0aW9uY2hhbmdlXG4gICAgLy8gYXBwZWFycyB0byBmaXJlIGluIGFsbCBvZiB0aGUgcmVtYWluaW5nIGNhc2VzIHNvIHdlIGNhdGNoIHRob3NlIGFuZFxuICAgIC8vIGZvcndhcmQgdGhlIGV2ZW50IGlmIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZFxuICAgIC8vIEluIGVpdGhlciBjYXNlLCB3ZSBkb24ndCB3YW50IHRvIGNhbGwgdGhlIGV2ZW50IGhhbmRsZXIgaWYgdGhlIHZhbHVlXG4gICAgLy8gaXMgY2hhbmdlZCBmcm9tIEpTIHNvIHdlIHJlZGVmaW5lIGEgc2V0dGVyIGZvciBgLnZhbHVlYCB0aGF0IHVwZGF0ZXNcbiAgICAvLyBvdXIgYWN0aXZlRWxlbWVudFZhbHVlIHZhcmlhYmxlLCBhbGxvd2luZyB1cyB0byBpZ25vcmUgdGhvc2UgY2hhbmdlc1xuICAgIC8vXG4gICAgLy8gc3RvcFdhdGNoaW5nKCkgc2hvdWxkIGJlIGEgbm9vcCBoZXJlIGJ1dCB3ZSBjYWxsIGl0IGp1c3QgaW4gY2FzZSB3ZVxuICAgIC8vIG1pc3NlZCBhIGJsdXIgZXZlbnQgc29tZWhvdy5cbiAgICBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpO1xuICAgIHN0YXJ0V2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSh0b3BMZXZlbFRhcmdldCwgdG9wTGV2ZWxUYXJnZXRJRCk7XG4gIH0gZWxzZSBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEJsdXIpIHtcbiAgICBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpO1xuICB9XG59XG5cbi8vIEZvciBJRTggYW5kIElFOS5cbmZ1bmN0aW9uIGdldFRhcmdldElERm9ySW5wdXRFdmVudElFKFxuICAgIHRvcExldmVsVHlwZSxcbiAgICB0b3BMZXZlbFRhcmdldCxcbiAgICB0b3BMZXZlbFRhcmdldElEKSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wU2VsZWN0aW9uQ2hhbmdlIHx8XG4gICAgICB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wS2V5VXAgfHxcbiAgICAgIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duKSB7XG4gICAgLy8gT24gdGhlIHNlbGVjdGlvbmNoYW5nZSBldmVudCwgdGhlIHRhcmdldCBpcyBqdXN0IGRvY3VtZW50IHdoaWNoIGlzbid0XG4gICAgLy8gaGVscGZ1bCBmb3IgdXMgc28ganVzdCBjaGVjayBhY3RpdmVFbGVtZW50IGluc3RlYWQuXG4gICAgLy9cbiAgICAvLyA5OSUgb2YgdGhlIHRpbWUsIGtleWRvd24gYW5kIGtleXVwIGFyZW4ndCBuZWNlc3NhcnkuIElFOCBmYWlscyB0byBmaXJlXG4gICAgLy8gcHJvcGVydHljaGFuZ2Ugb24gdGhlIGZpcnN0IGlucHV0IGV2ZW50IGFmdGVyIHNldHRpbmcgYHZhbHVlYCBmcm9tIGFcbiAgICAvLyBzY3JpcHQgYW5kIGZpcmVzIG9ubHkga2V5ZG93biwga2V5cHJlc3MsIGtleXVwLiBDYXRjaGluZyBrZXl1cCB1c3VhbGx5XG4gICAgLy8gZ2V0cyBpdCBhbmQgY2F0Y2hpbmcga2V5ZG93biBsZXRzIHVzIGZpcmUgYW4gZXZlbnQgZm9yIHRoZSBmaXJzdFxuICAgIC8vIGtleXN0cm9rZSBpZiB1c2VyIGRvZXMgYSBrZXkgcmVwZWF0IChpdCdsbCBiZSBhIGxpdHRsZSBkZWxheWVkOiByaWdodFxuICAgIC8vIGJlZm9yZSB0aGUgc2Vjb25kIGtleXN0cm9rZSkuIE90aGVyIGlucHV0IG1ldGhvZHMgKGUuZy4sIHBhc3RlKSBzZWVtIHRvXG4gICAgLy8gZmlyZSBzZWxlY3Rpb25jaGFuZ2Ugbm9ybWFsbHkuXG4gICAgaWYgKGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC52YWx1ZSAhPT0gYWN0aXZlRWxlbWVudFZhbHVlKSB7XG4gICAgICBhY3RpdmVFbGVtZW50VmFsdWUgPSBhY3RpdmVFbGVtZW50LnZhbHVlO1xuICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnRJRDtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIFNFQ1RJT046IGhhbmRsZSBgY2xpY2tgIGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHNob3VsZFVzZUNsaWNrRXZlbnQoZWxlbSkge1xuICAvLyBVc2UgdGhlIGBjbGlja2AgZXZlbnQgdG8gZGV0ZWN0IGNoYW5nZXMgdG8gY2hlY2tib3ggYW5kIHJhZGlvIGlucHV0cy5cbiAgLy8gVGhpcyBhcHByb2FjaCB3b3JrcyBhY3Jvc3MgYWxsIGJyb3dzZXJzLCB3aGVyZWFzIGBjaGFuZ2VgIGRvZXMgbm90IGZpcmVcbiAgLy8gdW50aWwgYGJsdXJgIGluIElFOC5cbiAgcmV0dXJuIChcbiAgICBlbGVtLm5vZGVOYW1lID09PSAnSU5QVVQnICYmXG4gICAgKGVsZW0udHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBlbGVtLnR5cGUgPT09ICdyYWRpbycpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFRhcmdldElERm9yQ2xpY2tFdmVudChcbiAgICB0b3BMZXZlbFR5cGUsXG4gICAgdG9wTGV2ZWxUYXJnZXQsXG4gICAgdG9wTGV2ZWxUYXJnZXRJRCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcENsaWNrKSB7XG4gICAgcmV0dXJuIHRvcExldmVsVGFyZ2V0SUQ7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIHBsdWdpbiBjcmVhdGVzIGFuIGBvbkNoYW5nZWAgZXZlbnQgdGhhdCBub3JtYWxpemVzIGNoYW5nZSBldmVudHNcbiAqIGFjcm9zcyBmb3JtIGVsZW1lbnRzLiBUaGlzIGV2ZW50IGZpcmVzIGF0IGEgdGltZSB3aGVuIGl0J3MgcG9zc2libGUgdG9cbiAqIGNoYW5nZSB0aGUgZWxlbWVudCdzIHZhbHVlIHdpdGhvdXQgc2VlaW5nIGEgZmxpY2tlci5cbiAqXG4gKiBTdXBwb3J0ZWQgZWxlbWVudHMgYXJlOlxuICogLSBpbnB1dCAoc2VlIGBpc1RleHRJbnB1dEVsZW1lbnRgKVxuICogLSB0ZXh0YXJlYVxuICogLSBzZWxlY3RcbiAqL1xudmFyIENoYW5nZUV2ZW50UGx1Z2luID0ge1xuXG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gdG9wTGV2ZWxUYXJnZXQgVGhlIGxpc3RlbmluZyBjb21wb25lbnQgcm9vdCBub2RlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUYXJnZXRJRCBJRCBvZiBgdG9wTGV2ZWxUYXJnZXRgLlxuICAgKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4geyp9IEFuIGFjY3VtdWxhdGlvbiBvZiBzeW50aGV0aWMgZXZlbnRzLlxuICAgKiBAc2VlIHtFdmVudFBsdWdpbkh1Yi5leHRyYWN0RXZlbnRzfVxuICAgKi9cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24oXG4gICAgICB0b3BMZXZlbFR5cGUsXG4gICAgICB0b3BMZXZlbFRhcmdldCxcbiAgICAgIHRvcExldmVsVGFyZ2V0SUQsXG4gICAgICBuYXRpdmVFdmVudCkge1xuXG4gICAgdmFyIGdldFRhcmdldElERnVuYywgaGFuZGxlRXZlbnRGdW5jO1xuICAgIGlmIChzaG91bGRVc2VDaGFuZ2VFdmVudCh0b3BMZXZlbFRhcmdldCkpIHtcbiAgICAgIGlmIChkb2VzQ2hhbmdlRXZlbnRCdWJibGUpIHtcbiAgICAgICAgZ2V0VGFyZ2V0SURGdW5jID0gZ2V0VGFyZ2V0SURGb3JDaGFuZ2VFdmVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZUV2ZW50RnVuYyA9IGhhbmRsZUV2ZW50c0ZvckNoYW5nZUV2ZW50SUU4O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KHRvcExldmVsVGFyZ2V0KSkge1xuICAgICAgaWYgKGlzSW5wdXRFdmVudFN1cHBvcnRlZCkge1xuICAgICAgICBnZXRUYXJnZXRJREZ1bmMgPSBnZXRUYXJnZXRJREZvcklucHV0RXZlbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXRUYXJnZXRJREZ1bmMgPSBnZXRUYXJnZXRJREZvcklucHV0RXZlbnRJRTtcbiAgICAgICAgaGFuZGxlRXZlbnRGdW5jID0gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudElFO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2hvdWxkVXNlQ2xpY2tFdmVudCh0b3BMZXZlbFRhcmdldCkpIHtcbiAgICAgIGdldFRhcmdldElERnVuYyA9IGdldFRhcmdldElERm9yQ2xpY2tFdmVudDtcbiAgICB9XG5cbiAgICBpZiAoZ2V0VGFyZ2V0SURGdW5jKSB7XG4gICAgICB2YXIgdGFyZ2V0SUQgPSBnZXRUYXJnZXRJREZ1bmMoXG4gICAgICAgIHRvcExldmVsVHlwZSxcbiAgICAgICAgdG9wTGV2ZWxUYXJnZXQsXG4gICAgICAgIHRvcExldmVsVGFyZ2V0SURcbiAgICAgICk7XG4gICAgICBpZiAodGFyZ2V0SUQpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gU3ludGhldGljRXZlbnQuZ2V0UG9vbGVkKFxuICAgICAgICAgIGV2ZW50VHlwZXMuY2hhbmdlLFxuICAgICAgICAgIHRhcmdldElELFxuICAgICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICAgICk7XG4gICAgICAgIEV2ZW50UHJvcGFnYXRvcnMuYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFuZGxlRXZlbnRGdW5jKSB7XG4gICAgICBoYW5kbGVFdmVudEZ1bmMoXG4gICAgICAgIHRvcExldmVsVHlwZSxcbiAgICAgICAgdG9wTGV2ZWxUYXJnZXQsXG4gICAgICAgIHRvcExldmVsVGFyZ2V0SURcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2hhbmdlRXZlbnRQbHVnaW47XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgQ2xpZW50UmVhY3RSb290SW5kZXhcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgbmV4dFJlYWN0Um9vdEluZGV4ID0gMDtcblxudmFyIENsaWVudFJlYWN0Um9vdEluZGV4ID0ge1xuICBjcmVhdGVSZWFjdFJvb3RJbmRleDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5leHRSZWFjdFJvb3RJbmRleCsrO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENsaWVudFJlYWN0Um9vdEluZGV4O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIERPTUNoaWxkcmVuT3BlcmF0aW9uc1xuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBEYW5nZXIgPSByZXF1aXJlKFwiLi9EYW5nZXJcIik7XG52YXIgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMgPSByZXF1aXJlKFwiLi9SZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlc1wiKTtcblxudmFyIHNldFRleHRDb250ZW50ID0gcmVxdWlyZShcIi4vc2V0VGV4dENvbnRlbnRcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xuXG4vKipcbiAqIEluc2VydHMgYGNoaWxkTm9kZWAgYXMgYSBjaGlsZCBvZiBgcGFyZW50Tm9kZWAgYXQgdGhlIGBpbmRleGAuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnROb2RlIFBhcmVudCBub2RlIGluIHdoaWNoIHRvIGluc2VydC5cbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY2hpbGROb2RlIENoaWxkIG5vZGUgdG8gaW5zZXJ0LlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4IGF0IHdoaWNoIHRvIGluc2VydCB0aGUgY2hpbGQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gaW5zZXJ0Q2hpbGRBdChwYXJlbnROb2RlLCBjaGlsZE5vZGUsIGluZGV4KSB7XG4gIC8vIEJ5IGV4cGxvaXRpbmcgYXJyYXlzIHJldHVybmluZyBgdW5kZWZpbmVkYCBmb3IgYW4gdW5kZWZpbmVkIGluZGV4LCB3ZSBjYW5cbiAgLy8gcmVseSBleGNsdXNpdmVseSBvbiBgaW5zZXJ0QmVmb3JlKG5vZGUsIG51bGwpYCBpbnN0ZWFkIG9mIGFsc28gdXNpbmdcbiAgLy8gYGFwcGVuZENoaWxkKG5vZGUpYC4gSG93ZXZlciwgdXNpbmcgYHVuZGVmaW5lZGAgaXMgbm90IGFsbG93ZWQgYnkgYWxsXG4gIC8vIGJyb3dzZXJzIHNvIHdlIG11c3QgcmVwbGFjZSBpdCB3aXRoIGBudWxsYC5cbiAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoXG4gICAgY2hpbGROb2RlLFxuICAgIHBhcmVudE5vZGUuY2hpbGROb2Rlc1tpbmRleF0gfHwgbnVsbFxuICApO1xufVxuXG4vKipcbiAqIE9wZXJhdGlvbnMgZm9yIHVwZGF0aW5nIHdpdGggRE9NIGNoaWxkcmVuLlxuICovXG52YXIgRE9NQ2hpbGRyZW5PcGVyYXRpb25zID0ge1xuXG4gIGRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwOiBEYW5nZXIuZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAsXG5cbiAgdXBkYXRlVGV4dENvbnRlbnQ6IHNldFRleHRDb250ZW50LFxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgY29tcG9uZW50J3MgY2hpbGRyZW4gYnkgcHJvY2Vzc2luZyBhIHNlcmllcyBvZiB1cGRhdGVzLiBUaGVcbiAgICogdXBkYXRlIGNvbmZpZ3VyYXRpb25zIGFyZSBlYWNoIGV4cGVjdGVkIHRvIGhhdmUgYSBgcGFyZW50Tm9kZWAgcHJvcGVydHkuXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXk8b2JqZWN0Pn0gdXBkYXRlcyBMaXN0IG9mIHVwZGF0ZSBjb25maWd1cmF0aW9ucy5cbiAgICogQHBhcmFtIHthcnJheTxzdHJpbmc+fSBtYXJrdXBMaXN0IExpc3Qgb2YgbWFya3VwIHN0cmluZ3MuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJvY2Vzc1VwZGF0ZXM6IGZ1bmN0aW9uKHVwZGF0ZXMsIG1hcmt1cExpc3QpIHtcbiAgICB2YXIgdXBkYXRlO1xuICAgIC8vIE1hcHBpbmcgZnJvbSBwYXJlbnQgSURzIHRvIGluaXRpYWwgY2hpbGQgb3JkZXJpbmdzLlxuICAgIHZhciBpbml0aWFsQ2hpbGRyZW4gPSBudWxsO1xuICAgIC8vIExpc3Qgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGJlIG1vdmVkIG9yIHJlbW92ZWQuXG4gICAgdmFyIHVwZGF0ZWRDaGlsZHJlbiA9IG51bGw7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVwZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVwZGF0ZSA9IHVwZGF0ZXNbaV07XG4gICAgICBpZiAodXBkYXRlLnR5cGUgPT09IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLk1PVkVfRVhJU1RJTkcgfHxcbiAgICAgICAgICB1cGRhdGUudHlwZSA9PT0gUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuUkVNT1ZFX05PREUpIHtcbiAgICAgICAgdmFyIHVwZGF0ZWRJbmRleCA9IHVwZGF0ZS5mcm9tSW5kZXg7XG4gICAgICAgIHZhciB1cGRhdGVkQ2hpbGQgPSB1cGRhdGUucGFyZW50Tm9kZS5jaGlsZE5vZGVzW3VwZGF0ZWRJbmRleF07XG4gICAgICAgIHZhciBwYXJlbnRJRCA9IHVwZGF0ZS5wYXJlbnRJRDtcblxuICAgICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICAgIHVwZGF0ZWRDaGlsZCxcbiAgICAgICAgICAncHJvY2Vzc1VwZGF0ZXMoKTogVW5hYmxlIHRvIGZpbmQgY2hpbGQgJXMgb2YgZWxlbWVudC4gVGhpcyAnICtcbiAgICAgICAgICAncHJvYmFibHkgbWVhbnMgdGhlIERPTSB3YXMgdW5leHBlY3RlZGx5IG11dGF0ZWQgKGUuZy4sIGJ5IHRoZSAnICtcbiAgICAgICAgICAnYnJvd3NlciksIHVzdWFsbHkgZHVlIHRvIGZvcmdldHRpbmcgYSA8dGJvZHk+IHdoZW4gdXNpbmcgdGFibGVzLCAnICtcbiAgICAgICAgICAnbmVzdGluZyB0YWdzIGxpa2UgPGZvcm0+LCA8cD4sIG9yIDxhPiwgb3IgdXNpbmcgbm9uLVNWRyBlbGVtZW50cyAnICtcbiAgICAgICAgICAnaW4gYW4gPHN2Zz4gcGFyZW50LiBUcnkgaW5zcGVjdGluZyB0aGUgY2hpbGQgbm9kZXMgb2YgdGhlIGVsZW1lbnQgJyArXG4gICAgICAgICAgJ3dpdGggUmVhY3QgSUQgYCVzYC4nLFxuICAgICAgICAgIHVwZGF0ZWRJbmRleCxcbiAgICAgICAgICBwYXJlbnRJRFxuICAgICAgICApIDogaW52YXJpYW50KHVwZGF0ZWRDaGlsZCkpO1xuXG4gICAgICAgIGluaXRpYWxDaGlsZHJlbiA9IGluaXRpYWxDaGlsZHJlbiB8fCB7fTtcbiAgICAgICAgaW5pdGlhbENoaWxkcmVuW3BhcmVudElEXSA9IGluaXRpYWxDaGlsZHJlbltwYXJlbnRJRF0gfHwgW107XG4gICAgICAgIGluaXRpYWxDaGlsZHJlbltwYXJlbnRJRF1bdXBkYXRlZEluZGV4XSA9IHVwZGF0ZWRDaGlsZDtcblxuICAgICAgICB1cGRhdGVkQ2hpbGRyZW4gPSB1cGRhdGVkQ2hpbGRyZW4gfHwgW107XG4gICAgICAgIHVwZGF0ZWRDaGlsZHJlbi5wdXNoKHVwZGF0ZWRDaGlsZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlbmRlcmVkTWFya3VwID0gRGFuZ2VyLmRhbmdlcm91c2x5UmVuZGVyTWFya3VwKG1hcmt1cExpc3QpO1xuXG4gICAgLy8gUmVtb3ZlIHVwZGF0ZWQgY2hpbGRyZW4gZmlyc3Qgc28gdGhhdCBgdG9JbmRleGAgaXMgY29uc2lzdGVudC5cbiAgICBpZiAodXBkYXRlZENoaWxkcmVuKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHVwZGF0ZWRDaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICB1cGRhdGVkQ2hpbGRyZW5bal0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh1cGRhdGVkQ2hpbGRyZW5bal0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdXBkYXRlcy5sZW5ndGg7IGsrKykge1xuICAgICAgdXBkYXRlID0gdXBkYXRlc1trXTtcbiAgICAgIHN3aXRjaCAodXBkYXRlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5JTlNFUlRfTUFSS1VQOlxuICAgICAgICAgIGluc2VydENoaWxkQXQoXG4gICAgICAgICAgICB1cGRhdGUucGFyZW50Tm9kZSxcbiAgICAgICAgICAgIHJlbmRlcmVkTWFya3VwW3VwZGF0ZS5tYXJrdXBJbmRleF0sXG4gICAgICAgICAgICB1cGRhdGUudG9JbmRleFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuTU9WRV9FWElTVElORzpcbiAgICAgICAgICBpbnNlcnRDaGlsZEF0KFxuICAgICAgICAgICAgdXBkYXRlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICBpbml0aWFsQ2hpbGRyZW5bdXBkYXRlLnBhcmVudElEXVt1cGRhdGUuZnJvbUluZGV4XSxcbiAgICAgICAgICAgIHVwZGF0ZS50b0luZGV4XG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5URVhUX0NPTlRFTlQ6XG4gICAgICAgICAgc2V0VGV4dENvbnRlbnQoXG4gICAgICAgICAgICB1cGRhdGUucGFyZW50Tm9kZSxcbiAgICAgICAgICAgIHVwZGF0ZS50ZXh0Q29udGVudFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuUkVNT1ZFX05PREU6XG4gICAgICAgICAgLy8gQWxyZWFkeSByZW1vdmVkIGJ5IHRoZSBmb3ItbG9vcCBhYm92ZS5cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBET01DaGlsZHJlbk9wZXJhdGlvbnM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRE9NUHJvcGVydHlcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuLypqc2xpbnQgYml0d2lzZTogdHJ1ZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG5cbmZ1bmN0aW9uIGNoZWNrTWFzayh2YWx1ZSwgYml0bWFzaykge1xuICByZXR1cm4gKHZhbHVlICYgYml0bWFzaykgPT09IGJpdG1hc2s7XG59XG5cbnZhciBET01Qcm9wZXJ0eUluamVjdGlvbiA9IHtcbiAgLyoqXG4gICAqIE1hcHBpbmcgZnJvbSBub3JtYWxpemVkLCBjYW1lbGNhc2VkIHByb3BlcnR5IG5hbWVzIHRvIGEgY29uZmlndXJhdGlvbiB0aGF0XG4gICAqIHNwZWNpZmllcyBob3cgdGhlIGFzc29jaWF0ZWQgRE9NIHByb3BlcnR5IHNob3VsZCBiZSBhY2Nlc3NlZCBvciByZW5kZXJlZC5cbiAgICovXG4gIE1VU1RfVVNFX0FUVFJJQlVURTogMHgxLFxuICBNVVNUX1VTRV9QUk9QRVJUWTogMHgyLFxuICBIQVNfU0lERV9FRkZFQ1RTOiAweDQsXG4gIEhBU19CT09MRUFOX1ZBTFVFOiAweDgsXG4gIEhBU19OVU1FUklDX1ZBTFVFOiAweDEwLFxuICBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRTogMHgyMCB8IDB4MTAsXG4gIEhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUU6IDB4NDAsXG5cbiAgLyoqXG4gICAqIEluamVjdCBzb21lIHNwZWNpYWxpemVkIGtub3dsZWRnZSBhYm91dCB0aGUgRE9NLiBUaGlzIHRha2VzIGEgY29uZmlnIG9iamVjdFxuICAgKiB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICpcbiAgICogaXNDdXN0b21BdHRyaWJ1dGU6IGZ1bmN0aW9uIHRoYXQgZ2l2ZW4gYW4gYXR0cmlidXRlIG5hbWUgd2lsbCByZXR1cm4gdHJ1ZVxuICAgKiBpZiBpdCBjYW4gYmUgaW5zZXJ0ZWQgaW50byB0aGUgRE9NIHZlcmJhdGltLiBVc2VmdWwgZm9yIGRhdGEtKiBvciBhcmlhLSpcbiAgICogYXR0cmlidXRlcyB3aGVyZSBpdCdzIGltcG9zc2libGUgdG8gZW51bWVyYXRlIGFsbCBvZiB0aGUgcG9zc2libGVcbiAgICogYXR0cmlidXRlIG5hbWVzLFxuICAgKlxuICAgKiBQcm9wZXJ0aWVzOiBvYmplY3QgbWFwcGluZyBET00gcHJvcGVydHkgbmFtZSB0byBvbmUgb2YgdGhlXG4gICAqIERPTVByb3BlcnR5SW5qZWN0aW9uIGNvbnN0YW50cyBvciBudWxsLiBJZiB5b3VyIGF0dHJpYnV0ZSBpc24ndCBpbiBoZXJlLFxuICAgKiBpdCB3b24ndCBnZXQgd3JpdHRlbiB0byB0aGUgRE9NLlxuICAgKlxuICAgKiBET01BdHRyaWJ1dGVOYW1lczogb2JqZWN0IG1hcHBpbmcgUmVhY3QgYXR0cmlidXRlIG5hbWUgdG8gdGhlIERPTVxuICAgKiBhdHRyaWJ1dGUgbmFtZS4gQXR0cmlidXRlIG5hbWVzIG5vdCBzcGVjaWZpZWQgdXNlIHRoZSAqKmxvd2VyY2FzZSoqXG4gICAqIG5vcm1hbGl6ZWQgbmFtZS5cbiAgICpcbiAgICogRE9NUHJvcGVydHlOYW1lczogc2ltaWxhciB0byBET01BdHRyaWJ1dGVOYW1lcyBidXQgZm9yIERPTSBwcm9wZXJ0aWVzLlxuICAgKiBQcm9wZXJ0eSBuYW1lcyBub3Qgc3BlY2lmaWVkIHVzZSB0aGUgbm9ybWFsaXplZCBuYW1lLlxuICAgKlxuICAgKiBET01NdXRhdGlvbk1ldGhvZHM6IFByb3BlcnRpZXMgdGhhdCByZXF1aXJlIHNwZWNpYWwgbXV0YXRpb24gbWV0aG9kcy4gSWZcbiAgICogYHZhbHVlYCBpcyB1bmRlZmluZWQsIHRoZSBtdXRhdGlvbiBtZXRob2Qgc2hvdWxkIHVuc2V0IHRoZSBwcm9wZXJ0eS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGRvbVByb3BlcnR5Q29uZmlnIHRoZSBjb25maWcgYXMgZGVzY3JpYmVkIGFib3ZlLlxuICAgKi9cbiAgaW5qZWN0RE9NUHJvcGVydHlDb25maWc6IGZ1bmN0aW9uKGRvbVByb3BlcnR5Q29uZmlnKSB7XG4gICAgdmFyIFByb3BlcnRpZXMgPSBkb21Qcm9wZXJ0eUNvbmZpZy5Qcm9wZXJ0aWVzIHx8IHt9O1xuICAgIHZhciBET01BdHRyaWJ1dGVOYW1lcyA9IGRvbVByb3BlcnR5Q29uZmlnLkRPTUF0dHJpYnV0ZU5hbWVzIHx8IHt9O1xuICAgIHZhciBET01Qcm9wZXJ0eU5hbWVzID0gZG9tUHJvcGVydHlDb25maWcuRE9NUHJvcGVydHlOYW1lcyB8fCB7fTtcbiAgICB2YXIgRE9NTXV0YXRpb25NZXRob2RzID0gZG9tUHJvcGVydHlDb25maWcuRE9NTXV0YXRpb25NZXRob2RzIHx8IHt9O1xuXG4gICAgaWYgKGRvbVByb3BlcnR5Q29uZmlnLmlzQ3VzdG9tQXR0cmlidXRlKSB7XG4gICAgICBET01Qcm9wZXJ0eS5faXNDdXN0b21BdHRyaWJ1dGVGdW5jdGlvbnMucHVzaChcbiAgICAgICAgZG9tUHJvcGVydHlDb25maWcuaXNDdXN0b21BdHRyaWJ1dGVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gUHJvcGVydGllcykge1xuICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgICAgIURPTVByb3BlcnR5LmlzU3RhbmRhcmROYW1lLmhhc093blByb3BlcnR5KHByb3BOYW1lKSxcbiAgICAgICAgJ2luamVjdERPTVByb3BlcnR5Q29uZmlnKC4uLik6IFlvdVxcJ3JlIHRyeWluZyB0byBpbmplY3QgRE9NIHByb3BlcnR5ICcgK1xuICAgICAgICAnXFwnJXNcXCcgd2hpY2ggaGFzIGFscmVhZHkgYmVlbiBpbmplY3RlZC4gWW91IG1heSBiZSBhY2NpZGVudGFsbHkgJyArXG4gICAgICAgICdpbmplY3RpbmcgdGhlIHNhbWUgRE9NIHByb3BlcnR5IGNvbmZpZyB0d2ljZSwgb3IgeW91IG1heSBiZSAnICtcbiAgICAgICAgJ2luamVjdGluZyB0d28gY29uZmlncyB0aGF0IGhhdmUgY29uZmxpY3RpbmcgcHJvcGVydHkgbmFtZXMuJyxcbiAgICAgICAgcHJvcE5hbWVcbiAgICAgICkgOiBpbnZhcmlhbnQoIURPTVByb3BlcnR5LmlzU3RhbmRhcmROYW1lLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkpO1xuXG4gICAgICBET01Qcm9wZXJ0eS5pc1N0YW5kYXJkTmFtZVtwcm9wTmFtZV0gPSB0cnVlO1xuXG4gICAgICB2YXIgbG93ZXJDYXNlZCA9IHByb3BOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBET01Qcm9wZXJ0eS5nZXRQb3NzaWJsZVN0YW5kYXJkTmFtZVtsb3dlckNhc2VkXSA9IHByb3BOYW1lO1xuXG4gICAgICBpZiAoRE9NQXR0cmlidXRlTmFtZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gRE9NQXR0cmlidXRlTmFtZXNbcHJvcE5hbWVdO1xuICAgICAgICBET01Qcm9wZXJ0eS5nZXRQb3NzaWJsZVN0YW5kYXJkTmFtZVthdHRyaWJ1dGVOYW1lXSA9IHByb3BOYW1lO1xuICAgICAgICBET01Qcm9wZXJ0eS5nZXRBdHRyaWJ1dGVOYW1lW3Byb3BOYW1lXSA9IGF0dHJpYnV0ZU5hbWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBET01Qcm9wZXJ0eS5nZXRBdHRyaWJ1dGVOYW1lW3Byb3BOYW1lXSA9IGxvd2VyQ2FzZWQ7XG4gICAgICB9XG5cbiAgICAgIERPTVByb3BlcnR5LmdldFByb3BlcnR5TmFtZVtwcm9wTmFtZV0gPVxuICAgICAgICBET01Qcm9wZXJ0eU5hbWVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSA/XG4gICAgICAgICAgRE9NUHJvcGVydHlOYW1lc1twcm9wTmFtZV0gOlxuICAgICAgICAgIHByb3BOYW1lO1xuXG4gICAgICBpZiAoRE9NTXV0YXRpb25NZXRob2RzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBET01Qcm9wZXJ0eS5nZXRNdXRhdGlvbk1ldGhvZFtwcm9wTmFtZV0gPSBET01NdXRhdGlvbk1ldGhvZHNbcHJvcE5hbWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRE9NUHJvcGVydHkuZ2V0TXV0YXRpb25NZXRob2RbcHJvcE5hbWVdID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb3BDb25maWcgPSBQcm9wZXJ0aWVzW3Byb3BOYW1lXTtcbiAgICAgIERPTVByb3BlcnR5Lm11c3RVc2VBdHRyaWJ1dGVbcHJvcE5hbWVdID1cbiAgICAgICAgY2hlY2tNYXNrKHByb3BDb25maWcsIERPTVByb3BlcnR5SW5qZWN0aW9uLk1VU1RfVVNFX0FUVFJJQlVURSk7XG4gICAgICBET01Qcm9wZXJ0eS5tdXN0VXNlUHJvcGVydHlbcHJvcE5hbWVdID1cbiAgICAgICAgY2hlY2tNYXNrKHByb3BDb25maWcsIERPTVByb3BlcnR5SW5qZWN0aW9uLk1VU1RfVVNFX1BST1BFUlRZKTtcbiAgICAgIERPTVByb3BlcnR5Lmhhc1NpZGVFZmZlY3RzW3Byb3BOYW1lXSA9XG4gICAgICAgIGNoZWNrTWFzayhwcm9wQ29uZmlnLCBET01Qcm9wZXJ0eUluamVjdGlvbi5IQVNfU0lERV9FRkZFQ1RTKTtcbiAgICAgIERPTVByb3BlcnR5Lmhhc0Jvb2xlYW5WYWx1ZVtwcm9wTmFtZV0gPVxuICAgICAgICBjaGVja01hc2socHJvcENvbmZpZywgRE9NUHJvcGVydHlJbmplY3Rpb24uSEFTX0JPT0xFQU5fVkFMVUUpO1xuICAgICAgRE9NUHJvcGVydHkuaGFzTnVtZXJpY1ZhbHVlW3Byb3BOYW1lXSA9XG4gICAgICAgIGNoZWNrTWFzayhwcm9wQ29uZmlnLCBET01Qcm9wZXJ0eUluamVjdGlvbi5IQVNfTlVNRVJJQ19WQUxVRSk7XG4gICAgICBET01Qcm9wZXJ0eS5oYXNQb3NpdGl2ZU51bWVyaWNWYWx1ZVtwcm9wTmFtZV0gPVxuICAgICAgICBjaGVja01hc2socHJvcENvbmZpZywgRE9NUHJvcGVydHlJbmplY3Rpb24uSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUUpO1xuICAgICAgRE9NUHJvcGVydHkuaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZVtwcm9wTmFtZV0gPVxuICAgICAgICBjaGVja01hc2socHJvcENvbmZpZywgRE9NUHJvcGVydHlJbmplY3Rpb24uSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRSk7XG5cbiAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAgICFET01Qcm9wZXJ0eS5tdXN0VXNlQXR0cmlidXRlW3Byb3BOYW1lXSB8fFxuICAgICAgICAgICFET01Qcm9wZXJ0eS5tdXN0VXNlUHJvcGVydHlbcHJvcE5hbWVdLFxuICAgICAgICAnRE9NUHJvcGVydHk6IENhbm5vdCByZXF1aXJlIHVzaW5nIGJvdGggYXR0cmlidXRlIGFuZCBwcm9wZXJ0eTogJXMnLFxuICAgICAgICBwcm9wTmFtZVxuICAgICAgKSA6IGludmFyaWFudCghRE9NUHJvcGVydHkubXVzdFVzZUF0dHJpYnV0ZVtwcm9wTmFtZV0gfHxcbiAgICAgICAgIURPTVByb3BlcnR5Lm11c3RVc2VQcm9wZXJ0eVtwcm9wTmFtZV0pKTtcbiAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAgIERPTVByb3BlcnR5Lm11c3RVc2VQcm9wZXJ0eVtwcm9wTmFtZV0gfHxcbiAgICAgICAgICAhRE9NUHJvcGVydHkuaGFzU2lkZUVmZmVjdHNbcHJvcE5hbWVdLFxuICAgICAgICAnRE9NUHJvcGVydHk6IFByb3BlcnRpZXMgdGhhdCBoYXZlIHNpZGUgZWZmZWN0cyBtdXN0IHVzZSBwcm9wZXJ0eTogJXMnLFxuICAgICAgICBwcm9wTmFtZVxuICAgICAgKSA6IGludmFyaWFudChET01Qcm9wZXJ0eS5tdXN0VXNlUHJvcGVydHlbcHJvcE5hbWVdIHx8XG4gICAgICAgICFET01Qcm9wZXJ0eS5oYXNTaWRlRWZmZWN0c1twcm9wTmFtZV0pKTtcbiAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAgICEhRE9NUHJvcGVydHkuaGFzQm9vbGVhblZhbHVlW3Byb3BOYW1lXSArXG4gICAgICAgICAgISFET01Qcm9wZXJ0eS5oYXNOdW1lcmljVmFsdWVbcHJvcE5hbWVdICtcbiAgICAgICAgICAhIURPTVByb3BlcnR5Lmhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWVbcHJvcE5hbWVdIDw9IDEsXG4gICAgICAgICdET01Qcm9wZXJ0eTogVmFsdWUgY2FuIGJlIG9uZSBvZiBib29sZWFuLCBvdmVybG9hZGVkIGJvb2xlYW4sIG9yICcgK1xuICAgICAgICAnbnVtZXJpYyB2YWx1ZSwgYnV0IG5vdCBhIGNvbWJpbmF0aW9uOiAlcycsXG4gICAgICAgIHByb3BOYW1lXG4gICAgICApIDogaW52YXJpYW50KCEhRE9NUHJvcGVydHkuaGFzQm9vbGVhblZhbHVlW3Byb3BOYW1lXSArXG4gICAgICAgICEhRE9NUHJvcGVydHkuaGFzTnVtZXJpY1ZhbHVlW3Byb3BOYW1lXSArXG4gICAgICAgICEhRE9NUHJvcGVydHkuaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZVtwcm9wTmFtZV0gPD0gMSkpO1xuICAgIH1cbiAgfVxufTtcbnZhciBkZWZhdWx0VmFsdWVDYWNoZSA9IHt9O1xuXG4vKipcbiAqIERPTVByb3BlcnR5IGV4cG9ydHMgbG9va3VwIG9iamVjdHMgdGhhdCBjYW4gYmUgdXNlZCBsaWtlIGZ1bmN0aW9uczpcbiAqXG4gKiAgID4gRE9NUHJvcGVydHkuaXNWYWxpZFsnaWQnXVxuICogICB0cnVlXG4gKiAgID4gRE9NUHJvcGVydHkuaXNWYWxpZFsnZm9vYmFyJ11cbiAqICAgdW5kZWZpbmVkXG4gKlxuICogQWx0aG91Z2ggdGhpcyBtYXkgYmUgY29uZnVzaW5nLCBpdCBwZXJmb3JtcyBiZXR0ZXIgaW4gZ2VuZXJhbC5cbiAqXG4gKiBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2tleS1leGlzdHNcbiAqIEBzZWUgaHR0cDovL2pzcGVyZi5jb20va2V5LW1pc3NpbmdcbiAqL1xudmFyIERPTVByb3BlcnR5ID0ge1xuXG4gIElEX0FUVFJJQlVURV9OQU1FOiAnZGF0YS1yZWFjdGlkJyxcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgYSBwcm9wZXJ0eSBuYW1lIGlzIGEgc3RhbmRhcmQgcHJvcGVydHkuXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBpc1N0YW5kYXJkTmFtZToge30sXG5cbiAgLyoqXG4gICAqIE1hcHBpbmcgZnJvbSBsb3dlcmNhc2UgcHJvcGVydHkgbmFtZXMgdG8gdGhlIHByb3Blcmx5IGNhc2VkIHZlcnNpb24sIHVzZWRcbiAgICogdG8gd2FybiBpbiB0aGUgY2FzZSBvZiBtaXNzaW5nIHByb3BlcnRpZXMuXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBnZXRQb3NzaWJsZVN0YW5kYXJkTmFtZToge30sXG5cbiAgLyoqXG4gICAqIE1hcHBpbmcgZnJvbSBub3JtYWxpemVkIG5hbWVzIHRvIGF0dHJpYnV0ZSBuYW1lcyB0aGF0IGRpZmZlci4gQXR0cmlidXRlXG4gICAqIG5hbWVzIGFyZSB1c2VkIHdoZW4gcmVuZGVyaW5nIG1hcmt1cCBvciB3aXRoIGAqQXR0cmlidXRlKClgLlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgZ2V0QXR0cmlidXRlTmFtZToge30sXG5cbiAgLyoqXG4gICAqIE1hcHBpbmcgZnJvbSBub3JtYWxpemVkIG5hbWVzIHRvIHByb3BlcnRpZXMgb24gRE9NIG5vZGUgaW5zdGFuY2VzLlxuICAgKiAoVGhpcyBpbmNsdWRlcyBwcm9wZXJ0aWVzIHRoYXQgbXV0YXRlIGR1ZSB0byBleHRlcm5hbCBmYWN0b3JzLilcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIGdldFByb3BlcnR5TmFtZToge30sXG5cbiAgLyoqXG4gICAqIE1hcHBpbmcgZnJvbSBub3JtYWxpemVkIG5hbWVzIHRvIG11dGF0aW9uIG1ldGhvZHMuIFRoaXMgd2lsbCBvbmx5IGV4aXN0IGlmXG4gICAqIG11dGF0aW9uIGNhbm5vdCBiZSBzZXQgc2ltcGx5IGJ5IHRoZSBwcm9wZXJ0eSBvciBgc2V0QXR0cmlidXRlKClgLlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgZ2V0TXV0YXRpb25NZXRob2Q6IHt9LFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBtdXN0IGJlIGFjY2Vzc2VkIGFuZCBtdXRhdGVkIGFzIGFuIG9iamVjdCBwcm9wZXJ0eS5cbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIG11c3RVc2VBdHRyaWJ1dGU6IHt9LFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBtdXN0IGJlIGFjY2Vzc2VkIGFuZCBtdXRhdGVkIHVzaW5nIGAqQXR0cmlidXRlKClgLlxuICAgKiAoVGhpcyBpbmNsdWRlcyBhbnl0aGluZyB0aGF0IGZhaWxzIGA8cHJvcE5hbWU+IGluIDxlbGVtZW50PmAuKVxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgbXVzdFVzZVByb3BlcnR5OiB7fSxcblxuICAvKipcbiAgICogV2hldGhlciBvciBub3Qgc2V0dGluZyBhIHZhbHVlIGNhdXNlcyBzaWRlIGVmZmVjdHMgc3VjaCBhcyB0cmlnZ2VyaW5nXG4gICAqIHJlc291cmNlcyB0byBiZSBsb2FkZWQgb3IgdGV4dCBzZWxlY3Rpb24gY2hhbmdlcy4gV2UgbXVzdCBlbnN1cmUgdGhhdFxuICAgKiB0aGUgdmFsdWUgaXMgb25seSBzZXQgaWYgaXQgaGFzIGNoYW5nZWQuXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBoYXNTaWRlRWZmZWN0czoge30sXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHByb3BlcnR5IHNob3VsZCBiZSByZW1vdmVkIHdoZW4gc2V0IHRvIGEgZmFsc2V5IHZhbHVlLlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgaGFzQm9vbGVhblZhbHVlOiB7fSxcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgcHJvcGVydHkgbXVzdCBiZSBudW1lcmljIG9yIHBhcnNlIGFzIGFcbiAgICogbnVtZXJpYyBhbmQgc2hvdWxkIGJlIHJlbW92ZWQgd2hlbiBzZXQgdG8gYSBmYWxzZXkgdmFsdWUuXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBoYXNOdW1lcmljVmFsdWU6IHt9LFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBtdXN0IGJlIHBvc2l0aXZlIG51bWVyaWMgb3IgcGFyc2UgYXMgYSBwb3NpdGl2ZVxuICAgKiBudW1lcmljIGFuZCBzaG91bGQgYmUgcmVtb3ZlZCB3aGVuIHNldCB0byBhIGZhbHNleSB2YWx1ZS5cbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIGhhc1Bvc2l0aXZlTnVtZXJpY1ZhbHVlOiB7fSxcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgcHJvcGVydHkgY2FuIGJlIHVzZWQgYXMgYSBmbGFnIGFzIHdlbGwgYXMgd2l0aCBhIHZhbHVlLiBSZW1vdmVkXG4gICAqIHdoZW4gc3RyaWN0bHkgZXF1YWwgdG8gZmFsc2U7IHByZXNlbnQgd2l0aG91dCBhIHZhbHVlIHdoZW4gc3RyaWN0bHkgZXF1YWxcbiAgICogdG8gdHJ1ZTsgcHJlc2VudCB3aXRoIGEgdmFsdWUgb3RoZXJ3aXNlLlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZToge30sXG5cbiAgLyoqXG4gICAqIEFsbCBvZiB0aGUgaXNDdXN0b21BdHRyaWJ1dGUoKSBmdW5jdGlvbnMgdGhhdCBoYXZlIGJlZW4gaW5qZWN0ZWQuXG4gICAqL1xuICBfaXNDdXN0b21BdHRyaWJ1dGVGdW5jdGlvbnM6IFtdLFxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBhIHByb3BlcnR5IG5hbWUgaXMgYSBjdXN0b20gYXR0cmlidXRlLlxuICAgKiBAbWV0aG9kXG4gICAqL1xuICBpc0N1c3RvbUF0dHJpYnV0ZTogZnVuY3Rpb24oYXR0cmlidXRlTmFtZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgRE9NUHJvcGVydHkuX2lzQ3VzdG9tQXR0cmlidXRlRnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXNDdXN0b21BdHRyaWJ1dGVGbiA9IERPTVByb3BlcnR5Ll9pc0N1c3RvbUF0dHJpYnV0ZUZ1bmN0aW9uc1tpXTtcbiAgICAgIGlmIChpc0N1c3RvbUF0dHJpYnV0ZUZuKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRlZmF1bHQgcHJvcGVydHkgdmFsdWUgZm9yIGEgRE9NIHByb3BlcnR5IChpLmUuLCBub3QgYW5cbiAgICogYXR0cmlidXRlKS4gTW9zdCBkZWZhdWx0IHZhbHVlcyBhcmUgJycgb3IgZmFsc2UsIGJ1dCBub3QgYWxsLiBXb3JzZSB5ZXQsXG4gICAqIHNvbWUgKGluIHBhcnRpY3VsYXIsIGB0eXBlYCkgdmFyeSBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgZWxlbWVudC5cbiAgICpcbiAgICogVE9ETzogSXMgaXQgYmV0dGVyIHRvIGdyYWIgYWxsIHRoZSBwb3NzaWJsZSBwcm9wZXJ0aWVzIHdoZW4gY3JlYXRpbmcgYW5cbiAgICogZWxlbWVudCB0byBhdm9pZCBoYXZpbmcgdG8gY3JlYXRlIHRoZSBzYW1lIGVsZW1lbnQgdHdpY2U/XG4gICAqL1xuICBnZXREZWZhdWx0VmFsdWVGb3JQcm9wZXJ0eTogZnVuY3Rpb24obm9kZU5hbWUsIHByb3ApIHtcbiAgICB2YXIgbm9kZURlZmF1bHRzID0gZGVmYXVsdFZhbHVlQ2FjaGVbbm9kZU5hbWVdO1xuICAgIHZhciB0ZXN0RWxlbWVudDtcbiAgICBpZiAoIW5vZGVEZWZhdWx0cykge1xuICAgICAgZGVmYXVsdFZhbHVlQ2FjaGVbbm9kZU5hbWVdID0gbm9kZURlZmF1bHRzID0ge307XG4gICAgfVxuICAgIGlmICghKHByb3AgaW4gbm9kZURlZmF1bHRzKSkge1xuICAgICAgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKTtcbiAgICAgIG5vZGVEZWZhdWx0c1twcm9wXSA9IHRlc3RFbGVtZW50W3Byb3BdO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZURlZmF1bHRzW3Byb3BdO1xuICB9LFxuXG4gIGluamVjdGlvbjogRE9NUHJvcGVydHlJbmplY3Rpb25cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRE9NUHJvcGVydHk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRE9NUHJvcGVydHlPcGVyYXRpb25zXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZShcIi4vRE9NUHJvcGVydHlcIik7XG5cbnZhciBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3NlciA9IHJlcXVpcmUoXCIuL3F1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyXCIpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKFwiLi93YXJuaW5nXCIpO1xuXG5mdW5jdGlvbiBzaG91bGRJZ25vcmVWYWx1ZShuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCB8fFxuICAgIChET01Qcm9wZXJ0eS5oYXNCb29sZWFuVmFsdWVbbmFtZV0gJiYgIXZhbHVlKSB8fFxuICAgIChET01Qcm9wZXJ0eS5oYXNOdW1lcmljVmFsdWVbbmFtZV0gJiYgaXNOYU4odmFsdWUpKSB8fFxuICAgIChET01Qcm9wZXJ0eS5oYXNQb3NpdGl2ZU51bWVyaWNWYWx1ZVtuYW1lXSAmJiAodmFsdWUgPCAxKSkgfHxcbiAgICAoRE9NUHJvcGVydHkuaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZVtuYW1lXSAmJiB2YWx1ZSA9PT0gZmFsc2UpO1xufVxuXG5pZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gIHZhciByZWFjdFByb3BzID0ge1xuICAgIGNoaWxkcmVuOiB0cnVlLFxuICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB0cnVlLFxuICAgIGtleTogdHJ1ZSxcbiAgICByZWY6IHRydWVcbiAgfTtcbiAgdmFyIHdhcm5lZFByb3BlcnRpZXMgPSB7fTtcblxuICB2YXIgd2FyblVua25vd25Qcm9wZXJ0eSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAocmVhY3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiByZWFjdFByb3BzW25hbWVdIHx8XG4gICAgICAgIHdhcm5lZFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkUHJvcGVydGllc1tuYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIGRhdGEtKiBhdHRyaWJ1dGVzIHNob3VsZCBiZSBsb3dlcmNhc2U7IHN1Z2dlc3QgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXG4gICAgdmFyIHN0YW5kYXJkTmFtZSA9IChcbiAgICAgIERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKGxvd2VyQ2FzZWROYW1lKSA/XG4gICAgICAgIGxvd2VyQ2FzZWROYW1lIDpcbiAgICAgIERPTVByb3BlcnR5LmdldFBvc3NpYmxlU3RhbmRhcmROYW1lLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSA/XG4gICAgICAgIERPTVByb3BlcnR5LmdldFBvc3NpYmxlU3RhbmRhcmROYW1lW2xvd2VyQ2FzZWROYW1lXSA6XG4gICAgICAgIG51bGxcbiAgICApO1xuXG4gICAgLy8gRm9yIG5vdywgb25seSB3YXJuIHdoZW4gd2UgaGF2ZSBhIHN1Z2dlc3RlZCBjb3JyZWN0aW9uLiBUaGlzIHByZXZlbnRzXG4gICAgLy8gbG9nZ2luZyB0b28gbXVjaCB3aGVuIHVzaW5nIHRyYW5zZmVyUHJvcHNUby5cbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgIHN0YW5kYXJkTmFtZSA9PSBudWxsLFxuICAgICAgJ1Vua25vd24gRE9NIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/JyxcbiAgICAgIG5hbWUsXG4gICAgICBzdGFuZGFyZE5hbWVcbiAgICApIDogbnVsbCk7XG5cbiAgfTtcbn1cblxuLyoqXG4gKiBPcGVyYXRpb25zIGZvciBkZWFsaW5nIHdpdGggRE9NIHByb3BlcnRpZXMuXG4gKi9cbnZhciBET01Qcm9wZXJ0eU9wZXJhdGlvbnMgPSB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgbWFya3VwIGZvciB0aGUgSUQgcHJvcGVydHkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBVbmVzY2FwZWQgSUQuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gTWFya3VwIHN0cmluZy5cbiAgICovXG4gIGNyZWF0ZU1hcmt1cEZvcklEOiBmdW5jdGlvbihpZCkge1xuICAgIHJldHVybiBET01Qcm9wZXJ0eS5JRF9BVFRSSUJVVEVfTkFNRSArICc9JyArXG4gICAgICBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3NlcihpZCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgbWFya3VwIGZvciBhIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEByZXR1cm4gez9zdHJpbmd9IE1hcmt1cCBzdHJpbmcsIG9yIG51bGwgaWYgdGhlIHByb3BlcnR5IHdhcyBpbnZhbGlkLlxuICAgKi9cbiAgY3JlYXRlTWFya3VwRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKERPTVByb3BlcnR5LmlzU3RhbmRhcmROYW1lLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgIERPTVByb3BlcnR5LmlzU3RhbmRhcmROYW1lW25hbWVdKSB7XG4gICAgICBpZiAoc2hvdWxkSWdub3JlVmFsdWUobmFtZSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gRE9NUHJvcGVydHkuZ2V0QXR0cmlidXRlTmFtZVtuYW1lXTtcbiAgICAgIGlmIChET01Qcm9wZXJ0eS5oYXNCb29sZWFuVmFsdWVbbmFtZV0gfHxcbiAgICAgICAgICAoRE9NUHJvcGVydHkuaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZVtuYW1lXSAmJiB2YWx1ZSA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZU5hbWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXR0cmlidXRlTmFtZSArICc9JyArIHF1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmFtZSArICc9JyArIHF1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgd2FyblVua25vd25Qcm9wZXJ0eShuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZhbHVlIGZvciBhIHByb3BlcnR5IG9uIGEgbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICovXG4gIHNldFZhbHVlRm9yUHJvcGVydHk6IGZ1bmN0aW9uKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKERPTVByb3BlcnR5LmlzU3RhbmRhcmROYW1lLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgIERPTVByb3BlcnR5LmlzU3RhbmRhcmROYW1lW25hbWVdKSB7XG4gICAgICB2YXIgbXV0YXRpb25NZXRob2QgPSBET01Qcm9wZXJ0eS5nZXRNdXRhdGlvbk1ldGhvZFtuYW1lXTtcbiAgICAgIGlmIChtdXRhdGlvbk1ldGhvZCkge1xuICAgICAgICBtdXRhdGlvbk1ldGhvZChub2RlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHNob3VsZElnbm9yZVZhbHVlKG5hbWUsIHZhbHVlKSkge1xuICAgICAgICB0aGlzLmRlbGV0ZVZhbHVlRm9yUHJvcGVydHkobm9kZSwgbmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKERPTVByb3BlcnR5Lm11c3RVc2VBdHRyaWJ1dGVbbmFtZV0pIHtcbiAgICAgICAgLy8gYHNldEF0dHJpYnV0ZWAgd2l0aCBvYmplY3RzIGJlY29tZXMgb25seSBgW29iamVjdF1gIGluIElFOC85LFxuICAgICAgICAvLyAoJycgKyB2YWx1ZSkgbWFrZXMgaXQgb3V0cHV0IHRoZSBjb3JyZWN0IHRvU3RyaW5nKCktdmFsdWUuXG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKERPTVByb3BlcnR5LmdldEF0dHJpYnV0ZU5hbWVbbmFtZV0sICcnICsgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHByb3BOYW1lID0gRE9NUHJvcGVydHkuZ2V0UHJvcGVydHlOYW1lW25hbWVdO1xuICAgICAgICAvLyBNdXN0IGV4cGxpY2l0bHkgY2FzdCB2YWx1ZXMgZm9yIEhBU19TSURFX0VGRkVDVFMtcHJvcGVydGllcyB0byB0aGVcbiAgICAgICAgLy8gcHJvcGVydHkgdHlwZSBiZWZvcmUgY29tcGFyaW5nOyBvbmx5IGB2YWx1ZWAgZG9lcyBhbmQgaXMgc3RyaW5nLlxuICAgICAgICBpZiAoIURPTVByb3BlcnR5Lmhhc1NpZGVFZmZlY3RzW25hbWVdIHx8XG4gICAgICAgICAgICAoJycgKyBub2RlW3Byb3BOYW1lXSkgIT09ICgnJyArIHZhbHVlKSkge1xuICAgICAgICAgIC8vIENvbnRyYXJ5IHRvIGBzZXRBdHRyaWJ1dGVgLCBvYmplY3QgcHJvcGVydGllcyBhcmUgcHJvcGVybHlcbiAgICAgICAgICAvLyBgdG9TdHJpbmdgZWQgYnkgSUU4LzkuXG4gICAgICAgICAgbm9kZVtwcm9wTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgJycgKyB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIHdhcm5Vbmtub3duUHJvcGVydHkobmFtZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSB2YWx1ZSBmb3IgYSBwcm9wZXJ0eSBvbiBhIG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKi9cbiAgZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eTogZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICAgIGlmIChET01Qcm9wZXJ0eS5pc1N0YW5kYXJkTmFtZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJlxuICAgICAgICBET01Qcm9wZXJ0eS5pc1N0YW5kYXJkTmFtZVtuYW1lXSkge1xuICAgICAgdmFyIG11dGF0aW9uTWV0aG9kID0gRE9NUHJvcGVydHkuZ2V0TXV0YXRpb25NZXRob2RbbmFtZV07XG4gICAgICBpZiAobXV0YXRpb25NZXRob2QpIHtcbiAgICAgICAgbXV0YXRpb25NZXRob2Qobm9kZSwgdW5kZWZpbmVkKTtcbiAgICAgIH0gZWxzZSBpZiAoRE9NUHJvcGVydHkubXVzdFVzZUF0dHJpYnV0ZVtuYW1lXSkge1xuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShET01Qcm9wZXJ0eS5nZXRBdHRyaWJ1dGVOYW1lW25hbWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwcm9wTmFtZSA9IERPTVByb3BlcnR5LmdldFByb3BlcnR5TmFtZVtuYW1lXTtcbiAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IERPTVByb3BlcnR5LmdldERlZmF1bHRWYWx1ZUZvclByb3BlcnR5KFxuICAgICAgICAgIG5vZGUubm9kZU5hbWUsXG4gICAgICAgICAgcHJvcE5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFET01Qcm9wZXJ0eS5oYXNTaWRlRWZmZWN0c1tuYW1lXSB8fFxuICAgICAgICAgICAgKCcnICsgbm9kZVtwcm9wTmFtZV0pICE9PSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICBub2RlW3Byb3BOYW1lXSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICB3YXJuVW5rbm93blByb3BlcnR5KG5hbWUpO1xuICAgIH1cbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERPTVByb3BlcnR5T3BlcmF0aW9ucztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBEYW5nZXJcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuLypqc2xpbnQgZXZpbDogdHJ1ZSwgc3ViOiB0cnVlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZShcIi4vRXhlY3V0aW9uRW52aXJvbm1lbnRcIik7XG5cbnZhciBjcmVhdGVOb2Rlc0Zyb21NYXJrdXAgPSByZXF1aXJlKFwiLi9jcmVhdGVOb2Rlc0Zyb21NYXJrdXBcIik7XG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoXCIuL2VtcHR5RnVuY3Rpb25cIik7XG52YXIgZ2V0TWFya3VwV3JhcCA9IHJlcXVpcmUoXCIuL2dldE1hcmt1cFdyYXBcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xuXG52YXIgT1BFTl9UQUdfTkFNRV9FWFAgPSAvXig8W14gXFwvPl0rKS87XG52YXIgUkVTVUxUX0lOREVYX0FUVFIgPSAnZGF0YS1kYW5nZXItaW5kZXgnO1xuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSBgbm9kZU5hbWVgIGZyb20gYSBzdHJpbmcgb2YgbWFya3VwLlxuICpcbiAqIE5PVEU6IEV4dHJhY3RpbmcgdGhlIGBub2RlTmFtZWAgZG9lcyBub3QgcmVxdWlyZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaFxuICogYmVjYXVzZSB3ZSBtYWtlIGFzc3VtcHRpb25zIGFib3V0IFJlYWN0LWdlbmVyYXRlZCBtYXJrdXAgKGkuZS4gdGhlcmUgYXJlIG5vXG4gKiBzcGFjZXMgc3Vycm91bmRpbmcgdGhlIG9wZW5pbmcgdGFnIGFuZCB0aGVyZSBpcyBhdCBsZWFzdCBvbmUgYXR0cmlidXRlKS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFya3VwIFN0cmluZyBvZiBtYXJrdXAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5vZGUgbmFtZSBvZiB0aGUgc3VwcGxpZWQgbWFya3VwLlxuICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9leHRyYWN0LW5vZGVuYW1lXG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVOYW1lKG1hcmt1cCkge1xuICByZXR1cm4gbWFya3VwLnN1YnN0cmluZygxLCBtYXJrdXAuaW5kZXhPZignICcpKTtcbn1cblxudmFyIERhbmdlciA9IHtcblxuICAvKipcbiAgICogUmVuZGVycyBtYXJrdXAgaW50byBhbiBhcnJheSBvZiBub2Rlcy4gVGhlIG1hcmt1cCBpcyBleHBlY3RlZCB0byByZW5kZXJcbiAgICogaW50byBhIGxpc3Qgb2Ygcm9vdCBub2Rlcy4gQWxzbywgdGhlIGxlbmd0aCBvZiBgcmVzdWx0TGlzdGAgYW5kXG4gICAqIGBtYXJrdXBMaXN0YCBzaG91bGQgYmUgdGhlIHNhbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXk8c3RyaW5nPn0gbWFya3VwTGlzdCBMaXN0IG9mIG1hcmt1cCBzdHJpbmdzIHRvIHJlbmRlci5cbiAgICogQHJldHVybiB7YXJyYXk8RE9NRWxlbWVudD59IExpc3Qgb2YgcmVuZGVyZWQgbm9kZXMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGFuZ2Vyb3VzbHlSZW5kZXJNYXJrdXA6IGZ1bmN0aW9uKG1hcmt1cExpc3QpIHtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NLFxuICAgICAgJ2Rhbmdlcm91c2x5UmVuZGVyTWFya3VwKC4uLik6IENhbm5vdCByZW5kZXIgbWFya3VwIGluIGEgd29ya2VyICcgK1xuICAgICAgJ3RocmVhZC4gTWFrZSBzdXJlIGB3aW5kb3dgIGFuZCBgZG9jdW1lbnRgIGFyZSBhdmFpbGFibGUgZ2xvYmFsbHkgJyArXG4gICAgICAnYmVmb3JlIHJlcXVpcmluZyBSZWFjdCB3aGVuIHVuaXQgdGVzdGluZyBvciB1c2UgJyArXG4gICAgICAnUmVhY3QucmVuZGVyVG9TdHJpbmcgZm9yIHNlcnZlciByZW5kZXJpbmcuJ1xuICAgICkgOiBpbnZhcmlhbnQoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSk7XG4gICAgdmFyIG5vZGVOYW1lO1xuICAgIHZhciBtYXJrdXBCeU5vZGVOYW1lID0ge307XG4gICAgLy8gR3JvdXAgbWFya3VwIGJ5IGBub2RlTmFtZWAgaWYgYSB3cmFwIGlzIG5lY2Vzc2FyeSwgZWxzZSBieSAnKicuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrdXBMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICBtYXJrdXBMaXN0W2ldLFxuICAgICAgICAnZGFuZ2Vyb3VzbHlSZW5kZXJNYXJrdXAoLi4uKTogTWlzc2luZyBtYXJrdXAuJ1xuICAgICAgKSA6IGludmFyaWFudChtYXJrdXBMaXN0W2ldKSk7XG4gICAgICBub2RlTmFtZSA9IGdldE5vZGVOYW1lKG1hcmt1cExpc3RbaV0pO1xuICAgICAgbm9kZU5hbWUgPSBnZXRNYXJrdXBXcmFwKG5vZGVOYW1lKSA/IG5vZGVOYW1lIDogJyonO1xuICAgICAgbWFya3VwQnlOb2RlTmFtZVtub2RlTmFtZV0gPSBtYXJrdXBCeU5vZGVOYW1lW25vZGVOYW1lXSB8fCBbXTtcbiAgICAgIG1hcmt1cEJ5Tm9kZU5hbWVbbm9kZU5hbWVdW2ldID0gbWFya3VwTGlzdFtpXTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdExpc3QgPSBbXTtcbiAgICB2YXIgcmVzdWx0TGlzdEFzc2lnbm1lbnRDb3VudCA9IDA7XG4gICAgZm9yIChub2RlTmFtZSBpbiBtYXJrdXBCeU5vZGVOYW1lKSB7XG4gICAgICBpZiAoIW1hcmt1cEJ5Tm9kZU5hbWUuaGFzT3duUHJvcGVydHkobm9kZU5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIG1hcmt1cExpc3RCeU5vZGVOYW1lID0gbWFya3VwQnlOb2RlTmFtZVtub2RlTmFtZV07XG5cbiAgICAgIC8vIFRoaXMgZm9yLWluIGxvb3Agc2tpcHMgdGhlIGhvbGVzIG9mIHRoZSBzcGFyc2UgYXJyYXkuIFRoZSBvcmRlciBvZlxuICAgICAgLy8gaXRlcmF0aW9uIHNob3VsZCBmb2xsb3cgdGhlIG9yZGVyIG9mIGFzc2lnbm1lbnQsIHdoaWNoIGhhcHBlbnMgdG8gbWF0Y2hcbiAgICAgIC8vIG51bWVyaWNhbCBpbmRleCBvcmRlciwgYnV0IHdlIGRvbid0IHJlbHkgb24gdGhhdC5cbiAgICAgIHZhciByZXN1bHRJbmRleDtcbiAgICAgIGZvciAocmVzdWx0SW5kZXggaW4gbWFya3VwTGlzdEJ5Tm9kZU5hbWUpIHtcbiAgICAgICAgaWYgKG1hcmt1cExpc3RCeU5vZGVOYW1lLmhhc093blByb3BlcnR5KHJlc3VsdEluZGV4KSkge1xuICAgICAgICAgIHZhciBtYXJrdXAgPSBtYXJrdXBMaXN0QnlOb2RlTmFtZVtyZXN1bHRJbmRleF07XG5cbiAgICAgICAgICAvLyBQdXNoIHRoZSByZXF1ZXN0ZWQgbWFya3VwIHdpdGggYW4gYWRkaXRpb25hbCBSRVNVTFRfSU5ERVhfQVRUUlxuICAgICAgICAgIC8vIGF0dHJpYnV0ZS4gIElmIHRoZSBtYXJrdXAgZG9lcyBub3Qgc3RhcnQgd2l0aCBhIDwgY2hhcmFjdGVyLCBpdFxuICAgICAgICAgIC8vIHdpbGwgYmUgZGlzY2FyZGVkIGJlbG93ICh3aXRoIGFuIGFwcHJvcHJpYXRlIGNvbnNvbGUuZXJyb3IpLlxuICAgICAgICAgIG1hcmt1cExpc3RCeU5vZGVOYW1lW3Jlc3VsdEluZGV4XSA9IG1hcmt1cC5yZXBsYWNlKFxuICAgICAgICAgICAgT1BFTl9UQUdfTkFNRV9FWFAsXG4gICAgICAgICAgICAvLyBUaGlzIGluZGV4IHdpbGwgYmUgcGFyc2VkIGJhY2sgb3V0IGJlbG93LlxuICAgICAgICAgICAgJyQxICcgKyBSRVNVTFRfSU5ERVhfQVRUUiArICc9XCInICsgcmVzdWx0SW5kZXggKyAnXCIgJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVuZGVyIGVhY2ggZ3JvdXAgb2YgbWFya3VwIHdpdGggc2ltaWxhciB3cmFwcGluZyBgbm9kZU5hbWVgLlxuICAgICAgdmFyIHJlbmRlck5vZGVzID0gY3JlYXRlTm9kZXNGcm9tTWFya3VwKFxuICAgICAgICBtYXJrdXBMaXN0QnlOb2RlTmFtZS5qb2luKCcnKSxcbiAgICAgICAgZW1wdHlGdW5jdGlvbiAvLyBEbyBub3RoaW5nIHNwZWNpYWwgd2l0aCA8c2NyaXB0PiB0YWdzLlxuICAgICAgKTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZW5kZXJOb2Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICB2YXIgcmVuZGVyTm9kZSA9IHJlbmRlck5vZGVzW2pdO1xuICAgICAgICBpZiAocmVuZGVyTm9kZS5oYXNBdHRyaWJ1dGUgJiZcbiAgICAgICAgICAgIHJlbmRlck5vZGUuaGFzQXR0cmlidXRlKFJFU1VMVF9JTkRFWF9BVFRSKSkge1xuXG4gICAgICAgICAgcmVzdWx0SW5kZXggPSArcmVuZGVyTm9kZS5nZXRBdHRyaWJ1dGUoUkVTVUxUX0lOREVYX0FUVFIpO1xuICAgICAgICAgIHJlbmRlck5vZGUucmVtb3ZlQXR0cmlidXRlKFJFU1VMVF9JTkRFWF9BVFRSKTtcblxuICAgICAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAgICAgICAhcmVzdWx0TGlzdC5oYXNPd25Qcm9wZXJ0eShyZXN1bHRJbmRleCksXG4gICAgICAgICAgICAnRGFuZ2VyOiBBc3NpZ25pbmcgdG8gYW4gYWxyZWFkeS1vY2N1cGllZCByZXN1bHQgaW5kZXguJ1xuICAgICAgICAgICkgOiBpbnZhcmlhbnQoIXJlc3VsdExpc3QuaGFzT3duUHJvcGVydHkocmVzdWx0SW5kZXgpKSk7XG5cbiAgICAgICAgICByZXN1bHRMaXN0W3Jlc3VsdEluZGV4XSA9IHJlbmRlck5vZGU7XG5cbiAgICAgICAgICAvLyBUaGlzIHNob3VsZCBtYXRjaCByZXN1bHRMaXN0Lmxlbmd0aCBhbmQgbWFya3VwTGlzdC5sZW5ndGggd2hlblxuICAgICAgICAgIC8vIHdlJ3JlIGRvbmUuXG4gICAgICAgICAgcmVzdWx0TGlzdEFzc2lnbm1lbnRDb3VudCArPSAxO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdEYW5nZXI6IERpc2NhcmRpbmcgdW5leHBlY3RlZCBub2RlOicsXG4gICAgICAgICAgICByZW5kZXJOb2RlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFsdGhvdWdoIHJlc3VsdExpc3Qgd2FzIHBvcHVsYXRlZCBvdXQgb2Ygb3JkZXIsIGl0IHNob3VsZCBub3cgYmUgYSBkZW5zZVxuICAgIC8vIGFycmF5LlxuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICByZXN1bHRMaXN0QXNzaWdubWVudENvdW50ID09PSByZXN1bHRMaXN0Lmxlbmd0aCxcbiAgICAgICdEYW5nZXI6IERpZCBub3QgYXNzaWduIHRvIGV2ZXJ5IGluZGV4IG9mIHJlc3VsdExpc3QuJ1xuICAgICkgOiBpbnZhcmlhbnQocmVzdWx0TGlzdEFzc2lnbm1lbnRDb3VudCA9PT0gcmVzdWx0TGlzdC5sZW5ndGgpKTtcblxuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICByZXN1bHRMaXN0Lmxlbmd0aCA9PT0gbWFya3VwTGlzdC5sZW5ndGgsXG4gICAgICAnRGFuZ2VyOiBFeHBlY3RlZCBtYXJrdXAgdG8gcmVuZGVyICVzIG5vZGVzLCBidXQgcmVuZGVyZWQgJXMuJyxcbiAgICAgIG1hcmt1cExpc3QubGVuZ3RoLFxuICAgICAgcmVzdWx0TGlzdC5sZW5ndGhcbiAgICApIDogaW52YXJpYW50KHJlc3VsdExpc3QubGVuZ3RoID09PSBtYXJrdXBMaXN0Lmxlbmd0aCkpO1xuXG4gICAgcmV0dXJuIHJlc3VsdExpc3Q7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGEgbm9kZSB3aXRoIGEgc3RyaW5nIG9mIG1hcmt1cCBhdCBpdHMgY3VycmVudCBwb3NpdGlvbiB3aXRoaW4gaXRzXG4gICAqIHBhcmVudC4gVGhlIG1hcmt1cCBtdXN0IHJlbmRlciBpbnRvIGEgc2luZ2xlIHJvb3Qgbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBvbGRDaGlsZCBDaGlsZCBub2RlIHRvIHJlcGxhY2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrdXAgTWFya3VwIHRvIHJlbmRlciBpbiBwbGFjZSBvZiB0aGUgY2hpbGQgbm9kZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cDogZnVuY3Rpb24ob2xkQ2hpbGQsIG1hcmt1cCkge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00sXG4gICAgICAnZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAoLi4uKTogQ2Fubm90IHJlbmRlciBtYXJrdXAgaW4gYSAnICtcbiAgICAgICd3b3JrZXIgdGhyZWFkLiBNYWtlIHN1cmUgYHdpbmRvd2AgYW5kIGBkb2N1bWVudGAgYXJlIGF2YWlsYWJsZSAnICtcbiAgICAgICdnbG9iYWxseSBiZWZvcmUgcmVxdWlyaW5nIFJlYWN0IHdoZW4gdW5pdCB0ZXN0aW5nIG9yIHVzZSAnICtcbiAgICAgICdSZWFjdC5yZW5kZXJUb1N0cmluZyBmb3Igc2VydmVyIHJlbmRlcmluZy4nXG4gICAgKSA6IGludmFyaWFudChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pKTtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KG1hcmt1cCwgJ2Rhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwKC4uLik6IE1pc3NpbmcgbWFya3VwLicpIDogaW52YXJpYW50KG1hcmt1cCkpO1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICBvbGRDaGlsZC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdodG1sJyxcbiAgICAgICdkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCguLi4pOiBDYW5ub3QgcmVwbGFjZSBtYXJrdXAgb2YgdGhlICcgK1xuICAgICAgJzxodG1sPiBub2RlLiBUaGlzIGlzIGJlY2F1c2UgYnJvd3NlciBxdWlya3MgbWFrZSB0aGlzIHVucmVsaWFibGUgJyArXG4gICAgICAnYW5kL29yIHNsb3cuIElmIHlvdSB3YW50IHRvIHJlbmRlciB0byB0aGUgcm9vdCB5b3UgbXVzdCB1c2UgJyArXG4gICAgICAnc2VydmVyIHJlbmRlcmluZy4gU2VlIFJlYWN0LnJlbmRlclRvU3RyaW5nKCkuJ1xuICAgICkgOiBpbnZhcmlhbnQob2xkQ2hpbGQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnaHRtbCcpKTtcblxuICAgIHZhciBuZXdDaGlsZCA9IGNyZWF0ZU5vZGVzRnJvbU1hcmt1cChtYXJrdXAsIGVtcHR5RnVuY3Rpb24pWzBdO1xuICAgIG9sZENoaWxkLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld0NoaWxkLCBvbGRDaGlsZCk7XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYW5nZXI7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRGVmYXVsdEV2ZW50UGx1Z2luT3JkZXJcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBrZXlPZiA9IHJlcXVpcmUoXCIuL2tleU9mXCIpO1xuXG4vKipcbiAqIE1vZHVsZSB0aGF0IGlzIGluamVjdGFibGUgaW50byBgRXZlbnRQbHVnaW5IdWJgLCB0aGF0IHNwZWNpZmllcyBhXG4gKiBkZXRlcm1pbmlzdGljIG9yZGVyaW5nIG9mIGBFdmVudFBsdWdpbmBzLiBBIGNvbnZlbmllbnQgd2F5IHRvIHJlYXNvbiBhYm91dFxuICogcGx1Z2lucywgd2l0aG91dCBoYXZpbmcgdG8gcGFja2FnZSBldmVyeSBvbmUgb2YgdGhlbS4gVGhpcyBpcyBiZXR0ZXIgdGhhblxuICogaGF2aW5nIHBsdWdpbnMgYmUgb3JkZXJlZCBpbiB0aGUgc2FtZSBvcmRlciB0aGF0IHRoZXkgYXJlIGluamVjdGVkIGJlY2F1c2VcbiAqIHRoYXQgb3JkZXJpbmcgd291bGQgYmUgaW5mbHVlbmNlZCBieSB0aGUgcGFja2FnaW5nIG9yZGVyLlxuICogYFJlc3BvbmRlckV2ZW50UGx1Z2luYCBtdXN0IG9jY3VyIGJlZm9yZSBgU2ltcGxlRXZlbnRQbHVnaW5gIHNvIHRoYXRcbiAqIHByZXZlbnRpbmcgZGVmYXVsdCBvbiBldmVudHMgaXMgY29udmVuaWVudCBpbiBgU2ltcGxlRXZlbnRQbHVnaW5gIGhhbmRsZXJzLlxuICovXG52YXIgRGVmYXVsdEV2ZW50UGx1Z2luT3JkZXIgPSBbXG4gIGtleU9mKHtSZXNwb25kZXJFdmVudFBsdWdpbjogbnVsbH0pLFxuICBrZXlPZih7U2ltcGxlRXZlbnRQbHVnaW46IG51bGx9KSxcbiAga2V5T2Yoe1RhcEV2ZW50UGx1Z2luOiBudWxsfSksXG4gIGtleU9mKHtFbnRlckxlYXZlRXZlbnRQbHVnaW46IG51bGx9KSxcbiAga2V5T2Yoe0NoYW5nZUV2ZW50UGx1Z2luOiBudWxsfSksXG4gIGtleU9mKHtTZWxlY3RFdmVudFBsdWdpbjogbnVsbH0pLFxuICBrZXlPZih7QmVmb3JlSW5wdXRFdmVudFBsdWdpbjogbnVsbH0pLFxuICBrZXlPZih7QW5hbHl0aWNzRXZlbnRQbHVnaW46IG51bGx9KSxcbiAga2V5T2Yoe01vYmlsZVNhZmFyaUNsaWNrRXZlbnRQbHVnaW46IG51bGx9KVxuXTtcblxubW9kdWxlLmV4cG9ydHMgPSBEZWZhdWx0RXZlbnRQbHVnaW5PcmRlcjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBFbnRlckxlYXZlRXZlbnRQbHVnaW5cbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRDb25zdGFudHMgPSByZXF1aXJlKFwiLi9FdmVudENvbnN0YW50c1wiKTtcbnZhciBFdmVudFByb3BhZ2F0b3JzID0gcmVxdWlyZShcIi4vRXZlbnRQcm9wYWdhdG9yc1wiKTtcbnZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gcmVxdWlyZShcIi4vU3ludGhldGljTW91c2VFdmVudFwiKTtcblxudmFyIFJlYWN0TW91bnQgPSByZXF1aXJlKFwiLi9SZWFjdE1vdW50XCIpO1xudmFyIGtleU9mID0gcmVxdWlyZShcIi4va2V5T2ZcIik7XG5cbnZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcbnZhciBnZXRGaXJzdFJlYWN0RE9NID0gUmVhY3RNb3VudC5nZXRGaXJzdFJlYWN0RE9NO1xuXG52YXIgZXZlbnRUeXBlcyA9IHtcbiAgbW91c2VFbnRlcjoge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6IGtleU9mKHtvbk1vdXNlRW50ZXI6IG51bGx9KSxcbiAgICBkZXBlbmRlbmNpZXM6IFtcbiAgICAgIHRvcExldmVsVHlwZXMudG9wTW91c2VPdXQsXG4gICAgICB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3ZlclxuICAgIF1cbiAgfSxcbiAgbW91c2VMZWF2ZToge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6IGtleU9mKHtvbk1vdXNlTGVhdmU6IG51bGx9KSxcbiAgICBkZXBlbmRlbmNpZXM6IFtcbiAgICAgIHRvcExldmVsVHlwZXMudG9wTW91c2VPdXQsXG4gICAgICB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3ZlclxuICAgIF1cbiAgfVxufTtcblxudmFyIGV4dHJhY3RlZEV2ZW50cyA9IFtudWxsLCBudWxsXTtcblxudmFyIEVudGVyTGVhdmVFdmVudFBsdWdpbiA9IHtcblxuICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuXG4gIC8qKlxuICAgKiBGb3IgYWxtb3N0IGV2ZXJ5IGludGVyYWN0aW9uIHdlIGNhcmUgYWJvdXQsIHRoZXJlIHdpbGwgYmUgYm90aCBhIHRvcC1sZXZlbFxuICAgKiBgbW91c2VvdmVyYCBhbmQgYG1vdXNlb3V0YCBldmVudCB0aGF0IG9jY3Vycy4gT25seSB1c2UgYG1vdXNlb3V0YCBzbyB0aGF0XG4gICAqIHdlIGRvIG5vdCBleHRyYWN0IGR1cGxpY2F0ZSBldmVudHMuIEhvd2V2ZXIsIG1vdmluZyB0aGUgbW91c2UgaW50byB0aGVcbiAgICogYnJvd3NlciBmcm9tIG91dHNpZGUgd2lsbCBub3QgZmlyZSBhIGBtb3VzZW91dGAgZXZlbnQuIEluIHRoaXMgY2FzZSwgd2UgdXNlXG4gICAqIHRoZSBgbW91c2VvdmVyYCB0b3AtbGV2ZWwgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gdG9wTGV2ZWxUYXJnZXQgVGhlIGxpc3RlbmluZyBjb21wb25lbnQgcm9vdCBub2RlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUYXJnZXRJRCBJRCBvZiBgdG9wTGV2ZWxUYXJnZXRgLlxuICAgKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4geyp9IEFuIGFjY3VtdWxhdGlvbiBvZiBzeW50aGV0aWMgZXZlbnRzLlxuICAgKiBAc2VlIHtFdmVudFBsdWdpbkh1Yi5leHRyYWN0RXZlbnRzfVxuICAgKi9cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24oXG4gICAgICB0b3BMZXZlbFR5cGUsXG4gICAgICB0b3BMZXZlbFRhcmdldCxcbiAgICAgIHRvcExldmVsVGFyZ2V0SUQsXG4gICAgICBuYXRpdmVFdmVudCkge1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wTW91c2VPdmVyICYmXG4gICAgICAgIChuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LmZyb21FbGVtZW50KSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh0b3BMZXZlbFR5cGUgIT09IHRvcExldmVsVHlwZXMudG9wTW91c2VPdXQgJiZcbiAgICAgICAgdG9wTGV2ZWxUeXBlICE9PSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3Zlcikge1xuICAgICAgLy8gTXVzdCBub3QgYmUgYSBtb3VzZSBpbiBvciBtb3VzZSBvdXQgLSBpZ25vcmluZy5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciB3aW47XG4gICAgaWYgKHRvcExldmVsVGFyZ2V0LndpbmRvdyA9PT0gdG9wTGV2ZWxUYXJnZXQpIHtcbiAgICAgIC8vIGB0b3BMZXZlbFRhcmdldGAgaXMgcHJvYmFibHkgYSB3aW5kb3cgb2JqZWN0LlxuICAgICAgd2luID0gdG9wTGV2ZWxUYXJnZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgd2h5IGBvd25lckRvY3VtZW50YCBpcyBzb21ldGltZXMgdW5kZWZpbmVkIGluIElFOC5cbiAgICAgIHZhciBkb2MgPSB0b3BMZXZlbFRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgaWYgKGRvYykge1xuICAgICAgICB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbiA9IHdpbmRvdztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZnJvbSwgdG87XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU91dCkge1xuICAgICAgZnJvbSA9IHRvcExldmVsVGFyZ2V0O1xuICAgICAgdG8gPVxuICAgICAgICBnZXRGaXJzdFJlYWN0RE9NKG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQudG9FbGVtZW50KSB8fFxuICAgICAgICB3aW47XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyb20gPSB3aW47XG4gICAgICB0byA9IHRvcExldmVsVGFyZ2V0O1xuICAgIH1cblxuICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgLy8gTm90aGluZyBwZXJ0YWlucyB0byBvdXIgbWFuYWdlZCBjb21wb25lbnRzLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGZyb21JRCA9IGZyb20gPyBSZWFjdE1vdW50LmdldElEKGZyb20pIDogJyc7XG4gICAgdmFyIHRvSUQgPSB0byA/IFJlYWN0TW91bnQuZ2V0SUQodG8pIDogJyc7XG5cbiAgICB2YXIgbGVhdmUgPSBTeW50aGV0aWNNb3VzZUV2ZW50LmdldFBvb2xlZChcbiAgICAgIGV2ZW50VHlwZXMubW91c2VMZWF2ZSxcbiAgICAgIGZyb21JRCxcbiAgICAgIG5hdGl2ZUV2ZW50XG4gICAgKTtcbiAgICBsZWF2ZS50eXBlID0gJ21vdXNlbGVhdmUnO1xuICAgIGxlYXZlLnRhcmdldCA9IGZyb207XG4gICAgbGVhdmUucmVsYXRlZFRhcmdldCA9IHRvO1xuXG4gICAgdmFyIGVudGVyID0gU3ludGhldGljTW91c2VFdmVudC5nZXRQb29sZWQoXG4gICAgICBldmVudFR5cGVzLm1vdXNlRW50ZXIsXG4gICAgICB0b0lELFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApO1xuICAgIGVudGVyLnR5cGUgPSAnbW91c2VlbnRlcic7XG4gICAgZW50ZXIudGFyZ2V0ID0gdG87XG4gICAgZW50ZXIucmVsYXRlZFRhcmdldCA9IGZyb207XG5cbiAgICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyhsZWF2ZSwgZW50ZXIsIGZyb21JRCwgdG9JRCk7XG5cbiAgICBleHRyYWN0ZWRFdmVudHNbMF0gPSBsZWF2ZTtcbiAgICBleHRyYWN0ZWRFdmVudHNbMV0gPSBlbnRlcjtcblxuICAgIHJldHVybiBleHRyYWN0ZWRFdmVudHM7XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFbnRlckxlYXZlRXZlbnRQbHVnaW47XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRXZlbnRDb25zdGFudHNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBrZXlNaXJyb3IgPSByZXF1aXJlKFwiLi9rZXlNaXJyb3JcIik7XG5cbnZhciBQcm9wYWdhdGlvblBoYXNlcyA9IGtleU1pcnJvcih7YnViYmxlZDogbnVsbCwgY2FwdHVyZWQ6IG51bGx9KTtcblxuLyoqXG4gKiBUeXBlcyBvZiByYXcgc2lnbmFscyBmcm9tIHRoZSBicm93c2VyIGNhdWdodCBhdCB0aGUgdG9wIGxldmVsLlxuICovXG52YXIgdG9wTGV2ZWxUeXBlcyA9IGtleU1pcnJvcih7XG4gIHRvcEJsdXI6IG51bGwsXG4gIHRvcENoYW5nZTogbnVsbCxcbiAgdG9wQ2xpY2s6IG51bGwsXG4gIHRvcENvbXBvc2l0aW9uRW5kOiBudWxsLFxuICB0b3BDb21wb3NpdGlvblN0YXJ0OiBudWxsLFxuICB0b3BDb21wb3NpdGlvblVwZGF0ZTogbnVsbCxcbiAgdG9wQ29udGV4dE1lbnU6IG51bGwsXG4gIHRvcENvcHk6IG51bGwsXG4gIHRvcEN1dDogbnVsbCxcbiAgdG9wRG91YmxlQ2xpY2s6IG51bGwsXG4gIHRvcERyYWc6IG51bGwsXG4gIHRvcERyYWdFbmQ6IG51bGwsXG4gIHRvcERyYWdFbnRlcjogbnVsbCxcbiAgdG9wRHJhZ0V4aXQ6IG51bGwsXG4gIHRvcERyYWdMZWF2ZTogbnVsbCxcbiAgdG9wRHJhZ092ZXI6IG51bGwsXG4gIHRvcERyYWdTdGFydDogbnVsbCxcbiAgdG9wRHJvcDogbnVsbCxcbiAgdG9wRXJyb3I6IG51bGwsXG4gIHRvcEZvY3VzOiBudWxsLFxuICB0b3BJbnB1dDogbnVsbCxcbiAgdG9wS2V5RG93bjogbnVsbCxcbiAgdG9wS2V5UHJlc3M6IG51bGwsXG4gIHRvcEtleVVwOiBudWxsLFxuICB0b3BMb2FkOiBudWxsLFxuICB0b3BNb3VzZURvd246IG51bGwsXG4gIHRvcE1vdXNlTW92ZTogbnVsbCxcbiAgdG9wTW91c2VPdXQ6IG51bGwsXG4gIHRvcE1vdXNlT3ZlcjogbnVsbCxcbiAgdG9wTW91c2VVcDogbnVsbCxcbiAgdG9wUGFzdGU6IG51bGwsXG4gIHRvcFJlc2V0OiBudWxsLFxuICB0b3BTY3JvbGw6IG51bGwsXG4gIHRvcFNlbGVjdGlvbkNoYW5nZTogbnVsbCxcbiAgdG9wU3VibWl0OiBudWxsLFxuICB0b3BUZXh0SW5wdXQ6IG51bGwsXG4gIHRvcFRvdWNoQ2FuY2VsOiBudWxsLFxuICB0b3BUb3VjaEVuZDogbnVsbCxcbiAgdG9wVG91Y2hNb3ZlOiBudWxsLFxuICB0b3BUb3VjaFN0YXJ0OiBudWxsLFxuICB0b3BXaGVlbDogbnVsbFxufSk7XG5cbnZhciBFdmVudENvbnN0YW50cyA9IHtcbiAgdG9wTGV2ZWxUeXBlczogdG9wTGV2ZWxUeXBlcyxcbiAgUHJvcGFnYXRpb25QaGFzZXM6IFByb3BhZ2F0aW9uUGhhc2VzXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50Q29uc3RhbnRzO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBFdmVudExpc3RlbmVyXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZShcIi4vZW1wdHlGdW5jdGlvblwiKTtcblxuLyoqXG4gKiBVcHN0cmVhbSB2ZXJzaW9uIG9mIGV2ZW50IGxpc3RlbmVyLiBEb2VzIG5vdCB0YWtlIGludG8gYWNjb3VudCBzcGVjaWZpY1xuICogbmF0dXJlIG9mIHBsYXRmb3JtLlxuICovXG52YXIgRXZlbnRMaXN0ZW5lciA9IHtcbiAgLyoqXG4gICAqIExpc3RlbiB0byBET00gZXZlbnRzIGR1cmluZyB0aGUgYnViYmxlIHBoYXNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSB0YXJnZXQgRE9NIGVsZW1lbnQgdG8gcmVnaXN0ZXIgbGlzdGVuZXIgb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgRXZlbnQgdHlwZSwgZS5nLiAnY2xpY2snIG9yICdtb3VzZW92ZXInLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvbi5cbiAgICogQHJldHVybiB7b2JqZWN0fSBPYmplY3Qgd2l0aCBhIGByZW1vdmVgIG1ldGhvZC5cbiAgICovXG4gIGxpc3RlbjogZnVuY3Rpb24odGFyZ2V0LCBldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHRhcmdldC5hdHRhY2hFdmVudCkge1xuICAgICAgdGFyZ2V0LmF0dGFjaEV2ZW50KCdvbicgKyBldmVudFR5cGUsIGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGFyZ2V0LmRldGFjaEV2ZW50KCdvbicgKyBldmVudFR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIExpc3RlbiB0byBET00gZXZlbnRzIGR1cmluZyB0aGUgY2FwdHVyZSBwaGFzZS5cbiAgICpcbiAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gdGFyZ2V0IERPTSBlbGVtZW50IHRvIHJlZ2lzdGVyIGxpc3RlbmVyIG9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIEV2ZW50IHR5cGUsIGUuZy4gJ2NsaWNrJyBvciAnbW91c2VvdmVyJy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqIEByZXR1cm4ge29iamVjdH0gT2JqZWN0IHdpdGggYSBgcmVtb3ZlYCBtZXRob2QuXG4gICAqL1xuICBjYXB0dXJlOiBmdW5jdGlvbih0YXJnZXQsIGV2ZW50VHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0F0dGVtcHRlZCB0byBsaXN0ZW4gdG8gZXZlbnRzIGR1cmluZyB0aGUgY2FwdHVyZSBwaGFzZSBvbiBhICcgK1xuICAgICAgICAgICdicm93c2VyIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCB0aGUgY2FwdHVyZSBwaGFzZS4gWW91ciBhcHBsaWNhdGlvbiAnICtcbiAgICAgICAgICAnd2lsbCBub3QgcmVjZWl2ZSBzb21lIGV2ZW50cy4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZW1vdmU6IGVtcHR5RnVuY3Rpb25cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIHRydWUpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgcmVnaXN0ZXJEZWZhdWx0OiBmdW5jdGlvbigpIHt9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50TGlzdGVuZXI7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRXZlbnRQbHVnaW5IdWJcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0gcmVxdWlyZShcIi4vRXZlbnRQbHVnaW5SZWdpc3RyeVwiKTtcbnZhciBFdmVudFBsdWdpblV0aWxzID0gcmVxdWlyZShcIi4vRXZlbnRQbHVnaW5VdGlsc1wiKTtcblxudmFyIGFjY3VtdWxhdGVJbnRvID0gcmVxdWlyZShcIi4vYWNjdW11bGF0ZUludG9cIik7XG52YXIgZm9yRWFjaEFjY3VtdWxhdGVkID0gcmVxdWlyZShcIi4vZm9yRWFjaEFjY3VtdWxhdGVkXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcblxuLyoqXG4gKiBJbnRlcm5hbCBzdG9yZSBmb3IgZXZlbnQgbGlzdGVuZXJzXG4gKi9cbnZhciBsaXN0ZW5lckJhbmsgPSB7fTtcblxuLyoqXG4gKiBJbnRlcm5hbCBxdWV1ZSBvZiBldmVudHMgdGhhdCBoYXZlIGFjY3VtdWxhdGVkIHRoZWlyIGRpc3BhdGNoZXMgYW5kIGFyZVxuICogd2FpdGluZyB0byBoYXZlIHRoZWlyIGRpc3BhdGNoZXMgZXhlY3V0ZWQuXG4gKi9cbnZhciBldmVudFF1ZXVlID0gbnVsbDtcblxuLyoqXG4gKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGFuZCByZWxlYXNlcyBpdCBiYWNrIGludG8gdGhlIHBvb2wsIHVubGVzcyBwZXJzaXN0ZW50LlxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gZXZlbnQgU3ludGhldGljIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgaWYgKGV2ZW50KSB7XG4gICAgdmFyIGV4ZWN1dGVEaXNwYXRjaCA9IEV2ZW50UGx1Z2luVXRpbHMuZXhlY3V0ZURpc3BhdGNoO1xuICAgIC8vIFBsdWdpbnMgY2FuIHByb3ZpZGUgY3VzdG9tIGJlaGF2aW9yIHdoZW4gZGlzcGF0Y2hpbmcgZXZlbnRzLlxuICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LmdldFBsdWdpbk1vZHVsZUZvckV2ZW50KGV2ZW50KTtcbiAgICBpZiAoUGx1Z2luTW9kdWxlICYmIFBsdWdpbk1vZHVsZS5leGVjdXRlRGlzcGF0Y2gpIHtcbiAgICAgIGV4ZWN1dGVEaXNwYXRjaCA9IFBsdWdpbk1vZHVsZS5leGVjdXRlRGlzcGF0Y2g7XG4gICAgfVxuICAgIEV2ZW50UGx1Z2luVXRpbHMuZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyKGV2ZW50LCBleGVjdXRlRGlzcGF0Y2gpO1xuXG4gICAgaWYgKCFldmVudC5pc1BlcnNpc3RlbnQoKSkge1xuICAgICAgZXZlbnQuY29uc3RydWN0b3IucmVsZWFzZShldmVudCk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIC0gYEluc3RhbmNlSGFuZGxlYDogW3JlcXVpcmVkXSBNb2R1bGUgdGhhdCBwZXJmb3JtcyBsb2dpY2FsIHRyYXZlcnNhbHMgb2YgRE9NXG4gKiAgIGhpZXJhcmNoeSBnaXZlbiBpZHMgb2YgdGhlIGxvZ2ljYWwgRE9NIGVsZW1lbnRzIGludm9sdmVkLlxuICovXG52YXIgSW5zdGFuY2VIYW5kbGUgPSBudWxsO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUluc3RhbmNlSGFuZGxlKCkge1xuICB2YXIgdmFsaWQgPVxuICAgIEluc3RhbmNlSGFuZGxlICYmXG4gICAgSW5zdGFuY2VIYW5kbGUudHJhdmVyc2VUd29QaGFzZSAmJlxuICAgIEluc3RhbmNlSGFuZGxlLnRyYXZlcnNlRW50ZXJMZWF2ZTtcbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICB2YWxpZCxcbiAgICAnSW5zdGFuY2VIYW5kbGUgbm90IGluamVjdGVkIGJlZm9yZSB1c2UhJ1xuICApIDogaW52YXJpYW50KHZhbGlkKSk7XG59XG5cbi8qKlxuICogVGhpcyBpcyBhIHVuaWZpZWQgaW50ZXJmYWNlIGZvciBldmVudCBwbHVnaW5zIHRvIGJlIGluc3RhbGxlZCBhbmQgY29uZmlndXJlZC5cbiAqXG4gKiBFdmVudCBwbHVnaW5zIGNhbiBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgYGV4dHJhY3RFdmVudHNgIHtmdW5jdGlvbihzdHJpbmcsIERPTUV2ZW50VGFyZ2V0LCBzdHJpbmcsIG9iamVjdCk6ICp9XG4gKiAgICAgUmVxdWlyZWQuIFdoZW4gYSB0b3AtbGV2ZWwgZXZlbnQgaXMgZmlyZWQsIHRoaXMgbWV0aG9kIGlzIGV4cGVjdGVkIHRvXG4gKiAgICAgZXh0cmFjdCBzeW50aGV0aWMgZXZlbnRzIHRoYXQgd2lsbCBpbiB0dXJuIGJlIHF1ZXVlZCBhbmQgZGlzcGF0Y2hlZC5cbiAqXG4gKiAgIGBldmVudFR5cGVzYCB7b2JqZWN0fVxuICogICAgIE9wdGlvbmFsLCBwbHVnaW5zIHRoYXQgZmlyZSBldmVudHMgbXVzdCBwdWJsaXNoIGEgbWFwcGluZyBvZiByZWdpc3RyYXRpb25cbiAqICAgICBuYW1lcyB0aGF0IGFyZSB1c2VkIHRvIHJlZ2lzdGVyIGxpc3RlbmVycy4gVmFsdWVzIG9mIHRoaXMgbWFwcGluZyBtdXN0XG4gKiAgICAgYmUgb2JqZWN0cyB0aGF0IGNvbnRhaW4gYHJlZ2lzdHJhdGlvbk5hbWVgIG9yIGBwaGFzZWRSZWdpc3RyYXRpb25OYW1lc2AuXG4gKlxuICogICBgZXhlY3V0ZURpc3BhdGNoYCB7ZnVuY3Rpb24ob2JqZWN0LCBmdW5jdGlvbiwgc3RyaW5nKX1cbiAqICAgICBPcHRpb25hbCwgYWxsb3dzIHBsdWdpbnMgdG8gb3ZlcnJpZGUgaG93IGFuIGV2ZW50IGdldHMgZGlzcGF0Y2hlZC4gQnlcbiAqICAgICBkZWZhdWx0LCB0aGUgbGlzdGVuZXIgaXMgc2ltcGx5IGludm9rZWQuXG4gKlxuICogRWFjaCBwbHVnaW4gdGhhdCBpcyBpbmplY3RlZCBpbnRvIGBFdmVudHNQbHVnaW5IdWJgIGlzIGltbWVkaWF0ZWx5IG9wZXJhYmxlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xudmFyIEV2ZW50UGx1Z2luSHViID0ge1xuXG4gIC8qKlxuICAgKiBNZXRob2RzIGZvciBpbmplY3RpbmcgZGVwZW5kZW5jaWVzLlxuICAgKi9cbiAgaW5qZWN0aW9uOiB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gSW5qZWN0ZWRNb3VudFxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBpbmplY3RNb3VudDogRXZlbnRQbHVnaW5VdGlscy5pbmplY3Rpb24uaW5qZWN0TW91bnQsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gSW5qZWN0ZWRJbnN0YW5jZUhhbmRsZVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBpbmplY3RJbnN0YW5jZUhhbmRsZTogZnVuY3Rpb24oSW5qZWN0ZWRJbnN0YW5jZUhhbmRsZSkge1xuICAgICAgSW5zdGFuY2VIYW5kbGUgPSBJbmplY3RlZEluc3RhbmNlSGFuZGxlO1xuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICB2YWxpZGF0ZUluc3RhbmNlSGFuZGxlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGdldEluc3RhbmNlSGFuZGxlOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgdmFsaWRhdGVJbnN0YW5jZUhhbmRsZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEluc3RhbmNlSGFuZGxlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBJbmplY3RlZEV2ZW50UGx1Z2luT3JkZXJcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcjogRXZlbnRQbHVnaW5SZWdpc3RyeS5pbmplY3RFdmVudFBsdWdpbk9yZGVyLFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGluamVjdGVkTmFtZXNUb1BsdWdpbnMgTWFwIGZyb20gbmFtZXMgdG8gcGx1Z2luIG1vZHVsZXMuXG4gICAgICovXG4gICAgaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lOiBFdmVudFBsdWdpblJlZ2lzdHJ5LmluamVjdEV2ZW50UGx1Z2luc0J5TmFtZVxuXG4gIH0sXG5cbiAgZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzOiBFdmVudFBsdWdpblJlZ2lzdHJ5LmV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyxcblxuICByZWdpc3RyYXRpb25OYW1lTW9kdWxlczogRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlcyxcblxuICAvKipcbiAgICogU3RvcmVzIGBsaXN0ZW5lcmAgYXQgYGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXVtpZF1gLiBJcyBpZGVtcG90ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBOYW1lIG9mIGxpc3RlbmVyIChlLmcuIGBvbkNsaWNrYCkuXG4gICAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgY2FsbGJhY2sgdG8gc3RvcmUuXG4gICAqL1xuICBwdXRMaXN0ZW5lcjogZnVuY3Rpb24oaWQsIHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyKSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgICFsaXN0ZW5lciB8fCB0eXBlb2YgbGlzdGVuZXIgPT09ICdmdW5jdGlvbicsXG4gICAgICAnRXhwZWN0ZWQgJXMgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgdHlwZSAlcycsXG4gICAgICByZWdpc3RyYXRpb25OYW1lLCB0eXBlb2YgbGlzdGVuZXJcbiAgICApIDogaW52YXJpYW50KCFsaXN0ZW5lciB8fCB0eXBlb2YgbGlzdGVuZXIgPT09ICdmdW5jdGlvbicpKTtcblxuICAgIHZhciBiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSA9XG4gICAgICBsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV0gfHwgKGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXSA9IHt9KTtcbiAgICBiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZVtpZF0gPSBsaXN0ZW5lcjtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIHRoZSBET00gZWxlbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJhdGlvbk5hbWUgTmFtZSBvZiBsaXN0ZW5lciAoZS5nLiBgb25DbGlja2ApLlxuICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259IFRoZSBzdG9yZWQgY2FsbGJhY2suXG4gICAqL1xuICBnZXRMaXN0ZW5lcjogZnVuY3Rpb24oaWQsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICB2YXIgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUgPSBsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgcmV0dXJuIGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lICYmIGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lW2lkXTtcbiAgfSxcblxuICAvKipcbiAgICogRGVsZXRlcyBhIGxpc3RlbmVyIGZyb20gdGhlIHJlZ2lzdHJhdGlvbiBiYW5rLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBOYW1lIG9mIGxpc3RlbmVyIChlLmcuIGBvbkNsaWNrYCkuXG4gICAqL1xuICBkZWxldGVMaXN0ZW5lcjogZnVuY3Rpb24oaWQsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICB2YXIgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUgPSBsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgaWYgKGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICBkZWxldGUgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWVbaWRdO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRGVsZXRlcyBhbGwgbGlzdGVuZXJzIGZvciB0aGUgRE9NIGVsZW1lbnQgd2l0aCB0aGUgc3VwcGxpZWQgSUQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiB0aGUgRE9NIGVsZW1lbnQuXG4gICAqL1xuICBkZWxldGVBbGxMaXN0ZW5lcnM6IGZ1bmN0aW9uKGlkKSB7XG4gICAgZm9yICh2YXIgcmVnaXN0cmF0aW9uTmFtZSBpbiBsaXN0ZW5lckJhbmspIHtcbiAgICAgIGRlbGV0ZSBsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV1baWRdO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQWxsb3dzIHJlZ2lzdGVyZWQgcGx1Z2lucyBhbiBvcHBvcnR1bml0eSB0byBleHRyYWN0IGV2ZW50cyBmcm9tIHRvcC1sZXZlbFxuICAgKiBuYXRpdmUgYnJvd3NlciBldmVudHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gdG9wTGV2ZWxUYXJnZXQgVGhlIGxpc3RlbmluZyBjb21wb25lbnQgcm9vdCBub2RlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUYXJnZXRJRCBJRCBvZiBgdG9wTGV2ZWxUYXJnZXRgLlxuICAgKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4geyp9IEFuIGFjY3VtdWxhdGlvbiBvZiBzeW50aGV0aWMgZXZlbnRzLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKFxuICAgICAgdG9wTGV2ZWxUeXBlLFxuICAgICAgdG9wTGV2ZWxUYXJnZXQsXG4gICAgICB0b3BMZXZlbFRhcmdldElELFxuICAgICAgbmF0aXZlRXZlbnQpIHtcbiAgICB2YXIgZXZlbnRzO1xuICAgIHZhciBwbHVnaW5zID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5wbHVnaW5zO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gcGx1Z2lucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIC8vIE5vdCBldmVyeSBwbHVnaW4gaW4gdGhlIG9yZGVyaW5nIG1heSBiZSBsb2FkZWQgYXQgcnVudGltZS5cbiAgICAgIHZhciBwb3NzaWJsZVBsdWdpbiA9IHBsdWdpbnNbaV07XG4gICAgICBpZiAocG9zc2libGVQbHVnaW4pIHtcbiAgICAgICAgdmFyIGV4dHJhY3RlZEV2ZW50cyA9IHBvc3NpYmxlUGx1Z2luLmV4dHJhY3RFdmVudHMoXG4gICAgICAgICAgdG9wTGV2ZWxUeXBlLFxuICAgICAgICAgIHRvcExldmVsVGFyZ2V0LFxuICAgICAgICAgIHRvcExldmVsVGFyZ2V0SUQsXG4gICAgICAgICAgbmF0aXZlRXZlbnRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGV4dHJhY3RlZEV2ZW50cykge1xuICAgICAgICAgIGV2ZW50cyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50cywgZXh0cmFjdGVkRXZlbnRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXZlbnRzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFbnF1ZXVlcyBhIHN5bnRoZXRpYyBldmVudCB0aGF0IHNob3VsZCBiZSBkaXNwYXRjaGVkIHdoZW5cbiAgICogYHByb2Nlc3NFdmVudFF1ZXVlYCBpcyBpbnZva2VkLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGV2ZW50cyBBbiBhY2N1bXVsYXRpb24gb2Ygc3ludGhldGljIGV2ZW50cy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlRXZlbnRzOiBmdW5jdGlvbihldmVudHMpIHtcbiAgICBpZiAoZXZlbnRzKSB7XG4gICAgICBldmVudFF1ZXVlID0gYWNjdW11bGF0ZUludG8oZXZlbnRRdWV1ZSwgZXZlbnRzKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYWxsIHN5bnRoZXRpYyBldmVudHMgb24gdGhlIGV2ZW50IHF1ZXVlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByb2Nlc3NFdmVudFF1ZXVlOiBmdW5jdGlvbigpIHtcbiAgICAvLyBTZXQgYGV2ZW50UXVldWVgIHRvIG51bGwgYmVmb3JlIHByb2Nlc3NpbmcgaXQgc28gdGhhdCB3ZSBjYW4gdGVsbCBpZiBtb3JlXG4gICAgLy8gZXZlbnRzIGdldCBlbnF1ZXVlZCB3aGlsZSBwcm9jZXNzaW5nLlxuICAgIHZhciBwcm9jZXNzaW5nRXZlbnRRdWV1ZSA9IGV2ZW50UXVldWU7XG4gICAgZXZlbnRRdWV1ZSA9IG51bGw7XG4gICAgZm9yRWFjaEFjY3VtdWxhdGVkKHByb2Nlc3NpbmdFdmVudFF1ZXVlLCBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UpO1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAhZXZlbnRRdWV1ZSxcbiAgICAgICdwcm9jZXNzRXZlbnRRdWV1ZSgpOiBBZGRpdGlvbmFsIGV2ZW50cyB3ZXJlIGVucXVldWVkIHdoaWxlIHByb2Nlc3NpbmcgJyArXG4gICAgICAnYW4gZXZlbnQgcXVldWUuIFN1cHBvcnQgZm9yIHRoaXMgaGFzIG5vdCB5ZXQgYmVlbiBpbXBsZW1lbnRlZC4nXG4gICAgKSA6IGludmFyaWFudCghZXZlbnRRdWV1ZSkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGVzZSBhcmUgbmVlZGVkIGZvciB0ZXN0cyBvbmx5LiBEbyBub3QgdXNlIVxuICAgKi9cbiAgX19wdXJnZTogZnVuY3Rpb24oKSB7XG4gICAgbGlzdGVuZXJCYW5rID0ge307XG4gIH0sXG5cbiAgX19nZXRMaXN0ZW5lckJhbms6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBsaXN0ZW5lckJhbms7XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudFBsdWdpbkh1YjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBFdmVudFBsdWdpblJlZ2lzdHJ5XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcblxuLyoqXG4gKiBJbmplY3RhYmxlIG9yZGVyaW5nIG9mIGV2ZW50IHBsdWdpbnMuXG4gKi9cbnZhciBFdmVudFBsdWdpbk9yZGVyID0gbnVsbDtcblxuLyoqXG4gKiBJbmplY3RhYmxlIG1hcHBpbmcgZnJvbSBuYW1lcyB0byBldmVudCBwbHVnaW4gbW9kdWxlcy5cbiAqL1xudmFyIG5hbWVzVG9QbHVnaW5zID0ge307XG5cbi8qKlxuICogUmVjb21wdXRlcyB0aGUgcGx1Z2luIGxpc3QgdXNpbmcgdGhlIGluamVjdGVkIHBsdWdpbnMgYW5kIHBsdWdpbiBvcmRlcmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZWNvbXB1dGVQbHVnaW5PcmRlcmluZygpIHtcbiAgaWYgKCFFdmVudFBsdWdpbk9yZGVyKSB7XG4gICAgLy8gV2FpdCB1bnRpbCBhbiBgRXZlbnRQbHVnaW5PcmRlcmAgaXMgaW5qZWN0ZWQuXG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAodmFyIHBsdWdpbk5hbWUgaW4gbmFtZXNUb1BsdWdpbnMpIHtcbiAgICB2YXIgUGx1Z2luTW9kdWxlID0gbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgdmFyIHBsdWdpbkluZGV4ID0gRXZlbnRQbHVnaW5PcmRlci5pbmRleE9mKHBsdWdpbk5hbWUpO1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICBwbHVnaW5JbmRleCA+IC0xLFxuICAgICAgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgZXZlbnQgcGx1Z2lucyB0aGF0IGRvIG5vdCBleGlzdCBpbiAnICtcbiAgICAgICd0aGUgcGx1Z2luIG9yZGVyaW5nLCBgJXNgLicsXG4gICAgICBwbHVnaW5OYW1lXG4gICAgKSA6IGludmFyaWFudChwbHVnaW5JbmRleCA+IC0xKSk7XG4gICAgaWYgKEV2ZW50UGx1Z2luUmVnaXN0cnkucGx1Z2luc1twbHVnaW5JbmRleF0pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgUGx1Z2luTW9kdWxlLmV4dHJhY3RFdmVudHMsXG4gICAgICAnRXZlbnRQbHVnaW5SZWdpc3RyeTogRXZlbnQgcGx1Z2lucyBtdXN0IGltcGxlbWVudCBhbiBgZXh0cmFjdEV2ZW50c2AgJyArXG4gICAgICAnbWV0aG9kLCBidXQgYCVzYCBkb2VzIG5vdC4nLFxuICAgICAgcGx1Z2luTmFtZVxuICAgICkgOiBpbnZhcmlhbnQoUGx1Z2luTW9kdWxlLmV4dHJhY3RFdmVudHMpKTtcbiAgICBFdmVudFBsdWdpblJlZ2lzdHJ5LnBsdWdpbnNbcGx1Z2luSW5kZXhdID0gUGx1Z2luTW9kdWxlO1xuICAgIHZhciBwdWJsaXNoZWRFdmVudHMgPSBQbHVnaW5Nb2R1bGUuZXZlbnRUeXBlcztcbiAgICBmb3IgKHZhciBldmVudE5hbWUgaW4gcHVibGlzaGVkRXZlbnRzKSB7XG4gICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICBwdWJsaXNoRXZlbnRGb3JQbHVnaW4oXG4gICAgICAgICAgcHVibGlzaGVkRXZlbnRzW2V2ZW50TmFtZV0sXG4gICAgICAgICAgUGx1Z2luTW9kdWxlLFxuICAgICAgICAgIGV2ZW50TmFtZVxuICAgICAgICApLFxuICAgICAgICAnRXZlbnRQbHVnaW5SZWdpc3RyeTogRmFpbGVkIHRvIHB1Ymxpc2ggZXZlbnQgYCVzYCBmb3IgcGx1Z2luIGAlc2AuJyxcbiAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICBwbHVnaW5OYW1lXG4gICAgICApIDogaW52YXJpYW50KHB1Ymxpc2hFdmVudEZvclBsdWdpbihcbiAgICAgICAgcHVibGlzaGVkRXZlbnRzW2V2ZW50TmFtZV0sXG4gICAgICAgIFBsdWdpbk1vZHVsZSxcbiAgICAgICAgZXZlbnROYW1lXG4gICAgICApKSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUHVibGlzaGVzIGFuIGV2ZW50IHNvIHRoYXQgaXQgY2FuIGJlIGRpc3BhdGNoZWQgYnkgdGhlIHN1cHBsaWVkIHBsdWdpbi5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgRGlzcGF0Y2ggY29uZmlndXJhdGlvbiBmb3IgdGhlIGV2ZW50LlxuICogQHBhcmFtIHtvYmplY3R9IFBsdWdpbk1vZHVsZSBQbHVnaW4gcHVibGlzaGluZyB0aGUgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCB3YXMgc3VjY2Vzc2Z1bGx5IHB1Ymxpc2hlZC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHB1Ymxpc2hFdmVudEZvclBsdWdpbihkaXNwYXRjaENvbmZpZywgUGx1Z2luTW9kdWxlLCBldmVudE5hbWUpIHtcbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAhRXZlbnRQbHVnaW5SZWdpc3RyeS5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKSxcbiAgICAnRXZlbnRQbHVnaW5IdWI6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lICcgK1xuICAgICdldmVudCBuYW1lLCBgJXNgLicsXG4gICAgZXZlbnROYW1lXG4gICkgOiBpbnZhcmlhbnQoIUV2ZW50UGx1Z2luUmVnaXN0cnkuZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSkpKTtcbiAgRXZlbnRQbHVnaW5SZWdpc3RyeS5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3NbZXZlbnROYW1lXSA9IGRpc3BhdGNoQ29uZmlnO1xuXG4gIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lcyA9IGRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO1xuICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICBmb3IgKHZhciBwaGFzZU5hbWUgaW4gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgIGlmIChwaGFzZWRSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShwaGFzZU5hbWUpKSB7XG4gICAgICAgIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lID0gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcGhhc2VOYW1lXTtcbiAgICAgICAgcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUoXG4gICAgICAgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZSxcbiAgICAgICAgICBQbHVnaW5Nb2R1bGUsXG4gICAgICAgICAgZXZlbnROYW1lXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShcbiAgICAgIGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUsXG4gICAgICBQbHVnaW5Nb2R1bGUsXG4gICAgICBldmVudE5hbWVcbiAgICApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBQdWJsaXNoZXMgYSByZWdpc3RyYXRpb24gbmFtZSB0aGF0IGlzIHVzZWQgdG8gaWRlbnRpZnkgZGlzcGF0Y2hlZCBldmVudHMgYW5kXG4gKiBjYW4gYmUgdXNlZCB3aXRoIGBFdmVudFBsdWdpbkh1Yi5wdXRMaXN0ZW5lcmAgdG8gcmVnaXN0ZXIgbGlzdGVuZXJzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWdpc3RyYXRpb25OYW1lIFJlZ2lzdHJhdGlvbiBuYW1lIHRvIGFkZC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBQbHVnaW5Nb2R1bGUgUGx1Z2luIHB1Ymxpc2hpbmcgdGhlIGV2ZW50LlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUocmVnaXN0cmF0aW9uTmFtZSwgUGx1Z2luTW9kdWxlLCBldmVudE5hbWUpIHtcbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAhRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSxcbiAgICAnRXZlbnRQbHVnaW5IdWI6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lICcgK1xuICAgICdyZWdpc3RyYXRpb24gbmFtZSwgYCVzYC4nLFxuICAgIHJlZ2lzdHJhdGlvbk5hbWVcbiAgKSA6IGludmFyaWFudCghRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSkpO1xuICBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdID0gUGx1Z2luTW9kdWxlO1xuICBFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV0gPVxuICAgIFBsdWdpbk1vZHVsZS5ldmVudFR5cGVzW2V2ZW50TmFtZV0uZGVwZW5kZW5jaWVzO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBwbHVnaW5zIHNvIHRoYXQgdGhleSBjYW4gZXh0cmFjdCBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICpcbiAqIEBzZWUge0V2ZW50UGx1Z2luSHVifVxuICovXG52YXIgRXZlbnRQbHVnaW5SZWdpc3RyeSA9IHtcblxuICAvKipcbiAgICogT3JkZXJlZCBsaXN0IG9mIGluamVjdGVkIHBsdWdpbnMuXG4gICAqL1xuICBwbHVnaW5zOiBbXSxcblxuICAvKipcbiAgICogTWFwcGluZyBmcm9tIGV2ZW50IG5hbWUgdG8gZGlzcGF0Y2ggY29uZmlnXG4gICAqL1xuICBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3M6IHt9LFxuXG4gIC8qKlxuICAgKiBNYXBwaW5nIGZyb20gcmVnaXN0cmF0aW9uIG5hbWUgdG8gcGx1Z2luIG1vZHVsZVxuICAgKi9cbiAgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXM6IHt9LFxuXG4gIC8qKlxuICAgKiBNYXBwaW5nIGZyb20gcmVnaXN0cmF0aW9uIG5hbWUgdG8gZXZlbnQgbmFtZVxuICAgKi9cbiAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llczoge30sXG5cbiAgLyoqXG4gICAqIEluamVjdHMgYW4gb3JkZXJpbmcgb2YgcGx1Z2lucyAoYnkgcGx1Z2luIG5hbWUpLiBUaGlzIGFsbG93cyB0aGUgb3JkZXJpbmdcbiAgICogdG8gYmUgZGVjb3VwbGVkIGZyb20gaW5qZWN0aW9uIG9mIHRoZSBhY3R1YWwgcGx1Z2lucyBzbyB0aGF0IG9yZGVyaW5nIGlzXG4gICAqIGFsd2F5cyBkZXRlcm1pbmlzdGljIHJlZ2FyZGxlc3Mgb2YgcGFja2FnaW5nLCBvbi10aGUtZmx5IGluamVjdGlvbiwgZXRjLlxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSBJbmplY3RlZEV2ZW50UGx1Z2luT3JkZXJcbiAgICogQGludGVybmFsXG4gICAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbk9yZGVyfVxuICAgKi9cbiAgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcjogZnVuY3Rpb24oSW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyKSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgICFFdmVudFBsdWdpbk9yZGVyLFxuICAgICAgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgZXZlbnQgcGx1Z2luIG9yZGVyaW5nIG1vcmUgdGhhbiAnICtcbiAgICAgICdvbmNlLiBZb3UgYXJlIGxpa2VseSB0cnlpbmcgdG8gbG9hZCBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QuJ1xuICAgICkgOiBpbnZhcmlhbnQoIUV2ZW50UGx1Z2luT3JkZXIpKTtcbiAgICAvLyBDbG9uZSB0aGUgb3JkZXJpbmcgc28gaXQgY2Fubm90IGJlIGR5bmFtaWNhbGx5IG11dGF0ZWQuXG4gICAgRXZlbnRQbHVnaW5PcmRlciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKEluamVjdGVkRXZlbnRQbHVnaW5PcmRlcik7XG4gICAgcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKTtcbiAgfSxcblxuICAvKipcbiAgICogSW5qZWN0cyBwbHVnaW5zIHRvIGJlIHVzZWQgYnkgYEV2ZW50UGx1Z2luSHViYC4gVGhlIHBsdWdpbiBuYW1lcyBtdXN0IGJlXG4gICAqIGluIHRoZSBvcmRlcmluZyBpbmplY3RlZCBieSBgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcmAuXG4gICAqXG4gICAqIFBsdWdpbnMgY2FuIGJlIGluamVjdGVkIGFzIHBhcnQgb2YgcGFnZSBpbml0aWFsaXphdGlvbiBvciBvbi10aGUtZmx5LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaW5qZWN0ZWROYW1lc1RvUGx1Z2lucyBNYXAgZnJvbSBuYW1lcyB0byBwbHVnaW4gbW9kdWxlcy5cbiAgICogQGludGVybmFsXG4gICAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWV9XG4gICAqL1xuICBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWU6IGZ1bmN0aW9uKGluamVjdGVkTmFtZXNUb1BsdWdpbnMpIHtcbiAgICB2YXIgaXNPcmRlcmluZ0RpcnR5ID0gZmFsc2U7XG4gICAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gICAgICBpZiAoIWluamVjdGVkTmFtZXNUb1BsdWdpbnMuaGFzT3duUHJvcGVydHkocGx1Z2luTmFtZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgUGx1Z2luTW9kdWxlID0gaW5qZWN0ZWROYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXTtcbiAgICAgIGlmICghbmFtZXNUb1BsdWdpbnMuaGFzT3duUHJvcGVydHkocGx1Z2luTmFtZSkgfHxcbiAgICAgICAgICBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSAhPT0gUGx1Z2luTW9kdWxlKSB7XG4gICAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAgICAgIW5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdLFxuICAgICAgICAgICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IHR3byBkaWZmZXJlbnQgZXZlbnQgcGx1Z2lucyAnICtcbiAgICAgICAgICAndXNpbmcgdGhlIHNhbWUgbmFtZSwgYCVzYC4nLFxuICAgICAgICAgIHBsdWdpbk5hbWVcbiAgICAgICAgKSA6IGludmFyaWFudCghbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0pKTtcbiAgICAgICAgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gPSBQbHVnaW5Nb2R1bGU7XG4gICAgICAgIGlzT3JkZXJpbmdEaXJ0eSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc09yZGVyaW5nRGlydHkpIHtcbiAgICAgIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBMb29rcyB1cCB0aGUgcGx1Z2luIGZvciB0aGUgc3VwcGxpZWQgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBIHN5bnRoZXRpYyBldmVudC5cbiAgICogQHJldHVybiB7P29iamVjdH0gVGhlIHBsdWdpbiB0aGF0IGNyZWF0ZWQgdGhlIHN1cHBsaWVkIGV2ZW50LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldFBsdWdpbk1vZHVsZUZvckV2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBkaXNwYXRjaENvbmZpZyA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnO1xuICAgIGlmIChkaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICByZXR1cm4gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tcbiAgICAgICAgZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZVxuICAgICAgXSB8fCBudWxsO1xuICAgIH1cbiAgICBmb3IgKHZhciBwaGFzZSBpbiBkaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgICAgaWYgKCFkaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShwaGFzZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgUGx1Z2luTW9kdWxlID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tcbiAgICAgICAgZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcGhhc2VdXG4gICAgICBdO1xuICAgICAgaWYgKFBsdWdpbk1vZHVsZSkge1xuICAgICAgICByZXR1cm4gUGx1Z2luTW9kdWxlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogRXhwb3NlZCBmb3IgdW5pdCB0ZXN0aW5nLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Jlc2V0RXZlbnRQbHVnaW5zOiBmdW5jdGlvbigpIHtcbiAgICBFdmVudFBsdWdpbk9yZGVyID0gbnVsbDtcbiAgICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIG5hbWVzVG9QbHVnaW5zKSB7XG4gICAgICBpZiAobmFtZXNUb1BsdWdpbnMuaGFzT3duUHJvcGVydHkocGx1Z2luTmFtZSkpIHtcbiAgICAgICAgZGVsZXRlIG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgICBFdmVudFBsdWdpblJlZ2lzdHJ5LnBsdWdpbnMubGVuZ3RoID0gMDtcblxuICAgIHZhciBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LmV2ZW50TmFtZURpc3BhdGNoQ29uZmlncztcbiAgICBmb3IgKHZhciBldmVudE5hbWUgaW4gZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzKSB7XG4gICAgICBpZiAoZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSkpIHtcbiAgICAgICAgZGVsZXRlIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnc1tldmVudE5hbWVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZWdpc3RyYXRpb25OYW1lTW9kdWxlcyA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXM7XG4gICAgZm9yICh2YXIgcmVnaXN0cmF0aW9uTmFtZSBpbiByZWdpc3RyYXRpb25OYW1lTW9kdWxlcykge1xuICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHJlZ2lzdHJhdGlvbk5hbWUpKSB7XG4gICAgICAgIGRlbGV0ZSByZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudFBsdWdpblJlZ2lzdHJ5O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEV2ZW50UGx1Z2luVXRpbHNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudENvbnN0YW50cyA9IHJlcXVpcmUoXCIuL0V2ZW50Q29uc3RhbnRzXCIpO1xuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xuXG4vKipcbiAqIEluamVjdGVkIGRlcGVuZGVuY2llczpcbiAqL1xuXG4vKipcbiAqIC0gYE1vdW50YDogW3JlcXVpcmVkXSBNb2R1bGUgdGhhdCBjYW4gY29udmVydCBiZXR3ZWVuIFJlYWN0IGRvbSBJRHMgYW5kXG4gKiAgIGFjdHVhbCBub2RlIHJlZmVyZW5jZXMuXG4gKi9cbnZhciBpbmplY3Rpb24gPSB7XG4gIE1vdW50OiBudWxsLFxuICBpbmplY3RNb3VudDogZnVuY3Rpb24oSW5qZWN0ZWRNb3VudCkge1xuICAgIGluamVjdGlvbi5Nb3VudCA9IEluamVjdGVkTW91bnQ7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgICAgSW5qZWN0ZWRNb3VudCAmJiBJbmplY3RlZE1vdW50LmdldE5vZGUsXG4gICAgICAgICdFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbi5pbmplY3RNb3VudCguLi4pOiBJbmplY3RlZCBNb3VudCBtb2R1bGUgJyArXG4gICAgICAgICdpcyBtaXNzaW5nIGdldE5vZGUuJ1xuICAgICAgKSA6IGludmFyaWFudChJbmplY3RlZE1vdW50ICYmIEluamVjdGVkTW91bnQuZ2V0Tm9kZSkpO1xuICAgIH1cbiAgfVxufTtcblxudmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuXG5mdW5jdGlvbiBpc0VuZGlzaCh0b3BMZXZlbFR5cGUpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZVVwIHx8XG4gICAgICAgICB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wVG91Y2hFbmQgfHxcbiAgICAgICAgIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BUb3VjaENhbmNlbDtcbn1cblxuZnVuY3Rpb24gaXNNb3ZlaXNoKHRvcExldmVsVHlwZSkge1xuICByZXR1cm4gdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlTW92ZSB8fFxuICAgICAgICAgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoTW92ZTtcbn1cbmZ1bmN0aW9uIGlzU3RhcnRpc2godG9wTGV2ZWxUeXBlKSB7XG4gIHJldHVybiB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duIHx8XG4gICAgICAgICB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wVG91Y2hTdGFydDtcbn1cblxuXG52YXIgdmFsaWRhdGVFdmVudERpc3BhdGNoZXM7XG5pZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZGlzcGF0Y2hMaXN0ZW5lcnMgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gICAgdmFyIGRpc3BhdGNoSURzID0gZXZlbnQuX2Rpc3BhdGNoSURzO1xuXG4gICAgdmFyIGxpc3RlbmVyc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycyk7XG4gICAgdmFyIGlkc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaElEcyk7XG4gICAgdmFyIElEc0xlbiA9IGlkc0lzQXJyID8gZGlzcGF0Y2hJRHMubGVuZ3RoIDogZGlzcGF0Y2hJRHMgPyAxIDogMDtcbiAgICB2YXIgbGlzdGVuZXJzTGVuID0gbGlzdGVuZXJzSXNBcnIgP1xuICAgICAgZGlzcGF0Y2hMaXN0ZW5lcnMubGVuZ3RoIDpcbiAgICAgIGRpc3BhdGNoTGlzdGVuZXJzID8gMSA6IDA7XG5cbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgaWRzSXNBcnIgPT09IGxpc3RlbmVyc0lzQXJyICYmIElEc0xlbiA9PT0gbGlzdGVuZXJzTGVuLFxuICAgICAgJ0V2ZW50UGx1Z2luVXRpbHM6IEludmFsaWQgYGV2ZW50YC4nXG4gICAgKSA6IGludmFyaWFudChpZHNJc0FyciA9PT0gbGlzdGVuZXJzSXNBcnIgJiYgSURzTGVuID09PSBsaXN0ZW5lcnNMZW4pKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjYihldmVudCwgbGlzdGVuZXIsIGlkKWAuIEF2b2lkcyB1c2luZyBjYWxsIGlmIG5vIHNjb3BlIGlzXG4gKiBwcm92aWRlZC4gVGhlIGAobGlzdGVuZXIsaWQpYCBwYWlyIGVmZmVjdGl2ZWx5IGZvcm1zIHRoZSBcImRpc3BhdGNoXCIgYnV0IGFyZVxuICoga2VwdCBzZXBhcmF0ZSB0byBjb25zZXJ2ZSBtZW1vcnkuXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2hFdmVudERpc3BhdGNoKGV2ZW50LCBjYikge1xuICB2YXIgZGlzcGF0Y2hMaXN0ZW5lcnMgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gIHZhciBkaXNwYXRjaElEcyA9IGV2ZW50Ll9kaXNwYXRjaElEcztcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycykpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIExpc3RlbmVycyBhbmQgSURzIGFyZSB0d28gcGFyYWxsZWwgYXJyYXlzIHRoYXQgYXJlIGFsd2F5cyBpbiBzeW5jLlxuICAgICAgY2IoZXZlbnQsIGRpc3BhdGNoTGlzdGVuZXJzW2ldLCBkaXNwYXRjaElEc1tpXSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRpc3BhdGNoTGlzdGVuZXJzKSB7XG4gICAgY2IoZXZlbnQsIGRpc3BhdGNoTGlzdGVuZXJzLCBkaXNwYXRjaElEcyk7XG4gIH1cbn1cblxuLyoqXG4gKiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIFBsdWdpbk1vZHVsZS5leGVjdXRlRGlzcGF0Y2goKS5cbiAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IFN5bnRoZXRpY0V2ZW50IHRvIGhhbmRsZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gQXBwbGljYXRpb24tbGV2ZWwgY2FsbGJhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBkb21JRCBET00gaWQgdG8gcGFzcyB0byB0aGUgY2FsbGJhY2suXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaChldmVudCwgbGlzdGVuZXIsIGRvbUlEKSB7XG4gIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBpbmplY3Rpb24uTW91bnQuZ2V0Tm9kZShkb21JRCk7XG4gIHZhciByZXR1cm5WYWx1ZSA9IGxpc3RlbmVyKGV2ZW50LCBkb21JRCk7XG4gIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59XG5cbi8qKlxuICogU3RhbmRhcmQvc2ltcGxlIGl0ZXJhdGlvbiB0aHJvdWdoIGFuIGV2ZW50J3MgY29sbGVjdGVkIGRpc3BhdGNoZXMuXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcihldmVudCwgY2IpIHtcbiAgZm9yRWFjaEV2ZW50RGlzcGF0Y2goZXZlbnQsIGNiKTtcbiAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gbnVsbDtcbiAgZXZlbnQuX2Rpc3BhdGNoSURzID0gbnVsbDtcbn1cblxuLyoqXG4gKiBTdGFuZGFyZC9zaW1wbGUgaXRlcmF0aW9uIHRocm91Z2ggYW4gZXZlbnQncyBjb2xsZWN0ZWQgZGlzcGF0Y2hlcywgYnV0IHN0b3BzXG4gKiBhdCB0aGUgZmlyc3QgZGlzcGF0Y2ggZXhlY3V0aW9uIHJldHVybmluZyB0cnVlLCBhbmQgcmV0dXJucyB0aGF0IGlkLlxuICpcbiAqIEByZXR1cm4gaWQgb2YgdGhlIGZpcnN0IGRpc3BhdGNoIGV4ZWN1dGlvbiB3aG8ncyBsaXN0ZW5lciByZXR1cm5zIHRydWUsIG9yXG4gKiBudWxsIGlmIG5vIGxpc3RlbmVyIHJldHVybmVkIHRydWUuXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWVJbXBsKGV2ZW50KSB7XG4gIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgdmFyIGRpc3BhdGNoSURzID0gZXZlbnQuX2Rpc3BhdGNoSURzO1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMoZXZlbnQpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzcGF0Y2hMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gTGlzdGVuZXJzIGFuZCBJRHMgYXJlIHR3byBwYXJhbGxlbCBhcnJheXMgdGhhdCBhcmUgYWx3YXlzIGluIHN5bmMuXG4gICAgICBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnNbaV0oZXZlbnQsIGRpc3BhdGNoSURzW2ldKSkge1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2hJRHNbaV07XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGRpc3BhdGNoTGlzdGVuZXJzKSB7XG4gICAgaWYgKGRpc3BhdGNoTGlzdGVuZXJzKGV2ZW50LCBkaXNwYXRjaElEcykpIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaElEcztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQHNlZSBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbFxuICovXG5mdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlKGV2ZW50KSB7XG4gIHZhciByZXQgPSBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbChldmVudCk7XG4gIGV2ZW50Ll9kaXNwYXRjaElEcyA9IG51bGw7XG4gIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IG51bGw7XG4gIHJldHVybiByZXQ7XG59XG5cbi8qKlxuICogRXhlY3V0aW9uIG9mIGEgXCJkaXJlY3RcIiBkaXNwYXRjaCAtIHRoZXJlIG11c3QgYmUgYXQgbW9zdCBvbmUgZGlzcGF0Y2hcbiAqIGFjY3VtdWxhdGVkIG9uIHRoZSBldmVudCBvciBpdCBpcyBjb25zaWRlcmVkIGFuIGVycm9yLiBJdCBkb2Vzbid0IHJlYWxseSBtYWtlXG4gKiBzZW5zZSBmb3IgYW4gZXZlbnQgd2l0aCBtdWx0aXBsZSBkaXNwYXRjaGVzIChidWJibGVkKSB0byBrZWVwIHRyYWNrIG9mIHRoZVxuICogcmV0dXJuIHZhbHVlcyBhdCBlYWNoIGRpc3BhdGNoIGV4ZWN1dGlvbiwgYnV0IGl0IGRvZXMgdGVuZCB0byBtYWtlIHNlbnNlIHdoZW5cbiAqIGRlYWxpbmcgd2l0aCBcImRpcmVjdFwiIGRpc3BhdGNoZXMuXG4gKlxuICogQHJldHVybiBUaGUgcmV0dXJuIHZhbHVlIG9mIGV4ZWN1dGluZyB0aGUgc2luZ2xlIGRpc3BhdGNoLlxuICovXG5mdW5jdGlvbiBleGVjdXRlRGlyZWN0RGlzcGF0Y2goZXZlbnQpIHtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgfVxuICB2YXIgZGlzcGF0Y2hMaXN0ZW5lciA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgdmFyIGRpc3BhdGNoSUQgPSBldmVudC5fZGlzcGF0Y2hJRHM7XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgIUFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lciksXG4gICAgJ2V4ZWN1dGVEaXJlY3REaXNwYXRjaCguLi4pOiBJbnZhbGlkIGBldmVudGAuJ1xuICApIDogaW52YXJpYW50KCFBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXIpKSk7XG4gIHZhciByZXMgPSBkaXNwYXRjaExpc3RlbmVyID9cbiAgICBkaXNwYXRjaExpc3RlbmVyKGV2ZW50LCBkaXNwYXRjaElEKSA6XG4gICAgbnVsbDtcbiAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gbnVsbDtcbiAgZXZlbnQuX2Rpc3BhdGNoSURzID0gbnVsbDtcbiAgcmV0dXJuIHJlcztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudFxuICogQHJldHVybiB7Ym9vbH0gVHJ1ZSBpZmYgbnVtYmVyIG9mIGRpc3BhdGNoZXMgYWNjdW11bGF0ZWQgaXMgZ3JlYXRlciB0aGFuIDAuXG4gKi9cbmZ1bmN0aW9uIGhhc0Rpc3BhdGNoZXMoZXZlbnQpIHtcbiAgcmV0dXJuICEhZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzO1xufVxuXG4vKipcbiAqIEdlbmVyYWwgdXRpbGl0aWVzIHRoYXQgYXJlIHVzZWZ1bCBpbiBjcmVhdGluZyBjdXN0b20gRXZlbnQgUGx1Z2lucy5cbiAqL1xudmFyIEV2ZW50UGx1Z2luVXRpbHMgPSB7XG4gIGlzRW5kaXNoOiBpc0VuZGlzaCxcbiAgaXNNb3ZlaXNoOiBpc01vdmVpc2gsXG4gIGlzU3RhcnRpc2g6IGlzU3RhcnRpc2gsXG5cbiAgZXhlY3V0ZURpcmVjdERpc3BhdGNoOiBleGVjdXRlRGlyZWN0RGlzcGF0Y2gsXG4gIGV4ZWN1dGVEaXNwYXRjaDogZXhlY3V0ZURpc3BhdGNoLFxuICBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXI6IGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcixcbiAgZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZTogZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZSxcbiAgaGFzRGlzcGF0Y2hlczogaGFzRGlzcGF0Y2hlcyxcbiAgaW5qZWN0aW9uOiBpbmplY3Rpb24sXG4gIHVzZVRvdWNoRXZlbnRzOiBmYWxzZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudFBsdWdpblV0aWxzO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEV2ZW50UHJvcGFnYXRvcnNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudENvbnN0YW50cyA9IHJlcXVpcmUoXCIuL0V2ZW50Q29uc3RhbnRzXCIpO1xudmFyIEV2ZW50UGx1Z2luSHViID0gcmVxdWlyZShcIi4vRXZlbnRQbHVnaW5IdWJcIik7XG5cbnZhciBhY2N1bXVsYXRlSW50byA9IHJlcXVpcmUoXCIuL2FjY3VtdWxhdGVJbnRvXCIpO1xudmFyIGZvckVhY2hBY2N1bXVsYXRlZCA9IHJlcXVpcmUoXCIuL2ZvckVhY2hBY2N1bXVsYXRlZFwiKTtcblxudmFyIFByb3BhZ2F0aW9uUGhhc2VzID0gRXZlbnRDb25zdGFudHMuUHJvcGFnYXRpb25QaGFzZXM7XG52YXIgZ2V0TGlzdGVuZXIgPSBFdmVudFBsdWdpbkh1Yi5nZXRMaXN0ZW5lcjtcblxuLyoqXG4gKiBTb21lIGV2ZW50IHR5cGVzIGhhdmUgYSBub3Rpb24gb2YgZGlmZmVyZW50IHJlZ2lzdHJhdGlvbiBuYW1lcyBmb3IgZGlmZmVyZW50XG4gKiBcInBoYXNlc1wiIG9mIHByb3BhZ2F0aW9uLiBUaGlzIGZpbmRzIGxpc3RlbmVycyBieSBhIGdpdmVuIHBoYXNlLlxuICovXG5mdW5jdGlvbiBsaXN0ZW5lckF0UGhhc2UoaWQsIGV2ZW50LCBwcm9wYWdhdGlvblBoYXNlKSB7XG4gIHZhciByZWdpc3RyYXRpb25OYW1lID1cbiAgICBldmVudC5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lc1twcm9wYWdhdGlvblBoYXNlXTtcbiAgcmV0dXJuIGdldExpc3RlbmVyKGlkLCByZWdpc3RyYXRpb25OYW1lKTtcbn1cblxuLyoqXG4gKiBUYWdzIGEgYFN5bnRoZXRpY0V2ZW50YCB3aXRoIGRpc3BhdGNoZWQgbGlzdGVuZXJzLiBDcmVhdGluZyB0aGlzIGZ1bmN0aW9uXG4gKiBoZXJlLCBhbGxvd3MgdXMgdG8gbm90IGhhdmUgdG8gYmluZCBvciBjcmVhdGUgZnVuY3Rpb25zIGZvciBlYWNoIGV2ZW50LlxuICogTXV0YXRpbmcgdGhlIGV2ZW50J3MgbWVtYmVycyBhbGxvd3MgdXMgdG8gbm90IGhhdmUgdG8gY3JlYXRlIGEgd3JhcHBpbmdcbiAqIFwiZGlzcGF0Y2hcIiBvYmplY3QgdGhhdCBwYWlycyB0aGUgZXZlbnQgd2l0aCB0aGUgbGlzdGVuZXIuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMoZG9tSUQsIHVwd2FyZHMsIGV2ZW50KSB7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBpZiAoIWRvbUlEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rpc3BhdGNoaW5nIGlkIG11c3Qgbm90IGJlIG51bGwnKTtcbiAgICB9XG4gIH1cbiAgdmFyIHBoYXNlID0gdXB3YXJkcyA/IFByb3BhZ2F0aW9uUGhhc2VzLmJ1YmJsZWQgOiBQcm9wYWdhdGlvblBoYXNlcy5jYXB0dXJlZDtcbiAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJBdFBoYXNlKGRvbUlELCBldmVudCwgcGhhc2UpO1xuICBpZiAobGlzdGVuZXIpIHtcbiAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPVxuICAgICAgYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzLCBsaXN0ZW5lcik7XG4gICAgZXZlbnQuX2Rpc3BhdGNoSURzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoSURzLCBkb21JRCk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb2xsZWN0IGRpc3BhdGNoZXMgKG11c3QgYmUgZW50aXJlbHkgY29sbGVjdGVkIGJlZm9yZSBkaXNwYXRjaGluZyAtIHNlZSB1bml0XG4gKiB0ZXN0cykuIExhemlseSBhbGxvY2F0ZSB0aGUgYXJyYXkgdG8gY29uc2VydmUgbWVtb3J5LiAgV2UgbXVzdCBsb29wIHRocm91Z2hcbiAqIGVhY2ggZXZlbnQgYW5kIHBlcmZvcm0gdGhlIHRyYXZlcnNhbCBmb3IgZWFjaCBvbmUuIFdlIGNhbiBub3QgcGVyZm9ybSBhXG4gKiBzaW5nbGUgdHJhdmVyc2FsIGZvciB0aGUgZW50aXJlIGNvbGxlY3Rpb24gb2YgZXZlbnRzIGJlY2F1c2UgZWFjaCBldmVudCBtYXlcbiAqIGhhdmUgYSBkaWZmZXJlbnQgdGFyZ2V0LlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlKGV2ZW50KSB7XG4gIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgIEV2ZW50UGx1Z2luSHViLmluamVjdGlvbi5nZXRJbnN0YW5jZUhhbmRsZSgpLnRyYXZlcnNlVHdvUGhhc2UoXG4gICAgICBldmVudC5kaXNwYXRjaE1hcmtlcixcbiAgICAgIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMsXG4gICAgICBldmVudFxuICAgICk7XG4gIH1cbn1cblxuXG4vKipcbiAqIEFjY3VtdWxhdGVzIHdpdGhvdXQgcmVnYXJkIHRvIGRpcmVjdGlvbiwgZG9lcyBub3QgbG9vayBmb3IgcGhhc2VkXG4gKiByZWdpc3RyYXRpb24gbmFtZXMuIFNhbWUgYXMgYGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlYCBidXQgd2l0aG91dFxuICogcmVxdWlyaW5nIHRoYXQgdGhlIGBkaXNwYXRjaE1hcmtlcmAgYmUgdGhlIHNhbWUgYXMgdGhlIGRpc3BhdGNoZWQgSUQuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXNwYXRjaGVzKGlkLCBpZ25vcmVkRGlyZWN0aW9uLCBldmVudCkge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gZXZlbnQuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZTtcbiAgICB2YXIgbGlzdGVuZXIgPSBnZXRMaXN0ZW5lcihpZCwgcmVnaXN0cmF0aW9uTmFtZSk7XG4gICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPVxuICAgICAgICBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMsIGxpc3RlbmVyKTtcbiAgICAgIGV2ZW50Ll9kaXNwYXRjaElEcyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaElEcywgaWQpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY3VtdWxhdGVzIGRpc3BhdGNoZXMgb24gYW4gYFN5bnRoZXRpY0V2ZW50YCwgYnV0IG9ubHkgZm9yIHRoZVxuICogYGRpc3BhdGNoTWFya2VyYC5cbiAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50XG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlKGV2ZW50KSB7XG4gIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgYWNjdW11bGF0ZURpc3BhdGNoZXMoZXZlbnQuZGlzcGF0Y2hNYXJrZXIsIG51bGwsIGV2ZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50cykge1xuICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlKTtcbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzKGxlYXZlLCBlbnRlciwgZnJvbUlELCB0b0lEKSB7XG4gIEV2ZW50UGx1Z2luSHViLmluamVjdGlvbi5nZXRJbnN0YW5jZUhhbmRsZSgpLnRyYXZlcnNlRW50ZXJMZWF2ZShcbiAgICBmcm9tSUQsXG4gICAgdG9JRCxcbiAgICBhY2N1bXVsYXRlRGlzcGF0Y2hlcyxcbiAgICBsZWF2ZSxcbiAgICBlbnRlclxuICApO1xufVxuXG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKGV2ZW50cykge1xuICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZSk7XG59XG5cblxuXG4vKipcbiAqIEEgc21hbGwgc2V0IG9mIHByb3BhZ2F0aW9uIHBhdHRlcm5zLCBlYWNoIG9mIHdoaWNoIHdpbGwgYWNjZXB0IGEgc21hbGwgYW1vdW50XG4gKiBvZiBpbmZvcm1hdGlvbiwgYW5kIGdlbmVyYXRlIGEgc2V0IG9mIFwiZGlzcGF0Y2ggcmVhZHkgZXZlbnQgb2JqZWN0c1wiIC0gd2hpY2hcbiAqIGFyZSBzZXRzIG9mIGV2ZW50cyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGFubm90YXRlZCB3aXRoIGEgc2V0IG9mIGRpc3BhdGNoZWRcbiAqIGxpc3RlbmVyIGZ1bmN0aW9ucy9pZHMuIFRoZSBBUEkgaXMgZGVzaWduZWQgdGhpcyB3YXkgdG8gZGlzY291cmFnZSB0aGVzZVxuICogcHJvcGFnYXRpb24gc3RyYXRlZ2llcyBmcm9tIGFjdHVhbGx5IGV4ZWN1dGluZyB0aGUgZGlzcGF0Y2hlcywgc2luY2Ugd2VcbiAqIGFsd2F5cyB3YW50IHRvIGNvbGxlY3QgdGhlIGVudGlyZSBzZXQgb2YgZGlzcGF0Y2hlcyBiZWZvcmUgZXhlY3V0aW5nIGV2ZW50IGFcbiAqIHNpbmdsZSBvbmUuXG4gKlxuICogQGNvbnN0cnVjdG9yIEV2ZW50UHJvcGFnYXRvcnNcbiAqL1xudmFyIEV2ZW50UHJvcGFnYXRvcnMgPSB7XG4gIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXM6IGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMsXG4gIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzOiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyxcbiAgYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzOiBhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXNcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRQcm9wYWdhdG9ycztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBFeGVjdXRpb25FbnZpcm9ubWVudFxuICovXG5cbi8qanNsaW50IGV2aWw6IHRydWUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBjYW5Vc2VET00gPSAhIShcbiAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudClcbik7XG5cbi8qKlxuICogU2ltcGxlLCBsaWdodHdlaWdodCBtb2R1bGUgYXNzaXN0aW5nIHdpdGggdGhlIGRldGVjdGlvbiBhbmQgY29udGV4dCBvZlxuICogV29ya2VyLiBIZWxwcyBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYW5kIGFsbG93cyBjb2RlIHRvIHJlYXNvbiBhYm91dFxuICogd2hldGhlciBvciBub3QgdGhleSBhcmUgaW4gYSBXb3JrZXIsIGV2ZW4gaWYgdGhleSBuZXZlciBpbmNsdWRlIHRoZSBtYWluXG4gKiBgUmVhY3RXb3JrZXJgIGRlcGVuZGVuY3kuXG4gKi9cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHtcblxuICBjYW5Vc2VET006IGNhblVzZURPTSxcblxuICBjYW5Vc2VXb3JrZXJzOiB0eXBlb2YgV29ya2VyICE9PSAndW5kZWZpbmVkJyxcblxuICBjYW5Vc2VFdmVudExpc3RlbmVyczpcbiAgICBjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuICBjYW5Vc2VWaWV3cG9ydDogY2FuVXNlRE9NICYmICEhd2luZG93LnNjcmVlbixcblxuICBpc0luV29ya2VyOiAhY2FuVXNlRE9NIC8vIEZvciBub3csIHRoaXMgaXMgdHJ1ZSAtIG1pZ2h0IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZVxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBQb29sZWRDbGFzcyA9IHJlcXVpcmUoXCIuL1Bvb2xlZENsYXNzXCIpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4vT2JqZWN0LmFzc2lnblwiKTtcbnZhciBnZXRUZXh0Q29udGVudEFjY2Vzc29yID0gcmVxdWlyZShcIi4vZ2V0VGV4dENvbnRlbnRBY2Nlc3NvclwiKTtcblxuLyoqXG4gKiBUaGlzIGhlbHBlciBjbGFzcyBzdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgdGV4dCBjb250ZW50IG9mIGEgdGFyZ2V0IG5vZGUsXG4gKiBhbGxvd2luZyBjb21wYXJpc29uIG9mIGNvbnRlbnQgYmVmb3JlIGFuZCBhZnRlciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIElkZW50aWZ5IHRoZSBub2RlIHdoZXJlIHNlbGVjdGlvbiBjdXJyZW50bHkgYmVnaW5zLCB0aGVuIG9ic2VydmVcbiAqIGJvdGggaXRzIHRleHQgY29udGVudCBhbmQgaXRzIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIERPTS4gU2luY2UgdGhlXG4gKiBicm93c2VyIG1heSBuYXRpdmVseSByZXBsYWNlIHRoZSB0YXJnZXQgbm9kZSBkdXJpbmcgY29tcG9zaXRpb24sIHdlIGNhblxuICogdXNlIGl0cyBwb3NpdGlvbiB0byBmaW5kIGl0cyByZXBsYWNlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSByb290XG4gKi9cbmZ1bmN0aW9uIEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZShyb290KSB7XG4gIHRoaXMuX3Jvb3QgPSByb290O1xuICB0aGlzLl9zdGFydFRleHQgPSB0aGlzLmdldFRleHQoKTtcbiAgdGhpcy5fZmFsbGJhY2tUZXh0ID0gbnVsbDtcbn1cblxuYXNzaWduKEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZS5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IHRleHQgb2YgaW5wdXQuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIGdldFRleHQ6IGZ1bmN0aW9uKCkge1xuICAgIGlmICgndmFsdWUnIGluIHRoaXMuX3Jvb3QpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb290LnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcm9vdFtnZXRUZXh0Q29udGVudEFjY2Vzc29yKCldO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgdGhlIGRpZmZlcmluZyBzdWJzdHJpbmcgYmV0d2VlbiB0aGUgaW5pdGlhbGx5IHN0b3JlZFxuICAgKiB0ZXh0IGNvbnRlbnQgYW5kIHRoZSBjdXJyZW50IGNvbnRlbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIGdldERhdGE6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9mYWxsYmFja1RleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9mYWxsYmFja1RleHQ7XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0O1xuICAgIHZhciBzdGFydFZhbHVlID0gdGhpcy5fc3RhcnRUZXh0O1xuICAgIHZhciBzdGFydExlbmd0aCA9IHN0YXJ0VmFsdWUubGVuZ3RoO1xuICAgIHZhciBlbmQ7XG4gICAgdmFyIGVuZFZhbHVlID0gdGhpcy5nZXRUZXh0KCk7XG4gICAgdmFyIGVuZExlbmd0aCA9IGVuZFZhbHVlLmxlbmd0aDtcblxuICAgIGZvciAoc3RhcnQgPSAwOyBzdGFydCA8IHN0YXJ0TGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoc3RhcnRWYWx1ZVtzdGFydF0gIT09IGVuZFZhbHVlW3N0YXJ0XSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbWluRW5kID0gc3RhcnRMZW5ndGggLSBzdGFydDtcbiAgICBmb3IgKGVuZCA9IDE7IGVuZCA8PSBtaW5FbmQ7IGVuZCsrKSB7XG4gICAgICBpZiAoc3RhcnRWYWx1ZVtzdGFydExlbmd0aCAtIGVuZF0gIT09IGVuZFZhbHVlW2VuZExlbmd0aCAtIGVuZF0pIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHNsaWNlVGFpbCA9IGVuZCA+IDEgPyAxIC0gZW5kIDogdW5kZWZpbmVkO1xuICAgIHRoaXMuX2ZhbGxiYWNrVGV4dCA9IGVuZFZhbHVlLnNsaWNlKHN0YXJ0LCBzbGljZVRhaWwpO1xuICAgIHJldHVybiB0aGlzLl9mYWxsYmFja1RleHQ7XG4gIH1cbn0pO1xuXG5Qb29sZWRDbGFzcy5hZGRQb29saW5nVG8oRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGU7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgSFRNTERPTVByb3BlcnR5Q29uZmlnXG4gKi9cblxuLypqc2xpbnQgYml0d2lzZTogdHJ1ZSovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZShcIi4vRE9NUHJvcGVydHlcIik7XG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi9FeGVjdXRpb25FbnZpcm9ubWVudFwiKTtcblxudmFyIE1VU1RfVVNFX0FUVFJJQlVURSA9IERPTVByb3BlcnR5LmluamVjdGlvbi5NVVNUX1VTRV9BVFRSSUJVVEU7XG52YXIgTVVTVF9VU0VfUFJPUEVSVFkgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uTVVTVF9VU0VfUFJPUEVSVFk7XG52YXIgSEFTX0JPT0xFQU5fVkFMVUUgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uSEFTX0JPT0xFQU5fVkFMVUU7XG52YXIgSEFTX1NJREVfRUZGRUNUUyA9IERPTVByb3BlcnR5LmluamVjdGlvbi5IQVNfU0lERV9FRkZFQ1RTO1xudmFyIEhBU19OVU1FUklDX1ZBTFVFID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLkhBU19OVU1FUklDX1ZBTFVFO1xudmFyIEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFID1cbiAgRE9NUHJvcGVydHkuaW5qZWN0aW9uLkhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFO1xudmFyIEhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUgPVxuICBET01Qcm9wZXJ0eS5pbmplY3Rpb24uSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRTtcblxudmFyIGhhc1NWRztcbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgdmFyIGltcGxlbWVudGF0aW9uID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb247XG4gIGhhc1NWRyA9IChcbiAgICBpbXBsZW1lbnRhdGlvbiAmJlxuICAgIGltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUgJiZcbiAgICBpbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKFxuICAgICAgJ2h0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjQmFzaWNTdHJ1Y3R1cmUnLFxuICAgICAgJzEuMSdcbiAgICApXG4gICk7XG59XG5cblxudmFyIEhUTUxET01Qcm9wZXJ0eUNvbmZpZyA9IHtcbiAgaXNDdXN0b21BdHRyaWJ1dGU6IFJlZ0V4cC5wcm90b3R5cGUudGVzdC5iaW5kKFxuICAgIC9eKGRhdGF8YXJpYSktW2Etel9dW2EtelxcZF8uXFwtXSokL1xuICApLFxuICBQcm9wZXJ0aWVzOiB7XG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgUHJvcGVydGllc1xuICAgICAqL1xuICAgIGFjY2VwdDogbnVsbCxcbiAgICBhY2NlcHRDaGFyc2V0OiBudWxsLFxuICAgIGFjY2Vzc0tleTogbnVsbCxcbiAgICBhY3Rpb246IG51bGwsXG4gICAgYWxsb3dGdWxsU2NyZWVuOiBNVVNUX1VTRV9BVFRSSUJVVEUgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBhbGxvd1RyYW5zcGFyZW5jeTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGFsdDogbnVsbCxcbiAgICBhc3luYzogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgYXV0b0NvbXBsZXRlOiBudWxsLFxuICAgIC8vIGF1dG9Gb2N1cyBpcyBwb2x5ZmlsbGVkL25vcm1hbGl6ZWQgYnkgQXV0b0ZvY3VzTWl4aW5cbiAgICAvLyBhdXRvRm9jdXM6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGF1dG9QbGF5OiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBjZWxsUGFkZGluZzogbnVsbCxcbiAgICBjZWxsU3BhY2luZzogbnVsbCxcbiAgICBjaGFyU2V0OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgY2hlY2tlZDogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBjbGFzc0lEOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgLy8gVG8gc2V0IGNsYXNzTmFtZSBvbiBTVkcgZWxlbWVudHMsIGl0J3MgbmVjZXNzYXJ5IHRvIHVzZSAuc2V0QXR0cmlidXRlO1xuICAgIC8vIHRoaXMgd29ya3Mgb24gSFRNTCBlbGVtZW50cyB0b28gaW4gYWxsIGJyb3dzZXJzIGV4Y2VwdCBJRTguIENvbnZlbmllbnRseSxcbiAgICAvLyBJRTggZG9lc24ndCBzdXBwb3J0IFNWRyBhbmQgc28gd2UgY2FuIHNpbXBseSB1c2UgdGhlIGF0dHJpYnV0ZSBpblxuICAgIC8vIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBTVkcgYW5kIHRoZSBwcm9wZXJ0eSBpbiBicm93c2VycyB0aGF0IGRvbid0LFxuICAgIC8vIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgZWxlbWVudCBpcyBIVE1MIG9yIFNWRy5cbiAgICBjbGFzc05hbWU6IGhhc1NWRyA/IE1VU1RfVVNFX0FUVFJJQlVURSA6IE1VU1RfVVNFX1BST1BFUlRZLFxuICAgIGNvbHM6IE1VU1RfVVNFX0FUVFJJQlVURSB8IEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFLFxuICAgIGNvbFNwYW46IG51bGwsXG4gICAgY29udGVudDogbnVsbCxcbiAgICBjb250ZW50RWRpdGFibGU6IG51bGwsXG4gICAgY29udGV4dE1lbnU6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBjb250cm9sczogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBjb29yZHM6IG51bGwsXG4gICAgY3Jvc3NPcmlnaW46IG51bGwsXG4gICAgZGF0YTogbnVsbCwgLy8gRm9yIGA8b2JqZWN0IC8+YCBhY3RzIGFzIGBzcmNgLlxuICAgIGRhdGVUaW1lOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgZGVmZXI6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGRpcjogbnVsbCxcbiAgICBkaXNhYmxlZDogTVVTVF9VU0VfQVRUUklCVVRFIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgZG93bmxvYWQ6IEhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUsXG4gICAgZHJhZ2dhYmxlOiBudWxsLFxuICAgIGVuY1R5cGU6IG51bGwsXG4gICAgZm9ybTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGZvcm1BY3Rpb246IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBmb3JtRW5jVHlwZTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGZvcm1NZXRob2Q6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBmb3JtTm9WYWxpZGF0ZTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgZm9ybVRhcmdldDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGZyYW1lQm9yZGVyOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgaGVhZGVyczogbnVsbCxcbiAgICBoZWlnaHQ6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBoaWRkZW46IE1VU1RfVVNFX0FUVFJJQlVURSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGhpZ2g6IG51bGwsXG4gICAgaHJlZjogbnVsbCxcbiAgICBocmVmTGFuZzogbnVsbCxcbiAgICBodG1sRm9yOiBudWxsLFxuICAgIGh0dHBFcXVpdjogbnVsbCxcbiAgICBpY29uOiBudWxsLFxuICAgIGlkOiBNVVNUX1VTRV9QUk9QRVJUWSxcbiAgICBsYWJlbDogbnVsbCxcbiAgICBsYW5nOiBudWxsLFxuICAgIGxpc3Q6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBsb29wOiBNVVNUX1VTRV9QUk9QRVJUWSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGxvdzogbnVsbCxcbiAgICBtYW5pZmVzdDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIG1hcmdpbkhlaWdodDogbnVsbCxcbiAgICBtYXJnaW5XaWR0aDogbnVsbCxcbiAgICBtYXg6IG51bGwsXG4gICAgbWF4TGVuZ3RoOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgbWVkaWE6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBtZWRpYUdyb3VwOiBudWxsLFxuICAgIG1ldGhvZDogbnVsbCxcbiAgICBtaW46IG51bGwsXG4gICAgbXVsdGlwbGU6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgbXV0ZWQ6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgbmFtZTogbnVsbCxcbiAgICBub1ZhbGlkYXRlOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBvcGVuOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBvcHRpbXVtOiBudWxsLFxuICAgIHBhdHRlcm46IG51bGwsXG4gICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgcG9zdGVyOiBudWxsLFxuICAgIHByZWxvYWQ6IG51bGwsXG4gICAgcmFkaW9Hcm91cDogbnVsbCxcbiAgICByZWFkT25seTogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICByZWw6IG51bGwsXG4gICAgcmVxdWlyZWQ6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIHJvbGU6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICByb3dzOiBNVVNUX1VTRV9BVFRSSUJVVEUgfCBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICByb3dTcGFuOiBudWxsLFxuICAgIHNhbmRib3g6IG51bGwsXG4gICAgc2NvcGU6IG51bGwsXG4gICAgc2NvcGVkOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBzY3JvbGxpbmc6IG51bGwsXG4gICAgc2VhbWxlc3M6IE1VU1RfVVNFX0FUVFJJQlVURSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIHNlbGVjdGVkOiBNVVNUX1VTRV9QUk9QRVJUWSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIHNoYXBlOiBudWxsLFxuICAgIHNpemU6IE1VU1RfVVNFX0FUVFJJQlVURSB8IEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFLFxuICAgIHNpemVzOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgc3BhbjogSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUUsXG4gICAgc3BlbGxDaGVjazogbnVsbCxcbiAgICBzcmM6IG51bGwsXG4gICAgc3JjRG9jOiBNVVNUX1VTRV9QUk9QRVJUWSxcbiAgICBzcmNTZXQ6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBzdGFydDogSEFTX05VTUVSSUNfVkFMVUUsXG4gICAgc3RlcDogbnVsbCxcbiAgICBzdHlsZTogbnVsbCxcbiAgICB0YWJJbmRleDogbnVsbCxcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgdGl0bGU6IG51bGwsXG4gICAgdHlwZTogbnVsbCxcbiAgICB1c2VNYXA6IG51bGwsXG4gICAgdmFsdWU6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX1NJREVfRUZGRUNUUyxcbiAgICB3aWR0aDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHdtb2RlOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG5cbiAgICAvKipcbiAgICAgKiBOb24tc3RhbmRhcmQgUHJvcGVydGllc1xuICAgICAqL1xuICAgIC8vIGF1dG9DYXBpdGFsaXplIGFuZCBhdXRvQ29ycmVjdCBhcmUgc3VwcG9ydGVkIGluIE1vYmlsZSBTYWZhcmkgZm9yXG4gICAgLy8ga2V5Ym9hcmQgaGludHMuXG4gICAgYXV0b0NhcGl0YWxpemU6IG51bGwsXG4gICAgYXV0b0NvcnJlY3Q6IG51bGwsXG4gICAgLy8gaXRlbVByb3AsIGl0ZW1TY29wZSwgaXRlbVR5cGUgYXJlIGZvclxuICAgIC8vIE1pY3JvZGF0YSBzdXBwb3J0LiBTZWUgaHR0cDovL3NjaGVtYS5vcmcvZG9jcy9ncy5odG1sXG4gICAgaXRlbVByb3A6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBpdGVtU2NvcGU6IE1VU1RfVVNFX0FUVFJJQlVURSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGl0ZW1UeXBlOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgLy8gaXRlbUlEIGFuZCBpdGVtUmVmIGFyZSBmb3IgTWljcm9kYXRhIHN1cHBvcnQgYXMgd2VsbCBidXRcbiAgICAvLyBvbmx5IHNwZWNpZmllZCBpbiB0aGUgdGhlIFdIQVRXRyBzcGVjIGRvY3VtZW50LiBTZWVcbiAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9taWNyb2RhdGEuaHRtbCNtaWNyb2RhdGEtZG9tLWFwaVxuICAgIGl0ZW1JRDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGl0ZW1SZWY6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICAvLyBwcm9wZXJ0eSBpcyBzdXBwb3J0ZWQgZm9yIE9wZW5HcmFwaCBpbiBtZXRhIHRhZ3MuXG4gICAgcHJvcGVydHk6IG51bGwsXG4gICAgLy8gSUUtb25seSBhdHRyaWJ1dGUgdGhhdCBjb250cm9scyBmb2N1cyBiZWhhdmlvclxuICAgIHVuc2VsZWN0YWJsZTogTVVTVF9VU0VfQVRUUklCVVRFXG4gIH0sXG4gIERPTUF0dHJpYnV0ZU5hbWVzOiB7XG4gICAgYWNjZXB0Q2hhcnNldDogJ2FjY2VwdC1jaGFyc2V0JyxcbiAgICBjbGFzc05hbWU6ICdjbGFzcycsXG4gICAgaHRtbEZvcjogJ2ZvcicsXG4gICAgaHR0cEVxdWl2OiAnaHR0cC1lcXVpdidcbiAgfSxcbiAgRE9NUHJvcGVydHlOYW1lczoge1xuICAgIGF1dG9DYXBpdGFsaXplOiAnYXV0b2NhcGl0YWxpemUnLFxuICAgIGF1dG9Db21wbGV0ZTogJ2F1dG9jb21wbGV0ZScsXG4gICAgYXV0b0NvcnJlY3Q6ICdhdXRvY29ycmVjdCcsXG4gICAgYXV0b0ZvY3VzOiAnYXV0b2ZvY3VzJyxcbiAgICBhdXRvUGxheTogJ2F1dG9wbGF5JyxcbiAgICAvLyBgZW5jb2RpbmdgIGlzIGVxdWl2YWxlbnQgdG8gYGVuY3R5cGVgLCBJRTggbGFja3MgYW4gYGVuY3R5cGVgIHNldHRlci5cbiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9mb3Jtcy5odG1sI2RvbS1mcy1lbmNvZGluZ1xuICAgIGVuY1R5cGU6ICdlbmNvZGluZycsXG4gICAgaHJlZkxhbmc6ICdocmVmbGFuZycsXG4gICAgcmFkaW9Hcm91cDogJ3JhZGlvZ3JvdXAnLFxuICAgIHNwZWxsQ2hlY2s6ICdzcGVsbGNoZWNrJyxcbiAgICBzcmNEb2M6ICdzcmNkb2MnLFxuICAgIHNyY1NldDogJ3NyY3NldCdcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBIVE1MRE9NUHJvcGVydHlDb25maWc7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgTGlua2VkU3RhdGVNaXhpblxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdExpbmsgPSByZXF1aXJlKFwiLi9SZWFjdExpbmtcIik7XG52YXIgUmVhY3RTdGF0ZVNldHRlcnMgPSByZXF1aXJlKFwiLi9SZWFjdFN0YXRlU2V0dGVyc1wiKTtcblxuLyoqXG4gKiBBIHNpbXBsZSBtaXhpbiBhcm91bmQgUmVhY3RMaW5rLmZvclN0YXRlKCkuXG4gKi9cbnZhciBMaW5rZWRTdGF0ZU1peGluID0ge1xuICAvKipcbiAgICogQ3JlYXRlIGEgUmVhY3RMaW5rIHRoYXQncyBsaW5rZWQgdG8gcGFydCBvZiB0aGlzIGNvbXBvbmVudCdzIHN0YXRlLiBUaGVcbiAgICogUmVhY3RMaW5rIHdpbGwgaGF2ZSB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGlzLnN0YXRlW2tleV0gYW5kIHdpbGwgY2FsbFxuICAgKiBzZXRTdGF0ZSgpIHdoZW4gYSBjaGFuZ2UgaXMgcmVxdWVzdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHN0YXRlIGtleSB0byB1cGRhdGUuIE5vdGU6IHlvdSBtYXkgd2FudCB0byB1c2Uga2V5T2YoKVxuICAgKiBpZiB5b3UncmUgdXNpbmcgR29vZ2xlIENsb3N1cmUgQ29tcGlsZXIgYWR2YW5jZWQgbW9kZS5cbiAgICogQHJldHVybiB7UmVhY3RMaW5rfSBSZWFjdExpbmsgaW5zdGFuY2UgbGlua2luZyB0byB0aGUgc3RhdGUuXG4gICAqL1xuICBsaW5rU3RhdGU6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBuZXcgUmVhY3RMaW5rKFxuICAgICAgdGhpcy5zdGF0ZVtrZXldLFxuICAgICAgUmVhY3RTdGF0ZVNldHRlcnMuY3JlYXRlU3RhdGVLZXlTZXR0ZXIodGhpcywga2V5KVxuICAgICk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTGlua2VkU3RhdGVNaXhpbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBMaW5rZWRWYWx1ZVV0aWxzXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzID0gcmVxdWlyZShcIi4vUmVhY3RQcm9wVHlwZXNcIik7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG5cbnZhciBoYXNSZWFkT25seVZhbHVlID0ge1xuICAnYnV0dG9uJzogdHJ1ZSxcbiAgJ2NoZWNrYm94JzogdHJ1ZSxcbiAgJ2ltYWdlJzogdHJ1ZSxcbiAgJ2hpZGRlbic6IHRydWUsXG4gICdyYWRpbyc6IHRydWUsXG4gICdyZXNldCc6IHRydWUsXG4gICdzdWJtaXQnOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBfYXNzZXJ0U2luZ2xlTGluayhpbnB1dCkge1xuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgIGlucHV0LnByb3BzLmNoZWNrZWRMaW5rID09IG51bGwgfHwgaW5wdXQucHJvcHMudmFsdWVMaW5rID09IG51bGwsXG4gICAgJ0Nhbm5vdCBwcm92aWRlIGEgY2hlY2tlZExpbmsgYW5kIGEgdmFsdWVMaW5rLiBJZiB5b3Ugd2FudCB0byB1c2UgJyArXG4gICAgJ2NoZWNrZWRMaW5rLCB5b3UgcHJvYmFibHkgZG9uXFwndCB3YW50IHRvIHVzZSB2YWx1ZUxpbmsgYW5kIHZpY2UgdmVyc2EuJ1xuICApIDogaW52YXJpYW50KGlucHV0LnByb3BzLmNoZWNrZWRMaW5rID09IG51bGwgfHwgaW5wdXQucHJvcHMudmFsdWVMaW5rID09IG51bGwpKTtcbn1cbmZ1bmN0aW9uIF9hc3NlcnRWYWx1ZUxpbmsoaW5wdXQpIHtcbiAgX2Fzc2VydFNpbmdsZUxpbmsoaW5wdXQpO1xuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgIGlucHV0LnByb3BzLnZhbHVlID09IG51bGwgJiYgaW5wdXQucHJvcHMub25DaGFuZ2UgPT0gbnVsbCxcbiAgICAnQ2Fubm90IHByb3ZpZGUgYSB2YWx1ZUxpbmsgYW5kIGEgdmFsdWUgb3Igb25DaGFuZ2UgZXZlbnQuIElmIHlvdSB3YW50ICcgK1xuICAgICd0byB1c2UgdmFsdWUgb3Igb25DaGFuZ2UsIHlvdSBwcm9iYWJseSBkb25cXCd0IHdhbnQgdG8gdXNlIHZhbHVlTGluay4nXG4gICkgOiBpbnZhcmlhbnQoaW5wdXQucHJvcHMudmFsdWUgPT0gbnVsbCAmJiBpbnB1dC5wcm9wcy5vbkNoYW5nZSA9PSBudWxsKSk7XG59XG5cbmZ1bmN0aW9uIF9hc3NlcnRDaGVja2VkTGluayhpbnB1dCkge1xuICBfYXNzZXJ0U2luZ2xlTGluayhpbnB1dCk7XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgaW5wdXQucHJvcHMuY2hlY2tlZCA9PSBudWxsICYmIGlucHV0LnByb3BzLm9uQ2hhbmdlID09IG51bGwsXG4gICAgJ0Nhbm5vdCBwcm92aWRlIGEgY2hlY2tlZExpbmsgYW5kIGEgY2hlY2tlZCBwcm9wZXJ0eSBvciBvbkNoYW5nZSBldmVudC4gJyArXG4gICAgJ0lmIHlvdSB3YW50IHRvIHVzZSBjaGVja2VkIG9yIG9uQ2hhbmdlLCB5b3UgcHJvYmFibHkgZG9uXFwndCB3YW50IHRvICcgK1xuICAgICd1c2UgY2hlY2tlZExpbmsnXG4gICkgOiBpbnZhcmlhbnQoaW5wdXQucHJvcHMuY2hlY2tlZCA9PSBudWxsICYmIGlucHV0LnByb3BzLm9uQ2hhbmdlID09IG51bGwpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBlIGNoYW5nZSBldmVudCB0byBoYW5kbGVcbiAqL1xuZnVuY3Rpb24gX2hhbmRsZUxpbmtlZFZhbHVlQ2hhbmdlKGUpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdGhpcy5wcm9wcy52YWx1ZUxpbmsucmVxdWVzdENoYW5nZShlLnRhcmdldC52YWx1ZSk7XG59XG5cbi8qKlxuICAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGUgY2hhbmdlIGV2ZW50IHRvIGhhbmRsZVxuICAqL1xuZnVuY3Rpb24gX2hhbmRsZUxpbmtlZENoZWNrQ2hhbmdlKGUpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdGhpcy5wcm9wcy5jaGVja2VkTGluay5yZXF1ZXN0Q2hhbmdlKGUudGFyZ2V0LmNoZWNrZWQpO1xufVxuXG4vKipcbiAqIFByb3ZpZGUgYSBsaW5rZWQgYHZhbHVlYCBhdHRyaWJ1dGUgZm9yIGNvbnRyb2xsZWQgZm9ybXMuIFlvdSBzaG91bGQgbm90IHVzZVxuICogdGhpcyBvdXRzaWRlIG9mIHRoZSBSZWFjdERPTSBjb250cm9sbGVkIGZvcm0gY29tcG9uZW50cy5cbiAqL1xudmFyIExpbmtlZFZhbHVlVXRpbHMgPSB7XG4gIE1peGluOiB7XG4gICAgcHJvcFR5cGVzOiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICAgIGlmICghcHJvcHNbcHJvcE5hbWVdIHx8XG4gICAgICAgICAgICBoYXNSZWFkT25seVZhbHVlW3Byb3BzLnR5cGVdIHx8XG4gICAgICAgICAgICBwcm9wcy5vbkNoYW5nZSB8fFxuICAgICAgICAgICAgcHJvcHMucmVhZE9ubHkgfHxcbiAgICAgICAgICAgIHByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICAgICAgICAnWW91IHByb3ZpZGVkIGEgYHZhbHVlYCBwcm9wIHRvIGEgZm9ybSBmaWVsZCB3aXRob3V0IGFuICcgK1xuICAgICAgICAgICdgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmICcgK1xuICAgICAgICAgICd0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0VmFsdWVgLiBPdGhlcndpc2UsICcgK1xuICAgICAgICAgICdzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC4nXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgY2hlY2tlZDogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICAgIGlmICghcHJvcHNbcHJvcE5hbWVdIHx8XG4gICAgICAgICAgICBwcm9wcy5vbkNoYW5nZSB8fFxuICAgICAgICAgICAgcHJvcHMucmVhZE9ubHkgfHxcbiAgICAgICAgICAgIHByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICAgICAgICAnWW91IHByb3ZpZGVkIGEgYGNoZWNrZWRgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gJyArXG4gICAgICAgICAgJ2BvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgJyArXG4gICAgICAgICAgJ3RoZSBmaWVsZCBzaG91bGQgYmUgbXV0YWJsZSB1c2UgYGRlZmF1bHRDaGVja2VkYC4gT3RoZXJ3aXNlLCAnICtcbiAgICAgICAgICAnc2V0IGVpdGhlciBgb25DaGFuZ2VgIG9yIGByZWFkT25seWAuJ1xuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIG9uQ2hhbmdlOiBSZWFjdFByb3BUeXBlcy5mdW5jXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBpbnB1dCBGb3JtIGNvbXBvbmVudFxuICAgKiBAcmV0dXJuIHsqfSBjdXJyZW50IHZhbHVlIG9mIHRoZSBpbnB1dCBlaXRoZXIgZnJvbSB2YWx1ZSBwcm9wIG9yIGxpbmsuXG4gICAqL1xuICBnZXRWYWx1ZTogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQucHJvcHMudmFsdWVMaW5rKSB7XG4gICAgICBfYXNzZXJ0VmFsdWVMaW5rKGlucHV0KTtcbiAgICAgIHJldHVybiBpbnB1dC5wcm9wcy52YWx1ZUxpbmsudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dC5wcm9wcy52YWx1ZTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtSZWFjdENvbXBvbmVudH0gaW5wdXQgRm9ybSBjb21wb25lbnRcbiAgICogQHJldHVybiB7Kn0gY3VycmVudCBjaGVja2VkIHN0YXR1cyBvZiB0aGUgaW5wdXQgZWl0aGVyIGZyb20gY2hlY2tlZCBwcm9wXG4gICAqICAgICAgICAgICAgIG9yIGxpbmsuXG4gICAqL1xuICBnZXRDaGVja2VkOiBmdW5jdGlvbihpbnB1dCkge1xuICAgIGlmIChpbnB1dC5wcm9wcy5jaGVja2VkTGluaykge1xuICAgICAgX2Fzc2VydENoZWNrZWRMaW5rKGlucHV0KTtcbiAgICAgIHJldHVybiBpbnB1dC5wcm9wcy5jaGVja2VkTGluay52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0LnByb3BzLmNoZWNrZWQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGlucHV0IEZvcm0gY29tcG9uZW50XG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBjaGFuZ2UgY2FsbGJhY2sgZWl0aGVyIGZyb20gb25DaGFuZ2UgcHJvcCBvciBsaW5rLlxuICAgKi9cbiAgZ2V0T25DaGFuZ2U6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgaWYgKGlucHV0LnByb3BzLnZhbHVlTGluaykge1xuICAgICAgX2Fzc2VydFZhbHVlTGluayhpbnB1dCk7XG4gICAgICByZXR1cm4gX2hhbmRsZUxpbmtlZFZhbHVlQ2hhbmdlO1xuICAgIH0gZWxzZSBpZiAoaW5wdXQucHJvcHMuY2hlY2tlZExpbmspIHtcbiAgICAgIF9hc3NlcnRDaGVja2VkTGluayhpbnB1dCk7XG4gICAgICByZXR1cm4gX2hhbmRsZUxpbmtlZENoZWNrQ2hhbmdlO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQucHJvcHMub25DaGFuZ2U7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTGlua2VkVmFsdWVVdGlscztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBMb2NhbEV2ZW50VHJhcE1peGluXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIi4vUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyXCIpO1xuXG52YXIgYWNjdW11bGF0ZUludG8gPSByZXF1aXJlKFwiLi9hY2N1bXVsYXRlSW50b1wiKTtcbnZhciBmb3JFYWNoQWNjdW11bGF0ZWQgPSByZXF1aXJlKFwiLi9mb3JFYWNoQWNjdW11bGF0ZWRcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xuXG5mdW5jdGlvbiByZW1vdmUoZXZlbnQpIHtcbiAgZXZlbnQucmVtb3ZlKCk7XG59XG5cbnZhciBMb2NhbEV2ZW50VHJhcE1peGluID0ge1xuICB0cmFwQnViYmxlZEV2ZW50OmZ1bmN0aW9uKHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lKSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudCh0aGlzLmlzTW91bnRlZCgpLCAnTXVzdCBiZSBtb3VudGVkIHRvIHRyYXAgZXZlbnRzJykgOiBpbnZhcmlhbnQodGhpcy5pc01vdW50ZWQoKSkpO1xuICAgIC8vIElmIGEgY29tcG9uZW50IHJlbmRlcnMgdG8gbnVsbCBvciBpZiBhbm90aGVyIGNvbXBvbmVudCBmYXRhbHMgYW5kIGNhdXNlc1xuICAgIC8vIHRoZSBzdGF0ZSBvZiB0aGUgdHJlZSB0byBiZSBjb3JydXB0ZWQsIGBub2RlYCBoZXJlIGNhbiBiZSBudWxsLlxuICAgIHZhciBub2RlID0gdGhpcy5nZXRET01Ob2RlKCk7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIG5vZGUsXG4gICAgICAnTG9jYWxFdmVudFRyYXBNaXhpbi50cmFwQnViYmxlZEV2ZW50KC4uLik6IFJlcXVpcmVzIG5vZGUgdG8gYmUgcmVuZGVyZWQuJ1xuICAgICkgOiBpbnZhcmlhbnQobm9kZSkpO1xuICAgIHZhciBsaXN0ZW5lciA9IFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci50cmFwQnViYmxlZEV2ZW50KFxuICAgICAgdG9wTGV2ZWxUeXBlLFxuICAgICAgaGFuZGxlckJhc2VOYW1lLFxuICAgICAgbm9kZVxuICAgICk7XG4gICAgdGhpcy5fbG9jYWxFdmVudExpc3RlbmVycyA9XG4gICAgICBhY2N1bXVsYXRlSW50byh0aGlzLl9sb2NhbEV2ZW50TGlzdGVuZXJzLCBsaXN0ZW5lcik7XG4gIH0sXG5cbiAgLy8gdHJhcENhcHR1cmVkRXZlbnQgd291bGQgbG9vayBuZWFybHkgaWRlbnRpY2FsLiBXZSBkb24ndCBpbXBsZW1lbnQgdGhhdFxuICAvLyBtZXRob2QgYmVjYXVzZSBpdCBpc24ndCBjdXJyZW50bHkgbmVlZGVkLlxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OmZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9sb2NhbEV2ZW50TGlzdGVuZXJzKSB7XG4gICAgICBmb3JFYWNoQWNjdW11bGF0ZWQodGhpcy5fbG9jYWxFdmVudExpc3RlbmVycywgcmVtb3ZlKTtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTG9jYWxFdmVudFRyYXBNaXhpbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBNb2JpbGVTYWZhcmlDbGlja0V2ZW50UGx1Z2luXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZShcIi4vRXZlbnRDb25zdGFudHNcIik7XG5cbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZShcIi4vZW1wdHlGdW5jdGlvblwiKTtcblxudmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuXG4vKipcbiAqIE1vYmlsZSBTYWZhcmkgZG9lcyBub3QgZmlyZSBwcm9wZXJseSBidWJibGUgY2xpY2sgZXZlbnRzIG9uIG5vbi1pbnRlcmFjdGl2ZVxuICogZWxlbWVudHMsIHdoaWNoIG1lYW5zIGRlbGVnYXRlZCBjbGljayBsaXN0ZW5lcnMgZG8gbm90IGZpcmUuIFRoZSB3b3JrYXJvdW5kXG4gKiBmb3IgdGhpcyBidWcgaW52b2x2ZXMgYXR0YWNoaW5nIGFuIGVtcHR5IGNsaWNrIGxpc3RlbmVyIG9uIHRoZSB0YXJnZXQgbm9kZS5cbiAqXG4gKiBUaGlzIHBhcnRpY3VsYXIgcGx1Z2luIHdvcmtzIGFyb3VuZCB0aGUgYnVnIGJ5IGF0dGFjaGluZyBhbiBlbXB0eSBjbGlja1xuICogbGlzdGVuZXIgb24gYHRvdWNoc3RhcnRgICh3aGljaCBkb2VzIGZpcmUgb24gZXZlcnkgZWxlbWVudCkuXG4gKi9cbnZhciBNb2JpbGVTYWZhcmlDbGlja0V2ZW50UGx1Z2luID0ge1xuXG4gIGV2ZW50VHlwZXM6IG51bGwsXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gdG9wTGV2ZWxUYXJnZXQgVGhlIGxpc3RlbmluZyBjb21wb25lbnQgcm9vdCBub2RlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUYXJnZXRJRCBJRCBvZiBgdG9wTGV2ZWxUYXJnZXRgLlxuICAgKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4geyp9IEFuIGFjY3VtdWxhdGlvbiBvZiBzeW50aGV0aWMgZXZlbnRzLlxuICAgKiBAc2VlIHtFdmVudFBsdWdpbkh1Yi5leHRyYWN0RXZlbnRzfVxuICAgKi9cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24oXG4gICAgICB0b3BMZXZlbFR5cGUsXG4gICAgICB0b3BMZXZlbFRhcmdldCxcbiAgICAgIHRvcExldmVsVGFyZ2V0SUQsXG4gICAgICBuYXRpdmVFdmVudCkge1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wVG91Y2hTdGFydCkge1xuICAgICAgdmFyIHRhcmdldCA9IG5hdGl2ZUV2ZW50LnRhcmdldDtcbiAgICAgIGlmICh0YXJnZXQgJiYgIXRhcmdldC5vbmNsaWNrKSB7XG4gICAgICAgIHRhcmdldC5vbmNsaWNrID0gZW1wdHlGdW5jdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNb2JpbGVTYWZhcmlDbGlja0V2ZW50UGx1Z2luO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIE9iamVjdC5hc3NpZ25cbiAqL1xuXG4vLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtb2JqZWN0LmFzc2lnblxuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZXMpIHtcbiAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiB0YXJnZXQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkJyk7XG4gIH1cblxuICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcbiAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuICBmb3IgKHZhciBuZXh0SW5kZXggPSAxOyBuZXh0SW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBuZXh0SW5kZXgrKykge1xuICAgIHZhciBuZXh0U291cmNlID0gYXJndW1lbnRzW25leHRJbmRleF07XG4gICAgaWYgKG5leHRTb3VyY2UgPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdmFyIGZyb20gPSBPYmplY3QobmV4dFNvdXJjZSk7XG5cbiAgICAvLyBXZSBkb24ndCBjdXJyZW50bHkgc3VwcG9ydCBhY2Nlc3NvcnMgbm9yIHByb3hpZXMuIFRoZXJlZm9yZSB0aGlzXG4gICAgLy8gY29weSBjYW5ub3QgdGhyb3cuIElmIHdlIGV2ZXIgc3VwcG9ydGVkIHRoaXMgdGhlbiB3ZSBtdXN0IGhhbmRsZVxuICAgIC8vIGV4Y2VwdGlvbnMgYW5kIHNpZGUtZWZmZWN0cy4gV2UgZG9uJ3Qgc3VwcG9ydCBzeW1ib2xzIHNvIHRoZXkgd29uJ3RcbiAgICAvLyBiZSB0cmFuc2ZlcnJlZC5cblxuICAgIGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG4gICAgICAgIHRvW2tleV0gPSBmcm9tW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRvO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFzc2lnbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBQb29sZWRDbGFzc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcblxuLyoqXG4gKiBTdGF0aWMgcG9vbGVycy4gU2V2ZXJhbCBjdXN0b20gdmVyc2lvbnMgZm9yIGVhY2ggcG90ZW50aWFsIG51bWJlciBvZlxuICogYXJndW1lbnRzLiBBIGNvbXBsZXRlbHkgZ2VuZXJpYyBwb29sZXIgaXMgZWFzeSB0byBpbXBsZW1lbnQsIGJ1dCB3b3VsZFxuICogcmVxdWlyZSBhY2Nlc3NpbmcgdGhlIGBhcmd1bWVudHNgIG9iamVjdC4gSW4gZWFjaCBvZiB0aGVzZSwgYHRoaXNgIHJlZmVycyB0b1xuICogdGhlIENsYXNzIGl0c2VsZiwgbm90IGFuIGluc3RhbmNlLiBJZiBhbnkgb3RoZXJzIGFyZSBuZWVkZWQsIHNpbXBseSBhZGQgdGhlbVxuICogaGVyZSwgb3IgaW4gdGhlaXIgb3duIGZpbGVzLlxuICovXG52YXIgb25lQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihjb3B5RmllbGRzRnJvbSkge1xuICB2YXIgS2xhc3MgPSB0aGlzO1xuICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBjb3B5RmllbGRzRnJvbSk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgS2xhc3MoY29weUZpZWxkc0Zyb20pO1xuICB9XG59O1xuXG52YXIgdHdvQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIpIHtcbiAgdmFyIEtsYXNzID0gdGhpcztcbiAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIpO1xuICB9XG59O1xuXG52YXIgdGhyZWVBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMiwgYTMpIHtcbiAgdmFyIEtsYXNzID0gdGhpcztcbiAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyLCBhMyk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgS2xhc3MoYTEsIGEyLCBhMyk7XG4gIH1cbn07XG5cbnZhciBmaXZlQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbihhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIEtsYXNzID0gdGhpcztcbiAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGgpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBLbGFzcy5pbnN0YW5jZVBvb2wucG9wKCk7XG4gICAgS2xhc3MuY2FsbChpbnN0YW5jZSwgYTEsIGEyLCBhMywgYTQsIGE1KTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzLCBhNCwgYTUpO1xuICB9XG59O1xuXG52YXIgc3RhbmRhcmRSZWxlYXNlciA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIHZhciBLbGFzcyA9IHRoaXM7XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgaW5zdGFuY2UgaW5zdGFuY2VvZiBLbGFzcyxcbiAgICAnVHJ5aW5nIHRvIHJlbGVhc2UgYW4gaW5zdGFuY2UgaW50byBhIHBvb2wgb2YgYSBkaWZmZXJlbnQgdHlwZS4nXG4gICkgOiBpbnZhcmlhbnQoaW5zdGFuY2UgaW5zdGFuY2VvZiBLbGFzcykpO1xuICBpZiAoaW5zdGFuY2UuZGVzdHJ1Y3Rvcikge1xuICAgIGluc3RhbmNlLmRlc3RydWN0b3IoKTtcbiAgfVxuICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCA8IEtsYXNzLnBvb2xTaXplKSB7XG4gICAgS2xhc3MuaW5zdGFuY2VQb29sLnB1c2goaW5zdGFuY2UpO1xuICB9XG59O1xuXG52YXIgREVGQVVMVF9QT09MX1NJWkUgPSAxMDtcbnZhciBERUZBVUxUX1BPT0xFUiA9IG9uZUFyZ3VtZW50UG9vbGVyO1xuXG4vKipcbiAqIEF1Z21lbnRzIGBDb3B5Q29uc3RydWN0b3JgIHRvIGJlIGEgcG9vbGFibGUgY2xhc3MsIGF1Z21lbnRpbmcgb25seSB0aGUgY2xhc3NcbiAqIGl0c2VsZiAoc3RhdGljYWxseSkgbm90IGFkZGluZyBhbnkgcHJvdG90eXBpY2FsIGZpZWxkcy4gQW55IENvcHlDb25zdHJ1Y3RvclxuICogeW91IGdpdmUgdGhpcyBtYXkgaGF2ZSBhIGBwb29sU2l6ZWAgcHJvcGVydHksIGFuZCB3aWxsIGxvb2sgZm9yIGFcbiAqIHByb3RvdHlwaWNhbCBgZGVzdHJ1Y3RvcmAgb24gaW5zdGFuY2VzIChvcHRpb25hbCkuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gQ29weUNvbnN0cnVjdG9yIENvbnN0cnVjdG9yIHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVzZXQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwb29sZXIgQ3VzdG9taXphYmxlIHBvb2xlci5cbiAqL1xudmFyIGFkZFBvb2xpbmdUbyA9IGZ1bmN0aW9uKENvcHlDb25zdHJ1Y3RvciwgcG9vbGVyKSB7XG4gIHZhciBOZXdLbGFzcyA9IENvcHlDb25zdHJ1Y3RvcjtcbiAgTmV3S2xhc3MuaW5zdGFuY2VQb29sID0gW107XG4gIE5ld0tsYXNzLmdldFBvb2xlZCA9IHBvb2xlciB8fCBERUZBVUxUX1BPT0xFUjtcbiAgaWYgKCFOZXdLbGFzcy5wb29sU2l6ZSkge1xuICAgIE5ld0tsYXNzLnBvb2xTaXplID0gREVGQVVMVF9QT09MX1NJWkU7XG4gIH1cbiAgTmV3S2xhc3MucmVsZWFzZSA9IHN0YW5kYXJkUmVsZWFzZXI7XG4gIHJldHVybiBOZXdLbGFzcztcbn07XG5cbnZhciBQb29sZWRDbGFzcyA9IHtcbiAgYWRkUG9vbGluZ1RvOiBhZGRQb29saW5nVG8sXG4gIG9uZUFyZ3VtZW50UG9vbGVyOiBvbmVBcmd1bWVudFBvb2xlcixcbiAgdHdvQXJndW1lbnRQb29sZXI6IHR3b0FyZ3VtZW50UG9vbGVyLFxuICB0aHJlZUFyZ3VtZW50UG9vbGVyOiB0aHJlZUFyZ3VtZW50UG9vbGVyLFxuICBmaXZlQXJndW1lbnRQb29sZXI6IGZpdmVBcmd1bWVudFBvb2xlclxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQb29sZWRDbGFzcztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFxuICovXG5cbi8qIGdsb2JhbHMgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRQbHVnaW5VdGlscyA9IHJlcXVpcmUoXCIuL0V2ZW50UGx1Z2luVXRpbHNcIik7XG52YXIgUmVhY3RDaGlsZHJlbiA9IHJlcXVpcmUoXCIuL1JlYWN0Q2hpbGRyZW5cIik7XG52YXIgUmVhY3RDb21wb25lbnQgPSByZXF1aXJlKFwiLi9SZWFjdENvbXBvbmVudFwiKTtcbnZhciBSZWFjdENsYXNzID0gcmVxdWlyZShcIi4vUmVhY3RDbGFzc1wiKTtcbnZhciBSZWFjdENvbnRleHQgPSByZXF1aXJlKFwiLi9SZWFjdENvbnRleHRcIik7XG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKFwiLi9SZWFjdEN1cnJlbnRPd25lclwiKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG52YXIgUmVhY3RFbGVtZW50VmFsaWRhdG9yID0gcmVxdWlyZShcIi4vUmVhY3RFbGVtZW50VmFsaWRhdG9yXCIpO1xudmFyIFJlYWN0RE9NID0gcmVxdWlyZShcIi4vUmVhY3RET01cIik7XG52YXIgUmVhY3RET01UZXh0Q29tcG9uZW50ID0gcmVxdWlyZShcIi4vUmVhY3RET01UZXh0Q29tcG9uZW50XCIpO1xudmFyIFJlYWN0RGVmYXVsdEluamVjdGlvbiA9IHJlcXVpcmUoXCIuL1JlYWN0RGVmYXVsdEluamVjdGlvblwiKTtcbnZhciBSZWFjdEluc3RhbmNlSGFuZGxlcyA9IHJlcXVpcmUoXCIuL1JlYWN0SW5zdGFuY2VIYW5kbGVzXCIpO1xudmFyIFJlYWN0TW91bnQgPSByZXF1aXJlKFwiLi9SZWFjdE1vdW50XCIpO1xudmFyIFJlYWN0UGVyZiA9IHJlcXVpcmUoXCIuL1JlYWN0UGVyZlwiKTtcbnZhciBSZWFjdFByb3BUeXBlcyA9IHJlcXVpcmUoXCIuL1JlYWN0UHJvcFR5cGVzXCIpO1xudmFyIFJlYWN0UmVjb25jaWxlciA9IHJlcXVpcmUoXCIuL1JlYWN0UmVjb25jaWxlclwiKTtcbnZhciBSZWFjdFNlcnZlclJlbmRlcmluZyA9IHJlcXVpcmUoXCIuL1JlYWN0U2VydmVyUmVuZGVyaW5nXCIpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4vT2JqZWN0LmFzc2lnblwiKTtcbnZhciBmaW5kRE9NTm9kZSA9IHJlcXVpcmUoXCIuL2ZpbmRET01Ob2RlXCIpO1xudmFyIG9ubHlDaGlsZCA9IHJlcXVpcmUoXCIuL29ubHlDaGlsZFwiKTtcblxuUmVhY3REZWZhdWx0SW5qZWN0aW9uLmluamVjdCgpO1xuXG52YXIgY3JlYXRlRWxlbWVudCA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50O1xudmFyIGNyZWF0ZUZhY3RvcnkgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRmFjdG9yeTtcbnZhciBjbG9uZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY2xvbmVFbGVtZW50O1xuXG5pZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gIGNyZWF0ZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRWxlbWVudDtcbiAgY3JlYXRlRmFjdG9yeSA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVGYWN0b3J5O1xuICBjbG9uZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY2xvbmVFbGVtZW50O1xufVxuXG52YXIgcmVuZGVyID0gUmVhY3RQZXJmLm1lYXN1cmUoJ1JlYWN0JywgJ3JlbmRlcicsIFJlYWN0TW91bnQucmVuZGVyKTtcblxudmFyIFJlYWN0ID0ge1xuICBDaGlsZHJlbjoge1xuICAgIG1hcDogUmVhY3RDaGlsZHJlbi5tYXAsXG4gICAgZm9yRWFjaDogUmVhY3RDaGlsZHJlbi5mb3JFYWNoLFxuICAgIGNvdW50OiBSZWFjdENoaWxkcmVuLmNvdW50LFxuICAgIG9ubHk6IG9ubHlDaGlsZFxuICB9LFxuICBDb21wb25lbnQ6IFJlYWN0Q29tcG9uZW50LFxuICBET006IFJlYWN0RE9NLFxuICBQcm9wVHlwZXM6IFJlYWN0UHJvcFR5cGVzLFxuICBpbml0aWFsaXplVG91Y2hFdmVudHM6IGZ1bmN0aW9uKHNob3VsZFVzZVRvdWNoKSB7XG4gICAgRXZlbnRQbHVnaW5VdGlscy51c2VUb3VjaEV2ZW50cyA9IHNob3VsZFVzZVRvdWNoO1xuICB9LFxuICBjcmVhdGVDbGFzczogUmVhY3RDbGFzcy5jcmVhdGVDbGFzcyxcbiAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCxcbiAgY2xvbmVFbGVtZW50OiBjbG9uZUVsZW1lbnQsXG4gIGNyZWF0ZUZhY3Rvcnk6IGNyZWF0ZUZhY3RvcnksXG4gIGNyZWF0ZU1peGluOiBmdW5jdGlvbihtaXhpbikge1xuICAgIC8vIEN1cnJlbnRseSBhIG5vb3AuIFdpbGwgYmUgdXNlZCB0byB2YWxpZGF0ZSBhbmQgdHJhY2UgbWl4aW5zLlxuICAgIHJldHVybiBtaXhpbjtcbiAgfSxcbiAgY29uc3RydWN0QW5kUmVuZGVyQ29tcG9uZW50OiBSZWFjdE1vdW50LmNvbnN0cnVjdEFuZFJlbmRlckNvbXBvbmVudCxcbiAgY29uc3RydWN0QW5kUmVuZGVyQ29tcG9uZW50QnlJRDogUmVhY3RNb3VudC5jb25zdHJ1Y3RBbmRSZW5kZXJDb21wb25lbnRCeUlELFxuICBmaW5kRE9NTm9kZTogZmluZERPTU5vZGUsXG4gIHJlbmRlcjogcmVuZGVyLFxuICByZW5kZXJUb1N0cmluZzogUmVhY3RTZXJ2ZXJSZW5kZXJpbmcucmVuZGVyVG9TdHJpbmcsXG4gIHJlbmRlclRvU3RhdGljTWFya3VwOiBSZWFjdFNlcnZlclJlbmRlcmluZy5yZW5kZXJUb1N0YXRpY01hcmt1cCxcbiAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogUmVhY3RNb3VudC51bm1vdW50Q29tcG9uZW50QXROb2RlLFxuICBpc1ZhbGlkRWxlbWVudDogUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50LFxuICB3aXRoQ29udGV4dDogUmVhY3RDb250ZXh0LndpdGhDb250ZXh0LFxuXG4gIC8vIEhvb2sgZm9yIEpTWCBzcHJlYWQsIGRvbid0IHVzZSB0aGlzIGZvciBhbnl0aGluZyBlbHNlLlxuICBfX3NwcmVhZDogYXNzaWduXG59O1xuXG4vLyBJbmplY3QgdGhlIHJ1bnRpbWUgaW50byBhIGRldnRvb2xzIGdsb2JhbCBob29rIHJlZ2FyZGxlc3Mgb2YgYnJvd3Nlci5cbi8vIEFsbG93cyBmb3IgZGVidWdnaW5nIHdoZW4gdGhlIGhvb2sgaXMgaW5qZWN0ZWQgb24gdGhlIHBhZ2UuXG5pZiAoXG4gIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gIT09ICd1bmRlZmluZWQnICYmXG4gIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uaW5qZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5pbmplY3Qoe1xuICAgIEN1cnJlbnRPd25lcjogUmVhY3RDdXJyZW50T3duZXIsXG4gICAgSW5zdGFuY2VIYW5kbGVzOiBSZWFjdEluc3RhbmNlSGFuZGxlcyxcbiAgICBNb3VudDogUmVhY3RNb3VudCxcbiAgICBSZWNvbmNpbGVyOiBSZWFjdFJlY29uY2lsZXIsXG4gICAgVGV4dENvbXBvbmVudDogUmVhY3RET01UZXh0Q29tcG9uZW50XG4gIH0pO1xufVxuXG5pZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoXCIuL0V4ZWN1dGlvbkVudmlyb25tZW50XCIpO1xuICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmIHdpbmRvdy50b3AgPT09IHdpbmRvdy5zZWxmKSB7XG5cbiAgICAvLyBJZiB3ZSdyZSBpbiBDaHJvbWUsIGxvb2sgZm9yIHRoZSBkZXZ0b29scyBtYXJrZXIgYW5kIHByb3ZpZGUgYSBkb3dubG9hZFxuICAgIC8vIGxpbmsgaWYgbm90IGluc3RhbGxlZC5cbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA+IC0xKSB7XG4gICAgICBpZiAodHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcbiAgICAgICAgICAnRG93bmxvYWQgdGhlIFJlYWN0IERldlRvb2xzIGZvciBhIGJldHRlciBkZXZlbG9wbWVudCBleHBlcmllbmNlOiAnICtcbiAgICAgICAgICAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1kZXZ0b29scydcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZXhwZWN0ZWRGZWF0dXJlcyA9IFtcbiAgICAgIC8vIHNoaW1zXG4gICAgICBBcnJheS5pc0FycmF5LFxuICAgICAgQXJyYXkucHJvdG90eXBlLmV2ZXJ5LFxuICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2gsXG4gICAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZixcbiAgICAgIEFycmF5LnByb3RvdHlwZS5tYXAsXG4gICAgICBEYXRlLm5vdyxcbiAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLFxuICAgICAgT2JqZWN0LmtleXMsXG4gICAgICBTdHJpbmcucHJvdG90eXBlLnNwbGl0LFxuICAgICAgU3RyaW5nLnByb3RvdHlwZS50cmltLFxuXG4gICAgICAvLyBzaGFtc1xuICAgICAgT2JqZWN0LmNyZWF0ZSxcbiAgICAgIE9iamVjdC5mcmVlemVcbiAgICBdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZEZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWV4cGVjdGVkRmVhdHVyZXNbaV0pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnT25lIG9yIG1vcmUgRVM1IHNoaW0vc2hhbXMgZXhwZWN0ZWQgYnkgUmVhY3QgYXJlIG5vdCBhdmFpbGFibGU6ICcgK1xuICAgICAgICAgICdodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmctcG9seWZpbGxzJ1xuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuUmVhY3QudmVyc2lvbiA9ICcwLjEzLjMnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0QnJvd3NlckNvbXBvbmVudE1peGluXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZmluZERPTU5vZGUgPSByZXF1aXJlKFwiLi9maW5kRE9NTm9kZVwiKTtcblxudmFyIFJlYWN0QnJvd3NlckNvbXBvbmVudE1peGluID0ge1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgRE9NIG5vZGUgcmVuZGVyZWQgYnkgdGhpcyBjb21wb25lbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge0RPTUVsZW1lbnR9IFRoZSByb290IG5vZGUgb2YgdGhpcyBjb21wb25lbnQuXG4gICAqIEBmaW5hbFxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRET01Ob2RlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmluZERPTU5vZGUodGhpcyk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW47XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZShcIi4vRXZlbnRDb25zdGFudHNcIik7XG52YXIgRXZlbnRQbHVnaW5IdWIgPSByZXF1aXJlKFwiLi9FdmVudFBsdWdpbkh1YlwiKTtcbnZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0gcmVxdWlyZShcIi4vRXZlbnRQbHVnaW5SZWdpc3RyeVwiKTtcbnZhciBSZWFjdEV2ZW50RW1pdHRlck1peGluID0gcmVxdWlyZShcIi4vUmVhY3RFdmVudEVtaXR0ZXJNaXhpblwiKTtcbnZhciBWaWV3cG9ydE1ldHJpY3MgPSByZXF1aXJlKFwiLi9WaWV3cG9ydE1ldHJpY3NcIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIGlzRXZlbnRTdXBwb3J0ZWQgPSByZXF1aXJlKFwiLi9pc0V2ZW50U3VwcG9ydGVkXCIpO1xuXG4vKipcbiAqIFN1bW1hcnkgb2YgYFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlcmAgZXZlbnQgaGFuZGxpbmc6XG4gKlxuICogIC0gVG9wLWxldmVsIGRlbGVnYXRpb24gaXMgdXNlZCB0byB0cmFwIG1vc3QgbmF0aXZlIGJyb3dzZXIgZXZlbnRzLiBUaGlzXG4gKiAgICBtYXkgb25seSBvY2N1ciBpbiB0aGUgbWFpbiB0aHJlYWQgYW5kIGlzIHRoZSByZXNwb25zaWJpbGl0eSBvZlxuICogICAgUmVhY3RFdmVudExpc3RlbmVyLCB3aGljaCBpcyBpbmplY3RlZCBhbmQgY2FuIHRoZXJlZm9yZSBzdXBwb3J0IHBsdWdnYWJsZVxuICogICAgZXZlbnQgc291cmNlcy4gVGhpcyBpcyB0aGUgb25seSB3b3JrIHRoYXQgb2NjdXJzIGluIHRoZSBtYWluIHRocmVhZC5cbiAqXG4gKiAgLSBXZSBub3JtYWxpemUgYW5kIGRlLWR1cGxpY2F0ZSBldmVudHMgdG8gYWNjb3VudCBmb3IgYnJvd3NlciBxdWlya3MuIFRoaXNcbiAqICAgIG1heSBiZSBkb25lIGluIHRoZSB3b3JrZXIgdGhyZWFkLlxuICpcbiAqICAtIEZvcndhcmQgdGhlc2UgbmF0aXZlIGV2ZW50cyAod2l0aCB0aGUgYXNzb2NpYXRlZCB0b3AtbGV2ZWwgdHlwZSB1c2VkIHRvXG4gKiAgICB0cmFwIGl0KSB0byBgRXZlbnRQbHVnaW5IdWJgLCB3aGljaCBpbiB0dXJuIHdpbGwgYXNrIHBsdWdpbnMgaWYgdGhleSB3YW50XG4gKiAgICB0byBleHRyYWN0IGFueSBzeW50aGV0aWMgZXZlbnRzLlxuICpcbiAqICAtIFRoZSBgRXZlbnRQbHVnaW5IdWJgIHdpbGwgdGhlbiBwcm9jZXNzIGVhY2ggZXZlbnQgYnkgYW5ub3RhdGluZyB0aGVtIHdpdGhcbiAqICAgIFwiZGlzcGF0Y2hlc1wiLCBhIHNlcXVlbmNlIG9mIGxpc3RlbmVycyBhbmQgSURzIHRoYXQgY2FyZSBhYm91dCB0aGF0IGV2ZW50LlxuICpcbiAqICAtIFRoZSBgRXZlbnRQbHVnaW5IdWJgIHRoZW4gZGlzcGF0Y2hlcyB0aGUgZXZlbnRzLlxuICpcbiAqIE92ZXJ2aWV3IG9mIFJlYWN0IGFuZCB0aGUgZXZlbnQgc3lzdGVtOlxuICpcbiAqICstLS0tLS0tLS0tLS0rICAgIC5cbiAqIHwgICAgRE9NICAgICB8ICAgIC5cbiAqICstLS0tLS0tLS0tLS0rICAgIC5cbiAqICAgICAgIHwgICAgICAgICAgIC5cbiAqICAgICAgIHYgICAgICAgICAgIC5cbiAqICstLS0tLS0tLS0tLS0rICAgIC5cbiAqIHwgUmVhY3RFdmVudCB8ICAgIC5cbiAqIHwgIExpc3RlbmVyICB8ICAgIC5cbiAqICstLS0tLS0tLS0tLS0rICAgIC4gICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogICAgICAgfCAgICAgICAgICAgLiAgICAgICAgICAgICAgICstLS0tLS0tLSt8U2ltcGxlRXZlbnR8XG4gKiAgICAgICB8ICAgICAgICAgICAuICAgICAgICAgICAgICAgfCAgICAgICAgIHxQbHVnaW4gICAgIHxcbiAqICstLS0tLXwtLS0tLS0rICAgIC4gICAgICAgICAgICAgICB2ICAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogfCAgICAgfCAgICAgIHwgICAgLiAgICArLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tK1xuICogfCAgICAgKy0tLS0tLS0tLS0tLi0tLT58RXZlbnRQbHVnaW5IdWJ8ICAgICAgICAgICAgICAgICAgICB8ICAgIEV2ZW50ICAgfFxuICogfCAgICAgICAgICAgIHwgICAgLiAgICB8ICAgICAgICAgICAgICB8ICAgICArLS0tLS0tLS0tLS0rICB8IFByb3BhZ2F0b3JzfFxuICogfCBSZWFjdEV2ZW50IHwgICAgLiAgICB8ICAgICAgICAgICAgICB8ICAgICB8VGFwRXZlbnQgICB8ICB8LS0tLS0tLS0tLS0tfFxuICogfCAgRW1pdHRlciAgIHwgICAgLiAgICB8ICAgICAgICAgICAgICB8PC0tLSt8UGx1Z2luICAgICB8ICB8b3RoZXIgcGx1Z2lufFxuICogfCAgICAgICAgICAgIHwgICAgLiAgICB8ICAgICAgICAgICAgICB8ICAgICArLS0tLS0tLS0tLS0rICB8ICB1dGlsaXRpZXMgfFxuICogfCAgICAgKy0tLS0tLS0tLS0tLi0tLT58ICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tK1xuICogfCAgICAgfCAgICAgIHwgICAgLiAgICArLS0tLS0tLS0tLS0tLS0rXG4gKiArLS0tLS18LS0tLS0tKyAgICAuICAgICAgICAgICAgICAgIF4gICAgICAgICstLS0tLS0tLS0tLStcbiAqICAgICAgIHwgICAgICAgICAgIC4gICAgICAgICAgICAgICAgfCAgICAgICAgfEVudGVyL0xlYXZlfFxuICogICAgICAgKyAgICAgICAgICAgLiAgICAgICAgICAgICAgICArLS0tLS0tLSt8UGx1Z2luICAgICB8XG4gKiArLS0tLS0tLS0tLS0tLSsgICAuICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLStcbiAqIHwgYXBwbGljYXRpb24gfCAgIC5cbiAqIHwtLS0tLS0tLS0tLS0tfCAgIC5cbiAqIHwgICAgICAgICAgICAgfCAgIC5cbiAqIHwgICAgICAgICAgICAgfCAgIC5cbiAqICstLS0tLS0tLS0tLS0tKyAgIC5cbiAqICAgICAgICAgICAgICAgICAgIC5cbiAqICAgIFJlYWN0IENvcmUgICAgIC4gIEdlbmVyYWwgUHVycG9zZSBFdmVudCBQbHVnaW4gU3lzdGVtXG4gKi9cblxudmFyIGFscmVhZHlMaXN0ZW5pbmdUbyA9IHt9O1xudmFyIGlzTW9uaXRvcmluZ1Njcm9sbFZhbHVlID0gZmFsc2U7XG52YXIgcmVhY3RUb3BMaXN0ZW5lcnNDb3VudGVyID0gMDtcblxuLy8gRm9yIGV2ZW50cyBsaWtlICdzdWJtaXQnIHdoaWNoIGRvbid0IGNvbnNpc3RlbnRseSBidWJibGUgKHdoaWNoIHdlIHRyYXAgYXQgYVxuLy8gbG93ZXIgbm9kZSB0aGFuIGBkb2N1bWVudGApLCBiaW5kaW5nIGF0IGBkb2N1bWVudGAgd291bGQgY2F1c2UgZHVwbGljYXRlXG4vLyBldmVudHMgc28gd2UgZG9uJ3QgaW5jbHVkZSB0aGVtIGhlcmVcbnZhciB0b3BFdmVudE1hcHBpbmcgPSB7XG4gIHRvcEJsdXI6ICdibHVyJyxcbiAgdG9wQ2hhbmdlOiAnY2hhbmdlJyxcbiAgdG9wQ2xpY2s6ICdjbGljaycsXG4gIHRvcENvbXBvc2l0aW9uRW5kOiAnY29tcG9zaXRpb25lbmQnLFxuICB0b3BDb21wb3NpdGlvblN0YXJ0OiAnY29tcG9zaXRpb25zdGFydCcsXG4gIHRvcENvbXBvc2l0aW9uVXBkYXRlOiAnY29tcG9zaXRpb251cGRhdGUnLFxuICB0b3BDb250ZXh0TWVudTogJ2NvbnRleHRtZW51JyxcbiAgdG9wQ29weTogJ2NvcHknLFxuICB0b3BDdXQ6ICdjdXQnLFxuICB0b3BEb3VibGVDbGljazogJ2RibGNsaWNrJyxcbiAgdG9wRHJhZzogJ2RyYWcnLFxuICB0b3BEcmFnRW5kOiAnZHJhZ2VuZCcsXG4gIHRvcERyYWdFbnRlcjogJ2RyYWdlbnRlcicsXG4gIHRvcERyYWdFeGl0OiAnZHJhZ2V4aXQnLFxuICB0b3BEcmFnTGVhdmU6ICdkcmFnbGVhdmUnLFxuICB0b3BEcmFnT3ZlcjogJ2RyYWdvdmVyJyxcbiAgdG9wRHJhZ1N0YXJ0OiAnZHJhZ3N0YXJ0JyxcbiAgdG9wRHJvcDogJ2Ryb3AnLFxuICB0b3BGb2N1czogJ2ZvY3VzJyxcbiAgdG9wSW5wdXQ6ICdpbnB1dCcsXG4gIHRvcEtleURvd246ICdrZXlkb3duJyxcbiAgdG9wS2V5UHJlc3M6ICdrZXlwcmVzcycsXG4gIHRvcEtleVVwOiAna2V5dXAnLFxuICB0b3BNb3VzZURvd246ICdtb3VzZWRvd24nLFxuICB0b3BNb3VzZU1vdmU6ICdtb3VzZW1vdmUnLFxuICB0b3BNb3VzZU91dDogJ21vdXNlb3V0JyxcbiAgdG9wTW91c2VPdmVyOiAnbW91c2VvdmVyJyxcbiAgdG9wTW91c2VVcDogJ21vdXNldXAnLFxuICB0b3BQYXN0ZTogJ3Bhc3RlJyxcbiAgdG9wU2Nyb2xsOiAnc2Nyb2xsJyxcbiAgdG9wU2VsZWN0aW9uQ2hhbmdlOiAnc2VsZWN0aW9uY2hhbmdlJyxcbiAgdG9wVGV4dElucHV0OiAndGV4dElucHV0JyxcbiAgdG9wVG91Y2hDYW5jZWw6ICd0b3VjaGNhbmNlbCcsXG4gIHRvcFRvdWNoRW5kOiAndG91Y2hlbmQnLFxuICB0b3BUb3VjaE1vdmU6ICd0b3VjaG1vdmUnLFxuICB0b3BUb3VjaFN0YXJ0OiAndG91Y2hzdGFydCcsXG4gIHRvcFdoZWVsOiAnd2hlZWwnXG59O1xuXG4vKipcbiAqIFRvIGVuc3VyZSBubyBjb25mbGljdHMgd2l0aCBvdGhlciBwb3RlbnRpYWwgUmVhY3QgaW5zdGFuY2VzIG9uIHRoZSBwYWdlXG4gKi9cbnZhciB0b3BMaXN0ZW5lcnNJREtleSA9ICdfcmVhY3RMaXN0ZW5lcnNJRCcgKyBTdHJpbmcoTWF0aC5yYW5kb20oKSkuc2xpY2UoMik7XG5cbmZ1bmN0aW9uIGdldExpc3RlbmluZ0ZvckRvY3VtZW50KG1vdW50QXQpIHtcbiAgLy8gSW4gSUU4LCBgbW91bnRBdGAgaXMgYSBob3N0IG9iamVjdCBhbmQgZG9lc24ndCBoYXZlIGBoYXNPd25Qcm9wZXJ0eWBcbiAgLy8gZGlyZWN0bHkuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vdW50QXQsIHRvcExpc3RlbmVyc0lES2V5KSkge1xuICAgIG1vdW50QXRbdG9wTGlzdGVuZXJzSURLZXldID0gcmVhY3RUb3BMaXN0ZW5lcnNDb3VudGVyKys7XG4gICAgYWxyZWFkeUxpc3RlbmluZ1RvW21vdW50QXRbdG9wTGlzdGVuZXJzSURLZXldXSA9IHt9O1xuICB9XG4gIHJldHVybiBhbHJlYWR5TGlzdGVuaW5nVG9bbW91bnRBdFt0b3BMaXN0ZW5lcnNJREtleV1dO1xufVxuXG4vKipcbiAqIGBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXJgIGlzIHVzZWQgdG8gYXR0YWNoIHRvcC1sZXZlbCBldmVudCBsaXN0ZW5lcnMuIEZvclxuICogZXhhbXBsZTpcbiAqXG4gKiAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5wdXRMaXN0ZW5lcignbXlJRCcsICdvbkNsaWNrJywgbXlGdW5jdGlvbik7XG4gKlxuICogVGhpcyB3b3VsZCBhbGxvY2F0ZSBhIFwicmVnaXN0cmF0aW9uXCIgb2YgYCgnb25DbGljaycsIG15RnVuY3Rpb24pYCBvbiAnbXlJRCcuXG4gKlxuICogQGludGVybmFsXG4gKi9cbnZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSBhc3NpZ24oe30sIFJlYWN0RXZlbnRFbWl0dGVyTWl4aW4sIHtcblxuICAvKipcbiAgICogSW5qZWN0YWJsZSBldmVudCBiYWNrZW5kXG4gICAqL1xuICBSZWFjdEV2ZW50TGlzdGVuZXI6IG51bGwsXG5cbiAgaW5qZWN0aW9uOiB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFJlYWN0RXZlbnRMaXN0ZW5lclxuICAgICAqL1xuICAgIGluamVjdFJlYWN0RXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24oUmVhY3RFdmVudExpc3RlbmVyKSB7XG4gICAgICBSZWFjdEV2ZW50TGlzdGVuZXIuc2V0SGFuZGxlVG9wTGV2ZWwoXG4gICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5oYW5kbGVUb3BMZXZlbFxuICAgICAgKTtcbiAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIgPSBSZWFjdEV2ZW50TGlzdGVuZXI7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIHdoZXRoZXIgb3Igbm90IGFueSBjcmVhdGVkIGNhbGxiYWNrcyBzaG91bGQgYmUgZW5hYmxlZC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIFRydWUgaWYgY2FsbGJhY2tzIHNob3VsZCBiZSBlbmFibGVkLlxuICAgKi9cbiAgc2V0RW5hYmxlZDogZnVuY3Rpb24oZW5hYmxlZCkge1xuICAgIGlmIChSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyKSB7XG4gICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnNldEVuYWJsZWQoZW5hYmxlZCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGNhbGxiYWNrcyBhcmUgZW5hYmxlZC5cbiAgICovXG4gIGlzRW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgKFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIgJiYgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci5pc0VuYWJsZWQoKSlcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBXZSBsaXN0ZW4gZm9yIGJ1YmJsZWQgdG91Y2ggZXZlbnRzIG9uIHRoZSBkb2N1bWVudCBvYmplY3QuXG4gICAqXG4gICAqIEZpcmVmb3ggdjguMDEgKGFuZCBwb3NzaWJseSBvdGhlcnMpIGV4aGliaXRlZCBzdHJhbmdlIGJlaGF2aW9yIHdoZW5cbiAgICogbW91bnRpbmcgYG9ubW91c2Vtb3ZlYCBldmVudHMgYXQgc29tZSBub2RlIHRoYXQgd2FzIG5vdCB0aGUgZG9jdW1lbnRcbiAgICogZWxlbWVudC4gVGhlIHN5bXB0b21zIHdlcmUgdGhhdCBpZiB5b3VyIG1vdXNlIGlzIG5vdCBtb3Zpbmcgb3ZlciBzb21ldGhpbmdcbiAgICogY29udGFpbmVkIHdpdGhpbiB0aGF0IG1vdW50IHBvaW50IChmb3IgZXhhbXBsZSBvbiB0aGUgYmFja2dyb3VuZCkgdGhlXG4gICAqIHRvcC1sZXZlbCBsaXN0ZW5lcnMgZm9yIGBvbm1vdXNlbW92ZWAgd29uJ3QgYmUgY2FsbGVkLiBIb3dldmVyLCBpZiB5b3VcbiAgICogcmVnaXN0ZXIgdGhlIGBtb3VzZW1vdmVgIG9uIHRoZSBkb2N1bWVudCBvYmplY3QsIHRoZW4gaXQgd2lsbCBvZiBjb3Vyc2VcbiAgICogY2F0Y2ggYWxsIGBtb3VzZW1vdmVgcy4gVGhpcyBhbG9uZyB3aXRoIGlPUyBxdWlya3MsIGp1c3RpZmllcyByZXN0cmljdGluZ1xuICAgKiB0b3AtbGV2ZWwgbGlzdGVuZXJzIHRvIHRoZSBkb2N1bWVudCBvYmplY3Qgb25seSwgYXQgbGVhc3QgZm9yIHRoZXNlXG4gICAqIG1vdmVtZW50IHR5cGVzIG9mIGV2ZW50cyBhbmQgcG9zc2libHkgYWxsIGV2ZW50cy5cbiAgICpcbiAgICogQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2Jsb2cvYXJjaGl2ZXMvMjAxMC8wOS9jbGlja19ldmVudF9kZWwuaHRtbFxuICAgKlxuICAgKiBBbHNvLCBga2V5dXBgL2BrZXlwcmVzc2AvYGtleWRvd25gIGRvIG5vdCBidWJibGUgdG8gdGhlIHdpbmRvdyBvbiBJRSwgYnV0XG4gICAqIHRoZXkgYnViYmxlIHRvIGRvY3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBOYW1lIG9mIGxpc3RlbmVyIChlLmcuIGBvbkNsaWNrYCkuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZW50RG9jdW1lbnRIYW5kbGUgRG9jdW1lbnQgd2hpY2ggb3ducyB0aGUgY29udGFpbmVyXG4gICAqL1xuICBsaXN0ZW5UbzogZnVuY3Rpb24ocmVnaXN0cmF0aW9uTmFtZSwgY29udGVudERvY3VtZW50SGFuZGxlKSB7XG4gICAgdmFyIG1vdW50QXQgPSBjb250ZW50RG9jdW1lbnRIYW5kbGU7XG4gICAgdmFyIGlzTGlzdGVuaW5nID0gZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQobW91bnRBdCk7XG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IEV2ZW50UGx1Z2luUmVnaXN0cnkuXG4gICAgICByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuXG4gICAgdmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGRlcGVuZGVuY3kgPSBkZXBlbmRlbmNpZXNbaV07XG4gICAgICBpZiAoIShcbiAgICAgICAgICAgIChpc0xpc3RlbmluZy5oYXNPd25Qcm9wZXJ0eShkZXBlbmRlbmN5KSAmJiBpc0xpc3RlbmluZ1tkZXBlbmRlbmN5XSlcbiAgICAgICAgICApKSB7XG4gICAgICAgIGlmIChkZXBlbmRlbmN5ID09PSB0b3BMZXZlbFR5cGVzLnRvcFdoZWVsKSB7XG4gICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ3doZWVsJykpIHtcbiAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudChcbiAgICAgICAgICAgICAgdG9wTGV2ZWxUeXBlcy50b3BXaGVlbCxcbiAgICAgICAgICAgICAgJ3doZWVsJyxcbiAgICAgICAgICAgICAgbW91bnRBdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ21vdXNld2hlZWwnKSkge1xuICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KFxuICAgICAgICAgICAgICB0b3BMZXZlbFR5cGVzLnRvcFdoZWVsLFxuICAgICAgICAgICAgICAnbW91c2V3aGVlbCcsXG4gICAgICAgICAgICAgIG1vdW50QXRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggbmVlZHMgdG8gY2FwdHVyZSBhIGRpZmZlcmVudCBtb3VzZSBzY3JvbGwgZXZlbnQuXG4gICAgICAgICAgICAvLyBAc2VlIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvZG9tL2V2ZW50cy90ZXN0cy9zY3JvbGwuaHRtbFxuICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KFxuICAgICAgICAgICAgICB0b3BMZXZlbFR5cGVzLnRvcFdoZWVsLFxuICAgICAgICAgICAgICAnRE9NTW91c2VTY3JvbGwnLFxuICAgICAgICAgICAgICBtb3VudEF0XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSB0b3BMZXZlbFR5cGVzLnRvcFNjcm9sbCkge1xuXG4gICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ3Njcm9sbCcsIHRydWUpKSB7XG4gICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBDYXB0dXJlZEV2ZW50KFxuICAgICAgICAgICAgICB0b3BMZXZlbFR5cGVzLnRvcFNjcm9sbCxcbiAgICAgICAgICAgICAgJ3Njcm9sbCcsXG4gICAgICAgICAgICAgIG1vdW50QXRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudChcbiAgICAgICAgICAgICAgdG9wTGV2ZWxUeXBlcy50b3BTY3JvbGwsXG4gICAgICAgICAgICAgICdzY3JvbGwnLFxuICAgICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLldJTkRPV19IQU5ETEVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRlcGVuZGVuY3kgPT09IHRvcExldmVsVHlwZXMudG9wRm9jdXMgfHxcbiAgICAgICAgICAgIGRlcGVuZGVuY3kgPT09IHRvcExldmVsVHlwZXMudG9wQmx1cikge1xuXG4gICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2ZvY3VzJywgdHJ1ZSkpIHtcbiAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcENhcHR1cmVkRXZlbnQoXG4gICAgICAgICAgICAgIHRvcExldmVsVHlwZXMudG9wRm9jdXMsXG4gICAgICAgICAgICAgICdmb2N1cycsXG4gICAgICAgICAgICAgIG1vdW50QXRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBDYXB0dXJlZEV2ZW50KFxuICAgICAgICAgICAgICB0b3BMZXZlbFR5cGVzLnRvcEJsdXIsXG4gICAgICAgICAgICAgICdibHVyJyxcbiAgICAgICAgICAgICAgbW91bnRBdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2ZvY3VzaW4nKSkge1xuICAgICAgICAgICAgLy8gSUUgaGFzIGBmb2N1c2luYCBhbmQgYGZvY3Vzb3V0YCBldmVudHMgd2hpY2ggYnViYmxlLlxuICAgICAgICAgICAgLy8gQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2Jsb2cvYXJjaGl2ZXMvMjAwOC8wNC9kZWxlZ2F0aW5nX3RoZS5odG1sXG4gICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQoXG4gICAgICAgICAgICAgIHRvcExldmVsVHlwZXMudG9wRm9jdXMsXG4gICAgICAgICAgICAgICdmb2N1c2luJyxcbiAgICAgICAgICAgICAgbW91bnRBdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudChcbiAgICAgICAgICAgICAgdG9wTGV2ZWxUeXBlcy50b3BCbHVyLFxuICAgICAgICAgICAgICAnZm9jdXNvdXQnLFxuICAgICAgICAgICAgICBtb3VudEF0XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHRvIG1ha2Ugc3VyZSBibHVyIGFuZCBmb2N1cyBldmVudCBsaXN0ZW5lcnMgYXJlIG9ubHkgYXR0YWNoZWQgb25jZVxuICAgICAgICAgIGlzTGlzdGVuaW5nW3RvcExldmVsVHlwZXMudG9wQmx1cl0gPSB0cnVlO1xuICAgICAgICAgIGlzTGlzdGVuaW5nW3RvcExldmVsVHlwZXMudG9wRm9jdXNdID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0b3BFdmVudE1hcHBpbmcuaGFzT3duUHJvcGVydHkoZGVwZW5kZW5jeSkpIHtcbiAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQoXG4gICAgICAgICAgICBkZXBlbmRlbmN5LFxuICAgICAgICAgICAgdG9wRXZlbnRNYXBwaW5nW2RlcGVuZGVuY3ldLFxuICAgICAgICAgICAgbW91bnRBdFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpc0xpc3RlbmluZ1tkZXBlbmRlbmN5XSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHRyYXBCdWJibGVkRXZlbnQ6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBoYW5kbGUpIHtcbiAgICByZXR1cm4gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KFxuICAgICAgdG9wTGV2ZWxUeXBlLFxuICAgICAgaGFuZGxlckJhc2VOYW1lLFxuICAgICAgaGFuZGxlXG4gICAgKTtcbiAgfSxcblxuICB0cmFwQ2FwdHVyZWRFdmVudDogZnVuY3Rpb24odG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGhhbmRsZSkge1xuICAgIHJldHVybiBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBDYXB0dXJlZEV2ZW50KFxuICAgICAgdG9wTGV2ZWxUeXBlLFxuICAgICAgaGFuZGxlckJhc2VOYW1lLFxuICAgICAgaGFuZGxlXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogTGlzdGVucyB0byB3aW5kb3cgc2Nyb2xsIGFuZCByZXNpemUgZXZlbnRzLiBXZSBjYWNoZSBzY3JvbGwgdmFsdWVzIHNvIHRoYXRcbiAgICogYXBwbGljYXRpb24gY29kZSBjYW4gYWNjZXNzIHRoZW0gd2l0aG91dCB0cmlnZ2VyaW5nIHJlZmxvd3MuXG4gICAqXG4gICAqIE5PVEU6IFNjcm9sbCBldmVudHMgZG8gbm90IGJ1YmJsZS5cbiAgICpcbiAgICogQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2RvbS9ldmVudHMvc2Nyb2xsLmh0bWxcbiAgICovXG4gIGVuc3VyZVNjcm9sbFZhbHVlTW9uaXRvcmluZzogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFpc01vbml0b3JpbmdTY3JvbGxWYWx1ZSkge1xuICAgICAgdmFyIHJlZnJlc2ggPSBWaWV3cG9ydE1ldHJpY3MucmVmcmVzaFNjcm9sbFZhbHVlcztcbiAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIubW9uaXRvclNjcm9sbFZhbHVlKHJlZnJlc2gpO1xuICAgICAgaXNNb25pdG9yaW5nU2Nyb2xsVmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgfSxcblxuICBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3M6IEV2ZW50UGx1Z2luSHViLmV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyxcblxuICByZWdpc3RyYXRpb25OYW1lTW9kdWxlczogRXZlbnRQbHVnaW5IdWIucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMsXG5cbiAgcHV0TGlzdGVuZXI6IEV2ZW50UGx1Z2luSHViLnB1dExpc3RlbmVyLFxuXG4gIGdldExpc3RlbmVyOiBFdmVudFBsdWdpbkh1Yi5nZXRMaXN0ZW5lcixcblxuICBkZWxldGVMaXN0ZW5lcjogRXZlbnRQbHVnaW5IdWIuZGVsZXRlTGlzdGVuZXIsXG5cbiAgZGVsZXRlQWxsTGlzdGVuZXJzOiBFdmVudFBsdWdpbkh1Yi5kZWxldGVBbGxMaXN0ZW5lcnNcblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdENTU1RyYW5zaXRpb25Hcm91cFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcIi4vUmVhY3RcIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xuXG52YXIgUmVhY3RUcmFuc2l0aW9uR3JvdXAgPSBSZWFjdC5jcmVhdGVGYWN0b3J5KFxuICByZXF1aXJlKFwiLi9SZWFjdFRyYW5zaXRpb25Hcm91cFwiKVxuKTtcbnZhciBSZWFjdENTU1RyYW5zaXRpb25Hcm91cENoaWxkID0gUmVhY3QuY3JlYXRlRmFjdG9yeShcbiAgcmVxdWlyZShcIi4vUmVhY3RDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZFwiKVxuKTtcblxudmFyIFJlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1JlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICB0cmFuc2l0aW9uTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHRyYW5zaXRpb25BcHBlYXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHRyYW5zaXRpb25FbnRlcjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgdHJhbnNpdGlvbkxlYXZlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbFxuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zaXRpb25BcHBlYXI6IGZhbHNlLFxuICAgICAgdHJhbnNpdGlvbkVudGVyOiB0cnVlLFxuICAgICAgdHJhbnNpdGlvbkxlYXZlOiB0cnVlXG4gICAgfTtcbiAgfSxcblxuICBfd3JhcENoaWxkOiBmdW5jdGlvbihjaGlsZCkge1xuICAgIC8vIFdlIG5lZWQgdG8gcHJvdmlkZSB0aGlzIGNoaWxkRmFjdG9yeSBzbyB0aGF0XG4gICAgLy8gUmVhY3RDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZCBjYW4gcmVjZWl2ZSB1cGRhdGVzIHRvIG5hbWUsIGVudGVyLCBhbmRcbiAgICAvLyBsZWF2ZSB3aGlsZSBpdCBpcyBsZWF2aW5nLlxuICAgIHJldHVybiBSZWFjdENTU1RyYW5zaXRpb25Hcm91cENoaWxkKFxuICAgICAge1xuICAgICAgICBuYW1lOiB0aGlzLnByb3BzLnRyYW5zaXRpb25OYW1lLFxuICAgICAgICBhcHBlYXI6IHRoaXMucHJvcHMudHJhbnNpdGlvbkFwcGVhcixcbiAgICAgICAgZW50ZXI6IHRoaXMucHJvcHMudHJhbnNpdGlvbkVudGVyLFxuICAgICAgICBsZWF2ZTogdGhpcy5wcm9wcy50cmFuc2l0aW9uTGVhdmVcbiAgICAgIH0sXG4gICAgICBjaGlsZFxuICAgICk7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3RUcmFuc2l0aW9uR3JvdXAoXG4gICAgICAgIGFzc2lnbih7fSwgdGhpcy5wcm9wcywge2NoaWxkRmFjdG9yeTogdGhpcy5fd3JhcENoaWxkfSlcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdENTU1RyYW5zaXRpb25Hcm91cDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RDU1NUcmFuc2l0aW9uR3JvdXBDaGlsZFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcIi4vUmVhY3RcIik7XG5cbnZhciBDU1NDb3JlID0gcmVxdWlyZShcIi4vQ1NTQ29yZVwiKTtcbnZhciBSZWFjdFRyYW5zaXRpb25FdmVudHMgPSByZXF1aXJlKFwiLi9SZWFjdFRyYW5zaXRpb25FdmVudHNcIik7XG5cbnZhciBvbmx5Q2hpbGQgPSByZXF1aXJlKFwiLi9vbmx5Q2hpbGRcIik7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoXCIuL3dhcm5pbmdcIik7XG5cbi8vIFdlIGRvbid0IHJlbW92ZSB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00gdW50aWwgd2UgcmVjZWl2ZSBhbiBhbmltYXRpb25lbmQgb3Jcbi8vIHRyYW5zaXRpb25lbmQgZXZlbnQuIElmIHRoZSB1c2VyIHNjcmV3cyB1cCBhbmQgZm9yZ2V0cyB0byBhZGQgYW4gYW5pbWF0aW9uXG4vLyB0aGVpciBub2RlIHdpbGwgYmUgc3R1Y2sgaW4gdGhlIERPTSBmb3JldmVyLCBzbyB3ZSBkZXRlY3QgaWYgYW4gYW5pbWF0aW9uXG4vLyBkb2VzIG5vdCBzdGFydCBhbmQgaWYgaXQgZG9lc24ndCwgd2UganVzdCBjYWxsIHRoZSBlbmQgbGlzdGVuZXIgaW1tZWRpYXRlbHkuXG52YXIgVElDSyA9IDE3O1xudmFyIE5PX0VWRU5UX1RJTUVPVVQgPSA1MDAwO1xuXG52YXIgbm9FdmVudExpc3RlbmVyID0gbnVsbDtcblxuXG5pZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gIG5vRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICAndHJhbnNpdGlvbigpOiB0cmllZCB0byBwZXJmb3JtIGFuIGFuaW1hdGlvbiB3aXRob3V0ICcgK1xuICAgICAgJ2FuIGFuaW1hdGlvbmVuZCBvciB0cmFuc2l0aW9uZW5kIGV2ZW50IGFmdGVyIHRpbWVvdXQgKCcgK1xuICAgICAgJyVzbXMpLiBZb3Ugc2hvdWxkIGVpdGhlciBkaXNhYmxlIHRoaXMgJyArXG4gICAgICAndHJhbnNpdGlvbiBpbiBKUyBvciBhZGQgYSBDU1MgYW5pbWF0aW9uL3RyYW5zaXRpb24uJyxcbiAgICAgIE5PX0VWRU5UX1RJTUVPVVRcbiAgICApIDogbnVsbCk7XG4gIH07XG59XG5cbnZhciBSZWFjdENTU1RyYW5zaXRpb25Hcm91cENoaWxkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1JlYWN0Q1NTVHJhbnNpdGlvbkdyb3VwQ2hpbGQnLFxuXG4gIHRyYW5zaXRpb246IGZ1bmN0aW9uKGFuaW1hdGlvblR5cGUsIGZpbmlzaENhbGxiYWNrKSB7XG4gICAgdmFyIG5vZGUgPSB0aGlzLmdldERPTU5vZGUoKTtcbiAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy5uYW1lICsgJy0nICsgYW5pbWF0aW9uVHlwZTtcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJy1hY3RpdmUnO1xuICAgIHZhciBub0V2ZW50VGltZW91dCA9IG51bGw7XG5cbiAgICB2YXIgZW5kTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChub0V2ZW50VGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIENTU0NvcmUucmVtb3ZlQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcbiAgICAgIENTU0NvcmUucmVtb3ZlQ2xhc3Mobm9kZSwgYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgICAgUmVhY3RUcmFuc2l0aW9uRXZlbnRzLnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIobm9kZSwgZW5kTGlzdGVuZXIpO1xuXG4gICAgICAvLyBVc3VhbGx5IHRoaXMgb3B0aW9uYWwgY2FsbGJhY2sgaXMgdXNlZCBmb3IgaW5mb3JtaW5nIGFuIG93bmVyIG9mXG4gICAgICAvLyBhIGxlYXZlIGFuaW1hdGlvbiBhbmQgdGVsbGluZyBpdCB0byByZW1vdmUgdGhlIGNoaWxkLlxuICAgICAgaWYgKGZpbmlzaENhbGxiYWNrKSB7XG4gICAgICAgIGZpbmlzaENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFJlYWN0VHJhbnNpdGlvbkV2ZW50cy5hZGRFbmRFdmVudExpc3RlbmVyKG5vZGUsIGVuZExpc3RlbmVyKTtcblxuICAgIENTU0NvcmUuYWRkQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcblxuICAgIC8vIE5lZWQgdG8gZG8gdGhpcyB0byBhY3R1YWxseSB0cmlnZ2VyIGEgdHJhbnNpdGlvbi5cbiAgICB0aGlzLnF1ZXVlQ2xhc3MoYWN0aXZlQ2xhc3NOYW1lKTtcblxuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIG5vRXZlbnRUaW1lb3V0ID0gc2V0VGltZW91dChub0V2ZW50TGlzdGVuZXIsIE5PX0VWRU5UX1RJTUVPVVQpO1xuICAgIH1cbiAgfSxcblxuICBxdWV1ZUNsYXNzOiBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICB0aGlzLmNsYXNzTmFtZVF1ZXVlLnB1c2goY2xhc3NOYW1lKTtcblxuICAgIGlmICghdGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuZmx1c2hDbGFzc05hbWVRdWV1ZSwgVElDSyk7XG4gICAgfVxuICB9LFxuXG4gIGZsdXNoQ2xhc3NOYW1lUXVldWU6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmlzTW91bnRlZCgpKSB7XG4gICAgICB0aGlzLmNsYXNzTmFtZVF1ZXVlLmZvckVhY2goXG4gICAgICAgIENTU0NvcmUuYWRkQ2xhc3MuYmluZChDU1NDb3JlLCB0aGlzLmdldERPTU5vZGUoKSlcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuY2xhc3NOYW1lUXVldWUubGVuZ3RoID0gMDtcbiAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jbGFzc05hbWVRdWV1ZSA9IFtdO1xuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbEFwcGVhcjogZnVuY3Rpb24oZG9uZSkge1xuICAgIGlmICh0aGlzLnByb3BzLmFwcGVhcikge1xuICAgICAgdGhpcy50cmFuc2l0aW9uKCdhcHBlYXInLCBkb25lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9uZSgpO1xuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRXaWxsRW50ZXI6IGZ1bmN0aW9uKGRvbmUpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5lbnRlcikge1xuICAgICAgdGhpcy50cmFuc2l0aW9uKCdlbnRlcicsIGRvbmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxMZWF2ZTogZnVuY3Rpb24oZG9uZSkge1xuICAgIGlmICh0aGlzLnByb3BzLmxlYXZlKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb24oJ2xlYXZlJywgZG9uZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gb25seUNoaWxkKHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdENTU1RyYW5zaXRpb25Hcm91cENoaWxkO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0Q2hpbGRSZWNvbmNpbGVyXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UmVjb25jaWxlciA9IHJlcXVpcmUoXCIuL1JlYWN0UmVjb25jaWxlclwiKTtcblxudmFyIGZsYXR0ZW5DaGlsZHJlbiA9IHJlcXVpcmUoXCIuL2ZsYXR0ZW5DaGlsZHJlblwiKTtcbnZhciBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50ID0gcmVxdWlyZShcIi4vaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudFwiKTtcbnZhciBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoXCIuL3Nob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50XCIpO1xuXG4vKipcbiAqIFJlYWN0Q2hpbGRSZWNvbmNpbGVyIHByb3ZpZGVzIGhlbHBlcnMgZm9yIGluaXRpYWxpemluZyBvciB1cGRhdGluZyBhIHNldCBvZlxuICogY2hpbGRyZW4uIEl0cyBvdXRwdXQgaXMgc3VpdGFibGUgZm9yIHBhc3NpbmcgaXQgb250byBSZWFjdE11bHRpQ2hpbGQgd2hpY2hcbiAqIGRvZXMgZGlmZmVkIHJlb3JkZXJpbmcgYW5kIGluc2VydGlvbi5cbiAqL1xudmFyIFJlYWN0Q2hpbGRSZWNvbmNpbGVyID0ge1xuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBcIm1vdW50IGltYWdlXCIgZm9yIGVhY2ggb2YgdGhlIHN1cHBsaWVkIGNoaWxkcmVuLiBJbiB0aGUgY2FzZVxuICAgKiBvZiBgUmVhY3RET01Db21wb25lbnRgLCBhIG1vdW50IGltYWdlIGlzIGEgc3RyaW5nIG9mIG1hcmt1cC5cbiAgICpcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBuZXN0ZWRDaGlsZE5vZGVzIE5lc3RlZCBjaGlsZCBtYXBzLlxuICAgKiBAcmV0dXJuIHs/b2JqZWN0fSBBIHNldCBvZiBjaGlsZCBpbnN0YW5jZXMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgaW5zdGFudGlhdGVDaGlsZHJlbjogZnVuY3Rpb24obmVzdGVkQ2hpbGROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBmbGF0dGVuQ2hpbGRyZW4obmVzdGVkQ2hpbGROb2Rlcyk7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBjaGlsZHJlbikge1xuICAgICAgaWYgKGNoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW25hbWVdO1xuICAgICAgICAvLyBUaGUgcmVuZGVyZWQgY2hpbGRyZW4gbXVzdCBiZSB0dXJuZWQgaW50byBpbnN0YW5jZXMgYXMgdGhleSdyZVxuICAgICAgICAvLyBtb3VudGVkLlxuICAgICAgICB2YXIgY2hpbGRJbnN0YW5jZSA9IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQoY2hpbGQsIG51bGwpO1xuICAgICAgICBjaGlsZHJlbltuYW1lXSA9IGNoaWxkSW5zdGFuY2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfSxcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgcmVuZGVyZWQgY2hpbGRyZW4gYW5kIHJldHVybnMgYSBuZXcgc2V0IG9mIGNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0gez9vYmplY3R9IHByZXZDaGlsZHJlbiBQcmV2aW91c2x5IGluaXRpYWxpemVkIHNldCBvZiBjaGlsZHJlbi5cbiAgICogQHBhcmFtIHs/b2JqZWN0fSBuZXh0TmVzdGVkQ2hpbGROb2RlcyBOZXN0ZWQgY2hpbGQgbWFwcy5cbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dFxuICAgKiBAcmV0dXJuIHs/b2JqZWN0fSBBIG5ldyBzZXQgb2YgY2hpbGQgaW5zdGFuY2VzLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHVwZGF0ZUNoaWxkcmVuOiBmdW5jdGlvbihcbiAgICBwcmV2Q2hpbGRyZW4sXG4gICAgbmV4dE5lc3RlZENoaWxkTm9kZXMsXG4gICAgdHJhbnNhY3Rpb24sXG4gICAgY29udGV4dCkge1xuICAgIC8vIFdlIGN1cnJlbnRseSBkb24ndCBoYXZlIGEgd2F5IHRvIHRyYWNrIG1vdmVzIGhlcmUgYnV0IGlmIHdlIHVzZSBpdGVyYXRvcnNcbiAgICAvLyBpbnN0ZWFkIG9mIGZvci4uaW4gd2UgY2FuIHppcCB0aGUgaXRlcmF0b3JzIGFuZCBjaGVjayBpZiBhbiBpdGVtIGhhc1xuICAgIC8vIG1vdmVkLlxuICAgIC8vIFRPRE86IElmIG5vdGhpbmcgaGFzIGNoYW5nZWQsIHJldHVybiB0aGUgcHJldkNoaWxkcmVuIG9iamVjdCBzbyB0aGF0IHdlXG4gICAgLy8gY2FuIHF1aWNrbHkgYmFpbG91dCBpZiBub3RoaW5nIGhhcyBjaGFuZ2VkLlxuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBmbGF0dGVuQ2hpbGRyZW4obmV4dE5lc3RlZENoaWxkTm9kZXMpO1xuICAgIGlmICghbmV4dENoaWxkcmVuICYmICFwcmV2Q2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgbmFtZTtcbiAgICBmb3IgKG5hbWUgaW4gbmV4dENoaWxkcmVuKSB7XG4gICAgICBpZiAoIW5leHRDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcmV2Q2hpbGQgPSBwcmV2Q2hpbGRyZW4gJiYgcHJldkNoaWxkcmVuW25hbWVdO1xuICAgICAgdmFyIHByZXZFbGVtZW50ID0gcHJldkNoaWxkICYmIHByZXZDaGlsZC5fY3VycmVudEVsZW1lbnQ7XG4gICAgICB2YXIgbmV4dEVsZW1lbnQgPSBuZXh0Q2hpbGRyZW5bbmFtZV07XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQocHJldkVsZW1lbnQsIG5leHRFbGVtZW50KSkge1xuICAgICAgICBSZWFjdFJlY29uY2lsZXIucmVjZWl2ZUNvbXBvbmVudChcbiAgICAgICAgICBwcmV2Q2hpbGQsIG5leHRFbGVtZW50LCB0cmFuc2FjdGlvbiwgY29udGV4dFxuICAgICAgICApO1xuICAgICAgICBuZXh0Q2hpbGRyZW5bbmFtZV0gPSBwcmV2Q2hpbGQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJldkNoaWxkKSB7XG4gICAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQocHJldkNoaWxkLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgY2hpbGQgbXVzdCBiZSBpbnN0YW50aWF0ZWQgYmVmb3JlIGl0J3MgbW91bnRlZC5cbiAgICAgICAgdmFyIG5leHRDaGlsZEluc3RhbmNlID0gaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChcbiAgICAgICAgICBuZXh0RWxlbWVudCxcbiAgICAgICAgICBudWxsXG4gICAgICAgICk7XG4gICAgICAgIG5leHRDaGlsZHJlbltuYW1lXSA9IG5leHRDaGlsZEluc3RhbmNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBVbm1vdW50IGNoaWxkcmVuIHRoYXQgYXJlIG5vIGxvbmdlciBwcmVzZW50LlxuICAgIGZvciAobmFtZSBpbiBwcmV2Q2hpbGRyZW4pIHtcbiAgICAgIGlmIChwcmV2Q2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkgJiZcbiAgICAgICAgICAhKG5leHRDaGlsZHJlbiAmJiBuZXh0Q2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpKSB7XG4gICAgICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KHByZXZDaGlsZHJlbltuYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXh0Q2hpbGRyZW47XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVubW91bnRzIGFsbCByZW5kZXJlZCBjaGlsZHJlbi4gVGhpcyBzaG91bGQgYmUgdXNlZCB0byBjbGVhbiB1cCBjaGlsZHJlblxuICAgKiB3aGVuIHRoaXMgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAgICpcbiAgICogQHBhcmFtIHs/b2JqZWN0fSByZW5kZXJlZENoaWxkcmVuIFByZXZpb3VzbHkgaW5pdGlhbGl6ZWQgc2V0IG9mIGNoaWxkcmVuLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHVubW91bnRDaGlsZHJlbjogZnVuY3Rpb24ocmVuZGVyZWRDaGlsZHJlbikge1xuICAgIGZvciAodmFyIG5hbWUgaW4gcmVuZGVyZWRDaGlsZHJlbikge1xuICAgICAgdmFyIHJlbmRlcmVkQ2hpbGQgPSByZW5kZXJlZENoaWxkcmVuW25hbWVdO1xuICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQocmVuZGVyZWRDaGlsZCk7XG4gICAgfVxuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RDaGlsZFJlY29uY2lsZXI7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RDaGlsZHJlblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFBvb2xlZENsYXNzID0gcmVxdWlyZShcIi4vUG9vbGVkQ2xhc3NcIik7XG52YXIgUmVhY3RGcmFnbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RnJhZ21lbnRcIik7XG5cbnZhciB0cmF2ZXJzZUFsbENoaWxkcmVuID0gcmVxdWlyZShcIi4vdHJhdmVyc2VBbGxDaGlsZHJlblwiKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZShcIi4vd2FybmluZ1wiKTtcblxudmFyIHR3b0FyZ3VtZW50UG9vbGVyID0gUG9vbGVkQ2xhc3MudHdvQXJndW1lbnRQb29sZXI7XG52YXIgdGhyZWVBcmd1bWVudFBvb2xlciA9IFBvb2xlZENsYXNzLnRocmVlQXJndW1lbnRQb29sZXI7XG5cbi8qKlxuICogUG9vbGVkQ2xhc3MgcmVwcmVzZW50aW5nIHRoZSBib29ra2VlcGluZyBhc3NvY2lhdGVkIHdpdGggcGVyZm9ybWluZyBhIGNoaWxkXG4gKiB0cmF2ZXJzYWwuIEFsbG93cyBhdm9pZGluZyBiaW5kaW5nIGNhbGxiYWNrcy5cbiAqXG4gKiBAY29uc3RydWN0b3IgRm9yRWFjaEJvb2tLZWVwaW5nXG4gKiBAcGFyYW0geyFmdW5jdGlvbn0gZm9yRWFjaEZ1bmN0aW9uIEZ1bmN0aW9uIHRvIHBlcmZvcm0gdHJhdmVyc2FsIHdpdGguXG4gKiBAcGFyYW0gez8qfSBmb3JFYWNoQ29udGV4dCBDb250ZXh0IHRvIHBlcmZvcm0gY29udGV4dCB3aXRoLlxuICovXG5mdW5jdGlvbiBGb3JFYWNoQm9va0tlZXBpbmcoZm9yRWFjaEZ1bmN0aW9uLCBmb3JFYWNoQ29udGV4dCkge1xuICB0aGlzLmZvckVhY2hGdW5jdGlvbiA9IGZvckVhY2hGdW5jdGlvbjtcbiAgdGhpcy5mb3JFYWNoQ29udGV4dCA9IGZvckVhY2hDb250ZXh0O1xufVxuUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKEZvckVhY2hCb29rS2VlcGluZywgdHdvQXJndW1lbnRQb29sZXIpO1xuXG5mdW5jdGlvbiBmb3JFYWNoU2luZ2xlQ2hpbGQodHJhdmVyc2VDb250ZXh0LCBjaGlsZCwgbmFtZSwgaSkge1xuICB2YXIgZm9yRWFjaEJvb2tLZWVwaW5nID0gdHJhdmVyc2VDb250ZXh0O1xuICBmb3JFYWNoQm9va0tlZXBpbmcuZm9yRWFjaEZ1bmN0aW9uLmNhbGwoXG4gICAgZm9yRWFjaEJvb2tLZWVwaW5nLmZvckVhY2hDb250ZXh0LCBjaGlsZCwgaSk7XG59XG5cbi8qKlxuICogSXRlcmF0ZXMgdGhyb3VnaCBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmAuXG4gKlxuICogVGhlIHByb3ZpZGVkIGZvckVhY2hGdW5jKGNoaWxkLCBpbmRleCkgd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2hcbiAqIGxlYWYgY2hpbGQuXG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCosIGludCl9IGZvckVhY2hGdW5jLlxuICogQHBhcmFtIHsqfSBmb3JFYWNoQ29udGV4dCBDb250ZXh0IGZvciBmb3JFYWNoQ29udGV4dC5cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cblxuICB2YXIgdHJhdmVyc2VDb250ZXh0ID1cbiAgICBGb3JFYWNoQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCk7XG4gIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hTaW5nbGVDaGlsZCwgdHJhdmVyc2VDb250ZXh0KTtcbiAgRm9yRWFjaEJvb2tLZWVwaW5nLnJlbGVhc2UodHJhdmVyc2VDb250ZXh0KTtcbn1cblxuLyoqXG4gKiBQb29sZWRDbGFzcyByZXByZXNlbnRpbmcgdGhlIGJvb2trZWVwaW5nIGFzc29jaWF0ZWQgd2l0aCBwZXJmb3JtaW5nIGEgY2hpbGRcbiAqIG1hcHBpbmcuIEFsbG93cyBhdm9pZGluZyBiaW5kaW5nIGNhbGxiYWNrcy5cbiAqXG4gKiBAY29uc3RydWN0b3IgTWFwQm9va0tlZXBpbmdcbiAqIEBwYXJhbSB7ISp9IG1hcFJlc3VsdCBPYmplY3QgY29udGFpbmluZyB0aGUgb3JkZXJlZCBtYXAgb2YgcmVzdWx0cy5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9ufSBtYXBGdW5jdGlvbiBGdW5jdGlvbiB0byBwZXJmb3JtIG1hcHBpbmcgd2l0aC5cbiAqIEBwYXJhbSB7Pyp9IG1hcENvbnRleHQgQ29udGV4dCB0byBwZXJmb3JtIG1hcHBpbmcgd2l0aC5cbiAqL1xuZnVuY3Rpb24gTWFwQm9va0tlZXBpbmcobWFwUmVzdWx0LCBtYXBGdW5jdGlvbiwgbWFwQ29udGV4dCkge1xuICB0aGlzLm1hcFJlc3VsdCA9IG1hcFJlc3VsdDtcbiAgdGhpcy5tYXBGdW5jdGlvbiA9IG1hcEZ1bmN0aW9uO1xuICB0aGlzLm1hcENvbnRleHQgPSBtYXBDb250ZXh0O1xufVxuUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKE1hcEJvb2tLZWVwaW5nLCB0aHJlZUFyZ3VtZW50UG9vbGVyKTtcblxuZnVuY3Rpb24gbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCh0cmF2ZXJzZUNvbnRleHQsIGNoaWxkLCBuYW1lLCBpKSB7XG4gIHZhciBtYXBCb29rS2VlcGluZyA9IHRyYXZlcnNlQ29udGV4dDtcbiAgdmFyIG1hcFJlc3VsdCA9IG1hcEJvb2tLZWVwaW5nLm1hcFJlc3VsdDtcblxuICB2YXIga2V5VW5pcXVlID0gIW1hcFJlc3VsdC5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAga2V5VW5pcXVlLFxuICAgICAgJ1JlYWN0Q2hpbGRyZW4ubWFwKC4uLik6IEVuY291bnRlcmVkIHR3byBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIGtleSwgJyArXG4gICAgICAnYCVzYC4gQ2hpbGQga2V5cyBtdXN0IGJlIHVuaXF1ZTsgd2hlbiB0d28gY2hpbGRyZW4gc2hhcmUgYSBrZXksIG9ubHkgJyArXG4gICAgICAndGhlIGZpcnN0IGNoaWxkIHdpbGwgYmUgdXNlZC4nLFxuICAgICAgbmFtZVxuICAgICkgOiBudWxsKTtcbiAgfVxuXG4gIGlmIChrZXlVbmlxdWUpIHtcbiAgICB2YXIgbWFwcGVkQ2hpbGQgPVxuICAgICAgbWFwQm9va0tlZXBpbmcubWFwRnVuY3Rpb24uY2FsbChtYXBCb29rS2VlcGluZy5tYXBDb250ZXh0LCBjaGlsZCwgaSk7XG4gICAgbWFwUmVzdWx0W25hbWVdID0gbWFwcGVkQ2hpbGQ7XG4gIH1cbn1cblxuLyoqXG4gKiBNYXBzIGNoaWxkcmVuIHRoYXQgYXJlIHR5cGljYWxseSBzcGVjaWZpZWQgYXMgYHByb3BzLmNoaWxkcmVuYC5cbiAqXG4gKiBUaGUgcHJvdmlkZWQgbWFwRnVuY3Rpb24oY2hpbGQsIGtleSwgaW5kZXgpIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoXG4gKiBsZWFmIGNoaWxkLlxuICpcbiAqIFRPRE86IFRoaXMgbWF5IGxpa2VseSBicmVhayBhbnkgY2FsbHMgdG8gYFJlYWN0Q2hpbGRyZW4ubWFwYCB0aGF0IHdlcmVcbiAqIHByZXZpb3VzbHkgcmVseWluZyBvbiB0aGUgZmFjdCB0aGF0IHdlIGd1YXJkZWQgYWdhaW5zdCBudWxsIGNoaWxkcmVuLlxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHBhcmFtIHtmdW5jdGlvbigqLCBpbnQpfSBtYXBGdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gbWFwQ29udGV4dCBDb250ZXh0IGZvciBtYXBGdW5jdGlvbi5cbiAqIEByZXR1cm4ge29iamVjdH0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9yZGVyZWQgbWFwIG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jLCBjb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG5cbiAgdmFyIG1hcFJlc3VsdCA9IHt9O1xuICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gTWFwQm9va0tlZXBpbmcuZ2V0UG9vbGVkKG1hcFJlc3VsdCwgZnVuYywgY29udGV4dCk7XG4gIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIG1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQsIHRyYXZlcnNlQ29udGV4dCk7XG4gIE1hcEJvb2tLZWVwaW5nLnJlbGVhc2UodHJhdmVyc2VDb250ZXh0KTtcbiAgcmV0dXJuIFJlYWN0RnJhZ21lbnQuY3JlYXRlKG1hcFJlc3VsdCk7XG59XG5cbmZ1bmN0aW9uIGZvckVhY2hTaW5nbGVDaGlsZER1bW15KHRyYXZlcnNlQ29udGV4dCwgY2hpbGQsIG5hbWUsIGkpIHtcbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQ291bnQgdGhlIG51bWJlciBvZiBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzXG4gKiBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNoaWxkcmVuLlxuICovXG5mdW5jdGlvbiBjb3VudENoaWxkcmVuKGNoaWxkcmVuLCBjb250ZXh0KSB7XG4gIHJldHVybiB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoU2luZ2xlQ2hpbGREdW1teSwgbnVsbCk7XG59XG5cbnZhciBSZWFjdENoaWxkcmVuID0ge1xuICBmb3JFYWNoOiBmb3JFYWNoQ2hpbGRyZW4sXG4gIG1hcDogbWFwQ2hpbGRyZW4sXG4gIGNvdW50OiBjb3VudENoaWxkcmVuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q2hpbGRyZW47XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RDbGFzc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0Q29tcG9uZW50ID0gcmVxdWlyZShcIi4vUmVhY3RDb21wb25lbnRcIik7XG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKFwiLi9SZWFjdEN1cnJlbnRPd25lclwiKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG52YXIgUmVhY3RFcnJvclV0aWxzID0gcmVxdWlyZShcIi4vUmVhY3RFcnJvclV0aWxzXCIpO1xudmFyIFJlYWN0SW5zdGFuY2VNYXAgPSByZXF1aXJlKFwiLi9SZWFjdEluc3RhbmNlTWFwXCIpO1xudmFyIFJlYWN0TGlmZUN5Y2xlID0gcmVxdWlyZShcIi4vUmVhY3RMaWZlQ3ljbGVcIik7XG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucyA9IHJlcXVpcmUoXCIuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnNcIik7XG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSByZXF1aXJlKFwiLi9SZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1wiKTtcbnZhciBSZWFjdFVwZGF0ZVF1ZXVlID0gcmVxdWlyZShcIi4vUmVhY3RVcGRhdGVRdWV1ZVwiKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoXCIuL09iamVjdC5hc3NpZ25cIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xudmFyIGtleU1pcnJvciA9IHJlcXVpcmUoXCIuL2tleU1pcnJvclwiKTtcbnZhciBrZXlPZiA9IHJlcXVpcmUoXCIuL2tleU9mXCIpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKFwiLi93YXJuaW5nXCIpO1xuXG52YXIgTUlYSU5TX0tFWSA9IGtleU9mKHttaXhpbnM6IG51bGx9KTtcblxuLyoqXG4gKiBQb2xpY2llcyB0aGF0IGRlc2NyaWJlIG1ldGhvZHMgaW4gYFJlYWN0Q2xhc3NJbnRlcmZhY2VgLlxuICovXG52YXIgU3BlY1BvbGljeSA9IGtleU1pcnJvcih7XG4gIC8qKlxuICAgKiBUaGVzZSBtZXRob2RzIG1heSBiZSBkZWZpbmVkIG9ubHkgb25jZSBieSB0aGUgY2xhc3Mgc3BlY2lmaWNhdGlvbiBvciBtaXhpbi5cbiAgICovXG4gIERFRklORV9PTkNFOiBudWxsLFxuICAvKipcbiAgICogVGhlc2UgbWV0aG9kcyBtYXkgYmUgZGVmaW5lZCBieSBib3RoIHRoZSBjbGFzcyBzcGVjaWZpY2F0aW9uIGFuZCBtaXhpbnMuXG4gICAqIFN1YnNlcXVlbnQgZGVmaW5pdGlvbnMgd2lsbCBiZSBjaGFpbmVkLiBUaGVzZSBtZXRob2RzIG11c3QgcmV0dXJuIHZvaWQuXG4gICAqL1xuICBERUZJTkVfTUFOWTogbnVsbCxcbiAgLyoqXG4gICAqIFRoZXNlIG1ldGhvZHMgYXJlIG92ZXJyaWRpbmcgdGhlIGJhc2UgY2xhc3MuXG4gICAqL1xuICBPVkVSUklERV9CQVNFOiBudWxsLFxuICAvKipcbiAgICogVGhlc2UgbWV0aG9kcyBhcmUgc2ltaWxhciB0byBERUZJTkVfTUFOWSwgZXhjZXB0IHdlIGFzc3VtZSB0aGV5IHJldHVyblxuICAgKiBvYmplY3RzLiBXZSB0cnkgdG8gbWVyZ2UgdGhlIGtleXMgb2YgdGhlIHJldHVybiB2YWx1ZXMgb2YgYWxsIHRoZSBtaXhlZCBpblxuICAgKiBmdW5jdGlvbnMuIElmIHRoZXJlIGlzIGEga2V5IGNvbmZsaWN0IHdlIHRocm93LlxuICAgKi9cbiAgREVGSU5FX01BTllfTUVSR0VEOiBudWxsXG59KTtcblxuXG52YXIgaW5qZWN0ZWRNaXhpbnMgPSBbXTtcblxuLyoqXG4gKiBDb21wb3NpdGUgY29tcG9uZW50cyBhcmUgaGlnaGVyLWxldmVsIGNvbXBvbmVudHMgdGhhdCBjb21wb3NlIG90aGVyIGNvbXBvc2l0ZVxuICogb3IgbmF0aXZlIGNvbXBvbmVudHMuXG4gKlxuICogVG8gY3JlYXRlIGEgbmV3IHR5cGUgb2YgYFJlYWN0Q2xhc3NgLCBwYXNzIGEgc3BlY2lmaWNhdGlvbiBvZlxuICogeW91ciBuZXcgY2xhc3MgdG8gYFJlYWN0LmNyZWF0ZUNsYXNzYC4gVGhlIG9ubHkgcmVxdWlyZW1lbnQgb2YgeW91ciBjbGFzc1xuICogc3BlY2lmaWNhdGlvbiBpcyB0aGF0IHlvdSBpbXBsZW1lbnQgYSBgcmVuZGVyYCBtZXRob2QuXG4gKlxuICogICB2YXIgTXlDb21wb25lbnQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAqICAgICAgIHJldHVybiA8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+O1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogVGhlIGNsYXNzIHNwZWNpZmljYXRpb24gc3VwcG9ydHMgYSBzcGVjaWZpYyBwcm90b2NvbCBvZiBtZXRob2RzIHRoYXQgaGF2ZVxuICogc3BlY2lhbCBtZWFuaW5nIChlLmcuIGByZW5kZXJgKS4gU2VlIGBSZWFjdENsYXNzSW50ZXJmYWNlYCBmb3JcbiAqIG1vcmUgdGhlIGNvbXByZWhlbnNpdmUgcHJvdG9jb2wuIEFueSBvdGhlciBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGluIHRoZVxuICogY2xhc3Mgc3BlY2lmaWNhdGlvbiB3aWxsIGF2YWlsYWJsZSBvbiB0aGUgcHJvdG90eXBlLlxuICpcbiAqIEBpbnRlcmZhY2UgUmVhY3RDbGFzc0ludGVyZmFjZVxuICogQGludGVybmFsXG4gKi9cbnZhciBSZWFjdENsYXNzSW50ZXJmYWNlID0ge1xuXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBNaXhpbiBvYmplY3RzIHRvIGluY2x1ZGUgd2hlbiBkZWZpbmluZyB5b3VyIGNvbXBvbmVudC5cbiAgICpcbiAgICogQHR5cGUge2FycmF5fVxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIG1peGluczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcblxuICAvKipcbiAgICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0aGF0IHNob3VsZCBiZSBkZWZpbmVkIG9uXG4gICAqIHRoZSBjb21wb25lbnQncyBjb25zdHJ1Y3RvciBpbnN0ZWFkIG9mIGl0cyBwcm90b3R5cGUgKHN0YXRpYyBtZXRob2RzKS5cbiAgICpcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQG9wdGlvbmFsXG4gICAqL1xuICBzdGF0aWNzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuXG4gIC8qKlxuICAgKiBEZWZpbml0aW9uIG9mIHByb3AgdHlwZXMgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgKlxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIHByb3BUeXBlczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcblxuICAvKipcbiAgICogRGVmaW5pdGlvbiBvZiBjb250ZXh0IHR5cGVzIGZvciB0aGlzIGNvbXBvbmVudC5cbiAgICpcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQG9wdGlvbmFsXG4gICAqL1xuICBjb250ZXh0VHlwZXM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG5cbiAgLyoqXG4gICAqIERlZmluaXRpb24gb2YgY29udGV4dCB0eXBlcyB0aGlzIGNvbXBvbmVudCBzZXRzIGZvciBpdHMgY2hpbGRyZW4uXG4gICAqXG4gICAqIEB0eXBlIHtvYmplY3R9XG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgY2hpbGRDb250ZXh0VHlwZXM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG5cbiAgLy8gPT09PSBEZWZpbml0aW9uIG1ldGhvZHMgPT09PVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLiBWYWx1ZXMgaW4gdGhlIG1hcHBpbmcgd2lsbCBiZSBzZXQgb25cbiAgICogYHRoaXMucHJvcHNgIGlmIHRoYXQgcHJvcCBpcyBub3Qgc3BlY2lmaWVkIChpLmUuIHVzaW5nIGFuIGBpbmAgY2hlY2spLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBpbnZva2VkIGJlZm9yZSBgZ2V0SW5pdGlhbFN0YXRlYCBhbmQgdGhlcmVmb3JlIGNhbm5vdCByZWx5XG4gICAqIG9uIGB0aGlzLnN0YXRlYCBvciB1c2UgYHRoaXMuc2V0U3RhdGVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgZ2V0RGVmYXVsdFByb3BzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcblxuICAvKipcbiAgICogSW52b2tlZCBvbmNlIGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQuIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSB1c2VkXG4gICAqIGFzIHRoZSBpbml0aWFsIHZhbHVlIG9mIGB0aGlzLnN0YXRlYC5cbiAgICpcbiAgICogICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgKiAgICAgcmV0dXJuIHtcbiAgICogICAgICAgaXNPbjogZmFsc2UsXG4gICAqICAgICAgIGZvb0JhejogbmV3IEJhekZvbygpXG4gICAqICAgICB9XG4gICAqICAgfVxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgZ2V0SW5pdGlhbFN0YXRlOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcblxuICAvKipcbiAgICogQHJldHVybiB7b2JqZWN0fVxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIGdldENoaWxkQ29udGV4dDogU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQsXG5cbiAgLyoqXG4gICAqIFVzZXMgcHJvcHMgZnJvbSBgdGhpcy5wcm9wc2AgYW5kIHN0YXRlIGZyb20gYHRoaXMuc3RhdGVgIHRvIHJlbmRlciB0aGVcbiAgICogc3RydWN0dXJlIG9mIHRoZSBjb21wb25lbnQuXG4gICAqXG4gICAqIE5vIGd1YXJhbnRlZXMgYXJlIG1hZGUgYWJvdXQgd2hlbiBvciBob3cgb2Z0ZW4gdGhpcyBtZXRob2QgaXMgaW52b2tlZCwgc29cbiAgICogaXQgbXVzdCBub3QgaGF2ZSBzaWRlIGVmZmVjdHMuXG4gICAqXG4gICAqICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICogICAgIHZhciBuYW1lID0gdGhpcy5wcm9wcy5uYW1lO1xuICAgKiAgICAgcmV0dXJuIDxkaXY+SGVsbG8sIHtuYW1lfSE8L2Rpdj47XG4gICAqICAgfVxuICAgKlxuICAgKiBAcmV0dXJuIHtSZWFjdENvbXBvbmVudH1cbiAgICogQG5vc2lkZWVmZmVjdHNcbiAgICogQHJlcXVpcmVkXG4gICAqL1xuICByZW5kZXI6IFNwZWNQb2xpY3kuREVGSU5FX09OQ0UsXG5cblxuXG4gIC8vID09PT0gRGVsZWdhdGUgbWV0aG9kcyA9PT09XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGluaXRpYWxseSBjcmVhdGVkIGFuZCBhYm91dCB0byBiZSBtb3VudGVkLlxuICAgKiBUaGlzIG1heSBoYXZlIHNpZGUgZWZmZWN0cywgYnV0IGFueSBleHRlcm5hbCBzdWJzY3JpcHRpb25zIG9yIGRhdGEgY3JlYXRlZFxuICAgKiBieSB0aGlzIG1ldGhvZCBtdXN0IGJlIGNsZWFuZWQgdXAgaW4gYGNvbXBvbmVudFdpbGxVbm1vdW50YC5cbiAgICpcbiAgICogQG9wdGlvbmFsXG4gICAqL1xuICBjb21wb25lbnRXaWxsTW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgYW5kIGhhcyBhIERPTSByZXByZXNlbnRhdGlvbi5cbiAgICogSG93ZXZlciwgdGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgdGhlIERPTSBub2RlIGlzIGluIHRoZSBkb2N1bWVudC5cbiAgICpcbiAgICogVXNlIHRoaXMgYXMgYW4gb3Bwb3J0dW5pdHkgdG8gb3BlcmF0ZSBvbiB0aGUgRE9NIHdoZW4gdGhlIGNvbXBvbmVudCBoYXNcbiAgICogYmVlbiBtb3VudGVkIChpbml0aWFsaXplZCBhbmQgcmVuZGVyZWQpIGZvciB0aGUgZmlyc3QgdGltZS5cbiAgICpcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSByb290Tm9kZSBET00gZWxlbWVudCByZXByZXNlbnRpbmcgdGhlIGNvbXBvbmVudC5cbiAgICogQG9wdGlvbmFsXG4gICAqL1xuICBjb21wb25lbnREaWRNb3VudDogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcblxuICAvKipcbiAgICogSW52b2tlZCBiZWZvcmUgdGhlIGNvbXBvbmVudCByZWNlaXZlcyBuZXcgcHJvcHMuXG4gICAqXG4gICAqIFVzZSB0aGlzIGFzIGFuIG9wcG9ydHVuaXR5IHRvIHJlYWN0IHRvIGEgcHJvcCB0cmFuc2l0aW9uIGJ5IHVwZGF0aW5nIHRoZVxuICAgKiBzdGF0ZSB1c2luZyBgdGhpcy5zZXRTdGF0ZWAuIEN1cnJlbnQgcHJvcHMgYXJlIGFjY2Vzc2VkIHZpYSBgdGhpcy5wcm9wc2AuXG4gICAqXG4gICAqICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24obmV4dFByb3BzLCBuZXh0Q29udGV4dCkge1xuICAgKiAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAqICAgICAgIGxpa2VzSW5jcmVhc2luZzogbmV4dFByb3BzLmxpa2VDb3VudCA+IHRoaXMucHJvcHMubGlrZUNvdW50XG4gICAqICAgICB9KTtcbiAgICogICB9XG4gICAqXG4gICAqIE5PVEU6IFRoZXJlIGlzIG5vIGVxdWl2YWxlbnQgYGNvbXBvbmVudFdpbGxSZWNlaXZlU3RhdGVgLiBBbiBpbmNvbWluZyBwcm9wXG4gICAqIHRyYW5zaXRpb24gbWF5IGNhdXNlIGEgc3RhdGUgY2hhbmdlLCBidXQgdGhlIG9wcG9zaXRlIGlzIG5vdCB0cnVlLiBJZiB5b3VcbiAgICogbmVlZCBpdCwgeW91IGFyZSBwcm9iYWJseSBsb29raW5nIGZvciBgY29tcG9uZW50V2lsbFVwZGF0ZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0UHJvcHNcbiAgICogQG9wdGlvbmFsXG4gICAqL1xuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoaWxlIGRlY2lkaW5nIGlmIHRoZSBjb21wb25lbnQgc2hvdWxkIGJlIHVwZGF0ZWQgYXMgYSByZXN1bHQgb2ZcbiAgICogcmVjZWl2aW5nIG5ldyBwcm9wcywgc3RhdGUgYW5kL29yIGNvbnRleHQuXG4gICAqXG4gICAqIFVzZSB0aGlzIGFzIGFuIG9wcG9ydHVuaXR5IHRvIGByZXR1cm4gZmFsc2VgIHdoZW4geW91J3JlIGNlcnRhaW4gdGhhdCB0aGVcbiAgICogdHJhbnNpdGlvbiB0byB0aGUgbmV3IHByb3BzL3N0YXRlL2NvbnRleHQgd2lsbCBub3QgcmVxdWlyZSBhIGNvbXBvbmVudFxuICAgKiB1cGRhdGUuXG4gICAqXG4gICAqICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBmdW5jdGlvbihuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQpIHtcbiAgICogICAgIHJldHVybiAhZXF1YWwobmV4dFByb3BzLCB0aGlzLnByb3BzKSB8fFxuICAgKiAgICAgICAhZXF1YWwobmV4dFN0YXRlLCB0aGlzLnN0YXRlKSB8fFxuICAgKiAgICAgICAhZXF1YWwobmV4dENvbnRleHQsIHRoaXMuY29udGV4dCk7XG4gICAqICAgfVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbmV4dFByb3BzXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dFN0YXRlXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dENvbnRleHRcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgY29tcG9uZW50IHNob3VsZCB1cGRhdGUuXG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBTcGVjUG9saWN5LkRFRklORV9PTkNFLFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBhYm91dCB0byB1cGRhdGUgZHVlIHRvIGEgdHJhbnNpdGlvbiBmcm9tXG4gICAqIGB0aGlzLnByb3BzYCwgYHRoaXMuc3RhdGVgIGFuZCBgdGhpcy5jb250ZXh0YCB0byBgbmV4dFByb3BzYCwgYG5leHRTdGF0ZWBcbiAgICogYW5kIGBuZXh0Q29udGV4dGAuXG4gICAqXG4gICAqIFVzZSB0aGlzIGFzIGFuIG9wcG9ydHVuaXR5IHRvIHBlcmZvcm0gcHJlcGFyYXRpb24gYmVmb3JlIGFuIHVwZGF0ZSBvY2N1cnMuXG4gICAqXG4gICAqIE5PVEU6IFlvdSAqKmNhbm5vdCoqIHVzZSBgdGhpcy5zZXRTdGF0ZSgpYCBpbiB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG5leHRQcm9wc1xuICAgKiBAcGFyYW0gez9vYmplY3R9IG5leHRTdGF0ZVxuICAgKiBAcGFyYW0gez9vYmplY3R9IG5leHRDb250ZXh0XG4gICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQG9wdGlvbmFsXG4gICAqL1xuICBjb21wb25lbnRXaWxsVXBkYXRlOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCdzIERPTSByZXByZXNlbnRhdGlvbiBoYXMgYmVlbiB1cGRhdGVkLlxuICAgKlxuICAgKiBVc2UgdGhpcyBhcyBhbiBvcHBvcnR1bml0eSB0byBvcGVyYXRlIG9uIHRoZSBET00gd2hlbiB0aGUgY29tcG9uZW50IGhhc1xuICAgKiBiZWVuIHVwZGF0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwcmV2UHJvcHNcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBwcmV2U3RhdGVcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBwcmV2Q29udGV4dFxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHJvb3ROb2RlIERPTSBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgY29tcG9uZW50LlxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgYWJvdXQgdG8gYmUgcmVtb3ZlZCBmcm9tIGl0cyBwYXJlbnQgYW5kIGhhdmVcbiAgICogaXRzIERPTSByZXByZXNlbnRhdGlvbiBkZXN0cm95ZWQuXG4gICAqXG4gICAqIFVzZSB0aGlzIGFzIGFuIG9wcG9ydHVuaXR5IHRvIGRlYWxsb2NhdGUgYW55IGV4dGVybmFsIHJlc291cmNlcy5cbiAgICpcbiAgICogTk9URTogVGhlcmUgaXMgbm8gYGNvbXBvbmVudERpZFVubW91bnRgIHNpbmNlIHlvdXIgY29tcG9uZW50IHdpbGwgaGF2ZSBiZWVuXG4gICAqIGRlc3Ryb3llZCBieSB0aGF0IHBvaW50LlxuICAgKlxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuXG5cblxuICAvLyA9PT09IEFkdmFuY2VkIG1ldGhvZHMgPT09PVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjb21wb25lbnQncyBjdXJyZW50bHkgbW91bnRlZCBET00gcmVwcmVzZW50YXRpb24uXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIHRoaXMgaW1wbGVtZW50cyBSZWFjdCdzIHJlbmRlcmluZyBhbmQgcmVjb25jaWxpYXRpb24gYWxnb3JpdGhtLlxuICAgKiBTb3BoaXN0aWNhdGVkIGNsaWVudHMgbWF5IHdpc2ggdG8gb3ZlcnJpZGUgdGhpcy5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAaW50ZXJuYWxcbiAgICogQG92ZXJyaWRhYmxlXG4gICAqL1xuICB1cGRhdGVDb21wb25lbnQ6IFNwZWNQb2xpY3kuT1ZFUlJJREVfQkFTRVxuXG59O1xuXG4vKipcbiAqIE1hcHBpbmcgZnJvbSBjbGFzcyBzcGVjaWZpY2F0aW9uIGtleXMgdG8gc3BlY2lhbCBwcm9jZXNzaW5nIGZ1bmN0aW9ucy5cbiAqXG4gKiBBbHRob3VnaCB0aGVzZSBhcmUgZGVjbGFyZWQgbGlrZSBpbnN0YW5jZSBwcm9wZXJ0aWVzIGluIHRoZSBzcGVjaWZpY2F0aW9uXG4gKiB3aGVuIGRlZmluaW5nIGNsYXNzZXMgdXNpbmcgYFJlYWN0LmNyZWF0ZUNsYXNzYCwgdGhleSBhcmUgYWN0dWFsbHkgc3RhdGljXG4gKiBhbmQgYXJlIGFjY2Vzc2libGUgb24gdGhlIGNvbnN0cnVjdG9yIGluc3RlYWQgb2YgdGhlIHByb3RvdHlwZS4gRGVzcGl0ZVxuICogYmVpbmcgc3RhdGljLCB0aGV5IG11c3QgYmUgZGVmaW5lZCBvdXRzaWRlIG9mIHRoZSBcInN0YXRpY3NcIiBrZXkgdW5kZXJcbiAqIHdoaWNoIGFsbCBvdGhlciBzdGF0aWMgbWV0aG9kcyBhcmUgZGVmaW5lZC5cbiAqL1xudmFyIFJFU0VSVkVEX1NQRUNfS0VZUyA9IHtcbiAgZGlzcGxheU5hbWU6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBkaXNwbGF5TmFtZSkge1xuICAgIENvbnN0cnVjdG9yLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gIH0sXG4gIG1peGluczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIG1peGlucykge1xuICAgIGlmIChtaXhpbnMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBtaXhpbnNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY2hpbGRDb250ZXh0VHlwZXM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBjaGlsZENvbnRleHRUeXBlcykge1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIHZhbGlkYXRlVHlwZURlZihcbiAgICAgICAgQ29uc3RydWN0b3IsXG4gICAgICAgIGNoaWxkQ29udGV4dFR5cGVzLFxuICAgICAgICBSZWFjdFByb3BUeXBlTG9jYXRpb25zLmNoaWxkQ29udGV4dFxuICAgICAgKTtcbiAgICB9XG4gICAgQ29uc3RydWN0b3IuY2hpbGRDb250ZXh0VHlwZXMgPSBhc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIENvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzLFxuICAgICAgY2hpbGRDb250ZXh0VHlwZXNcbiAgICApO1xuICB9LFxuICBjb250ZXh0VHlwZXM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBjb250ZXh0VHlwZXMpIHtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICB2YWxpZGF0ZVR5cGVEZWYoXG4gICAgICAgIENvbnN0cnVjdG9yLFxuICAgICAgICBjb250ZXh0VHlwZXMsXG4gICAgICAgIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY29udGV4dFxuICAgICAgKTtcbiAgICB9XG4gICAgQ29uc3RydWN0b3IuY29udGV4dFR5cGVzID0gYXNzaWduKFxuICAgICAge30sXG4gICAgICBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMsXG4gICAgICBjb250ZXh0VHlwZXNcbiAgICApO1xuICB9LFxuICAvKipcbiAgICogU3BlY2lhbCBjYXNlIGdldERlZmF1bHRQcm9wcyB3aGljaCBzaG91bGQgbW92ZSBpbnRvIHN0YXRpY3MgYnV0IHJlcXVpcmVzXG4gICAqIGF1dG9tYXRpYyBtZXJnaW5nLlxuICAgKi9cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgaWYgKENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcykge1xuICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24oXG4gICAgICAgIENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcyxcbiAgICAgICAgZ2V0RGVmYXVsdFByb3BzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMgPSBnZXREZWZhdWx0UHJvcHM7XG4gICAgfVxuICB9LFxuICBwcm9wVHlwZXM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBwcm9wVHlwZXMpIHtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICB2YWxpZGF0ZVR5cGVEZWYoXG4gICAgICAgIENvbnN0cnVjdG9yLFxuICAgICAgICBwcm9wVHlwZXMsXG4gICAgICAgIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcFxuICAgICAgKTtcbiAgICB9XG4gICAgQ29uc3RydWN0b3IucHJvcFR5cGVzID0gYXNzaWduKFxuICAgICAge30sXG4gICAgICBDb25zdHJ1Y3Rvci5wcm9wVHlwZXMsXG4gICAgICBwcm9wVHlwZXNcbiAgICApO1xuICB9LFxuICBzdGF0aWNzOiBmdW5jdGlvbihDb25zdHJ1Y3Rvciwgc3RhdGljcykge1xuICAgIG1peFN0YXRpY1NwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzdGF0aWNzKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCB0eXBlRGVmLCBsb2NhdGlvbikge1xuICBmb3IgKHZhciBwcm9wTmFtZSBpbiB0eXBlRGVmKSB7XG4gICAgaWYgKHR5cGVEZWYuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAvLyB1c2UgYSB3YXJuaW5nIGluc3RlYWQgb2YgYW4gaW52YXJpYW50IHNvIGNvbXBvbmVudHNcbiAgICAgIC8vIGRvbid0IHNob3cgdXAgaW4gcHJvZCBidXQgbm90IGluIF9fREVWX19cbiAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICB0eXBlb2YgdHlwZURlZltwcm9wTmFtZV0gPT09ICdmdW5jdGlvbicsXG4gICAgICAgICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgK1xuICAgICAgICAnUmVhY3QuUHJvcFR5cGVzLicsXG4gICAgICAgIENvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8ICdSZWFjdENsYXNzJyxcbiAgICAgICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dLFxuICAgICAgICBwcm9wTmFtZVxuICAgICAgKSA6IG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZU1ldGhvZE92ZXJyaWRlKHByb3RvLCBuYW1lKSB7XG4gIHZhciBzcGVjUG9saWN5ID0gUmVhY3RDbGFzc0ludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/XG4gICAgUmVhY3RDbGFzc0ludGVyZmFjZVtuYW1lXSA6XG4gICAgbnVsbDtcblxuICAvLyBEaXNhbGxvdyBvdmVycmlkaW5nIG9mIGJhc2UgY2xhc3MgbWV0aG9kcyB1bmxlc3MgZXhwbGljaXRseSBhbGxvd2VkLlxuICBpZiAoUmVhY3RDbGFzc01peGluLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuT1ZFUlJJREVfQkFTRSxcbiAgICAgICdSZWFjdENsYXNzSW50ZXJmYWNlOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gb3ZlcnJpZGUgJyArXG4gICAgICAnYCVzYCBmcm9tIHlvdXIgY2xhc3Mgc3BlY2lmaWNhdGlvbi4gRW5zdXJlIHRoYXQgeW91ciBtZXRob2QgbmFtZXMgJyArXG4gICAgICAnZG8gbm90IG92ZXJsYXAgd2l0aCBSZWFjdCBtZXRob2RzLicsXG4gICAgICBuYW1lXG4gICAgKSA6IGludmFyaWFudChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0UpKTtcbiAgfVxuXG4gIC8vIERpc2FsbG93IGRlZmluaW5nIG1ldGhvZHMgbW9yZSB0aGFuIG9uY2UgdW5sZXNzIGV4cGxpY2l0bHkgYWxsb3dlZC5cbiAgaWYgKHByb3RvLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkgfHxcbiAgICAgIHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VELFxuICAgICAgJ1JlYWN0Q2xhc3NJbnRlcmZhY2U6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgJyArXG4gICAgICAnYCVzYCBvbiB5b3VyIGNvbXBvbmVudCBtb3JlIHRoYW4gb25jZS4gVGhpcyBjb25mbGljdCBtYXkgYmUgZHVlICcgK1xuICAgICAgJ3RvIGEgbWl4aW4uJyxcbiAgICAgIG5hbWVcbiAgICApIDogaW52YXJpYW50KHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkgfHxcbiAgICBzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkpO1xuICB9XG59XG5cbi8qKlxuICogTWl4aW4gaGVscGVyIHdoaWNoIGhhbmRsZXMgcG9saWN5IHZhbGlkYXRpb24gYW5kIHJlc2VydmVkXG4gKiBzcGVjaWZpY2F0aW9uIGtleXMgd2hlbiBidWlsZGluZyBSZWFjdCBjbGFzc3Nlcy5cbiAqL1xuZnVuY3Rpb24gbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHNwZWMpIHtcbiAgaWYgKCFzcGVjKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICB0eXBlb2Ygc3BlYyAhPT0gJ2Z1bmN0aW9uJyxcbiAgICAnUmVhY3RDbGFzczogWW91XFwncmUgYXR0ZW1wdGluZyB0byAnICtcbiAgICAndXNlIGEgY29tcG9uZW50IGNsYXNzIGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgcmVndWxhciBvYmplY3QuJ1xuICApIDogaW52YXJpYW50KHR5cGVvZiBzcGVjICE9PSAnZnVuY3Rpb24nKSk7XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgIVJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChzcGVjKSxcbiAgICAnUmVhY3RDbGFzczogWW91XFwncmUgYXR0ZW1wdGluZyB0byAnICtcbiAgICAndXNlIGEgY29tcG9uZW50IGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgcmVndWxhciBvYmplY3QuJ1xuICApIDogaW52YXJpYW50KCFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3BlYykpKTtcblxuICB2YXIgcHJvdG8gPSBDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbiAgLy8gQnkgaGFuZGxpbmcgbWl4aW5zIGJlZm9yZSBhbnkgb3RoZXIgcHJvcGVydGllcywgd2UgZW5zdXJlIHRoZSBzYW1lXG4gIC8vIGNoYWluaW5nIG9yZGVyIGlzIGFwcGxpZWQgdG8gbWV0aG9kcyB3aXRoIERFRklORV9NQU5ZIHBvbGljeSwgd2hldGhlclxuICAvLyBtaXhpbnMgYXJlIGxpc3RlZCBiZWZvcmUgb3IgYWZ0ZXIgdGhlc2UgbWV0aG9kcyBpbiB0aGUgc3BlYy5cbiAgaWYgKHNwZWMuaGFzT3duUHJvcGVydHkoTUlYSU5TX0tFWSkpIHtcbiAgICBSRVNFUlZFRF9TUEVDX0tFWVMubWl4aW5zKENvbnN0cnVjdG9yLCBzcGVjLm1peGlucyk7XG4gIH1cblxuICBmb3IgKHZhciBuYW1lIGluIHNwZWMpIHtcbiAgICBpZiAoIXNwZWMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChuYW1lID09PSBNSVhJTlNfS0VZKSB7XG4gICAgICAvLyBXZSBoYXZlIGFscmVhZHkgaGFuZGxlZCBtaXhpbnMgaW4gYSBzcGVjaWFsIGNhc2UgYWJvdmVcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBwcm9wZXJ0eSA9IHNwZWNbbmFtZV07XG4gICAgdmFsaWRhdGVNZXRob2RPdmVycmlkZShwcm90bywgbmFtZSk7XG5cbiAgICBpZiAoUkVTRVJWRURfU1BFQ19LRVlTLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBSRVNFUlZFRF9TUEVDX0tFWVNbbmFtZV0oQ29uc3RydWN0b3IsIHByb3BlcnR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2V0dXAgbWV0aG9kcyBvbiBwcm90b3R5cGU6XG4gICAgICAvLyBUaGUgZm9sbG93aW5nIG1lbWJlciBtZXRob2RzIHNob3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBib3VuZDpcbiAgICAgIC8vIDEuIEV4cGVjdGVkIFJlYWN0Q2xhc3MgbWV0aG9kcyAoaW4gdGhlIFwiaW50ZXJmYWNlXCIpLlxuICAgICAgLy8gMi4gT3ZlcnJpZGRlbiBtZXRob2RzICh0aGF0IHdlcmUgbWl4ZWQgaW4pLlxuICAgICAgdmFyIGlzUmVhY3RDbGFzc01ldGhvZCA9XG4gICAgICAgIFJlYWN0Q2xhc3NJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICB2YXIgaXNBbHJlYWR5RGVmaW5lZCA9IHByb3RvLmhhc093blByb3BlcnR5KG5hbWUpO1xuICAgICAgdmFyIG1hcmtlZERvbnRCaW5kID0gcHJvcGVydHkgJiYgcHJvcGVydHkuX19yZWFjdERvbnRCaW5kO1xuICAgICAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2YgcHJvcGVydHkgPT09ICdmdW5jdGlvbic7XG4gICAgICB2YXIgc2hvdWxkQXV0b0JpbmQgPVxuICAgICAgICBpc0Z1bmN0aW9uICYmXG4gICAgICAgICFpc1JlYWN0Q2xhc3NNZXRob2QgJiZcbiAgICAgICAgIWlzQWxyZWFkeURlZmluZWQgJiZcbiAgICAgICAgIW1hcmtlZERvbnRCaW5kO1xuXG4gICAgICBpZiAoc2hvdWxkQXV0b0JpbmQpIHtcbiAgICAgICAgaWYgKCFwcm90by5fX3JlYWN0QXV0b0JpbmRNYXApIHtcbiAgICAgICAgICBwcm90by5fX3JlYWN0QXV0b0JpbmRNYXAgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBwcm90by5fX3JlYWN0QXV0b0JpbmRNYXBbbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc0FscmVhZHlEZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlW25hbWVdO1xuXG4gICAgICAgICAgLy8gVGhlc2UgY2FzZXMgc2hvdWxkIGFscmVhZHkgYmUgY2F1Z2h0IGJ5IHZhbGlkYXRlTWV0aG9kT3ZlcnJpZGVcbiAgICAgICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICAgICAgaXNSZWFjdENsYXNzTWV0aG9kICYmIChcbiAgICAgICAgICAgICAgKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VEIHx8IHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkpXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgJ1JlYWN0Q2xhc3M6IFVuZXhwZWN0ZWQgc3BlYyBwb2xpY3kgJXMgZm9yIGtleSAlcyAnICtcbiAgICAgICAgICAgICd3aGVuIG1peGluZyBpbiBjb21wb25lbnQgc3BlY3MuJyxcbiAgICAgICAgICAgIHNwZWNQb2xpY3ksXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKSA6IGludmFyaWFudChpc1JlYWN0Q2xhc3NNZXRob2QgJiYgKFxuICAgICAgICAgICAgKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VEIHx8IHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTlkpXG4gICAgICAgICAgKSkpO1xuXG4gICAgICAgICAgLy8gRm9yIG1ldGhvZHMgd2hpY2ggYXJlIGRlZmluZWQgbW9yZSB0aGFuIG9uY2UsIGNhbGwgdGhlIGV4aXN0aW5nXG4gICAgICAgICAgLy8gbWV0aG9kcyBiZWZvcmUgY2FsbGluZyB0aGUgbmV3IHByb3BlcnR5LCBtZXJnaW5nIGlmIGFwcHJvcHJpYXRlLlxuICAgICAgICAgIGlmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCkge1xuICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBjcmVhdGVNZXJnZWRSZXN1bHRGdW5jdGlvbihwcm90b1tuYW1lXSwgcHJvcGVydHkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWSkge1xuICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBjcmVhdGVDaGFpbmVkRnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgICAgICAvLyBBZGQgdmVyYm9zZSBkaXNwbGF5TmFtZSB0byB0aGUgZnVuY3Rpb24sIHdoaWNoIGhlbHBzIHdoZW4gbG9va2luZ1xuICAgICAgICAgICAgLy8gYXQgcHJvZmlsaW5nIHRvb2xzLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJyAmJiBzcGVjLmRpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgICAgIHByb3RvW25hbWVdLmRpc3BsYXlOYW1lID0gc3BlYy5kaXNwbGF5TmFtZSArICdfJyArIG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG1peFN0YXRpY1NwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gIGlmICghc3RhdGljcykge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKHZhciBuYW1lIGluIHN0YXRpY3MpIHtcbiAgICB2YXIgcHJvcGVydHkgPSBzdGF0aWNzW25hbWVdO1xuICAgIGlmICghc3RhdGljcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdmFyIGlzUmVzZXJ2ZWQgPSBuYW1lIGluIFJFU0VSVkVEX1NQRUNfS0VZUztcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgIWlzUmVzZXJ2ZWQsXG4gICAgICAnUmVhY3RDbGFzczogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSBhIHJlc2VydmVkICcgK1xuICAgICAgJ3Byb3BlcnR5LCBgJXNgLCB0aGF0IHNob3VsZG5cXCd0IGJlIG9uIHRoZSBcInN0YXRpY3NcIiBrZXkuIERlZmluZSBpdCAnICtcbiAgICAgICdhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBpbnN0ZWFkOyBpdCB3aWxsIHN0aWxsIGJlIGFjY2Vzc2libGUgb24gdGhlICcgK1xuICAgICAgJ2NvbnN0cnVjdG9yLicsXG4gICAgICBuYW1lXG4gICAgKSA6IGludmFyaWFudCghaXNSZXNlcnZlZCkpO1xuXG4gICAgdmFyIGlzSW5oZXJpdGVkID0gbmFtZSBpbiBDb25zdHJ1Y3RvcjtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgIWlzSW5oZXJpdGVkLFxuICAgICAgJ1JlYWN0Q2xhc3M6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgJyArXG4gICAgICAnYCVzYCBvbiB5b3VyIGNvbXBvbmVudCBtb3JlIHRoYW4gb25jZS4gVGhpcyBjb25mbGljdCBtYXkgYmUgJyArXG4gICAgICAnZHVlIHRvIGEgbWl4aW4uJyxcbiAgICAgIG5hbWVcbiAgICApIDogaW52YXJpYW50KCFpc0luaGVyaXRlZCkpO1xuICAgIENvbnN0cnVjdG9yW25hbWVdID0gcHJvcGVydHk7XG4gIH1cbn1cblxuLyoqXG4gKiBNZXJnZSB0d28gb2JqZWN0cywgYnV0IHRocm93IGlmIGJvdGggY29udGFpbiB0aGUgc2FtZSBrZXkuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9uZSBUaGUgZmlyc3Qgb2JqZWN0LCB3aGljaCBpcyBtdXRhdGVkLlxuICogQHBhcmFtIHtvYmplY3R9IHR3byBUaGUgc2Vjb25kIG9iamVjdFxuICogQHJldHVybiB7b2JqZWN0fSBvbmUgYWZ0ZXIgaXQgaGFzIGJlZW4gbXV0YXRlZCB0byBjb250YWluIGV2ZXJ5dGhpbmcgaW4gdHdvLlxuICovXG5mdW5jdGlvbiBtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKG9uZSwgdHdvKSB7XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgb25lICYmIHR3byAmJiB0eXBlb2Ygb25lID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdHdvID09PSAnb2JqZWN0JyxcbiAgICAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiBDYW5ub3QgbWVyZ2Ugbm9uLW9iamVjdHMuJ1xuICApIDogaW52YXJpYW50KG9uZSAmJiB0d28gJiYgdHlwZW9mIG9uZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHR3byA9PT0gJ29iamVjdCcpKTtcblxuICBmb3IgKHZhciBrZXkgaW4gdHdvKSB7XG4gICAgaWYgKHR3by5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICBvbmVba2V5XSA9PT0gdW5kZWZpbmVkLFxuICAgICAgICAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiAnICtcbiAgICAgICAgJ1RyaWVkIHRvIG1lcmdlIHR3byBvYmplY3RzIHdpdGggdGhlIHNhbWUga2V5OiBgJXNgLiBUaGlzIGNvbmZsaWN0ICcgK1xuICAgICAgICAnbWF5IGJlIGR1ZSB0byBhIG1peGluOyBpbiBwYXJ0aWN1bGFyLCB0aGlzIG1heSBiZSBjYXVzZWQgYnkgdHdvICcgK1xuICAgICAgICAnZ2V0SW5pdGlhbFN0YXRlKCkgb3IgZ2V0RGVmYXVsdFByb3BzKCkgbWV0aG9kcyByZXR1cm5pbmcgb2JqZWN0cyAnICtcbiAgICAgICAgJ3dpdGggY2xhc2hpbmcga2V5cy4nLFxuICAgICAgICBrZXlcbiAgICAgICkgOiBpbnZhcmlhbnQob25lW2tleV0gPT09IHVuZGVmaW5lZCkpO1xuICAgICAgb25lW2tleV0gPSB0d29ba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9uZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHR3byBmdW5jdGlvbnMgYW5kIG1lcmdlcyB0aGVpciByZXR1cm4gdmFsdWVzLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uZSBGdW5jdGlvbiB0byBpbnZva2UgZmlyc3QuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB0d28gRnVuY3Rpb24gdG8gaW52b2tlIHNlY29uZC5cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHR3byBhcmd1bWVudCBmdW5jdGlvbnMuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVNZXJnZWRSZXN1bHRGdW5jdGlvbihvbmUsIHR3bykge1xuICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkUmVzdWx0KCkge1xuICAgIHZhciBhID0gb25lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgdmFyIGIgPSB0d28uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoYSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9IGVsc2UgaWYgKGIgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIHZhciBjID0ge307XG4gICAgbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhjLCBhKTtcbiAgICBtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKGMsIGIpO1xuICAgIHJldHVybiBjO1xuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdHdvIGZ1bmN0aW9ucyBhbmQgaWdub3JlcyB0aGVpciByZXR1cm4gdmFsZXMuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25lIEZ1bmN0aW9uIHRvIGludm9rZSBmaXJzdC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHR3byBGdW5jdGlvbiB0byBpbnZva2Ugc2Vjb25kLlxuICogQHJldHVybiB7ZnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgdHdvIGFyZ3VtZW50IGZ1bmN0aW9ucy5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNoYWluZWRGdW5jdGlvbihvbmUsIHR3bykge1xuICByZXR1cm4gZnVuY3Rpb24gY2hhaW5lZEZ1bmN0aW9uKCkge1xuICAgIG9uZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHR3by5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vKipcbiAqIEJpbmRzIGEgbWV0aG9kIHRvIHRoZSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbXBvbmVudCBDb21wb25lbnQgd2hvc2UgbWV0aG9kIGlzIGdvaW5nIHRvIGJlIGJvdW5kLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gbWV0aG9kIE1ldGhvZCB0byBiZSBib3VuZC5cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgYm91bmQgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBiaW5kQXV0b0JpbmRNZXRob2QoY29tcG9uZW50LCBtZXRob2QpIHtcbiAgdmFyIGJvdW5kTWV0aG9kID0gbWV0aG9kLmJpbmQoY29tcG9uZW50KTtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZENvbnRleHQgPSBjb21wb25lbnQ7XG4gICAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kTWV0aG9kID0gbWV0aG9kO1xuICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IG51bGw7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWU7XG4gICAgdmFyIF9iaW5kID0gYm91bmRNZXRob2QuYmluZDtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBibG9jay1zY29wZWQtdmFyLCBuby11bmRlZiAqL1xuICAgIGJvdW5kTWV0aG9kLmJpbmQgPSBmdW5jdGlvbihuZXdUaGlzICkge2ZvciAodmFyIGFyZ3M9W10sJF9fMD0xLCRfXzE9YXJndW1lbnRzLmxlbmd0aDskX18wPCRfXzE7JF9fMCsrKSBhcmdzLnB1c2goYXJndW1lbnRzWyRfXzBdKTtcbiAgICAgIC8vIFVzZXIgaXMgdHJ5aW5nIHRvIGJpbmQoKSBhbiBhdXRvYm91bmQgbWV0aG9kOyB3ZSBlZmZlY3RpdmVseSB3aWxsXG4gICAgICAvLyBpZ25vcmUgdGhlIHZhbHVlIG9mIFwidGhpc1wiIHRoYXQgdGhlIHVzZXIgaXMgdHJ5aW5nIHRvIHVzZSwgc29cbiAgICAgIC8vIGxldCdzIHdhcm4uXG4gICAgICBpZiAobmV3VGhpcyAhPT0gY29tcG9uZW50ICYmIG5ld1RoaXMgIT09IG51bGwpIHtcbiAgICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgJ2JpbmQoKTogUmVhY3QgY29tcG9uZW50IG1ldGhvZHMgbWF5IG9ubHkgYmUgYm91bmQgdG8gdGhlICcgK1xuICAgICAgICAgICdjb21wb25lbnQgaW5zdGFuY2UuIFNlZSAlcycsXG4gICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgICAgICApIDogbnVsbCk7XG4gICAgICB9IGVsc2UgaWYgKCFhcmdzLmxlbmd0aCkge1xuICAgICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAnYmluZCgpOiBZb3UgYXJlIGJpbmRpbmcgYSBjb21wb25lbnQgbWV0aG9kIHRvIHRoZSBjb21wb25lbnQuICcgK1xuICAgICAgICAgICdSZWFjdCBkb2VzIHRoaXMgZm9yIHlvdSBhdXRvbWF0aWNhbGx5IGluIGEgaGlnaC1wZXJmb3JtYW5jZSAnICtcbiAgICAgICAgICAnd2F5LCBzbyB5b3UgY2FuIHNhZmVseSByZW1vdmUgdGhpcyBjYWxsLiBTZWUgJXMnLFxuICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgKSA6IG51bGwpO1xuICAgICAgICByZXR1cm4gYm91bmRNZXRob2Q7XG4gICAgICB9XG4gICAgICB2YXIgcmVib3VuZE1ldGhvZCA9IF9iaW5kLmFwcGx5KGJvdW5kTWV0aG9kLCBhcmd1bWVudHMpO1xuICAgICAgcmVib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRDb250ZXh0ID0gY29tcG9uZW50O1xuICAgICAgcmVib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRNZXRob2QgPSBtZXRob2Q7XG4gICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICByZXR1cm4gcmVib3VuZE1ldGhvZDtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICB9O1xuICB9XG4gIHJldHVybiBib3VuZE1ldGhvZDtcbn1cblxuLyoqXG4gKiBCaW5kcyBhbGwgYXV0by1ib3VuZCBtZXRob2RzIGluIGEgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb21wb25lbnQgQ29tcG9uZW50IHdob3NlIG1ldGhvZCBpcyBnb2luZyB0byBiZSBib3VuZC5cbiAqL1xuZnVuY3Rpb24gYmluZEF1dG9CaW5kTWV0aG9kcyhjb21wb25lbnQpIHtcbiAgZm9yICh2YXIgYXV0b0JpbmRLZXkgaW4gY29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZE1hcCkge1xuICAgIGlmIChjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kTWFwLmhhc093blByb3BlcnR5KGF1dG9CaW5kS2V5KSkge1xuICAgICAgdmFyIG1ldGhvZCA9IGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRNYXBbYXV0b0JpbmRLZXldO1xuICAgICAgY29tcG9uZW50W2F1dG9CaW5kS2V5XSA9IGJpbmRBdXRvQmluZE1ldGhvZChcbiAgICAgICAgY29tcG9uZW50LFxuICAgICAgICBSZWFjdEVycm9yVXRpbHMuZ3VhcmQoXG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSArICcuJyArIGF1dG9CaW5kS2V5XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbnZhciB0eXBlRGVwcmVjYXRpb25EZXNjcmlwdG9yID0ge1xuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGlzcGxheU5hbWUgPSB0aGlzLmRpc3BsYXlOYW1lIHx8IHRoaXMubmFtZSB8fCAnQ29tcG9uZW50JztcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgIGZhbHNlLFxuICAgICAgJyVzLnR5cGUgaXMgZGVwcmVjYXRlZC4gVXNlICVzIGRpcmVjdGx5IHRvIGFjY2VzcyB0aGUgY2xhc3MuJyxcbiAgICAgIGRpc3BsYXlOYW1lLFxuICAgICAgZGlzcGxheU5hbWVcbiAgICApIDogbnVsbCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0eXBlJywge1xuICAgICAgdmFsdWU6IHRoaXNcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxuLyoqXG4gKiBBZGQgbW9yZSB0byB0aGUgUmVhY3RDbGFzcyBiYXNlIGNsYXNzLiBUaGVzZSBhcmUgYWxsIGxlZ2FjeSBmZWF0dXJlcyBhbmRcbiAqIHRoZXJlZm9yZSBub3QgYWxyZWFkeSBwYXJ0IG9mIHRoZSBtb2Rlcm4gUmVhY3RDb21wb25lbnQuXG4gKi9cbnZhciBSZWFjdENsYXNzTWl4aW4gPSB7XG5cbiAgLyoqXG4gICAqIFRPRE86IFRoaXMgd2lsbCBiZSBkZXByZWNhdGVkIGJlY2F1c2Ugc3RhdGUgc2hvdWxkIGFsd2F5cyBrZWVwIGEgY29uc2lzdGVudFxuICAgKiB0eXBlIHNpZ25hdHVyZSBhbmQgdGhlIG9ubHkgdXNlIGNhc2UgZm9yIHRoaXMsIGlzIHRvIGF2b2lkIHRoYXQuXG4gICAqL1xuICByZXBsYWNlU3RhdGU6IGZ1bmN0aW9uKG5ld1N0YXRlLCBjYWxsYmFjaykge1xuICAgIFJlYWN0VXBkYXRlUXVldWUuZW5xdWV1ZVJlcGxhY2VTdGF0ZSh0aGlzLCBuZXdTdGF0ZSk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBSZWFjdFVwZGF0ZVF1ZXVlLmVucXVldWVDYWxsYmFjayh0aGlzLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhpcyBjb21wb3NpdGUgY29tcG9uZW50IGlzIG1vdW50ZWQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbW91bnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBmaW5hbFxuICAgKi9cbiAgaXNNb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICB2YXIgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgICAgaWYgKG93bmVyICE9PSBudWxsKSB7XG4gICAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICAgIG93bmVyLl93YXJuZWRBYm91dFJlZnNJblJlbmRlcixcbiAgICAgICAgICAnJXMgaXMgYWNjZXNzaW5nIGlzTW91bnRlZCBpbnNpZGUgaXRzIHJlbmRlcigpIGZ1bmN0aW9uLiAnICtcbiAgICAgICAgICAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICtcbiAgICAgICAgICAnbmV2ZXIgYWNjZXNzIHNvbWV0aGluZyB0aGF0IHJlcXVpcmVzIHN0YWxlIGRhdGEgZnJvbSB0aGUgcHJldmlvdXMgJyArXG4gICAgICAgICAgJ3JlbmRlciwgc3VjaCBhcyByZWZzLiBNb3ZlIHRoaXMgbG9naWMgdG8gY29tcG9uZW50RGlkTW91bnQgYW5kICcgK1xuICAgICAgICAgICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLFxuICAgICAgICAgIG93bmVyLmdldE5hbWUoKSB8fCAnQSBjb21wb25lbnQnXG4gICAgICAgICkgOiBudWxsKTtcbiAgICAgICAgb3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBSZWFjdEluc3RhbmNlTWFwLmdldCh0aGlzKTtcbiAgICByZXR1cm4gKFxuICAgICAgaW50ZXJuYWxJbnN0YW5jZSAmJlxuICAgICAgaW50ZXJuYWxJbnN0YW5jZSAhPT0gUmVhY3RMaWZlQ3ljbGUuY3VycmVudGx5TW91bnRpbmdJbnN0YW5jZVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgYSBzdWJzZXQgb2YgdGhlIHByb3BzLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFydGlhbFByb3BzIFN1YnNldCBvZiB0aGUgbmV4dCBwcm9wcy5cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCBhZnRlciBwcm9wcyBhcmUgdXBkYXRlZC5cbiAgICogQGZpbmFsXG4gICAqIEBwdWJsaWNcbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIHNldFByb3BzOiBmdW5jdGlvbihwYXJ0aWFsUHJvcHMsIGNhbGxiYWNrKSB7XG4gICAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlU2V0UHJvcHModGhpcywgcGFydGlhbFByb3BzKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIFJlYWN0VXBkYXRlUXVldWUuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgYWxsIHRoZSBwcm9wcy5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG5ld1Byb3BzIFN1YnNldCBvZiB0aGUgbmV4dCBwcm9wcy5cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCBhZnRlciBwcm9wcyBhcmUgdXBkYXRlZC5cbiAgICogQGZpbmFsXG4gICAqIEBwdWJsaWNcbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIHJlcGxhY2VQcm9wczogZnVuY3Rpb24obmV3UHJvcHMsIGNhbGxiYWNrKSB7XG4gICAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlUmVwbGFjZVByb3BzKHRoaXMsIG5ld1Byb3BzKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIFJlYWN0VXBkYXRlUXVldWUuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBSZWFjdENsYXNzQ29tcG9uZW50ID0gZnVuY3Rpb24oKSB7fTtcbmFzc2lnbihcbiAgUmVhY3RDbGFzc0NvbXBvbmVudC5wcm90b3R5cGUsXG4gIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZSxcbiAgUmVhY3RDbGFzc01peGluXG4pO1xuXG4vKipcbiAqIE1vZHVsZSBmb3IgY3JlYXRpbmcgY29tcG9zaXRlIGNvbXBvbmVudHMuXG4gKlxuICogQGNsYXNzIFJlYWN0Q2xhc3NcbiAqL1xudmFyIFJlYWN0Q2xhc3MgPSB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjb21wb3NpdGUgY29tcG9uZW50IGNsYXNzIGdpdmVuIGEgY2xhc3Mgc3BlY2lmaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHNwZWMgQ2xhc3Mgc3BlY2lmaWNhdGlvbiAod2hpY2ggbXVzdCBkZWZpbmUgYHJlbmRlcmApLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gQ29tcG9uZW50IGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgKiBAcHVibGljXG4gICAqL1xuICBjcmVhdGVDbGFzczogZnVuY3Rpb24oc3BlYykge1xuICAgIHZhciBDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAvLyBUaGlzIGNvbnN0cnVjdG9yIGlzIG92ZXJyaWRkZW4gYnkgbW9ja3MuIFRoZSBhcmd1bWVudCBpcyB1c2VkXG4gICAgICAvLyBieSBtb2NrcyB0byBhc3NlcnQgb24gd2hhdCBnZXRzIG1vdW50ZWQuXG5cbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgICAgdGhpcyBpbnN0YW5jZW9mIENvbnN0cnVjdG9yLFxuICAgICAgICAgICdTb21ldGhpbmcgaXMgY2FsbGluZyBhIFJlYWN0IGNvbXBvbmVudCBkaXJlY3RseS4gVXNlIGEgZmFjdG9yeSBvciAnICtcbiAgICAgICAgICAnSlNYIGluc3RlYWQuIFNlZTogaHR0cHM6Ly9mYi5tZS9yZWFjdC1sZWdhY3lmYWN0b3J5J1xuICAgICAgICApIDogbnVsbCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdpcmUgdXAgYXV0by1iaW5kaW5nXG4gICAgICBpZiAodGhpcy5fX3JlYWN0QXV0b0JpbmRNYXApIHtcbiAgICAgICAgYmluZEF1dG9CaW5kTWV0aG9kcyh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuXG4gICAgICAvLyBSZWFjdENsYXNzZXMgZG9lc24ndCBoYXZlIGNvbnN0cnVjdG9ycy4gSW5zdGVhZCwgdGhleSB1c2UgdGhlXG4gICAgICAvLyBnZXRJbml0aWFsU3RhdGUgYW5kIGNvbXBvbmVudFdpbGxNb3VudCBtZXRob2RzIGZvciBpbml0aWFsaXphdGlvbi5cblxuICAgICAgdmFyIGluaXRpYWxTdGF0ZSA9IHRoaXMuZ2V0SW5pdGlhbFN0YXRlID8gdGhpcy5nZXRJbml0aWFsU3RhdGUoKSA6IG51bGw7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgIC8vIFdlIGFsbG93IGF1dG8tbW9ja3MgdG8gcHJvY2VlZCBhcyBpZiB0aGV5J3JlIHJldHVybmluZyBudWxsLlxuICAgICAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgIHRoaXMuZ2V0SW5pdGlhbFN0YXRlLl9pc01vY2tGdW5jdGlvbikge1xuICAgICAgICAgIC8vIFRoaXMgaXMgcHJvYmFibHkgYmFkIHByYWN0aWNlLiBDb25zaWRlciB3YXJuaW5nIGhlcmUgYW5kXG4gICAgICAgICAgLy8gZGVwcmVjYXRpbmcgdGhpcyBjb252ZW5pZW5jZS5cbiAgICAgICAgICBpbml0aWFsU3RhdGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICB0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpbml0aWFsU3RhdGUpLFxuICAgICAgICAnJXMuZ2V0SW5pdGlhbFN0YXRlKCk6IG11c3QgcmV0dXJuIGFuIG9iamVjdCBvciBudWxsJyxcbiAgICAgICAgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50J1xuICAgICAgKSA6IGludmFyaWFudCh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpbml0aWFsU3RhdGUpKSk7XG5cbiAgICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgfTtcbiAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBuZXcgUmVhY3RDbGFzc0NvbXBvbmVudCgpO1xuICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuXG4gICAgaW5qZWN0ZWRNaXhpbnMuZm9yRWFjaChcbiAgICAgIG1peFNwZWNJbnRvQ29tcG9uZW50LmJpbmQobnVsbCwgQ29uc3RydWN0b3IpXG4gICAgKTtcblxuICAgIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzcGVjKTtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIGRlZmF1bHRQcm9wcyBwcm9wZXJ0eSBhZnRlciBhbGwgbWl4aW5zIGhhdmUgYmVlbiBtZXJnZWRcbiAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICBDb25zdHJ1Y3Rvci5kZWZhdWx0UHJvcHMgPSBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMoKTtcbiAgICB9XG5cbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgdGFnIHRvIGluZGljYXRlIHRoYXQgdGhlIHVzZSBvZiB0aGVzZSBtZXRob2QgbmFtZXMgaXMgb2ssXG4gICAgICAvLyBzaW5jZSBpdCdzIHVzZWQgd2l0aCBjcmVhdGVDbGFzcy4gSWYgaXQncyBub3QsIHRoZW4gaXQncyBsaWtlbHkgYVxuICAgICAgLy8gbWlzdGFrZSBzbyB3ZSdsbCB3YXJuIHlvdSB0byB1c2UgdGhlIHN0YXRpYyBwcm9wZXJ0eSwgcHJvcGVydHlcbiAgICAgIC8vIGluaXRpYWxpemVyIG9yIGNvbnN0cnVjdG9yIHJlc3BlY3RpdmVseS5cbiAgICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICB9XG4gICAgICBpZiAoQ29uc3RydWN0b3IucHJvdG90eXBlLmdldEluaXRpYWxTdGF0ZSkge1xuICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICB9XG4gICAgfVxuXG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5yZW5kZXIsXG4gICAgICAnY3JlYXRlQ2xhc3MoLi4uKTogQ2xhc3Mgc3BlY2lmaWNhdGlvbiBtdXN0IGltcGxlbWVudCBhIGByZW5kZXJgIG1ldGhvZC4nXG4gICAgKSA6IGludmFyaWFudChDb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVuZGVyKSk7XG5cbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgICAgIUNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb21wb25lbnRTaG91bGRVcGRhdGUsXG4gICAgICAgICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgK1xuICAgICAgICAnY29tcG9uZW50U2hvdWxkVXBkYXRlKCkuIERpZCB5b3UgbWVhbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKT8gJyArXG4gICAgICAgICdUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgJyArXG4gICAgICAgICdleHBlY3RlZCB0byByZXR1cm4gYSB2YWx1ZS4nLFxuICAgICAgICBzcGVjLmRpc3BsYXlOYW1lIHx8ICdBIGNvbXBvbmVudCdcbiAgICAgICkgOiBudWxsKTtcbiAgICB9XG5cbiAgICAvLyBSZWR1Y2UgdGltZSBzcGVudCBkb2luZyBsb29rdXBzIGJ5IHNldHRpbmcgdGhlc2Ugb24gdGhlIHByb3RvdHlwZS5cbiAgICBmb3IgKHZhciBtZXRob2ROYW1lIGluIFJlYWN0Q2xhc3NJbnRlcmZhY2UpIHtcbiAgICAgIGlmICghQ29uc3RydWN0b3IucHJvdG90eXBlW21ldGhvZE5hbWVdKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTGVnYWN5IGhvb2tcbiAgICBDb25zdHJ1Y3Rvci50eXBlID0gQ29uc3RydWN0b3I7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCAndHlwZScsIHR5cGVEZXByZWNhdGlvbkRlc2NyaXB0b3IpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAvLyBJRSB3aWxsIGZhaWwgb24gZGVmaW5lUHJvcGVydHkgKGVzNS1zaGltL3NoYW0gdG9vKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfSxcblxuICBpbmplY3Rpb246IHtcbiAgICBpbmplY3RNaXhpbjogZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgIGluamVjdGVkTWl4aW5zLnB1c2gobWl4aW4pO1xuICAgIH1cbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q2xhc3M7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RDb21wb25lbnRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFVwZGF0ZVF1ZXVlID0gcmVxdWlyZShcIi4vUmVhY3RVcGRhdGVRdWV1ZVwiKTtcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZShcIi4vd2FybmluZ1wiKTtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIGhlbHBlcnMgZm9yIHRoZSB1cGRhdGluZyBzdGF0ZSBvZiBhIGNvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gUmVhY3RDb21wb25lbnQocHJvcHMsIGNvbnRleHQpIHtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xufVxuXG4vKipcbiAqIFNldHMgYSBzdWJzZXQgb2YgdGhlIHN0YXRlLiBBbHdheXMgdXNlIHRoaXMgdG8gbXV0YXRlXG4gKiBzdGF0ZS4gWW91IHNob3VsZCB0cmVhdCBgdGhpcy5zdGF0ZWAgYXMgaW1tdXRhYmxlLlxuICpcbiAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGB0aGlzLnN0YXRlYCB3aWxsIGJlIGltbWVkaWF0ZWx5IHVwZGF0ZWQsIHNvXG4gKiBhY2Nlc3NpbmcgYHRoaXMuc3RhdGVgIGFmdGVyIGNhbGxpbmcgdGhpcyBtZXRob2QgbWF5IHJldHVybiB0aGUgb2xkIHZhbHVlLlxuICpcbiAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGNhbGxzIHRvIGBzZXRTdGF0ZWAgd2lsbCBydW4gc3luY2hyb25vdXNseSxcbiAqIGFzIHRoZXkgbWF5IGV2ZW50dWFsbHkgYmUgYmF0Y2hlZCB0b2dldGhlci4gIFlvdSBjYW4gcHJvdmlkZSBhbiBvcHRpb25hbFxuICogY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGNhbGwgdG8gc2V0U3RhdGUgaXMgYWN0dWFsbHlcbiAqIGNvbXBsZXRlZC5cbiAqXG4gKiBXaGVuIGEgZnVuY3Rpb24gaXMgcHJvdmlkZWQgdG8gc2V0U3RhdGUsIGl0IHdpbGwgYmUgY2FsbGVkIGF0IHNvbWUgcG9pbnQgaW5cbiAqIHRoZSBmdXR1cmUgKG5vdCBzeW5jaHJvbm91c2x5KS4gSXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgdXAgdG8gZGF0ZVxuICogY29tcG9uZW50IGFyZ3VtZW50cyAoc3RhdGUsIHByb3BzLCBjb250ZXh0KS4gVGhlc2UgdmFsdWVzIGNhbiBiZSBkaWZmZXJlbnRcbiAqIGZyb20gdGhpcy4qIGJlY2F1c2UgeW91ciBmdW5jdGlvbiBtYXkgYmUgY2FsbGVkIGFmdGVyIHJlY2VpdmVQcm9wcyBidXQgYmVmb3JlXG4gKiBzaG91bGRDb21wb25lbnRVcGRhdGUsIGFuZCB0aGlzIG5ldyBzdGF0ZSwgcHJvcHMsIGFuZCBjb250ZXh0IHdpbGwgbm90IHlldCBiZVxuICogYXNzaWduZWQgdG8gdGhpcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdHxmdW5jdGlvbn0gcGFydGlhbFN0YXRlIE5leHQgcGFydGlhbCBzdGF0ZSBvciBmdW5jdGlvbiB0b1xuICogICAgICAgIHByb2R1Y2UgbmV4dCBwYXJ0aWFsIHN0YXRlIHRvIGJlIG1lcmdlZCB3aXRoIGN1cnJlbnQgc3RhdGUuXG4gKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIHN0YXRlIGlzIHVwZGF0ZWQuXG4gKiBAZmluYWxcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuUmVhY3RDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24ocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgIHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdvYmplY3QnIHx8XG4gICAgdHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgIHBhcnRpYWxTdGF0ZSA9PSBudWxsLFxuICAgICdzZXRTdGF0ZSguLi4pOiB0YWtlcyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzIHRvIHVwZGF0ZSBvciBhICcgK1xuICAgICdmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMuJ1xuICApIDogaW52YXJpYW50KHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdvYmplY3QnIHx8XG4gIHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgfHxcbiAgcGFydGlhbFN0YXRlID09IG51bGwpKTtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgcGFydGlhbFN0YXRlICE9IG51bGwsXG4gICAgICAnc2V0U3RhdGUoLi4uKTogWW91IHBhc3NlZCBhbiB1bmRlZmluZWQgb3IgbnVsbCBzdGF0ZSBvYmplY3Q7ICcgK1xuICAgICAgJ2luc3RlYWQsIHVzZSBmb3JjZVVwZGF0ZSgpLidcbiAgICApIDogbnVsbCk7XG4gIH1cbiAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlU2V0U3RhdGUodGhpcywgcGFydGlhbFN0YXRlKTtcbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2spO1xuICB9XG59O1xuXG4vKipcbiAqIEZvcmNlcyBhbiB1cGRhdGUuIFRoaXMgc2hvdWxkIG9ubHkgYmUgaW52b2tlZCB3aGVuIGl0IGlzIGtub3duIHdpdGhcbiAqIGNlcnRhaW50eSB0aGF0IHdlIGFyZSAqKm5vdCoqIGluIGEgRE9NIHRyYW5zYWN0aW9uLlxuICpcbiAqIFlvdSBtYXkgd2FudCB0byBjYWxsIHRoaXMgd2hlbiB5b3Uga25vdyB0aGF0IHNvbWUgZGVlcGVyIGFzcGVjdCBvZiB0aGVcbiAqIGNvbXBvbmVudCdzIHN0YXRlIGhhcyBjaGFuZ2VkIGJ1dCBgc2V0U3RhdGVgIHdhcyBub3QgY2FsbGVkLlxuICpcbiAqIFRoaXMgd2lsbCBub3QgaW52b2tlIGBzaG91bGRDb21wb25lbnRVcGRhdGVgLCBidXQgaXQgd2lsbCBpbnZva2VcbiAqIGBjb21wb25lbnRXaWxsVXBkYXRlYCBhbmQgYGNvbXBvbmVudERpZFVwZGF0ZWAuXG4gKlxuICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCBhZnRlciB1cGRhdGUgaXMgY29tcGxldGUuXG4gKiBAZmluYWxcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuUmVhY3RDb21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcyk7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIFJlYWN0VXBkYXRlUXVldWUuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuLyoqXG4gKiBEZXByZWNhdGVkIEFQSXMuIFRoZXNlIEFQSXMgdXNlZCB0byBleGlzdCBvbiBjbGFzc2ljIFJlYWN0IGNsYXNzZXMgYnV0IHNpbmNlXG4gKiB3ZSB3b3VsZCBsaWtlIHRvIGRlcHJlY2F0ZSB0aGVtLCB3ZSdyZSBub3QgZ29pbmcgdG8gbW92ZSB0aGVtIG92ZXIgdG8gdGhpc1xuICogbW9kZXJuIGJhc2UgY2xhc3MuIEluc3RlYWQsIHdlIGRlZmluZSBhIGdldHRlciB0aGF0IHdhcm5zIGlmIGl0J3MgYWNjZXNzZWQuXG4gKi9cbmlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgIGdldERPTU5vZGU6IFtcbiAgICAgICdnZXRET01Ob2RlJyxcbiAgICAgICdVc2UgUmVhY3QuZmluZERPTU5vZGUoY29tcG9uZW50KSBpbnN0ZWFkLidcbiAgICBdLFxuICAgIGlzTW91bnRlZDogW1xuICAgICAgJ2lzTW91bnRlZCcsXG4gICAgICAnSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gJyArXG4gICAgICAnY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuJ1xuICAgIF0sXG4gICAgcmVwbGFjZVByb3BzOiBbXG4gICAgICAncmVwbGFjZVByb3BzJyxcbiAgICAgICdJbnN0ZWFkLCBjYWxsIFJlYWN0LnJlbmRlciBhZ2FpbiBhdCB0aGUgdG9wIGxldmVsLidcbiAgICBdLFxuICAgIHJlcGxhY2VTdGF0ZTogW1xuICAgICAgJ3JlcGxhY2VTdGF0ZScsXG4gICAgICAnUmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBzZXRTdGF0ZSBpbnN0ZWFkIChzZWUgJyArXG4gICAgICAnaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS4nXG4gICAgXSxcbiAgICBzZXRQcm9wczogW1xuICAgICAgJ3NldFByb3BzJyxcbiAgICAgICdJbnN0ZWFkLCBjYWxsIFJlYWN0LnJlbmRlciBhZ2FpbiBhdCB0aGUgdG9wIGxldmVsLidcbiAgICBdXG4gIH07XG4gIHZhciBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcgPSBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmZvKSB7XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFjdENvbXBvbmVudC5wcm90b3R5cGUsIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgJyVzKC4uLikgaXMgZGVwcmVjYXRlZCBpbiBwbGFpbiBKYXZhU2NyaXB0IFJlYWN0IGNsYXNzZXMuICVzJyxcbiAgICAgICAgICAgIGluZm9bMF0sXG4gICAgICAgICAgICBpbmZvWzFdXG4gICAgICAgICAgKSA6IG51bGwpO1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgIC8vIElFIHdpbGwgZmFpbCBvbiBkZWZpbmVQcm9wZXJ0eSAoZXM1LXNoaW0vc2hhbSB0b28pXG4gICAgfVxuICB9O1xuICBmb3IgKHZhciBmbk5hbWUgaW4gZGVwcmVjYXRlZEFQSXMpIHtcbiAgICBpZiAoZGVwcmVjYXRlZEFQSXMuaGFzT3duUHJvcGVydHkoZm5OYW1lKSkge1xuICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RDb21wb25lbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnRcbiAqL1xuXG4vKmpzbGludCBldmlsOiB0cnVlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0RE9NSURPcGVyYXRpb25zID0gcmVxdWlyZShcIi4vUmVhY3RET01JRE9wZXJhdGlvbnNcIik7XG52YXIgUmVhY3RNb3VudCA9IHJlcXVpcmUoXCIuL1JlYWN0TW91bnRcIik7XG5cbi8qKlxuICogQWJzdHJhY3RzIGF3YXkgYWxsIGZ1bmN0aW9uYWxpdHkgb2YgdGhlIHJlY29uY2lsZXIgdGhhdCByZXF1aXJlcyBrbm93bGVkZ2Ugb2ZcbiAqIHRoZSBicm93c2VyIGNvbnRleHQuIFRPRE86IFRoZXNlIGNhbGxlcnMgc2hvdWxkIGJlIHJlZmFjdG9yZWQgdG8gYXZvaWQgdGhlXG4gKiBuZWVkIGZvciB0aGlzIGluamVjdGlvbi5cbiAqL1xudmFyIFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50ID0ge1xuXG4gIHByb2Nlc3NDaGlsZHJlblVwZGF0ZXM6XG4gICAgUmVhY3RET01JRE9wZXJhdGlvbnMuZGFuZ2Vyb3VzbHlQcm9jZXNzQ2hpbGRyZW5VcGRhdGVzLFxuXG4gIHJlcGxhY2VOb2RlV2l0aE1hcmt1cEJ5SUQ6XG4gICAgUmVhY3RET01JRE9wZXJhdGlvbnMuZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXBCeUlELFxuXG4gIC8qKlxuICAgKiBJZiBhIHBhcnRpY3VsYXIgZW52aXJvbm1lbnQgcmVxdWlyZXMgdGhhdCBzb21lIHJlc291cmNlcyBiZSBjbGVhbmVkIHVwLFxuICAgKiBzcGVjaWZ5IHRoaXMgaW4gdGhlIGluamVjdGVkIE1peGluLiBJbiB0aGUgRE9NLCB3ZSB3b3VsZCBsaWtlbHkgd2FudCB0b1xuICAgKiBwdXJnZSBhbnkgY2FjaGVkIG5vZGUgSUQgbG9va3Vwcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVubW91bnRJREZyb21FbnZpcm9ubWVudDogZnVuY3Rpb24ocm9vdE5vZGVJRCkge1xuICAgIFJlYWN0TW91bnQucHVyZ2VJRChyb290Tm9kZUlEKTtcbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG5cbnZhciBpbmplY3RlZCA9IGZhbHNlO1xuXG52YXIgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudCA9IHtcblxuICAvKipcbiAgICogT3B0aW9uYWxseSBpbmplY3RhYmxlIGVudmlyb25tZW50IGRlcGVuZGVudCBjbGVhbnVwIGhvb2suIChzZXJ2ZXIgdnMuXG4gICAqIGJyb3dzZXIgZXRjKS4gRXhhbXBsZTogQSBicm93c2VyIHN5c3RlbSBjYWNoZXMgRE9NIG5vZGVzIGJhc2VkIG9uIGNvbXBvbmVudFxuICAgKiBJRCBhbmQgbXVzdCByZW1vdmUgdGhhdCBjYWNoZSBlbnRyeSB3aGVuIHRoaXMgaW5zdGFuY2UgaXMgdW5tb3VudGVkLlxuICAgKi9cbiAgdW5tb3VudElERnJvbUVudmlyb25tZW50OiBudWxsLFxuXG4gIC8qKlxuICAgKiBPcHRpb25hbGx5IGluamVjdGFibGUgaG9vayBmb3Igc3dhcHBpbmcgb3V0IG1vdW50IGltYWdlcyBpbiB0aGUgbWlkZGxlIG9mXG4gICAqIHRoZSB0cmVlLlxuICAgKi9cbiAgcmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRDogbnVsbCxcblxuICAvKipcbiAgICogT3B0aW9uYWxseSBpbmplY3RhYmxlIGhvb2sgZm9yIHByb2Nlc3NpbmcgYSBxdWV1ZSBvZiBjaGlsZCB1cGRhdGVzLiBXaWxsXG4gICAqIGxhdGVyIG1vdmUgaW50byBNdWx0aUNoaWxkQ29tcG9uZW50cy5cbiAgICovXG4gIHByb2Nlc3NDaGlsZHJlblVwZGF0ZXM6IG51bGwsXG5cbiAgaW5qZWN0aW9uOiB7XG4gICAgaW5qZWN0RW52aXJvbm1lbnQ6IGZ1bmN0aW9uKGVudmlyb25tZW50KSB7XG4gICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICAhaW5qZWN0ZWQsXG4gICAgICAgICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudDogaW5qZWN0RW52aXJvbm1lbnQoKSBjYW4gb25seSBiZSBjYWxsZWQgb25jZS4nXG4gICAgICApIDogaW52YXJpYW50KCFpbmplY3RlZCkpO1xuICAgICAgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC51bm1vdW50SURGcm9tRW52aXJvbm1lbnQgPVxuICAgICAgICBlbnZpcm9ubWVudC51bm1vdW50SURGcm9tRW52aXJvbm1lbnQ7XG4gICAgICBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LnJlcGxhY2VOb2RlV2l0aE1hcmt1cEJ5SUQgPVxuICAgICAgICBlbnZpcm9ubWVudC5yZXBsYWNlTm9kZVdpdGhNYXJrdXBCeUlEO1xuICAgICAgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC5wcm9jZXNzQ2hpbGRyZW5VcGRhdGVzID1cbiAgICAgICAgZW52aXJvbm1lbnQucHJvY2Vzc0NoaWxkcmVuVXBkYXRlcztcbiAgICAgIGluamVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvbmVudEVudmlyb25tZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RDb21wb25lbnRXaXRoUHVyZVJlbmRlck1peGluXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKFwiLi9zaGFsbG93RXF1YWxcIik7XG5cbi8qKlxuICogSWYgeW91ciBSZWFjdCBjb21wb25lbnQncyByZW5kZXIgZnVuY3Rpb24gaXMgXCJwdXJlXCIsIGUuZy4gaXQgd2lsbCByZW5kZXIgdGhlXG4gKiBzYW1lIHJlc3VsdCBnaXZlbiB0aGUgc2FtZSBwcm9wcyBhbmQgc3RhdGUsIHByb3ZpZGUgdGhpcyBNaXhpbiBmb3IgYVxuICogY29uc2lkZXJhYmxlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICpcbiAqIE1vc3QgUmVhY3QgY29tcG9uZW50cyBoYXZlIHB1cmUgcmVuZGVyIGZ1bmN0aW9ucy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgdmFyIFJlYWN0Q29tcG9uZW50V2l0aFB1cmVSZW5kZXJNaXhpbiA9XG4gKiAgICAgcmVxdWlyZSgnUmVhY3RDb21wb25lbnRXaXRoUHVyZVJlbmRlck1peGluJyk7XG4gKiAgIFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAqICAgICBtaXhpbnM6IFtSZWFjdENvbXBvbmVudFdpdGhQdXJlUmVuZGVyTWl4aW5dLFxuICpcbiAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+Zm9vPC9kaXY+O1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogTm90ZTogVGhpcyBvbmx5IGNoZWNrcyBzaGFsbG93IGVxdWFsaXR5IGZvciBwcm9wcyBhbmQgc3RhdGUuIElmIHRoZXNlIGNvbnRhaW5cbiAqIGNvbXBsZXggZGF0YSBzdHJ1Y3R1cmVzIHRoaXMgbWl4aW4gbWF5IGhhdmUgZmFsc2UtbmVnYXRpdmVzIGZvciBkZWVwZXJcbiAqIGRpZmZlcmVuY2VzLiBPbmx5IG1peGluIHRvIGNvbXBvbmVudHMgd2hpY2ggaGF2ZSBzaW1wbGUgcHJvcHMgYW5kIHN0YXRlLCBvclxuICogdXNlIGBmb3JjZVVwZGF0ZSgpYCB3aGVuIHlvdSBrbm93IGRlZXAgZGF0YSBzdHJ1Y3R1cmVzIGhhdmUgY2hhbmdlZC5cbiAqL1xudmFyIFJlYWN0Q29tcG9uZW50V2l0aFB1cmVSZW5kZXJNaXhpbiA9IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBmdW5jdGlvbihuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKHRoaXMucHJvcHMsIG5leHRQcm9wcykgfHxcbiAgICAgICAgICAgIXNoYWxsb3dFcXVhbCh0aGlzLnN0YXRlLCBuZXh0U3RhdGUpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29tcG9uZW50V2l0aFB1cmVSZW5kZXJNaXhpbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdENvbXBvbmVudEVudmlyb25tZW50XCIpO1xudmFyIFJlYWN0Q29udGV4dCA9IHJlcXVpcmUoXCIuL1JlYWN0Q29udGV4dFwiKTtcbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoXCIuL1JlYWN0Q3VycmVudE93bmVyXCIpO1xudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RWxlbWVudFwiKTtcbnZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRWYWxpZGF0b3JcIik7XG52YXIgUmVhY3RJbnN0YW5jZU1hcCA9IHJlcXVpcmUoXCIuL1JlYWN0SW5zdGFuY2VNYXBcIik7XG52YXIgUmVhY3RMaWZlQ3ljbGUgPSByZXF1aXJlKFwiLi9SZWFjdExpZmVDeWNsZVwiKTtcbnZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudCA9IHJlcXVpcmUoXCIuL1JlYWN0TmF0aXZlQ29tcG9uZW50XCIpO1xudmFyIFJlYWN0UGVyZiA9IHJlcXVpcmUoXCIuL1JlYWN0UGVyZlwiKTtcbnZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gcmVxdWlyZShcIi4vUmVhY3RQcm9wVHlwZUxvY2F0aW9uc1wiKTtcbnZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9IHJlcXVpcmUoXCIuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzXCIpO1xudmFyIFJlYWN0UmVjb25jaWxlciA9IHJlcXVpcmUoXCIuL1JlYWN0UmVjb25jaWxlclwiKTtcbnZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKFwiLi9SZWFjdFVwZGF0ZXNcIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIGVtcHR5T2JqZWN0ID0gcmVxdWlyZShcIi4vZW1wdHlPYmplY3RcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xudmFyIHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50ID0gcmVxdWlyZShcIi4vc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnRcIik7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoXCIuL3dhcm5pbmdcIik7XG5cbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShjb21wb25lbnQpIHtcbiAgdmFyIG93bmVyID0gY29tcG9uZW50Ll9jdXJyZW50RWxlbWVudC5fb3duZXIgfHwgbnVsbDtcbiAgaWYgKG93bmVyKSB7XG4gICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHJldHVybiAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgfVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0gVGhlIExpZmUtQ3ljbGUgb2YgYSBDb21wb3NpdGUgQ29tcG9uZW50IC0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIC0gY29uc3RydWN0b3I6IEluaXRpYWxpemF0aW9uIG9mIHN0YXRlLiBUaGUgaW5zdGFuY2UgaXMgbm93IHJldGFpbmVkLlxuICogICAtIGNvbXBvbmVudFdpbGxNb3VudFxuICogICAtIHJlbmRlclxuICogICAtIFtjaGlsZHJlbidzIGNvbnN0cnVjdG9yc11cbiAqICAgICAtIFtjaGlsZHJlbidzIGNvbXBvbmVudFdpbGxNb3VudCBhbmQgcmVuZGVyXVxuICogICAgIC0gW2NoaWxkcmVuJ3MgY29tcG9uZW50RGlkTW91bnRdXG4gKiAgICAgLSBjb21wb25lbnREaWRNb3VudFxuICpcbiAqICAgICAgIFVwZGF0ZSBQaGFzZXM6XG4gKiAgICAgICAtIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgKG9ubHkgY2FsbGVkIGlmIHBhcmVudCB1cGRhdGVkKVxuICogICAgICAgLSBzaG91bGRDb21wb25lbnRVcGRhdGVcbiAqICAgICAgICAgLSBjb21wb25lbnRXaWxsVXBkYXRlXG4gKiAgICAgICAgICAgLSByZW5kZXJcbiAqICAgICAgICAgICAtIFtjaGlsZHJlbidzIGNvbnN0cnVjdG9ycyBvciByZWNlaXZlIHByb3BzIHBoYXNlc11cbiAqICAgICAgICAgLSBjb21wb25lbnREaWRVcGRhdGVcbiAqXG4gKiAgICAgLSBjb21wb25lbnRXaWxsVW5tb3VudFxuICogICAgIC0gW2NoaWxkcmVuJ3MgY29tcG9uZW50V2lsbFVubW91bnRdXG4gKiAgIC0gW2NoaWxkcmVuIGRlc3Ryb3llZF1cbiAqIC0gKGRlc3Ryb3llZCk6IFRoZSBpbnN0YW5jZSBpcyBub3cgYmxhbmssIHJlbGVhc2VkIGJ5IFJlYWN0IGFuZCByZWFkeSBmb3IgR0MuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4vKipcbiAqIEFuIGluY3JlbWVudGluZyBJRCBhc3NpZ25lZCB0byBlYWNoIGNvbXBvbmVudCB3aGVuIGl0IGlzIG1vdW50ZWQuIFRoaXMgaXNcbiAqIHVzZWQgdG8gZW5mb3JjZSB0aGUgb3JkZXIgaW4gd2hpY2ggYFJlYWN0VXBkYXRlc2AgdXBkYXRlcyBkaXJ0eSBjb21wb25lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBuZXh0TW91bnRJRCA9IDE7XG5cbi8qKlxuICogQGxlbmRzIHtSZWFjdENvbXBvc2l0ZUNvbXBvbmVudC5wcm90b3R5cGV9XG4gKi9cbnZhciBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudE1peGluID0ge1xuXG4gIC8qKlxuICAgKiBCYXNlIGNvbnN0cnVjdG9yIGZvciBhbGwgY29tcG9zaXRlIGNvbXBvbmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnRcbiAgICogQGZpbmFsXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0OiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xuICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcblxuICAgIC8vIFNlZSBSZWFjdFVwZGF0ZVF1ZXVlXG4gICAgdGhpcy5fcGVuZGluZ0VsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gbnVsbDtcbiAgICB0aGlzLl9wZW5kaW5nUmVwbGFjZVN0YXRlID0gZmFsc2U7XG4gICAgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlID0gZmFsc2U7XG5cbiAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudCA9IG51bGw7XG5cbiAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICB0aGlzLl9tb3VudE9yZGVyID0gMDtcbiAgICB0aGlzLl9pc1RvcExldmVsID0gZmFsc2U7XG5cbiAgICAvLyBTZWUgUmVhY3RVcGRhdGVzIGFuZCBSZWFjdFVwZGF0ZVF1ZXVlLlxuICAgIHRoaXMuX3BlbmRpbmdDYWxsYmFja3MgPSBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgY29tcG9uZW50LCByZW5kZXJzIG1hcmt1cCwgYW5kIHJlZ2lzdGVycyBldmVudCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByb290SUQgRE9NIElEIG9mIHRoZSByb290IG5vZGUuXG4gICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbnxSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfSBSZW5kZXJlZCBtYXJrdXAgdG8gYmUgaW5zZXJ0ZWQgaW50byB0aGUgRE9NLlxuICAgKiBAZmluYWxcbiAgICogQGludGVybmFsXG4gICAqL1xuICBtb3VudENvbXBvbmVudDogZnVuY3Rpb24ocm9vdElELCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuX21vdW50T3JkZXIgPSBuZXh0TW91bnRJRCsrO1xuICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSByb290SUQ7XG5cbiAgICB2YXIgcHVibGljUHJvcHMgPSB0aGlzLl9wcm9jZXNzUHJvcHModGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHMpO1xuICAgIHZhciBwdWJsaWNDb250ZXh0ID0gdGhpcy5fcHJvY2Vzc0NvbnRleHQodGhpcy5fY3VycmVudEVsZW1lbnQuX2NvbnRleHQpO1xuXG4gICAgdmFyIENvbXBvbmVudCA9IFJlYWN0TmF0aXZlQ29tcG9uZW50LmdldENvbXBvbmVudENsYXNzRm9yRWxlbWVudChcbiAgICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50XG4gICAgKTtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIHB1YmxpYyBjbGFzc1xuICAgIHZhciBpbnN0ID0gbmV3IENvbXBvbmVudChwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCk7XG5cbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgbGF0ZXIgaW4gX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudCwgYnV0IGFkZCBhbiBlYXJseVxuICAgICAgLy8gd2FybmluZyBub3cgdG8gaGVscCBkZWJ1Z2dpbmdcbiAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICBpbnN0LnJlbmRlciAhPSBudWxsLFxuICAgICAgICAnJXMoLi4uKTogTm8gYHJlbmRlcmAgbWV0aG9kIGZvdW5kIG9uIHRoZSByZXR1cm5lZCBjb21wb25lbnQgJyArXG4gICAgICAgICdpbnN0YW5jZTogeW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBkZWZpbmUgYHJlbmRlcmAgaW4geW91ciAnICtcbiAgICAgICAgJ2NvbXBvbmVudCBvciB5b3UgbWF5IGhhdmUgYWNjaWRlbnRhbGx5IHRyaWVkIHRvIHJlbmRlciBhbiBlbGVtZW50ICcgK1xuICAgICAgICAnd2hvc2UgdHlwZSBpcyBhIGZ1bmN0aW9uIHRoYXQgaXNuXFwndCBhIFJlYWN0IGNvbXBvbmVudC4nLFxuICAgICAgICBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCdcbiAgICAgICkgOiBudWxsKTtcbiAgICB9XG5cbiAgICAvLyBUaGVzZSBzaG91bGQgYmUgc2V0IHVwIGluIHRoZSBjb25zdHJ1Y3RvciwgYnV0IGFzIGEgY29udmVuaWVuY2UgZm9yXG4gICAgLy8gc2ltcGxlciBjbGFzcyBhYnN0cmFjdGlvbnMsIHdlIHNldCB0aGVtIHVwIGFmdGVyIHRoZSBmYWN0LlxuICAgIGluc3QucHJvcHMgPSBwdWJsaWNQcm9wcztcbiAgICBpbnN0LmNvbnRleHQgPSBwdWJsaWNDb250ZXh0O1xuICAgIGluc3QucmVmcyA9IGVtcHR5T2JqZWN0O1xuXG4gICAgdGhpcy5faW5zdGFuY2UgPSBpbnN0O1xuXG4gICAgLy8gU3RvcmUgYSByZWZlcmVuY2UgZnJvbSB0aGUgaW5zdGFuY2UgYmFjayB0byB0aGUgaW50ZXJuYWwgcmVwcmVzZW50YXRpb25cbiAgICBSZWFjdEluc3RhbmNlTWFwLnNldChpbnN0LCB0aGlzKTtcblxuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIHRoaXMuX3dhcm5JZkNvbnRleHRzRGlmZmVyKHRoaXMuX2N1cnJlbnRFbGVtZW50Ll9jb250ZXh0LCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAvLyBTaW5jZSBwbGFpbiBKUyBjbGFzc2VzIGFyZSBkZWZpbmVkIHdpdGhvdXQgYW55IHNwZWNpYWwgaW5pdGlhbGl6YXRpb25cbiAgICAgIC8vIGxvZ2ljLCB3ZSBjYW4gbm90IGNhdGNoIGNvbW1vbiBlcnJvcnMgZWFybHkuIFRoZXJlZm9yZSwgd2UgaGF2ZSB0b1xuICAgICAgLy8gY2F0Y2ggdGhlbSBoZXJlLCBhdCBpbml0aWFsaXphdGlvbiB0aW1lLCBpbnN0ZWFkLlxuICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgICFpbnN0LmdldEluaXRpYWxTdGF0ZSB8fFxuICAgICAgICBpbnN0LmdldEluaXRpYWxTdGF0ZS5pc1JlYWN0Q2xhc3NBcHByb3ZlZCxcbiAgICAgICAgJ2dldEluaXRpYWxTdGF0ZSB3YXMgZGVmaW5lZCBvbiAlcywgYSBwbGFpbiBKYXZhU2NyaXB0IGNsYXNzLiAnICtcbiAgICAgICAgJ1RoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gJyArXG4gICAgICAgICdEaWQgeW91IG1lYW4gdG8gZGVmaW5lIGEgc3RhdGUgcHJvcGVydHkgaW5zdGVhZD8nLFxuICAgICAgICB0aGlzLmdldE5hbWUoKSB8fCAnYSBjb21wb25lbnQnXG4gICAgICApIDogbnVsbCk7XG4gICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgICAgIWluc3QuZ2V0RGVmYXVsdFByb3BzIHx8XG4gICAgICAgIGluc3QuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkLFxuICAgICAgICAnZ2V0RGVmYXVsdFByb3BzIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuICcgK1xuICAgICAgICAnVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiAnICtcbiAgICAgICAgJ1VzZSBhIHN0YXRpYyBwcm9wZXJ0eSB0byBkZWZpbmUgZGVmYXVsdFByb3BzIGluc3RlYWQuJyxcbiAgICAgICAgdGhpcy5nZXROYW1lKCkgfHwgJ2EgY29tcG9uZW50J1xuICAgICAgKSA6IG51bGwpO1xuICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgICFpbnN0LnByb3BUeXBlcyxcbiAgICAgICAgJ3Byb3BUeXBlcyB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljICcgK1xuICAgICAgICAncHJvcGVydHkgdG8gZGVmaW5lIHByb3BUeXBlcyBpbnN0ZWFkLicsXG4gICAgICAgIHRoaXMuZ2V0TmFtZSgpIHx8ICdhIGNvbXBvbmVudCdcbiAgICAgICkgOiBudWxsKTtcbiAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICAhaW5zdC5jb250ZXh0VHlwZXMsXG4gICAgICAgICdjb250ZXh0VHlwZXMgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhICcgK1xuICAgICAgICAnc3RhdGljIHByb3BlcnR5IHRvIGRlZmluZSBjb250ZXh0VHlwZXMgaW5zdGVhZC4nLFxuICAgICAgICB0aGlzLmdldE5hbWUoKSB8fCAnYSBjb21wb25lbnQnXG4gICAgICApIDogbnVsbCk7XG4gICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgICAgdHlwZW9mIGluc3QuY29tcG9uZW50U2hvdWxkVXBkYXRlICE9PSAnZnVuY3Rpb24nLFxuICAgICAgICAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICtcbiAgICAgICAgJ2NvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/ICcgK1xuICAgICAgICAnVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzICcgK1xuICAgICAgICAnZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuJyxcbiAgICAgICAgKHRoaXMuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcpXG4gICAgICApIDogbnVsbCk7XG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxTdGF0ZSA9IGluc3Quc3RhdGU7XG4gICAgaWYgKGluaXRpYWxTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpbnN0LnN0YXRlID0gaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgICB9XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGluaXRpYWxTdGF0ZSksXG4gICAgICAnJXMuc3RhdGU6IG11c3QgYmUgc2V0IHRvIGFuIG9iamVjdCBvciBudWxsJyxcbiAgICAgIHRoaXMuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCdcbiAgICApIDogaW52YXJpYW50KHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGluaXRpYWxTdGF0ZSkpKTtcblxuICAgIHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gbnVsbDtcbiAgICB0aGlzLl9wZW5kaW5nUmVwbGFjZVN0YXRlID0gZmFsc2U7XG4gICAgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlID0gZmFsc2U7XG5cbiAgICB2YXIgY2hpbGRDb250ZXh0O1xuICAgIHZhciByZW5kZXJlZEVsZW1lbnQ7XG5cbiAgICB2YXIgcHJldmlvdXNseU1vdW50aW5nID0gUmVhY3RMaWZlQ3ljbGUuY3VycmVudGx5TW91bnRpbmdJbnN0YW5jZTtcbiAgICBSZWFjdExpZmVDeWNsZS5jdXJyZW50bHlNb3VudGluZ0luc3RhbmNlID0gdGhpcztcbiAgICB0cnkge1xuICAgICAgaWYgKGluc3QuY29tcG9uZW50V2lsbE1vdW50KSB7XG4gICAgICAgIGluc3QuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICAgIC8vIFdoZW4gbW91bnRpbmcsIGNhbGxzIHRvIGBzZXRTdGF0ZWAgYnkgYGNvbXBvbmVudFdpbGxNb3VudGAgd2lsbCBzZXRcbiAgICAgICAgLy8gYHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlYCB3aXRob3V0IHRyaWdnZXJpbmcgYSByZS1yZW5kZXIuXG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZSkge1xuICAgICAgICAgIGluc3Quc3RhdGUgPSB0aGlzLl9wcm9jZXNzUGVuZGluZ1N0YXRlKGluc3QucHJvcHMsIGluc3QuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2hpbGRDb250ZXh0ID0gdGhpcy5fZ2V0VmFsaWRhdGVkQ2hpbGRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgcmVuZGVyZWRFbGVtZW50ID0gdGhpcy5fcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50KGNoaWxkQ29udGV4dCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIFJlYWN0TGlmZUN5Y2xlLmN1cnJlbnRseU1vdW50aW5nSW5zdGFuY2UgPSBwcmV2aW91c2x5TW91bnRpbmc7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVuZGVyZWRDb21wb25lbnQgPSB0aGlzLl9pbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KFxuICAgICAgcmVuZGVyZWRFbGVtZW50LFxuICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZSAvLyBUaGUgd3JhcHBpbmcgdHlwZVxuICAgICk7XG5cbiAgICB2YXIgbWFya3VwID0gUmVhY3RSZWNvbmNpbGVyLm1vdW50Q29tcG9uZW50KFxuICAgICAgdGhpcy5fcmVuZGVyZWRDb21wb25lbnQsXG4gICAgICByb290SUQsXG4gICAgICB0cmFuc2FjdGlvbixcbiAgICAgIHRoaXMuX21lcmdlQ2hpbGRDb250ZXh0KGNvbnRleHQsIGNoaWxkQ29udGV4dClcbiAgICApO1xuICAgIGlmIChpbnN0LmNvbXBvbmVudERpZE1vdW50KSB7XG4gICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKGluc3QuY29tcG9uZW50RGlkTW91bnQsIGluc3QpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXJrdXA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbGVhc2VzIGFueSByZXNvdXJjZXMgYWxsb2NhdGVkIGJ5IGBtb3VudENvbXBvbmVudGAuXG4gICAqXG4gICAqIEBmaW5hbFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG5cbiAgICBpZiAoaW5zdC5jb21wb25lbnRXaWxsVW5tb3VudCkge1xuICAgICAgdmFyIHByZXZpb3VzbHlVbm1vdW50aW5nID0gUmVhY3RMaWZlQ3ljbGUuY3VycmVudGx5VW5tb3VudGluZ0luc3RhbmNlO1xuICAgICAgUmVhY3RMaWZlQ3ljbGUuY3VycmVudGx5VW5tb3VudGluZ0luc3RhbmNlID0gdGhpcztcbiAgICAgIHRyeSB7XG4gICAgICAgIGluc3QuY29tcG9uZW50V2lsbFVubW91bnQoKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0TGlmZUN5Y2xlLmN1cnJlbnRseVVubW91bnRpbmdJbnN0YW5jZSA9IHByZXZpb3VzbHlVbm1vdW50aW5nO1xuICAgICAgfVxuICAgIH1cblxuICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50KTtcbiAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudCA9IG51bGw7XG5cbiAgICAvLyBSZXNldCBwZW5kaW5nIGZpZWxkc1xuICAgIHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gbnVsbDtcbiAgICB0aGlzLl9wZW5kaW5nUmVwbGFjZVN0YXRlID0gZmFsc2U7XG4gICAgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlID0gZmFsc2U7XG4gICAgdGhpcy5fcGVuZGluZ0NhbGxiYWNrcyA9IG51bGw7XG4gICAgdGhpcy5fcGVuZGluZ0VsZW1lbnQgPSBudWxsO1xuXG4gICAgLy8gVGhlc2UgZmllbGRzIGRvIG5vdCByZWFsbHkgbmVlZCB0byBiZSByZXNldCBzaW5jZSB0aGlzIG9iamVjdCBpcyBub1xuICAgIC8vIGxvbmdlciBhY2Nlc3NpYmxlLlxuICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xuXG4gICAgLy8gRGVsZXRlIHRoZSByZWZlcmVuY2UgZnJvbSB0aGUgaW5zdGFuY2UgdG8gdGhpcyBpbnRlcm5hbCByZXByZXNlbnRhdGlvblxuICAgIC8vIHdoaWNoIGFsbG93IHRoZSBpbnRlcm5hbHMgdG8gYmUgcHJvcGVybHkgY2xlYW5lZCB1cCBldmVuIGlmIHRoZSB1c2VyXG4gICAgLy8gbGVha3MgYSByZWZlcmVuY2UgdG8gdGhlIHB1YmxpYyBpbnN0YW5jZS5cbiAgICBSZWFjdEluc3RhbmNlTWFwLnJlbW92ZShpbnN0KTtcblxuICAgIC8vIFNvbWUgZXhpc3RpbmcgY29tcG9uZW50cyByZWx5IG9uIGluc3QucHJvcHMgZXZlbiBhZnRlciB0aGV5J3ZlIGJlZW5cbiAgICAvLyBkZXN0cm95ZWQgKGluIGV2ZW50IGhhbmRsZXJzKS5cbiAgICAvLyBUT0RPOiBpbnN0LnByb3BzID0gbnVsbDtcbiAgICAvLyBUT0RPOiBpbnN0LnN0YXRlID0gbnVsbDtcbiAgICAvLyBUT0RPOiBpbnN0LmNvbnRleHQgPSBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZSBhIHBhcnRpYWwgdXBkYXRlIHRvIHRoZSBwcm9wcy4gT25seSB1c2VkIGZvciBpbnRlcm5hbCB0ZXN0aW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFydGlhbFByb3BzIFN1YnNldCBvZiB0aGUgbmV4dCBwcm9wcy5cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCBhZnRlciBwcm9wcyBhcmUgdXBkYXRlZC5cbiAgICogQGZpbmFsXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX3NldFByb3BzSW50ZXJuYWw6IGZ1bmN0aW9uKHBhcnRpYWxQcm9wcywgY2FsbGJhY2spIHtcbiAgICAvLyBUaGlzIGlzIGEgZGVvcHRpbWl6ZWQgcGF0aC4gV2Ugb3B0aW1pemUgZm9yIGFsd2F5cyBoYXZpbmcgYW4gZWxlbWVudC5cbiAgICAvLyBUaGlzIGNyZWF0ZXMgYW4gZXh0cmEgaW50ZXJuYWwgZWxlbWVudC5cbiAgICB2YXIgZWxlbWVudCA9IHRoaXMuX3BlbmRpbmdFbGVtZW50IHx8IHRoaXMuX2N1cnJlbnRFbGVtZW50O1xuICAgIHRoaXMuX3BlbmRpbmdFbGVtZW50ID0gUmVhY3RFbGVtZW50LmNsb25lQW5kUmVwbGFjZVByb3BzKFxuICAgICAgZWxlbWVudCxcbiAgICAgIGFzc2lnbih7fSwgZWxlbWVudC5wcm9wcywgcGFydGlhbFByb3BzKVxuICAgICk7XG4gICAgUmVhY3RVcGRhdGVzLmVucXVldWVVcGRhdGUodGhpcywgY2FsbGJhY2spO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGaWx0ZXJzIHRoZSBjb250ZXh0IG9iamVjdCB0byBvbmx5IGNvbnRhaW4ga2V5cyBzcGVjaWZpZWQgaW5cbiAgICogYGNvbnRleHRUeXBlc2BcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHRcbiAgICogQHJldHVybiB7P29iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9tYXNrQ29udGV4dDogZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBtYXNrZWRDb250ZXh0ID0gbnVsbDtcbiAgICAvLyBUaGlzIHJlYWxseSBzaG91bGQgYmUgZ2V0dGluZyB0aGUgY29tcG9uZW50IGNsYXNzIGZvciB0aGUgZWxlbWVudCxcbiAgICAvLyBidXQgd2Uga25vdyB0aGF0IHdlJ3JlIG5vdCBnb2luZyB0byBuZWVkIGl0IGZvciBidWlsdC1pbnMuXG4gICAgaWYgKHR5cGVvZiB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICAgIH1cbiAgICB2YXIgY29udGV4dFR5cGVzID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZS5jb250ZXh0VHlwZXM7XG4gICAgaWYgKCFjb250ZXh0VHlwZXMpIHtcbiAgICAgIHJldHVybiBlbXB0eU9iamVjdDtcbiAgICB9XG4gICAgbWFza2VkQ29udGV4dCA9IHt9O1xuICAgIGZvciAodmFyIGNvbnRleHROYW1lIGluIGNvbnRleHRUeXBlcykge1xuICAgICAgbWFza2VkQ29udGV4dFtjb250ZXh0TmFtZV0gPSBjb250ZXh0W2NvbnRleHROYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIG1hc2tlZENvbnRleHQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbHRlcnMgdGhlIGNvbnRleHQgb2JqZWN0IHRvIG9ubHkgY29udGFpbiBrZXlzIHNwZWNpZmllZCBpblxuICAgKiBgY29udGV4dFR5cGVzYCwgYW5kIGFzc2VydHMgdGhhdCB0aGV5IGFyZSB2YWxpZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHRcbiAgICogQHJldHVybiB7P29iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcm9jZXNzQ29udGV4dDogZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBtYXNrZWRDb250ZXh0ID0gdGhpcy5fbWFza0NvbnRleHQoY29udGV4dCk7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgdmFyIENvbXBvbmVudCA9IFJlYWN0TmF0aXZlQ29tcG9uZW50LmdldENvbXBvbmVudENsYXNzRm9yRWxlbWVudChcbiAgICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnRcbiAgICAgICk7XG4gICAgICBpZiAoQ29tcG9uZW50LmNvbnRleHRUeXBlcykge1xuICAgICAgICB0aGlzLl9jaGVja1Byb3BUeXBlcyhcbiAgICAgICAgICBDb21wb25lbnQuY29udGV4dFR5cGVzLFxuICAgICAgICAgIG1hc2tlZENvbnRleHQsXG4gICAgICAgICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5jb250ZXh0XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXNrZWRDb250ZXh0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge29iamVjdH0gY3VycmVudENvbnRleHRcbiAgICogQHJldHVybiB7b2JqZWN0fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFZhbGlkYXRlZENoaWxkQ29udGV4dDogZnVuY3Rpb24oY3VycmVudENvbnRleHQpIHtcbiAgICB2YXIgaW5zdCA9IHRoaXMuX2luc3RhbmNlO1xuICAgIHZhciBjaGlsZENvbnRleHQgPSBpbnN0LmdldENoaWxkQ29udGV4dCAmJiBpbnN0LmdldENoaWxkQ29udGV4dCgpO1xuICAgIGlmIChjaGlsZENvbnRleHQpIHtcbiAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAgIHR5cGVvZiBpbnN0LmNvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzID09PSAnb2JqZWN0JyxcbiAgICAgICAgJyVzLmdldENoaWxkQ29udGV4dCgpOiBjaGlsZENvbnRleHRUeXBlcyBtdXN0IGJlIGRlZmluZWQgaW4gb3JkZXIgdG8gJyArXG4gICAgICAgICd1c2UgZ2V0Q2hpbGRDb250ZXh0KCkuJyxcbiAgICAgICAgdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50J1xuICAgICAgKSA6IGludmFyaWFudCh0eXBlb2YgaW5zdC5jb25zdHJ1Y3Rvci5jaGlsZENvbnRleHRUeXBlcyA9PT0gJ29iamVjdCcpKTtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tQcm9wVHlwZXMoXG4gICAgICAgICAgaW5zdC5jb25zdHJ1Y3Rvci5jaGlsZENvbnRleHRUeXBlcyxcbiAgICAgICAgICBjaGlsZENvbnRleHQsXG4gICAgICAgICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5jaGlsZENvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIG5hbWUgaW4gY2hpbGRDb250ZXh0KSB7XG4gICAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAgICAgbmFtZSBpbiBpbnN0LmNvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzLFxuICAgICAgICAgICclcy5nZXRDaGlsZENvbnRleHQoKToga2V5IFwiJXNcIiBpcyBub3QgZGVmaW5lZCBpbiBjaGlsZENvbnRleHRUeXBlcy4nLFxuICAgICAgICAgIHRoaXMuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcsXG4gICAgICAgICAgbmFtZVxuICAgICAgICApIDogaW52YXJpYW50KG5hbWUgaW4gaW5zdC5jb25zdHJ1Y3Rvci5jaGlsZENvbnRleHRUeXBlcykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoaWxkQ29udGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgX21lcmdlQ2hpbGRDb250ZXh0OiBmdW5jdGlvbihjdXJyZW50Q29udGV4dCwgY2hpbGRDb250ZXh0KSB7XG4gICAgaWYgKGNoaWxkQ29udGV4dCkge1xuICAgICAgcmV0dXJuIGFzc2lnbih7fSwgY3VycmVudENvbnRleHQsIGNoaWxkQ29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50Q29udGV4dDtcbiAgfSxcblxuICAvKipcbiAgICogUHJvY2Vzc2VzIHByb3BzIGJ5IHNldHRpbmcgZGVmYXVsdCB2YWx1ZXMgZm9yIHVuc3BlY2lmaWVkIHByb3BzIGFuZFxuICAgKiBhc3NlcnRpbmcgdGhhdCB0aGUgcHJvcHMgYXJlIHZhbGlkLiBEb2VzIG5vdCBtdXRhdGUgaXRzIGFyZ3VtZW50OyByZXR1cm5zXG4gICAqIGEgbmV3IHByb3BzIG9iamVjdCB3aXRoIGRlZmF1bHRzIG1lcmdlZCBpbi5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG5ld1Byb3BzXG4gICAqIEByZXR1cm4ge29iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcm9jZXNzUHJvcHM6IGZ1bmN0aW9uKG5ld1Byb3BzKSB7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgdmFyIENvbXBvbmVudCA9IFJlYWN0TmF0aXZlQ29tcG9uZW50LmdldENvbXBvbmVudENsYXNzRm9yRWxlbWVudChcbiAgICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnRcbiAgICAgICk7XG4gICAgICBpZiAoQ29tcG9uZW50LnByb3BUeXBlcykge1xuICAgICAgICB0aGlzLl9jaGVja1Byb3BUeXBlcyhcbiAgICAgICAgICBDb21wb25lbnQucHJvcFR5cGVzLFxuICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3UHJvcHM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFzc2VydCB0aGF0IHRoZSBwcm9wcyBhcmUgdmFsaWRcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHByb3BUeXBlcyBNYXAgb2YgcHJvcCBuYW1lIHRvIGEgUmVhY3RQcm9wVHlwZVxuICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NoZWNrUHJvcFR5cGVzOiBmdW5jdGlvbihwcm9wVHlwZXMsIHByb3BzLCBsb2NhdGlvbikge1xuICAgIC8vIFRPRE86IFN0b3AgdmFsaWRhdGluZyBwcm9wIHR5cGVzIGhlcmUgYW5kIG9ubHkgdXNlIHRoZSBlbGVtZW50XG4gICAgLy8gdmFsaWRhdGlvbi5cbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IHRoaXMuZ2V0TmFtZSgpO1xuICAgIGZvciAodmFyIHByb3BOYW1lIGluIHByb3BUeXBlcykge1xuICAgICAgaWYgKHByb3BUeXBlcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxuICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cbiAgICAgICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICAgICAgdHlwZW9mIHByb3BUeXBlc1twcm9wTmFtZV0gPT09ICdmdW5jdGlvbicsXG4gICAgICAgICAgICAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgJyArXG4gICAgICAgICAgICAnZnJvbSBSZWFjdC5Qcm9wVHlwZXMuJyxcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJyxcbiAgICAgICAgICAgIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXSxcbiAgICAgICAgICAgIHByb3BOYW1lXG4gICAgICAgICAgKSA6IGludmFyaWFudCh0eXBlb2YgcHJvcFR5cGVzW3Byb3BOYW1lXSA9PT0gJ2Z1bmN0aW9uJykpO1xuICAgICAgICAgIGVycm9yID0gcHJvcFR5cGVzW3Byb3BOYW1lXShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgLy8gV2UgbWF5IHdhbnQgdG8gZXh0ZW5kIHRoaXMgbG9naWMgZm9yIHNpbWlsYXIgZXJyb3JzIGluXG4gICAgICAgICAgLy8gUmVhY3QucmVuZGVyIGNhbGxzLCBzbyBJJ20gYWJzdHJhY3RpbmcgaXQgYXdheSBpbnRvXG4gICAgICAgICAgLy8gYSBmdW5jdGlvbiB0byBtaW5pbWl6ZSByZWZhY3RvcmluZyBpbiB0aGUgZnV0dXJlXG4gICAgICAgICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKHRoaXMpO1xuXG4gICAgICAgICAgaWYgKGxvY2F0aW9uID09PSBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApIHtcbiAgICAgICAgICAgIC8vIFByZWZhY2UgZ2l2ZXMgdXMgc29tZXRoaW5nIHRvIGJsYWNrbGlzdCBpbiB3YXJuaW5nIG1vZHVsZVxuICAgICAgICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAnRmFpbGVkIENvbXBvc2l0ZSBwcm9wVHlwZTogJXMlcycsXG4gICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgIGFkZGVuZHVtXG4gICAgICAgICAgICApIDogbnVsbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgJ0ZhaWxlZCBDb250ZXh0IFR5cGVzOiAlcyVzJyxcbiAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgYWRkZW5kdW1cbiAgICAgICAgICAgICkgOiBudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24obmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBuZXh0Q29udGV4dCkge1xuICAgIHZhciBwcmV2RWxlbWVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50O1xuICAgIHZhciBwcmV2Q29udGV4dCA9IHRoaXMuX2NvbnRleHQ7XG5cbiAgICB0aGlzLl9wZW5kaW5nRWxlbWVudCA9IG51bGw7XG5cbiAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudChcbiAgICAgIHRyYW5zYWN0aW9uLFxuICAgICAgcHJldkVsZW1lbnQsXG4gICAgICBuZXh0RWxlbWVudCxcbiAgICAgIHByZXZDb250ZXh0LFxuICAgICAgbmV4dENvbnRleHRcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJZiBhbnkgb2YgYF9wZW5kaW5nRWxlbWVudGAsIGBfcGVuZGluZ1N0YXRlUXVldWVgLCBvciBgX3BlbmRpbmdGb3JjZVVwZGF0ZWBcbiAgICogaXMgc2V0LCB1cGRhdGUgdGhlIGNvbXBvbmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeTogZnVuY3Rpb24odHJhbnNhY3Rpb24pIHtcbiAgICBpZiAodGhpcy5fcGVuZGluZ0VsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgUmVhY3RSZWNvbmNpbGVyLnJlY2VpdmVDb21wb25lbnQoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHRoaXMuX3BlbmRpbmdFbGVtZW50IHx8IHRoaXMuX2N1cnJlbnRFbGVtZW50LFxuICAgICAgICB0cmFuc2FjdGlvbixcbiAgICAgICAgdGhpcy5fY29udGV4dFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcGVuZGluZ1N0YXRlUXVldWUgIT09IG51bGwgfHwgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlKSB7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgIFJlYWN0RWxlbWVudFZhbGlkYXRvci5jaGVja0FuZFdhcm5Gb3JNdXRhdGVkUHJvcHMoXG4gICAgICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnRcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoXG4gICAgICAgIHRyYW5zYWN0aW9uLFxuICAgICAgICB0aGlzLl9jdXJyZW50RWxlbWVudCxcbiAgICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQsXG4gICAgICAgIHRoaXMuX2NvbnRleHQsXG4gICAgICAgIHRoaXMuX2NvbnRleHRcbiAgICAgICk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDb21wYXJlIHR3byBjb250ZXh0cywgd2FybmluZyBpZiB0aGV5IGFyZSBkaWZmZXJlbnRcbiAgICogVE9ETzogUmVtb3ZlIHRoaXMgY2hlY2sgd2hlbiBvd25lci1jb250ZXh0IGlzIHJlbW92ZWRcbiAgICovXG4gICBfd2FybklmQ29udGV4dHNEaWZmZXI6IGZ1bmN0aW9uKG93bmVyQmFzZWRDb250ZXh0LCBwYXJlbnRCYXNlZENvbnRleHQpIHtcbiAgICBvd25lckJhc2VkQ29udGV4dCA9IHRoaXMuX21hc2tDb250ZXh0KG93bmVyQmFzZWRDb250ZXh0KTtcbiAgICBwYXJlbnRCYXNlZENvbnRleHQgPSB0aGlzLl9tYXNrQ29udGV4dChwYXJlbnRCYXNlZENvbnRleHQpO1xuICAgIHZhciBwYXJlbnRLZXlzID0gT2JqZWN0LmtleXMocGFyZW50QmFzZWRDb250ZXh0KS5zb3J0KCk7XG4gICAgdmFyIGRpc3BsYXlOYW1lID0gdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmVudEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBwYXJlbnRLZXlzW2ldO1xuICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgIG93bmVyQmFzZWRDb250ZXh0W2tleV0gPT09IHBhcmVudEJhc2VkQ29udGV4dFtrZXldLFxuICAgICAgICAnb3duZXItYmFzZWQgYW5kIHBhcmVudC1iYXNlZCBjb250ZXh0cyBkaWZmZXIgJyAgK1xuICAgICAgICAnKHZhbHVlczogYCVzYCB2cyBgJXNgKSBmb3Iga2V5ICglcykgd2hpbGUgbW91bnRpbmcgJXMgJyArXG4gICAgICAgICcoc2VlOiBodHRwOi8vZmIubWUvcmVhY3QtY29udGV4dC1ieS1wYXJlbnQpJyxcbiAgICAgICAgb3duZXJCYXNlZENvbnRleHRba2V5XSxcbiAgICAgICAgcGFyZW50QmFzZWRDb250ZXh0W2tleV0sXG4gICAgICAgIGtleSxcbiAgICAgICAgZGlzcGxheU5hbWVcbiAgICAgICkgOiBudWxsKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gYW4gdXBkYXRlIHRvIGEgbW91bnRlZCBjb21wb25lbnQuIFRoZSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGFuZFxuICAgKiBzaG91bGRDb21wb25lbnRVcGRhdGUgbWV0aG9kcyBhcmUgY2FsbGVkLCB0aGVuIChhc3N1bWluZyB0aGUgdXBkYXRlIGlzbid0XG4gICAqIHNraXBwZWQpIHRoZSByZW1haW5pbmcgdXBkYXRlIGxpZmVjeWNsZSBtZXRob2RzIGFyZSBjYWxsZWQgYW5kIHRoZSBET01cbiAgICogcmVwcmVzZW50YXRpb24gaXMgdXBkYXRlZC5cbiAgICpcbiAgICogQnkgZGVmYXVsdCwgdGhpcyBpbXBsZW1lbnRzIFJlYWN0J3MgcmVuZGVyaW5nIGFuZCByZWNvbmNpbGlhdGlvbiBhbGdvcml0aG0uXG4gICAqIFNvcGhpc3RpY2F0ZWQgY2xpZW50cyBtYXkgd2lzaCB0byBvdmVycmlkZSB0aGlzLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBwcmV2UGFyZW50RWxlbWVudFxuICAgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gbmV4dFBhcmVudEVsZW1lbnRcbiAgICogQGludGVybmFsXG4gICAqIEBvdmVycmlkYWJsZVxuICAgKi9cbiAgdXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbihcbiAgICB0cmFuc2FjdGlvbixcbiAgICBwcmV2UGFyZW50RWxlbWVudCxcbiAgICBuZXh0UGFyZW50RWxlbWVudCxcbiAgICBwcmV2VW5tYXNrZWRDb250ZXh0LFxuICAgIG5leHRVbm1hc2tlZENvbnRleHRcbiAgKSB7XG4gICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcblxuICAgIHZhciBuZXh0Q29udGV4dCA9IGluc3QuY29udGV4dDtcbiAgICB2YXIgbmV4dFByb3BzID0gaW5zdC5wcm9wcztcblxuICAgIC8vIERpc3Rpbmd1aXNoIGJldHdlZW4gYSBwcm9wcyB1cGRhdGUgdmVyc3VzIGEgc2ltcGxlIHN0YXRlIHVwZGF0ZVxuICAgIGlmIChwcmV2UGFyZW50RWxlbWVudCAhPT0gbmV4dFBhcmVudEVsZW1lbnQpIHtcbiAgICAgIG5leHRDb250ZXh0ID0gdGhpcy5fcHJvY2Vzc0NvbnRleHQobmV4dFBhcmVudEVsZW1lbnQuX2NvbnRleHQpO1xuICAgICAgbmV4dFByb3BzID0gdGhpcy5fcHJvY2Vzc1Byb3BzKG5leHRQYXJlbnRFbGVtZW50LnByb3BzKTtcblxuICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICBpZiAobmV4dFVubWFza2VkQ29udGV4dCAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fd2FybklmQ29udGV4dHNEaWZmZXIoXG4gICAgICAgICAgICBuZXh0UGFyZW50RWxlbWVudC5fY29udGV4dCxcbiAgICAgICAgICAgIG5leHRVbm1hc2tlZENvbnRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFuIHVwZGF0ZSBoZXJlIHdpbGwgc2NoZWR1bGUgYW4gdXBkYXRlIGJ1dCBpbW1lZGlhdGVseSBzZXRcbiAgICAgIC8vIF9wZW5kaW5nU3RhdGVRdWV1ZSB3aGljaCB3aWxsIGVuc3VyZSB0aGF0IGFueSBzdGF0ZSB1cGRhdGVzIGdldHNcbiAgICAgIC8vIGltbWVkaWF0ZWx5IHJlY29uY2lsZWQgaW5zdGVhZCBvZiB3YWl0aW5nIGZvciB0aGUgbmV4dCBiYXRjaC5cblxuICAgICAgaWYgKGluc3QuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykge1xuICAgICAgICBpbnN0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzLCBuZXh0Q29udGV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5leHRTdGF0ZSA9IHRoaXMuX3Byb2Nlc3NQZW5kaW5nU3RhdGUobmV4dFByb3BzLCBuZXh0Q29udGV4dCk7XG5cbiAgICB2YXIgc2hvdWxkVXBkYXRlID1cbiAgICAgIHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSB8fFxuICAgICAgIWluc3Quc2hvdWxkQ29tcG9uZW50VXBkYXRlIHx8XG4gICAgICBpbnN0LnNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQpO1xuXG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgIHR5cGVvZiBzaG91bGRVcGRhdGUgIT09ICd1bmRlZmluZWQnLFxuICAgICAgICAnJXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk6IFJldHVybmVkIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIGEgJyArXG4gICAgICAgICdib29sZWFuIHZhbHVlLiBNYWtlIHN1cmUgdG8gcmV0dXJuIHRydWUgb3IgZmFsc2UuJyxcbiAgICAgICAgdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50J1xuICAgICAgKSA6IG51bGwpO1xuICAgIH1cblxuICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IGZhbHNlO1xuICAgICAgLy8gV2lsbCBzZXQgYHRoaXMucHJvcHNgLCBgdGhpcy5zdGF0ZWAgYW5kIGB0aGlzLmNvbnRleHRgLlxuICAgICAgdGhpcy5fcGVyZm9ybUNvbXBvbmVudFVwZGF0ZShcbiAgICAgICAgbmV4dFBhcmVudEVsZW1lbnQsXG4gICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgbmV4dFN0YXRlLFxuICAgICAgICBuZXh0Q29udGV4dCxcbiAgICAgICAgdHJhbnNhY3Rpb24sXG4gICAgICAgIG5leHRVbm1hc2tlZENvbnRleHRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIGl0J3MgZGV0ZXJtaW5lZCB0aGF0IGEgY29tcG9uZW50IHNob3VsZCBub3QgdXBkYXRlLCB3ZSBzdGlsbCB3YW50XG4gICAgICAvLyB0byBzZXQgcHJvcHMgYW5kIHN0YXRlIGJ1dCB3ZSBzaG9ydGN1dCB0aGUgcmVzdCBvZiB0aGUgdXBkYXRlLlxuICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBuZXh0UGFyZW50RWxlbWVudDtcbiAgICAgIHRoaXMuX2NvbnRleHQgPSBuZXh0VW5tYXNrZWRDb250ZXh0O1xuICAgICAgaW5zdC5wcm9wcyA9IG5leHRQcm9wcztcbiAgICAgIGluc3Quc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICBpbnN0LmNvbnRleHQgPSBuZXh0Q29udGV4dDtcbiAgICB9XG4gIH0sXG5cbiAgX3Byb2Nlc3NQZW5kaW5nU3RhdGU6IGZ1bmN0aW9uKHByb3BzLCBjb250ZXh0KSB7XG4gICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICB2YXIgcXVldWUgPSB0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZTtcbiAgICB2YXIgcmVwbGFjZSA9IHRoaXMuX3BlbmRpbmdSZXBsYWNlU3RhdGU7XG4gICAgdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IGZhbHNlO1xuICAgIHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gbnVsbDtcblxuICAgIGlmICghcXVldWUpIHtcbiAgICAgIHJldHVybiBpbnN0LnN0YXRlO1xuICAgIH1cblxuICAgIGlmIChyZXBsYWNlICYmIHF1ZXVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHF1ZXVlWzBdO1xuICAgIH1cblxuICAgIHZhciBuZXh0U3RhdGUgPSBhc3NpZ24oe30sIHJlcGxhY2UgPyBxdWV1ZVswXSA6IGluc3Quc3RhdGUpO1xuICAgIGZvciAodmFyIGkgPSByZXBsYWNlID8gMSA6IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHBhcnRpYWwgPSBxdWV1ZVtpXTtcbiAgICAgIGFzc2lnbihcbiAgICAgICAgbmV4dFN0YXRlLFxuICAgICAgICB0eXBlb2YgcGFydGlhbCA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgcGFydGlhbC5jYWxsKGluc3QsIG5leHRTdGF0ZSwgcHJvcHMsIGNvbnRleHQpIDpcbiAgICAgICAgICBwYXJ0aWFsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBuZXh0U3RhdGU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1lcmdlcyBuZXcgcHJvcHMgYW5kIHN0YXRlLCBub3RpZmllcyBkZWxlZ2F0ZSBtZXRob2RzIG9mIHVwZGF0ZSBhbmRcbiAgICogcGVyZm9ybXMgdXBkYXRlLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gbmV4dEVsZW1lbnQgTmV4dCBlbGVtZW50XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0UHJvcHMgTmV4dCBwdWJsaWMgb2JqZWN0IHRvIHNldCBhcyBwcm9wZXJ0aWVzLlxuICAgKiBAcGFyYW0gez9vYmplY3R9IG5leHRTdGF0ZSBOZXh0IG9iamVjdCB0byBzZXQgYXMgc3RhdGUuXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dENvbnRleHQgTmV4dCBwdWJsaWMgb2JqZWN0IHRvIHNldCBhcyBjb250ZXh0LlxuICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7P29iamVjdH0gdW5tYXNrZWRDb250ZXh0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcGVyZm9ybUNvbXBvbmVudFVwZGF0ZTogZnVuY3Rpb24oXG4gICAgbmV4dEVsZW1lbnQsXG4gICAgbmV4dFByb3BzLFxuICAgIG5leHRTdGF0ZSxcbiAgICBuZXh0Q29udGV4dCxcbiAgICB0cmFuc2FjdGlvbixcbiAgICB1bm1hc2tlZENvbnRleHRcbiAgKSB7XG4gICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcblxuICAgIHZhciBwcmV2UHJvcHMgPSBpbnN0LnByb3BzO1xuICAgIHZhciBwcmV2U3RhdGUgPSBpbnN0LnN0YXRlO1xuICAgIHZhciBwcmV2Q29udGV4dCA9IGluc3QuY29udGV4dDtcblxuICAgIGlmIChpbnN0LmNvbXBvbmVudFdpbGxVcGRhdGUpIHtcbiAgICAgIGluc3QuY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQpO1xuICAgIH1cblxuICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gbmV4dEVsZW1lbnQ7XG4gICAgdGhpcy5fY29udGV4dCA9IHVubWFza2VkQ29udGV4dDtcbiAgICBpbnN0LnByb3BzID0gbmV4dFByb3BzO1xuICAgIGluc3Quc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgaW5zdC5jb250ZXh0ID0gbmV4dENvbnRleHQ7XG5cbiAgICB0aGlzLl91cGRhdGVSZW5kZXJlZENvbXBvbmVudCh0cmFuc2FjdGlvbiwgdW5tYXNrZWRDb250ZXh0KTtcblxuICAgIGlmIChpbnN0LmNvbXBvbmVudERpZFVwZGF0ZSkge1xuICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShcbiAgICAgICAgaW5zdC5jb21wb25lbnREaWRVcGRhdGUuYmluZChpbnN0LCBwcmV2UHJvcHMsIHByZXZTdGF0ZSwgcHJldkNvbnRleHQpLFxuICAgICAgICBpbnN0XG4gICAgICApO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2FsbCB0aGUgY29tcG9uZW50J3MgYHJlbmRlcmAgbWV0aG9kIGFuZCB1cGRhdGUgdGhlIERPTSBhY2NvcmRpbmdseS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF91cGRhdGVSZW5kZXJlZENvbXBvbmVudDogZnVuY3Rpb24odHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICB2YXIgcHJldkNvbXBvbmVudEluc3RhbmNlID0gdGhpcy5fcmVuZGVyZWRDb21wb25lbnQ7XG4gICAgdmFyIHByZXZSZW5kZXJlZEVsZW1lbnQgPSBwcmV2Q29tcG9uZW50SW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50O1xuICAgIHZhciBjaGlsZENvbnRleHQgPSB0aGlzLl9nZXRWYWxpZGF0ZWRDaGlsZENvbnRleHQoKTtcbiAgICB2YXIgbmV4dFJlbmRlcmVkRWxlbWVudCA9IHRoaXMuX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudChjaGlsZENvbnRleHQpO1xuICAgIGlmIChzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudChwcmV2UmVuZGVyZWRFbGVtZW50LCBuZXh0UmVuZGVyZWRFbGVtZW50KSkge1xuICAgICAgUmVhY3RSZWNvbmNpbGVyLnJlY2VpdmVDb21wb25lbnQoXG4gICAgICAgIHByZXZDb21wb25lbnRJbnN0YW5jZSxcbiAgICAgICAgbmV4dFJlbmRlcmVkRWxlbWVudCxcbiAgICAgICAgdHJhbnNhY3Rpb24sXG4gICAgICAgIHRoaXMuX21lcmdlQ2hpbGRDb250ZXh0KGNvbnRleHQsIGNoaWxkQ29udGV4dClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZXNlIHR3byBJRHMgYXJlIGFjdHVhbGx5IHRoZSBzYW1lISBCdXQgbm90aGluZyBzaG91bGQgcmVseSBvbiB0aGF0LlxuICAgICAgdmFyIHRoaXNJRCA9IHRoaXMuX3Jvb3ROb2RlSUQ7XG4gICAgICB2YXIgcHJldkNvbXBvbmVudElEID0gcHJldkNvbXBvbmVudEluc3RhbmNlLl9yb290Tm9kZUlEO1xuICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQocHJldkNvbXBvbmVudEluc3RhbmNlKTtcblxuICAgICAgdGhpcy5fcmVuZGVyZWRDb21wb25lbnQgPSB0aGlzLl9pbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KFxuICAgICAgICBuZXh0UmVuZGVyZWRFbGVtZW50LFxuICAgICAgICB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlXG4gICAgICApO1xuICAgICAgdmFyIG5leHRNYXJrdXAgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQoXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50LFxuICAgICAgICB0aGlzSUQsXG4gICAgICAgIHRyYW5zYWN0aW9uLFxuICAgICAgICB0aGlzLl9tZXJnZUNoaWxkQ29udGV4dChjb250ZXh0LCBjaGlsZENvbnRleHQpXG4gICAgICApO1xuICAgICAgdGhpcy5fcmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRChwcmV2Q29tcG9uZW50SUQsIG5leHRNYXJrdXApO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3JlcGxhY2VOb2RlV2l0aE1hcmt1cEJ5SUQ6IGZ1bmN0aW9uKHByZXZDb21wb25lbnRJRCwgbmV4dE1hcmt1cCkge1xuICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQucmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRChcbiAgICAgIHByZXZDb21wb25lbnRJRCxcbiAgICAgIG5leHRNYXJrdXBcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50V2l0aG91dE93bmVyT3JDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zdCA9IHRoaXMuX2luc3RhbmNlO1xuICAgIHZhciByZW5kZXJlZENvbXBvbmVudCA9IGluc3QucmVuZGVyKCk7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgLy8gV2UgYWxsb3cgYXV0by1tb2NrcyB0byBwcm9jZWVkIGFzIGlmIHRoZXkncmUgcmV0dXJuaW5nIG51bGwuXG4gICAgICBpZiAodHlwZW9mIHJlbmRlcmVkQ29tcG9uZW50ID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgIGluc3QucmVuZGVyLl9pc01vY2tGdW5jdGlvbikge1xuICAgICAgICAvLyBUaGlzIGlzIHByb2JhYmx5IGJhZCBwcmFjdGljZS4gQ29uc2lkZXIgd2FybmluZyBoZXJlIGFuZFxuICAgICAgICAvLyBkZXByZWNhdGluZyB0aGlzIGNvbnZlbmllbmNlLlxuICAgICAgICByZW5kZXJlZENvbXBvbmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlcmVkQ29tcG9uZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudDogZnVuY3Rpb24oY2hpbGRDb250ZXh0KSB7XG4gICAgdmFyIHJlbmRlcmVkQ29tcG9uZW50O1xuICAgIHZhciBwcmV2aW91c0NvbnRleHQgPSBSZWFjdENvbnRleHQuY3VycmVudDtcbiAgICBSZWFjdENvbnRleHQuY3VycmVudCA9IHRoaXMuX21lcmdlQ2hpbGRDb250ZXh0KFxuICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQuX2NvbnRleHQsXG4gICAgICBjaGlsZENvbnRleHRcbiAgICApO1xuICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB0aGlzO1xuICAgIHRyeSB7XG4gICAgICByZW5kZXJlZENvbXBvbmVudCA9XG4gICAgICAgIHRoaXMuX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudFdpdGhvdXRPd25lck9yQ29udGV4dCgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBSZWFjdENvbnRleHQuY3VycmVudCA9IHByZXZpb3VzQ29udGV4dDtcbiAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgLy8gVE9ETzogQW4gYGlzVmFsaWROb2RlYCBmdW5jdGlvbiB3b3VsZCBwcm9iYWJseSBiZSBtb3JlIGFwcHJvcHJpYXRlXG4gICAgICByZW5kZXJlZENvbXBvbmVudCA9PT0gbnVsbCB8fCByZW5kZXJlZENvbXBvbmVudCA9PT0gZmFsc2UgfHxcbiAgICAgIFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChyZW5kZXJlZENvbXBvbmVudCksXG4gICAgICAnJXMucmVuZGVyKCk6IEEgdmFsaWQgUmVhY3RDb21wb25lbnQgbXVzdCBiZSByZXR1cm5lZC4gWW91IG1heSBoYXZlICcgK1xuICAgICAgICAncmV0dXJuZWQgdW5kZWZpbmVkLCBhbiBhcnJheSBvciBzb21lIG90aGVyIGludmFsaWQgb2JqZWN0LicsXG4gICAgICB0aGlzLmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnXG4gICAgKSA6IGludmFyaWFudCgvLyBUT0RPOiBBbiBgaXNWYWxpZE5vZGVgIGZ1bmN0aW9uIHdvdWxkIHByb2JhYmx5IGJlIG1vcmUgYXBwcm9wcmlhdGVcbiAgICByZW5kZXJlZENvbXBvbmVudCA9PT0gbnVsbCB8fCByZW5kZXJlZENvbXBvbmVudCA9PT0gZmFsc2UgfHxcbiAgICBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQocmVuZGVyZWRDb21wb25lbnQpKSk7XG4gICAgcmV0dXJuIHJlbmRlcmVkQ29tcG9uZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBMYXppbHkgYWxsb2NhdGVzIHRoZSByZWZzIG9iamVjdCBhbmQgc3RvcmVzIGBjb21wb25lbnRgIGFzIGByZWZgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmIFJlZmVyZW5jZSBuYW1lLlxuICAgKiBAcGFyYW0ge2NvbXBvbmVudH0gY29tcG9uZW50IENvbXBvbmVudCB0byBzdG9yZSBhcyBgcmVmYC5cbiAgICogQGZpbmFsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhdHRhY2hSZWY6IGZ1bmN0aW9uKHJlZiwgY29tcG9uZW50KSB7XG4gICAgdmFyIGluc3QgPSB0aGlzLmdldFB1YmxpY0luc3RhbmNlKCk7XG4gICAgdmFyIHJlZnMgPSBpbnN0LnJlZnMgPT09IGVtcHR5T2JqZWN0ID8gKGluc3QucmVmcyA9IHt9KSA6IGluc3QucmVmcztcbiAgICByZWZzW3JlZl0gPSBjb21wb25lbnQuZ2V0UHVibGljSW5zdGFuY2UoKTtcbiAgfSxcblxuICAvKipcbiAgICogRGV0YWNoZXMgYSByZWZlcmVuY2UgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlZiBOYW1lIHRvIGRlcmVmZXJlbmNlLlxuICAgKiBAZmluYWxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRldGFjaFJlZjogZnVuY3Rpb24ocmVmKSB7XG4gICAgdmFyIHJlZnMgPSB0aGlzLmdldFB1YmxpY0luc3RhbmNlKCkucmVmcztcbiAgICBkZWxldGUgcmVmc1tyZWZdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgYSB0ZXh0IGRlc2NyaXB0aW9uIG9mIHRoZSBjb21wb25lbnQgdGhhdCBjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBpdFxuICAgKiBpbiBlcnJvciBtZXNzYWdlcy5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgbmFtZSBvciBudWxsLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldE5hbWU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0eXBlID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICB2YXIgY29uc3RydWN0b3IgPSB0aGlzLl9pbnN0YW5jZSAmJiB0aGlzLl9pbnN0YW5jZS5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gKFxuICAgICAgdHlwZS5kaXNwbGF5TmFtZSB8fCAoY29uc3RydWN0b3IgJiYgY29uc3RydWN0b3IuZGlzcGxheU5hbWUpIHx8XG4gICAgICB0eXBlLm5hbWUgfHwgKGNvbnN0cnVjdG9yICYmIGNvbnN0cnVjdG9yLm5hbWUpIHx8XG4gICAgICBudWxsXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBwdWJsaWNseSBhY2Nlc3NpYmxlIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgY29tcG9uZW50IC0gaS5lLiB3aGF0XG4gICAqIGlzIGV4cG9zZWQgYnkgcmVmcyBhbmQgcmV0dXJuZWQgYnkgUmVhY3QucmVuZGVyLiBDYW4gYmUgbnVsbCBmb3Igc3RhdGVsZXNzXG4gICAqIGNvbXBvbmVudHMuXG4gICAqXG4gICAqIEByZXR1cm4ge1JlYWN0Q29tcG9uZW50fSB0aGUgcHVibGljIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBnZXRQdWJsaWNJbnN0YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICB9LFxuXG4gIC8vIFN0dWJcbiAgX2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQ6IG51bGxcblxufTtcblxuUmVhY3RQZXJmLm1lYXN1cmVNZXRob2RzKFxuICBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudE1peGluLFxuICAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnLFxuICB7XG4gICAgbW91bnRDb21wb25lbnQ6ICdtb3VudENvbXBvbmVudCcsXG4gICAgdXBkYXRlQ29tcG9uZW50OiAndXBkYXRlQ29tcG9uZW50JyxcbiAgICBfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50OiAnX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudCdcbiAgfVxuKTtcblxudmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50ID0ge1xuXG4gIE1peGluOiBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudE1peGluXG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RDb21wb3NpdGVDb21wb25lbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RDb250ZXh0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4vT2JqZWN0LmFzc2lnblwiKTtcbnZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoXCIuL2VtcHR5T2JqZWN0XCIpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKFwiLi93YXJuaW5nXCIpO1xuXG52YXIgZGlkV2FybiA9IGZhbHNlO1xuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIHRoZSBjdXJyZW50IGNvbnRleHQuXG4gKlxuICogVGhlIGNvbnRleHQgaXMgYXV0b21hdGljYWxseSBwYXNzZWQgZG93biB0aGUgY29tcG9uZW50IG93bmVyc2hpcCBoaWVyYXJjaHlcbiAqIGFuZCBpcyBhY2Nlc3NpYmxlIHZpYSBgdGhpcy5jb250ZXh0YCBvbiBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudHMuXG4gKi9cbnZhciBSZWFjdENvbnRleHQgPSB7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKi9cbiAgY3VycmVudDogZW1wdHlPYmplY3QsXG5cbiAgLyoqXG4gICAqIFRlbXBvcmFyaWx5IGV4dGVuZHMgdGhlIGN1cnJlbnQgY29udGV4dCB3aGlsZSBleGVjdXRpbmcgc2NvcGVkQ2FsbGJhY2suXG4gICAqXG4gICAqIEEgdHlwaWNhbCB1c2UgY2FzZSBtaWdodCBsb29rIGxpa2VcbiAgICpcbiAgICogIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAqICAgIHZhciBjaGlsZHJlbiA9IFJlYWN0Q29udGV4dC53aXRoQ29udGV4dCh7Zm9vOiAnZm9vJ30sICgpID0+IChcbiAgICpcbiAgICogICAgKSk7XG4gICAqICAgIHJldHVybiA8ZGl2PntjaGlsZHJlbn08L2Rpdj47XG4gICAqICB9XG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuZXdDb250ZXh0IE5ldyBjb250ZXh0IHRvIG1lcmdlIGludG8gdGhlIGV4aXN0aW5nIGNvbnRleHRcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gc2NvcGVkQ2FsbGJhY2sgQ2FsbGJhY2sgdG8gcnVuIHdpdGggdGhlIG5ldyBjb250ZXh0XG4gICAqIEByZXR1cm4ge1JlYWN0Q29tcG9uZW50fGFycmF5PFJlYWN0Q29tcG9uZW50Pn1cbiAgICovXG4gIHdpdGhDb250ZXh0OiBmdW5jdGlvbihuZXdDb250ZXh0LCBzY29wZWRDYWxsYmFjaykge1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICBkaWRXYXJuLFxuICAgICAgICAnd2l0aENvbnRleHQgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24uICcgK1xuICAgICAgICAnVXNlIGEgd3JhcHBlciBjb21wb25lbnQgd2l0aCBnZXRDaGlsZENvbnRleHQgaW5zdGVhZC4nXG4gICAgICApIDogbnVsbCk7XG5cbiAgICAgIGRpZFdhcm4gPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQ7XG4gICAgdmFyIHByZXZpb3VzQ29udGV4dCA9IFJlYWN0Q29udGV4dC5jdXJyZW50O1xuICAgIFJlYWN0Q29udGV4dC5jdXJyZW50ID0gYXNzaWduKHt9LCBwcmV2aW91c0NvbnRleHQsIG5ld0NvbnRleHQpO1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBzY29wZWRDYWxsYmFjaygpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBSZWFjdENvbnRleHQuY3VycmVudCA9IHByZXZpb3VzQ29udGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29udGV4dDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdEN1cnJlbnRPd25lclxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgY3VycmVudCBvd25lci5cbiAqXG4gKiBUaGUgY3VycmVudCBvd25lciBpcyB0aGUgY29tcG9uZW50IHdobyBzaG91bGQgb3duIGFueSBjb21wb25lbnRzIHRoYXQgYXJlXG4gKiBjdXJyZW50bHkgYmVpbmcgY29uc3RydWN0ZWQuXG4gKlxuICogVGhlIGRlcHRoIGluZGljYXRlIGhvdyBtYW55IGNvbXBvc2l0ZSBjb21wb25lbnRzIGFyZSBhYm92ZSB0aGlzIHJlbmRlciBsZXZlbC5cbiAqL1xudmFyIFJlYWN0Q3VycmVudE93bmVyID0ge1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHR5cGUge1JlYWN0Q29tcG9uZW50fVxuICAgKi9cbiAgY3VycmVudDogbnVsbFxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q3VycmVudE93bmVyO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RE9NXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RWxlbWVudFwiKTtcbnZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRWYWxpZGF0b3JcIik7XG5cbnZhciBtYXBPYmplY3QgPSByZXF1aXJlKFwiLi9tYXBPYmplY3RcIik7XG5cbi8qKlxuICogQ3JlYXRlIGEgZmFjdG9yeSB0aGF0IGNyZWF0ZXMgSFRNTCB0YWcgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUYWcgbmFtZSAoZS5nLiBgZGl2YCkuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVET01GYWN0b3J5KHRhZykge1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgcmV0dXJuIFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVGYWN0b3J5KHRhZyk7XG4gIH1cbiAgcmV0dXJuIFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5KHRhZyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcHBpbmcgZnJvbSBzdXBwb3J0ZWQgSFRNTCB0YWdzIHRvIGBSZWFjdERPTUNvbXBvbmVudGAgY2xhc3Nlcy5cbiAqIFRoaXMgaXMgYWxzbyBhY2Nlc3NpYmxlIHZpYSBgUmVhY3QuRE9NYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbnZhciBSZWFjdERPTSA9IG1hcE9iamVjdCh7XG4gIGE6ICdhJyxcbiAgYWJicjogJ2FiYnInLFxuICBhZGRyZXNzOiAnYWRkcmVzcycsXG4gIGFyZWE6ICdhcmVhJyxcbiAgYXJ0aWNsZTogJ2FydGljbGUnLFxuICBhc2lkZTogJ2FzaWRlJyxcbiAgYXVkaW86ICdhdWRpbycsXG4gIGI6ICdiJyxcbiAgYmFzZTogJ2Jhc2UnLFxuICBiZGk6ICdiZGknLFxuICBiZG86ICdiZG8nLFxuICBiaWc6ICdiaWcnLFxuICBibG9ja3F1b3RlOiAnYmxvY2txdW90ZScsXG4gIGJvZHk6ICdib2R5JyxcbiAgYnI6ICdicicsXG4gIGJ1dHRvbjogJ2J1dHRvbicsXG4gIGNhbnZhczogJ2NhbnZhcycsXG4gIGNhcHRpb246ICdjYXB0aW9uJyxcbiAgY2l0ZTogJ2NpdGUnLFxuICBjb2RlOiAnY29kZScsXG4gIGNvbDogJ2NvbCcsXG4gIGNvbGdyb3VwOiAnY29sZ3JvdXAnLFxuICBkYXRhOiAnZGF0YScsXG4gIGRhdGFsaXN0OiAnZGF0YWxpc3QnLFxuICBkZDogJ2RkJyxcbiAgZGVsOiAnZGVsJyxcbiAgZGV0YWlsczogJ2RldGFpbHMnLFxuICBkZm46ICdkZm4nLFxuICBkaWFsb2c6ICdkaWFsb2cnLFxuICBkaXY6ICdkaXYnLFxuICBkbDogJ2RsJyxcbiAgZHQ6ICdkdCcsXG4gIGVtOiAnZW0nLFxuICBlbWJlZDogJ2VtYmVkJyxcbiAgZmllbGRzZXQ6ICdmaWVsZHNldCcsXG4gIGZpZ2NhcHRpb246ICdmaWdjYXB0aW9uJyxcbiAgZmlndXJlOiAnZmlndXJlJyxcbiAgZm9vdGVyOiAnZm9vdGVyJyxcbiAgZm9ybTogJ2Zvcm0nLFxuICBoMTogJ2gxJyxcbiAgaDI6ICdoMicsXG4gIGgzOiAnaDMnLFxuICBoNDogJ2g0JyxcbiAgaDU6ICdoNScsXG4gIGg2OiAnaDYnLFxuICBoZWFkOiAnaGVhZCcsXG4gIGhlYWRlcjogJ2hlYWRlcicsXG4gIGhyOiAnaHInLFxuICBodG1sOiAnaHRtbCcsXG4gIGk6ICdpJyxcbiAgaWZyYW1lOiAnaWZyYW1lJyxcbiAgaW1nOiAnaW1nJyxcbiAgaW5wdXQ6ICdpbnB1dCcsXG4gIGluczogJ2lucycsXG4gIGtiZDogJ2tiZCcsXG4gIGtleWdlbjogJ2tleWdlbicsXG4gIGxhYmVsOiAnbGFiZWwnLFxuICBsZWdlbmQ6ICdsZWdlbmQnLFxuICBsaTogJ2xpJyxcbiAgbGluazogJ2xpbmsnLFxuICBtYWluOiAnbWFpbicsXG4gIG1hcDogJ21hcCcsXG4gIG1hcms6ICdtYXJrJyxcbiAgbWVudTogJ21lbnUnLFxuICBtZW51aXRlbTogJ21lbnVpdGVtJyxcbiAgbWV0YTogJ21ldGEnLFxuICBtZXRlcjogJ21ldGVyJyxcbiAgbmF2OiAnbmF2JyxcbiAgbm9zY3JpcHQ6ICdub3NjcmlwdCcsXG4gIG9iamVjdDogJ29iamVjdCcsXG4gIG9sOiAnb2wnLFxuICBvcHRncm91cDogJ29wdGdyb3VwJyxcbiAgb3B0aW9uOiAnb3B0aW9uJyxcbiAgb3V0cHV0OiAnb3V0cHV0JyxcbiAgcDogJ3AnLFxuICBwYXJhbTogJ3BhcmFtJyxcbiAgcGljdHVyZTogJ3BpY3R1cmUnLFxuICBwcmU6ICdwcmUnLFxuICBwcm9ncmVzczogJ3Byb2dyZXNzJyxcbiAgcTogJ3EnLFxuICBycDogJ3JwJyxcbiAgcnQ6ICdydCcsXG4gIHJ1Ynk6ICdydWJ5JyxcbiAgczogJ3MnLFxuICBzYW1wOiAnc2FtcCcsXG4gIHNjcmlwdDogJ3NjcmlwdCcsXG4gIHNlY3Rpb246ICdzZWN0aW9uJyxcbiAgc2VsZWN0OiAnc2VsZWN0JyxcbiAgc21hbGw6ICdzbWFsbCcsXG4gIHNvdXJjZTogJ3NvdXJjZScsXG4gIHNwYW46ICdzcGFuJyxcbiAgc3Ryb25nOiAnc3Ryb25nJyxcbiAgc3R5bGU6ICdzdHlsZScsXG4gIHN1YjogJ3N1YicsXG4gIHN1bW1hcnk6ICdzdW1tYXJ5JyxcbiAgc3VwOiAnc3VwJyxcbiAgdGFibGU6ICd0YWJsZScsXG4gIHRib2R5OiAndGJvZHknLFxuICB0ZDogJ3RkJyxcbiAgdGV4dGFyZWE6ICd0ZXh0YXJlYScsXG4gIHRmb290OiAndGZvb3QnLFxuICB0aDogJ3RoJyxcbiAgdGhlYWQ6ICd0aGVhZCcsXG4gIHRpbWU6ICd0aW1lJyxcbiAgdGl0bGU6ICd0aXRsZScsXG4gIHRyOiAndHInLFxuICB0cmFjazogJ3RyYWNrJyxcbiAgdTogJ3UnLFxuICB1bDogJ3VsJyxcbiAgJ3Zhcic6ICd2YXInLFxuICB2aWRlbzogJ3ZpZGVvJyxcbiAgd2JyOiAnd2JyJyxcblxuICAvLyBTVkdcbiAgY2lyY2xlOiAnY2lyY2xlJyxcbiAgY2xpcFBhdGg6ICdjbGlwUGF0aCcsXG4gIGRlZnM6ICdkZWZzJyxcbiAgZWxsaXBzZTogJ2VsbGlwc2UnLFxuICBnOiAnZycsXG4gIGxpbmU6ICdsaW5lJyxcbiAgbGluZWFyR3JhZGllbnQ6ICdsaW5lYXJHcmFkaWVudCcsXG4gIG1hc2s6ICdtYXNrJyxcbiAgcGF0aDogJ3BhdGgnLFxuICBwYXR0ZXJuOiAncGF0dGVybicsXG4gIHBvbHlnb246ICdwb2x5Z29uJyxcbiAgcG9seWxpbmU6ICdwb2x5bGluZScsXG4gIHJhZGlhbEdyYWRpZW50OiAncmFkaWFsR3JhZGllbnQnLFxuICByZWN0OiAncmVjdCcsXG4gIHN0b3A6ICdzdG9wJyxcbiAgc3ZnOiAnc3ZnJyxcbiAgdGV4dDogJ3RleHQnLFxuICB0c3BhbjogJ3RzcGFuJ1xuXG59LCBjcmVhdGVET01GYWN0b3J5KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdERPTUJ1dHRvblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEF1dG9Gb2N1c01peGluID0gcmVxdWlyZShcIi4vQXV0b0ZvY3VzTWl4aW5cIik7XG52YXIgUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW4gPSByZXF1aXJlKFwiLi9SZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpblwiKTtcbnZhciBSZWFjdENsYXNzID0gcmVxdWlyZShcIi4vUmVhY3RDbGFzc1wiKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG5cbnZhciBrZXlNaXJyb3IgPSByZXF1aXJlKFwiLi9rZXlNaXJyb3JcIik7XG5cbnZhciBidXR0b24gPSBSZWFjdEVsZW1lbnQuY3JlYXRlRmFjdG9yeSgnYnV0dG9uJyk7XG5cbnZhciBtb3VzZUxpc3RlbmVyTmFtZXMgPSBrZXlNaXJyb3Ioe1xuICBvbkNsaWNrOiB0cnVlLFxuICBvbkRvdWJsZUNsaWNrOiB0cnVlLFxuICBvbk1vdXNlRG93bjogdHJ1ZSxcbiAgb25Nb3VzZU1vdmU6IHRydWUsXG4gIG9uTW91c2VVcDogdHJ1ZSxcbiAgb25DbGlja0NhcHR1cmU6IHRydWUsXG4gIG9uRG91YmxlQ2xpY2tDYXB0dXJlOiB0cnVlLFxuICBvbk1vdXNlRG93bkNhcHR1cmU6IHRydWUsXG4gIG9uTW91c2VNb3ZlQ2FwdHVyZTogdHJ1ZSxcbiAgb25Nb3VzZVVwQ2FwdHVyZTogdHJ1ZVxufSk7XG5cbi8qKlxuICogSW1wbGVtZW50cyBhIDxidXR0b24+IG5hdGl2ZSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCByZWNlaXZlIG1vdXNlIGV2ZW50c1xuICogd2hlbiBgZGlzYWJsZWRgIGlzIHNldC5cbiAqL1xudmFyIFJlYWN0RE9NQnV0dG9uID0gUmVhY3RDbGFzcy5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUmVhY3RET01CdXR0b24nLFxuICB0YWdOYW1lOiAnQlVUVE9OJyxcblxuICBtaXhpbnM6IFtBdXRvRm9jdXNNaXhpbiwgUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW5dLFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByb3BzID0ge307XG5cbiAgICAvLyBDb3B5IHRoZSBwcm9wczsgZXhjZXB0IHRoZSBtb3VzZSBsaXN0ZW5lcnMgaWYgd2UncmUgZGlzYWJsZWRcbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcm9wcykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaGFzT3duUHJvcGVydHkoa2V5KSAmJlxuICAgICAgICAgICghdGhpcy5wcm9wcy5kaXNhYmxlZCB8fCAhbW91c2VMaXN0ZW5lck5hbWVzW2tleV0pKSB7XG4gICAgICAgIHByb3BzW2tleV0gPSB0aGlzLnByb3BzW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1dHRvbihwcm9wcywgdGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RET01CdXR0b247XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01Db21wb25lbnRcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuLyogZ2xvYmFsIGhhc093blByb3BlcnR5OnRydWUgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ1NTUHJvcGVydHlPcGVyYXRpb25zID0gcmVxdWlyZShcIi4vQ1NTUHJvcGVydHlPcGVyYXRpb25zXCIpO1xudmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZShcIi4vRE9NUHJvcGVydHlcIik7XG52YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0gcmVxdWlyZShcIi4vRE9NUHJvcGVydHlPcGVyYXRpb25zXCIpO1xudmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCIuL1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlclwiKTtcbnZhciBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCA9XG4gIHJlcXVpcmUoXCIuL1JlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50XCIpO1xudmFyIFJlYWN0TW91bnQgPSByZXF1aXJlKFwiLi9SZWFjdE1vdW50XCIpO1xudmFyIFJlYWN0TXVsdGlDaGlsZCA9IHJlcXVpcmUoXCIuL1JlYWN0TXVsdGlDaGlsZFwiKTtcbnZhciBSZWFjdFBlcmYgPSByZXF1aXJlKFwiLi9SZWFjdFBlcmZcIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlciA9IHJlcXVpcmUoXCIuL2VzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlclwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG52YXIgaXNFdmVudFN1cHBvcnRlZCA9IHJlcXVpcmUoXCIuL2lzRXZlbnRTdXBwb3J0ZWRcIik7XG52YXIga2V5T2YgPSByZXF1aXJlKFwiLi9rZXlPZlwiKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZShcIi4vd2FybmluZ1wiKTtcblxudmFyIGRlbGV0ZUxpc3RlbmVyID0gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmRlbGV0ZUxpc3RlbmVyO1xudmFyIGxpc3RlblRvID0gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmxpc3RlblRvO1xudmFyIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzID0gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzO1xuXG4vLyBGb3IgcXVpY2tseSBtYXRjaGluZyBjaGlsZHJlbiB0eXBlLCB0byB0ZXN0IGlmIGNhbiBiZSB0cmVhdGVkIGFzIGNvbnRlbnQuXG52YXIgQ09OVEVOVF9UWVBFUyA9IHsnc3RyaW5nJzogdHJ1ZSwgJ251bWJlcic6IHRydWV9O1xuXG52YXIgU1RZTEUgPSBrZXlPZih7c3R5bGU6IG51bGx9KTtcblxudmFyIEVMRU1FTlRfTk9ERV9UWVBFID0gMTtcblxuLyoqXG4gKiBPcHRpb25hbGx5IGluamVjdGFibGUgb3BlcmF0aW9ucyBmb3IgbXV0YXRpbmcgdGhlIERPTVxuICovXG52YXIgQmFja2VuZElET3BlcmF0aW9ucyA9IG51bGw7XG5cbi8qKlxuICogQHBhcmFtIHs/b2JqZWN0fSBwcm9wc1xuICovXG5mdW5jdGlvbiBhc3NlcnRWYWxpZFByb3BzKHByb3BzKSB7XG4gIGlmICghcHJvcHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gTm90ZSB0aGUgdXNlIG9mIGA9PWAgd2hpY2ggY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZC5cbiAgaWYgKHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICE9IG51bGwpIHtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgcHJvcHMuY2hpbGRyZW4gPT0gbnVsbCxcbiAgICAgICdDYW4gb25seSBzZXQgb25lIG9mIGBjaGlsZHJlbmAgb3IgYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC4nXG4gICAgKSA6IGludmFyaWFudChwcm9wcy5jaGlsZHJlbiA9PSBudWxsKSk7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIHR5cGVvZiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICdfX2h0bWwnIGluIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLFxuICAgICAgJ2Bwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAgbXVzdCBiZSBpbiB0aGUgZm9ybSBge19faHRtbDogLi4ufWAuICcgK1xuICAgICAgJ1BsZWFzZSB2aXNpdCBodHRwczovL2ZiLm1lL3JlYWN0LWludmFyaWFudC1kYW5nZXJvdXNseS1zZXQtaW5uZXItaHRtbCAnICtcbiAgICAgICdmb3IgbW9yZSBpbmZvcm1hdGlvbi4nXG4gICAgKSA6IGludmFyaWFudCh0eXBlb2YgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgPT09ICdvYmplY3QnICYmXG4gICAgJ19faHRtbCcgaW4gcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpKTtcbiAgfVxuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICBwcm9wcy5pbm5lckhUTUwgPT0gbnVsbCxcbiAgICAgICdEaXJlY3RseSBzZXR0aW5nIHByb3BlcnR5IGBpbm5lckhUTUxgIGlzIG5vdCBwZXJtaXR0ZWQuICcgK1xuICAgICAgJ0ZvciBtb3JlIGluZm9ybWF0aW9uLCBsb29rdXAgZG9jdW1lbnRhdGlvbiBvbiBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLidcbiAgICApIDogbnVsbCk7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAhcHJvcHMuY29udGVudEVkaXRhYmxlIHx8IHByb3BzLmNoaWxkcmVuID09IG51bGwsXG4gICAgICAnQSBjb21wb25lbnQgaXMgYGNvbnRlbnRFZGl0YWJsZWAgYW5kIGNvbnRhaW5zIGBjaGlsZHJlbmAgbWFuYWdlZCBieSAnICtcbiAgICAgICdSZWFjdC4gSXQgaXMgbm93IHlvdXIgcmVzcG9uc2liaWxpdHkgdG8gZ3VhcmFudGVlIHRoYXQgbm9uZSBvZiAnICtcbiAgICAgICd0aG9zZSBub2RlcyBhcmUgdW5leHBlY3RlZGx5IG1vZGlmaWVkIG9yIGR1cGxpY2F0ZWQuIFRoaXMgaXMgJyArXG4gICAgICAncHJvYmFibHkgbm90IGludGVudGlvbmFsLidcbiAgICApIDogbnVsbCk7XG4gIH1cbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICBwcm9wcy5zdHlsZSA9PSBudWxsIHx8IHR5cGVvZiBwcm9wcy5zdHlsZSA9PT0gJ29iamVjdCcsXG4gICAgJ1RoZSBgc3R5bGVgIHByb3AgZXhwZWN0cyBhIG1hcHBpbmcgZnJvbSBzdHlsZSBwcm9wZXJ0aWVzIHRvIHZhbHVlcywgJyArXG4gICAgJ25vdCBhIHN0cmluZy4gRm9yIGV4YW1wbGUsIHN0eWxlPXt7bWFyZ2luUmlnaHQ6IHNwYWNpbmcgKyBcXCdlbVxcJ319IHdoZW4gJyArXG4gICAgJ3VzaW5nIEpTWC4nXG4gICkgOiBpbnZhcmlhbnQocHJvcHMuc3R5bGUgPT0gbnVsbCB8fCB0eXBlb2YgcHJvcHMuc3R5bGUgPT09ICdvYmplY3QnKSk7XG59XG5cbmZ1bmN0aW9uIHB1dExpc3RlbmVyKGlkLCByZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lciwgdHJhbnNhY3Rpb24pIHtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIC8vIElFOCBoYXMgbm8gQVBJIGZvciBldmVudCBjYXB0dXJpbmcgYW5kIHRoZSBgb25TY3JvbGxgIGV2ZW50IGRvZXNuJ3RcbiAgICAvLyBidWJibGUuXG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICByZWdpc3RyYXRpb25OYW1lICE9PSAnb25TY3JvbGwnIHx8IGlzRXZlbnRTdXBwb3J0ZWQoJ3Njcm9sbCcsIHRydWUpLFxuICAgICAgJ1RoaXMgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCB0aGUgYG9uU2Nyb2xsYCBldmVudCdcbiAgICApIDogbnVsbCk7XG4gIH1cbiAgdmFyIGNvbnRhaW5lciA9IFJlYWN0TW91bnQuZmluZFJlYWN0Q29udGFpbmVyRm9ySUQoaWQpO1xuICBpZiAoY29udGFpbmVyKSB7XG4gICAgdmFyIGRvYyA9IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFX1RZUEUgP1xuICAgICAgY29udGFpbmVyLm93bmVyRG9jdW1lbnQgOlxuICAgICAgY29udGFpbmVyO1xuICAgIGxpc3RlblRvKHJlZ2lzdHJhdGlvbk5hbWUsIGRvYyk7XG4gIH1cbiAgdHJhbnNhY3Rpb24uZ2V0UHV0TGlzdGVuZXJRdWV1ZSgpLmVucXVldWVQdXRMaXN0ZW5lcihcbiAgICBpZCxcbiAgICByZWdpc3RyYXRpb25OYW1lLFxuICAgIGxpc3RlbmVyXG4gICk7XG59XG5cbi8vIEZvciBIVE1MLCBjZXJ0YWluIHRhZ3Mgc2hvdWxkIG9taXQgdGhlaXIgY2xvc2UgdGFnLiBXZSBrZWVwIGEgd2hpdGVsaXN0IGZvclxuLy8gdGhvc2Ugc3BlY2lhbCBjYXNlZCB0YWdzLlxuXG52YXIgb21pdHRlZENsb3NlVGFncyA9IHtcbiAgJ2FyZWEnOiB0cnVlLFxuICAnYmFzZSc6IHRydWUsXG4gICdicic6IHRydWUsXG4gICdjb2wnOiB0cnVlLFxuICAnZW1iZWQnOiB0cnVlLFxuICAnaHInOiB0cnVlLFxuICAnaW1nJzogdHJ1ZSxcbiAgJ2lucHV0JzogdHJ1ZSxcbiAgJ2tleWdlbic6IHRydWUsXG4gICdsaW5rJzogdHJ1ZSxcbiAgJ21ldGEnOiB0cnVlLFxuICAncGFyYW0nOiB0cnVlLFxuICAnc291cmNlJzogdHJ1ZSxcbiAgJ3RyYWNrJzogdHJ1ZSxcbiAgJ3dicic6IHRydWVcbiAgLy8gTk9URTogbWVudWl0ZW0ncyBjbG9zZSB0YWcgc2hvdWxkIGJlIG9taXR0ZWQsIGJ1dCB0aGF0IGNhdXNlcyBwcm9ibGVtcy5cbn07XG5cbi8vIFdlIGFjY2VwdCBhbnkgdGFnIHRvIGJlIHJlbmRlcmVkIGJ1dCBzaW5jZSB0aGlzIGdldHMgaW5qZWN0ZWQgaW50byBhYml0cmFyeVxuLy8gSFRNTCwgd2Ugd2FudCB0byBtYWtlIHN1cmUgdGhhdCBpdCdzIGEgc2FmZSB0YWcuXG4vLyBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMteG1sLyNOVC1OYW1lXG5cbnZhciBWQUxJRF9UQUdfUkVHRVggPSAvXlthLXpBLVpdW2EtekEtWjpfXFwuXFwtXFxkXSokLzsgLy8gU2ltcGxpZmllZCBzdWJzZXRcbnZhciB2YWxpZGF0ZWRUYWdDYWNoZSA9IHt9O1xudmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRGFuZ2Vyb3VzVGFnKHRhZykge1xuICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwodmFsaWRhdGVkVGFnQ2FjaGUsIHRhZykpIHtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFZBTElEX1RBR19SRUdFWC50ZXN0KHRhZyksICdJbnZhbGlkIHRhZzogJXMnLCB0YWcpIDogaW52YXJpYW50KFZBTElEX1RBR19SRUdFWC50ZXN0KHRhZykpKTtcbiAgICB2YWxpZGF0ZWRUYWdDYWNoZVt0YWddID0gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgUmVhY3QgY2xhc3MgdGhhdCBpcyBpZGVtcG90ZW50IGFuZCBjYXBhYmxlIG9mIGNvbnRhaW5pbmcgb3RoZXJcbiAqIFJlYWN0IGNvbXBvbmVudHMuIEl0IGFjY2VwdHMgZXZlbnQgbGlzdGVuZXJzIGFuZCBET00gcHJvcGVydGllcyB0aGF0IGFyZVxuICogdmFsaWQgYWNjb3JkaW5nIHRvIGBET01Qcm9wZXJ0eWAuXG4gKlxuICogIC0gRXZlbnQgbGlzdGVuZXJzOiBgb25DbGlja2AsIGBvbk1vdXNlRG93bmAsIGV0Yy5cbiAqICAtIERPTSBwcm9wZXJ0aWVzOiBgY2xhc3NOYW1lYCwgYG5hbWVgLCBgdGl0bGVgLCBldGMuXG4gKlxuICogVGhlIGBzdHlsZWAgcHJvcGVydHkgZnVuY3Rpb25zIGRpZmZlcmVudGx5IGZyb20gdGhlIERPTSBBUEkuIEl0IGFjY2VwdHMgYW5cbiAqIG9iamVjdCBtYXBwaW5nIG9mIHN0eWxlIHByb3BlcnRpZXMgdG8gdmFsdWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvciBSZWFjdERPTUNvbXBvbmVudFxuICogQGV4dGVuZHMgUmVhY3RNdWx0aUNoaWxkXG4gKi9cbmZ1bmN0aW9uIFJlYWN0RE9NQ29tcG9uZW50KHRhZykge1xuICB2YWxpZGF0ZURhbmdlcm91c1RhZyh0YWcpO1xuICB0aGlzLl90YWcgPSB0YWc7XG4gIHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW4gPSBudWxsO1xuICB0aGlzLl9wcmV2aW91c1N0eWxlQ29weSA9IG51bGw7XG4gIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xufVxuXG5SZWFjdERPTUNvbXBvbmVudC5kaXNwbGF5TmFtZSA9ICdSZWFjdERPTUNvbXBvbmVudCc7XG5cblJlYWN0RE9NQ29tcG9uZW50Lk1peGluID0ge1xuXG4gIGNvbnN0cnVjdDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gZWxlbWVudDtcbiAgfSxcblxuICAvKipcbiAgICogR2VuZXJhdGVzIHJvb3QgdGFnIG1hcmt1cCB0aGVuIHJlY3Vyc2VzLiBUaGlzIG1ldGhvZCBoYXMgc2lkZSBlZmZlY3RzIGFuZFxuICAgKiBpcyBub3QgaWRlbXBvdGVudC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByb290SUQgVGhlIHJvb3QgRE9NIElEIGZvciB0aGlzIG5vZGUuXG4gICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbnxSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb21wdXRlZCBtYXJrdXAuXG4gICAqL1xuICBtb3VudENvbXBvbmVudDogZnVuY3Rpb24ocm9vdElELCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSByb290SUQ7XG4gICAgYXNzZXJ0VmFsaWRQcm9wcyh0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcyk7XG4gICAgdmFyIGNsb3NlVGFnID0gb21pdHRlZENsb3NlVGFnc1t0aGlzLl90YWddID8gJycgOiAnPC8nICsgdGhpcy5fdGFnICsgJz4nO1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLl9jcmVhdGVPcGVuVGFnTWFya3VwQW5kUHV0TGlzdGVuZXJzKHRyYW5zYWN0aW9uKSArXG4gICAgICB0aGlzLl9jcmVhdGVDb250ZW50TWFya3VwKHRyYW5zYWN0aW9uLCBjb250ZXh0KSArXG4gICAgICBjbG9zZVRhZ1xuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgbWFya3VwIGZvciB0aGUgb3BlbiB0YWcgYW5kIGFsbCBhdHRyaWJ1dGVzLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBoYXMgc2lkZSBlZmZlY3RzIGJlY2F1c2UgZXZlbnRzIGdldCByZWdpc3RlcmVkLlxuICAgKlxuICAgKiBJdGVyYXRpbmcgb3ZlciBvYmplY3QgcHJvcGVydGllcyBpcyBmYXN0ZXIgdGhhbiBpdGVyYXRpbmcgb3ZlciBhcnJheXMuXG4gICAqIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vb2JqLXZzLWFyci1pdGVyYXRpb25cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEByZXR1cm4ge3N0cmluZ30gTWFya3VwIG9mIG9wZW5pbmcgdGFnLlxuICAgKi9cbiAgX2NyZWF0ZU9wZW5UYWdNYXJrdXBBbmRQdXRMaXN0ZW5lcnM6IGZ1bmN0aW9uKHRyYW5zYWN0aW9uKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgdmFyIHJldCA9ICc8JyArIHRoaXMuX3RhZztcblxuICAgIGZvciAodmFyIHByb3BLZXkgaW4gcHJvcHMpIHtcbiAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcEtleV07XG4gICAgICBpZiAocHJvcFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgcHV0TGlzdGVuZXIodGhpcy5fcm9vdE5vZGVJRCwgcHJvcEtleSwgcHJvcFZhbHVlLCB0cmFuc2FjdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgICAgICBpZiAocHJvcFZhbHVlKSB7XG4gICAgICAgICAgICBwcm9wVmFsdWUgPSB0aGlzLl9wcmV2aW91c1N0eWxlQ29weSA9IGFzc2lnbih7fSwgcHJvcHMuc3R5bGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcm9wVmFsdWUgPSBDU1NQcm9wZXJ0eU9wZXJhdGlvbnMuY3JlYXRlTWFya3VwRm9yU3R5bGVzKHByb3BWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hcmt1cCA9XG4gICAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLmNyZWF0ZU1hcmt1cEZvclByb3BlcnR5KHByb3BLZXksIHByb3BWYWx1ZSk7XG4gICAgICAgIGlmIChtYXJrdXApIHtcbiAgICAgICAgICByZXQgKz0gJyAnICsgbWFya3VwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRm9yIHN0YXRpYyBwYWdlcywgbm8gbmVlZCB0byBwdXQgUmVhY3QgSUQgYW5kIGNoZWNrc3VtLiBTYXZlcyBsb3RzIG9mXG4gICAgLy8gYnl0ZXMuXG4gICAgaWYgKHRyYW5zYWN0aW9uLnJlbmRlclRvU3RhdGljTWFya3VwKSB7XG4gICAgICByZXR1cm4gcmV0ICsgJz4nO1xuICAgIH1cblxuICAgIHZhciBtYXJrdXBGb3JJRCA9IERPTVByb3BlcnR5T3BlcmF0aW9ucy5jcmVhdGVNYXJrdXBGb3JJRCh0aGlzLl9yb290Tm9kZUlEKTtcbiAgICByZXR1cm4gcmV0ICsgJyAnICsgbWFya3VwRm9ySUQgKyAnPic7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgbWFya3VwIGZvciB0aGUgY29udGVudCBiZXR3ZWVuIHRoZSB0YWdzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb258UmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHRcbiAgICogQHJldHVybiB7c3RyaW5nfSBDb250ZW50IG1hcmt1cC5cbiAgICovXG4gIF9jcmVhdGVDb250ZW50TWFya3VwOiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgIHZhciBwcmVmaXggPSAnJztcbiAgICBpZiAodGhpcy5fdGFnID09PSAnbGlzdGluZycgfHxcbiAgICAgICAgdGhpcy5fdGFnID09PSAncHJlJyB8fFxuICAgICAgICB0aGlzLl90YWcgPT09ICd0ZXh0YXJlYScpIHtcbiAgICAgIC8vIEFkZCBhbiBpbml0aWFsIG5ld2xpbmUgYmVjYXVzZSBicm93c2VycyBpZ25vcmUgdGhlIGZpcnN0IG5ld2xpbmUgaW5cbiAgICAgIC8vIGEgPGxpc3Rpbmc+LCA8cHJlPiwgb3IgPHRleHRhcmVhPiBhcyBhbiBcImF1dGhvcmluZyBjb252ZW5pZW5jZVwiIC0tIHNlZVxuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluYm9keS5cbiAgICAgIHByZWZpeCA9ICdcXG4nO1xuICAgIH1cblxuICAgIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuXG4gICAgLy8gSW50ZW50aW9uYWwgdXNlIG9mICE9IHRvIGF2b2lkIGNhdGNoaW5nIHplcm8vZmFsc2UuXG4gICAgdmFyIGlubmVySFRNTCA9IHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MO1xuICAgIGlmIChpbm5lckhUTUwgIT0gbnVsbCkge1xuICAgICAgaWYgKGlubmVySFRNTC5fX2h0bWwgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgaW5uZXJIVE1MLl9faHRtbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbnRlbnRUb1VzZSA9XG4gICAgICAgIENPTlRFTlRfVFlQRVNbdHlwZW9mIHByb3BzLmNoaWxkcmVuXSA/IHByb3BzLmNoaWxkcmVuIDogbnVsbDtcbiAgICAgIHZhciBjaGlsZHJlblRvVXNlID0gY29udGVudFRvVXNlICE9IG51bGwgPyBudWxsIDogcHJvcHMuY2hpbGRyZW47XG4gICAgICBpZiAoY29udGVudFRvVXNlICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3Nlcihjb250ZW50VG9Vc2UpO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZHJlblRvVXNlICE9IG51bGwpIHtcbiAgICAgICAgdmFyIG1vdW50SW1hZ2VzID0gdGhpcy5tb3VudENoaWxkcmVuKFxuICAgICAgICAgIGNoaWxkcmVuVG9Vc2UsXG4gICAgICAgICAgdHJhbnNhY3Rpb24sXG4gICAgICAgICAgY29udGV4dFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgbW91bnRJbWFnZXMuam9pbignJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcmVmaXg7XG4gIH0sXG5cbiAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24obmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgdmFyIHByZXZFbGVtZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQ7XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBuZXh0RWxlbWVudDtcbiAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudCh0cmFuc2FjdGlvbiwgcHJldkVsZW1lbnQsIG5leHRFbGVtZW50LCBjb250ZXh0KTtcbiAgfSxcblxuICAvKipcbiAgICogVXBkYXRlcyBhIG5hdGl2ZSBET00gY29tcG9uZW50IGFmdGVyIGl0IGhhcyBhbHJlYWR5IGJlZW4gYWxsb2NhdGVkIGFuZFxuICAgKiBhdHRhY2hlZCB0byB0aGUgRE9NLiBSZWNvbmNpbGVzIHRoZSByb290IERPTSBub2RlLCB0aGVuIHJlY3Vyc2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBwcmV2RWxlbWVudFxuICAgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gbmV4dEVsZW1lbnRcbiAgICogQGludGVybmFsXG4gICAqIEBvdmVycmlkYWJsZVxuICAgKi9cbiAgdXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbih0cmFuc2FjdGlvbiwgcHJldkVsZW1lbnQsIG5leHRFbGVtZW50LCBjb250ZXh0KSB7XG4gICAgYXNzZXJ0VmFsaWRQcm9wcyh0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcyk7XG4gICAgdGhpcy5fdXBkYXRlRE9NUHJvcGVydGllcyhwcmV2RWxlbWVudC5wcm9wcywgdHJhbnNhY3Rpb24pO1xuICAgIHRoaXMuX3VwZGF0ZURPTUNoaWxkcmVuKHByZXZFbGVtZW50LnByb3BzLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlY29uY2lsZXMgdGhlIHByb3BlcnRpZXMgYnkgZGV0ZWN0aW5nIGRpZmZlcmVuY2VzIGluIHByb3BlcnR5IHZhbHVlcyBhbmRcbiAgICogdXBkYXRpbmcgdGhlIERPTSBhcyBuZWNlc3NhcnkuIFRoaXMgZnVuY3Rpb24gaXMgcHJvYmFibHkgdGhlIHNpbmdsZSBtb3N0XG4gICAqIGNyaXRpY2FsIHBhdGggZm9yIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbi5cbiAgICpcbiAgICogVE9ETzogQmVuY2htYXJrIHdoZXRoZXIgY2hlY2tpbmcgZm9yIGNoYW5nZWQgdmFsdWVzIGluIG1lbW9yeSBhY3R1YWxseVxuICAgKiAgICAgICBpbXByb3ZlcyBwZXJmb3JtYW5jZSAoZXNwZWNpYWxseSBzdGF0aWNhbGx5IHBvc2l0aW9uZWQgZWxlbWVudHMpLlxuICAgKiBUT0RPOiBCZW5jaG1hcmsgdGhlIGVmZmVjdHMgb2YgcHV0dGluZyB0aGlzIGF0IHRoZSB0b3Agc2luY2UgOTklIG9mIHByb3BzXG4gICAqICAgICAgIGRvIG5vdCBjaGFuZ2UgZm9yIGEgZ2l2ZW4gcmVjb25jaWxpYXRpb24uXG4gICAqIFRPRE86IEJlbmNobWFyayBhcmVhcyB0aGF0IGNhbiBiZSBpbXByb3ZlZCB3aXRoIGNhY2hpbmcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBsYXN0UHJvcHNcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKi9cbiAgX3VwZGF0ZURPTVByb3BlcnRpZXM6IGZ1bmN0aW9uKGxhc3RQcm9wcywgdHJhbnNhY3Rpb24pIHtcbiAgICB2YXIgbmV4dFByb3BzID0gdGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgdmFyIHByb3BLZXk7XG4gICAgdmFyIHN0eWxlTmFtZTtcbiAgICB2YXIgc3R5bGVVcGRhdGVzO1xuICAgIGZvciAocHJvcEtleSBpbiBsYXN0UHJvcHMpIHtcbiAgICAgIGlmIChuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHxcbiAgICAgICAgICFsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgICAgdmFyIGxhc3RTdHlsZSA9IHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5O1xuICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiBsYXN0U3R5bGUpIHtcbiAgICAgICAgICBpZiAobGFzdFN0eWxlLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHN0eWxlVXBkYXRlcyB8fCB7fTtcbiAgICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5ID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgZGVsZXRlTGlzdGVuZXIodGhpcy5fcm9vdE5vZGVJRCwgcHJvcEtleSk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIERPTVByb3BlcnR5LmlzU3RhbmRhcmROYW1lW3Byb3BLZXldIHx8XG4gICAgICAgICAgRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUocHJvcEtleSkpIHtcbiAgICAgICAgQmFja2VuZElET3BlcmF0aW9ucy5kZWxldGVQcm9wZXJ0eUJ5SUQoXG4gICAgICAgICAgdGhpcy5fcm9vdE5vZGVJRCxcbiAgICAgICAgICBwcm9wS2V5XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAocHJvcEtleSBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBuZXh0UHJvcCA9IG5leHRQcm9wc1twcm9wS2V5XTtcbiAgICAgIHZhciBsYXN0UHJvcCA9IHByb3BLZXkgPT09IFNUWUxFID9cbiAgICAgICAgdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgOlxuICAgICAgICBsYXN0UHJvcHNbcHJvcEtleV07XG4gICAgICBpZiAoIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCBuZXh0UHJvcCA9PT0gbGFzdFByb3ApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgICAgaWYgKG5leHRQcm9wKSB7XG4gICAgICAgICAgbmV4dFByb3AgPSB0aGlzLl9wcmV2aW91c1N0eWxlQ29weSA9IGFzc2lnbih7fSwgbmV4dFByb3ApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdFByb3ApIHtcbiAgICAgICAgICAvLyBVbnNldCBzdHlsZXMgb24gYGxhc3RQcm9wYCBidXQgbm90IG9uIGBuZXh0UHJvcGAuXG4gICAgICAgICAgZm9yIChzdHlsZU5hbWUgaW4gbGFzdFByb3ApIHtcbiAgICAgICAgICAgIGlmIChsYXN0UHJvcC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpICYmXG4gICAgICAgICAgICAgICAgKCFuZXh0UHJvcCB8fCAhbmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkpIHtcbiAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0gc3R5bGVVcGRhdGVzIHx8IHt9O1xuICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBVcGRhdGUgc3R5bGVzIHRoYXQgY2hhbmdlZCBzaW5jZSBgbGFzdFByb3BgLlxuICAgICAgICAgIGZvciAoc3R5bGVOYW1lIGluIG5leHRQcm9wKSB7XG4gICAgICAgICAgICBpZiAobmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJlxuICAgICAgICAgICAgICAgIGxhc3RQcm9wW3N0eWxlTmFtZV0gIT09IG5leHRQcm9wW3N0eWxlTmFtZV0pIHtcbiAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0gc3R5bGVVcGRhdGVzIHx8IHt9O1xuICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9IG5leHRQcm9wW3N0eWxlTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJlbGllcyBvbiBgdXBkYXRlU3R5bGVzQnlJRGAgbm90IG11dGF0aW5nIGBzdHlsZVVwZGF0ZXNgLlxuICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IG5leHRQcm9wO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgIHB1dExpc3RlbmVyKHRoaXMuX3Jvb3ROb2RlSUQsIHByb3BLZXksIG5leHRQcm9wLCB0cmFuc2FjdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIERPTVByb3BlcnR5LmlzU3RhbmRhcmROYW1lW3Byb3BLZXldIHx8XG4gICAgICAgICAgRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUocHJvcEtleSkpIHtcbiAgICAgICAgQmFja2VuZElET3BlcmF0aW9ucy51cGRhdGVQcm9wZXJ0eUJ5SUQoXG4gICAgICAgICAgdGhpcy5fcm9vdE5vZGVJRCxcbiAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgIG5leHRQcm9wXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdHlsZVVwZGF0ZXMpIHtcbiAgICAgIEJhY2tlbmRJRE9wZXJhdGlvbnMudXBkYXRlU3R5bGVzQnlJRChcbiAgICAgICAgdGhpcy5fcm9vdE5vZGVJRCxcbiAgICAgICAgc3R5bGVVcGRhdGVzXG4gICAgICApO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVjb25jaWxlcyB0aGUgY2hpbGRyZW4gd2l0aCB0aGUgdmFyaW91cyBwcm9wZXJ0aWVzIHRoYXQgYWZmZWN0IHRoZVxuICAgKiBjaGlsZHJlbiBjb250ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbGFzdFByb3BzXG4gICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICovXG4gIF91cGRhdGVET01DaGlsZHJlbjogZnVuY3Rpb24obGFzdFByb3BzLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgIHZhciBuZXh0UHJvcHMgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcztcblxuICAgIHZhciBsYXN0Q29udGVudCA9XG4gICAgICBDT05URU5UX1RZUEVTW3R5cGVvZiBsYXN0UHJvcHMuY2hpbGRyZW5dID8gbGFzdFByb3BzLmNoaWxkcmVuIDogbnVsbDtcbiAgICB2YXIgbmV4dENvbnRlbnQgPVxuICAgICAgQ09OVEVOVF9UWVBFU1t0eXBlb2YgbmV4dFByb3BzLmNoaWxkcmVuXSA/IG5leHRQcm9wcy5jaGlsZHJlbiA6IG51bGw7XG5cbiAgICB2YXIgbGFzdEh0bWwgPVxuICAgICAgbGFzdFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICYmXG4gICAgICBsYXN0UHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwuX19odG1sO1xuICAgIHZhciBuZXh0SHRtbCA9XG4gICAgICBuZXh0UHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgJiZcbiAgICAgIG5leHRQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWw7XG5cbiAgICAvLyBOb3RlIHRoZSB1c2Ugb2YgYCE9YCB3aGljaCBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkLlxuICAgIHZhciBsYXN0Q2hpbGRyZW4gPSBsYXN0Q29udGVudCAhPSBudWxsID8gbnVsbCA6IGxhc3RQcm9wcy5jaGlsZHJlbjtcbiAgICB2YXIgbmV4dENoaWxkcmVuID0gbmV4dENvbnRlbnQgIT0gbnVsbCA/IG51bGwgOiBuZXh0UHJvcHMuY2hpbGRyZW47XG5cbiAgICAvLyBJZiB3ZSdyZSBzd2l0Y2hpbmcgZnJvbSBjaGlsZHJlbiB0byBjb250ZW50L2h0bWwgb3IgdmljZSB2ZXJzYSwgcmVtb3ZlXG4gICAgLy8gdGhlIG9sZCBjb250ZW50XG4gICAgdmFyIGxhc3RIYXNDb250ZW50T3JIdG1sID0gbGFzdENvbnRlbnQgIT0gbnVsbCB8fCBsYXN0SHRtbCAhPSBudWxsO1xuICAgIHZhciBuZXh0SGFzQ29udGVudE9ySHRtbCA9IG5leHRDb250ZW50ICE9IG51bGwgfHwgbmV4dEh0bWwgIT0gbnVsbDtcbiAgICBpZiAobGFzdENoaWxkcmVuICE9IG51bGwgJiYgbmV4dENoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4obnVsbCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAobGFzdEhhc0NvbnRlbnRPckh0bWwgJiYgIW5leHRIYXNDb250ZW50T3JIdG1sKSB7XG4gICAgICB0aGlzLnVwZGF0ZVRleHRDb250ZW50KCcnKTtcbiAgICB9XG5cbiAgICBpZiAobmV4dENvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgaWYgKGxhc3RDb250ZW50ICE9PSBuZXh0Q29udGVudCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHRDb250ZW50KCcnICsgbmV4dENvbnRlbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmV4dEh0bWwgIT0gbnVsbCkge1xuICAgICAgaWYgKGxhc3RIdG1sICE9PSBuZXh0SHRtbCkge1xuICAgICAgICBCYWNrZW5kSURPcGVyYXRpb25zLnVwZGF0ZUlubmVySFRNTEJ5SUQoXG4gICAgICAgICAgdGhpcy5fcm9vdE5vZGVJRCxcbiAgICAgICAgICBuZXh0SHRtbFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmV4dENoaWxkcmVuICE9IG51bGwpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4obmV4dENoaWxkcmVuLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyBhbGwgZXZlbnQgcmVnaXN0cmF0aW9ucyBmb3IgdGhpcyBpbnN0YW5jZS4gRG9lcyBub3QgcmVtb3ZlIGZyb21cbiAgICogdGhlIERPTS4gVGhhdCBtdXN0IGJlIGRvbmUgYnkgdGhlIHBhcmVudC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICB1bm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnVubW91bnRDaGlsZHJlbigpO1xuICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5kZWxldGVBbGxMaXN0ZW5lcnModGhpcy5fcm9vdE5vZGVJRCk7XG4gICAgUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQudW5tb3VudElERnJvbUVudmlyb25tZW50KHRoaXMuX3Jvb3ROb2RlSUQpO1xuICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xuICB9XG5cbn07XG5cblJlYWN0UGVyZi5tZWFzdXJlTWV0aG9kcyhSZWFjdERPTUNvbXBvbmVudCwgJ1JlYWN0RE9NQ29tcG9uZW50Jywge1xuICBtb3VudENvbXBvbmVudDogJ21vdW50Q29tcG9uZW50JyxcbiAgdXBkYXRlQ29tcG9uZW50OiAndXBkYXRlQ29tcG9uZW50J1xufSk7XG5cbmFzc2lnbihcbiAgUmVhY3RET01Db21wb25lbnQucHJvdG90eXBlLFxuICBSZWFjdERPTUNvbXBvbmVudC5NaXhpbixcbiAgUmVhY3RNdWx0aUNoaWxkLk1peGluXG4pO1xuXG5SZWFjdERPTUNvbXBvbmVudC5pbmplY3Rpb24gPSB7XG4gIGluamVjdElET3BlcmF0aW9uczogZnVuY3Rpb24oSURPcGVyYXRpb25zKSB7XG4gICAgUmVhY3RET01Db21wb25lbnQuQmFja2VuZElET3BlcmF0aW9ucyA9IEJhY2tlbmRJRE9wZXJhdGlvbnMgPSBJRE9wZXJhdGlvbnM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RET01Db21wb25lbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01Gb3JtXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRDb25zdGFudHMgPSByZXF1aXJlKFwiLi9FdmVudENvbnN0YW50c1wiKTtcbnZhciBMb2NhbEV2ZW50VHJhcE1peGluID0gcmVxdWlyZShcIi4vTG9jYWxFdmVudFRyYXBNaXhpblwiKTtcbnZhciBSZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpbiA9IHJlcXVpcmUoXCIuL1JlYWN0QnJvd3NlckNvbXBvbmVudE1peGluXCIpO1xudmFyIFJlYWN0Q2xhc3MgPSByZXF1aXJlKFwiLi9SZWFjdENsYXNzXCIpO1xudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RWxlbWVudFwiKTtcblxudmFyIGZvcm0gPSBSZWFjdEVsZW1lbnQuY3JlYXRlRmFjdG9yeSgnZm9ybScpO1xuXG4vKipcbiAqIFNpbmNlIG9uU3VibWl0IGRvZXNuJ3QgYnViYmxlIE9SIGNhcHR1cmUgb24gdGhlIHRvcCBsZXZlbCBpbiBJRTgsIHdlIG5lZWRcbiAqIHRvIGNhcHR1cmUgaXQgb24gdGhlIDxmb3JtPiBlbGVtZW50IGl0c2VsZi4gVGhlcmUgYXJlIGxvdHMgb2YgaGFja3Mgd2UgY291bGRcbiAqIGRvIHRvIGFjY29tcGxpc2ggdGhpcywgYnV0IHRoZSBtb3N0IHJlbGlhYmxlIGlzIHRvIG1ha2UgPGZvcm0+IGFcbiAqIGNvbXBvc2l0ZSBjb21wb25lbnQgYW5kIHVzZSBgY29tcG9uZW50RGlkTW91bnRgIHRvIGF0dGFjaCB0aGUgZXZlbnQgaGFuZGxlcnMuXG4gKi9cbnZhciBSZWFjdERPTUZvcm0gPSBSZWFjdENsYXNzLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdSZWFjdERPTUZvcm0nLFxuICB0YWdOYW1lOiAnRk9STScsXG5cbiAgbWl4aW5zOiBbUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW4sIExvY2FsRXZlbnRUcmFwTWl4aW5dLFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy8gVE9ETzogSW5zdGVhZCBvZiB1c2luZyBgUmVhY3RET01gIGRpcmVjdGx5LCB3ZSBzaG91bGQgdXNlIEpTWC4gSG93ZXZlcixcbiAgICAvLyBganNoaW50YCBmYWlscyB0byBwYXJzZSBKU1ggc28gaW4gb3JkZXIgZm9yIGxpbnRpbmcgdG8gd29yayBpbiB0aGUgb3BlblxuICAgIC8vIHNvdXJjZSByZXBvLCB3ZSBuZWVkIHRvIGp1c3QgdXNlIGBSZWFjdERPTS5mb3JtYC5cbiAgICByZXR1cm4gZm9ybSh0aGlzLnByb3BzKTtcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50cmFwQnViYmxlZEV2ZW50KEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXMudG9wUmVzZXQsICdyZXNldCcpO1xuICAgIHRoaXMudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcFN1Ym1pdCwgJ3N1Ym1pdCcpO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUZvcm07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01JRE9wZXJhdGlvbnNcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuLypqc2xpbnQgZXZpbDogdHJ1ZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBDU1NQcm9wZXJ0eU9wZXJhdGlvbnMgPSByZXF1aXJlKFwiLi9DU1NQcm9wZXJ0eU9wZXJhdGlvbnNcIik7XG52YXIgRE9NQ2hpbGRyZW5PcGVyYXRpb25zID0gcmVxdWlyZShcIi4vRE9NQ2hpbGRyZW5PcGVyYXRpb25zXCIpO1xudmFyIERPTVByb3BlcnR5T3BlcmF0aW9ucyA9IHJlcXVpcmUoXCIuL0RPTVByb3BlcnR5T3BlcmF0aW9uc1wiKTtcbnZhciBSZWFjdE1vdW50ID0gcmVxdWlyZShcIi4vUmVhY3RNb3VudFwiKTtcbnZhciBSZWFjdFBlcmYgPSByZXF1aXJlKFwiLi9SZWFjdFBlcmZcIik7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG52YXIgc2V0SW5uZXJIVE1MID0gcmVxdWlyZShcIi4vc2V0SW5uZXJIVE1MXCIpO1xuXG4vKipcbiAqIEVycm9ycyBmb3IgcHJvcGVydGllcyB0aGF0IHNob3VsZCBub3QgYmUgdXBkYXRlZCB3aXRoIGB1cGRhdGVQcm9wZXJ0eUJ5SWQoKWAuXG4gKlxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBJTlZBTElEX1BST1BFUlRZX0VSUk9SUyA9IHtcbiAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6XG4gICAgJ2BkYW5nZXJvdXNseVNldElubmVySFRNTGAgbXVzdCBiZSBzZXQgdXNpbmcgYHVwZGF0ZUlubmVySFRNTEJ5SUQoKWAuJyxcbiAgc3R5bGU6ICdgc3R5bGVgIG11c3QgYmUgc2V0IHVzaW5nIGB1cGRhdGVTdHlsZXNCeUlEKClgLidcbn07XG5cbi8qKlxuICogT3BlcmF0aW9ucyB1c2VkIHRvIHByb2Nlc3MgdXBkYXRlcyB0byBET00gbm9kZXMuIFRoaXMgaXMgbWFkZSBpbmplY3RhYmxlIHZpYVxuICogYFJlYWN0RE9NQ29tcG9uZW50LkJhY2tlbmRJRE9wZXJhdGlvbnNgLlxuICovXG52YXIgUmVhY3RET01JRE9wZXJhdGlvbnMgPSB7XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBET00gbm9kZSB3aXRoIG5ldyBwcm9wZXJ0eSB2YWx1ZXMuIFRoaXMgc2hvdWxkIG9ubHkgYmUgdXNlZCB0b1xuICAgKiB1cGRhdGUgRE9NIHByb3BlcnRpZXMgaW4gYERPTVByb3BlcnR5YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIHRoZSBub2RlIHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQSB2YWxpZCBwcm9wZXJ0eSBuYW1lLCBzZWUgYERPTVByb3BlcnR5YC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBOZXcgdmFsdWUgb2YgdGhlIHByb3BlcnR5LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHVwZGF0ZVByb3BlcnR5QnlJRDogZnVuY3Rpb24oaWQsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIG5vZGUgPSBSZWFjdE1vdW50LmdldE5vZGUoaWQpO1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAhSU5WQUxJRF9QUk9QRVJUWV9FUlJPUlMuaGFzT3duUHJvcGVydHkobmFtZSksXG4gICAgICAndXBkYXRlUHJvcGVydHlCeUlEKC4uLik6ICVzJyxcbiAgICAgIElOVkFMSURfUFJPUEVSVFlfRVJST1JTW25hbWVdXG4gICAgKSA6IGludmFyaWFudCghSU5WQUxJRF9QUk9QRVJUWV9FUlJPUlMuaGFzT3duUHJvcGVydHkobmFtZSkpKTtcblxuICAgIC8vIElmIHdlJ3JlIHVwZGF0aW5nIHRvIG51bGwgb3IgdW5kZWZpbmVkLCB3ZSBzaG91bGQgcmVtb3ZlIHRoZSBwcm9wZXJ0eVxuICAgIC8vIGZyb20gdGhlIERPTSBub2RlIGluc3RlYWQgb2YgaW5hZHZlcnRhbnRseSBzZXR0aW5nIHRvIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gYnJpbmdzIHVzIGluIGxpbmUgd2l0aCB0aGUgc2FtZSBiZWhhdmlvciB3ZSBoYXZlIG9uIGluaXRpYWwgcmVuZGVyLlxuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JQcm9wZXJ0eShub2RlLCBuYW1lLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5kZWxldGVWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVXBkYXRlcyBhIERPTSBub2RlIHRvIHJlbW92ZSBhIHByb3BlcnR5LiBUaGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgdG8gcmVtb3ZlXG4gICAqIERPTSBwcm9wZXJ0aWVzIGluIGBET01Qcm9wZXJ0eWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiB0aGUgbm9kZSB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEEgcHJvcGVydHkgbmFtZSB0byByZW1vdmUsIHNlZSBgRE9NUHJvcGVydHlgLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRlbGV0ZVByb3BlcnR5QnlJRDogZnVuY3Rpb24oaWQsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIG5vZGUgPSBSZWFjdE1vdW50LmdldE5vZGUoaWQpO1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAhSU5WQUxJRF9QUk9QRVJUWV9FUlJPUlMuaGFzT3duUHJvcGVydHkobmFtZSksXG4gICAgICAndXBkYXRlUHJvcGVydHlCeUlEKC4uLik6ICVzJyxcbiAgICAgIElOVkFMSURfUFJPUEVSVFlfRVJST1JTW25hbWVdXG4gICAgKSA6IGludmFyaWFudCghSU5WQUxJRF9QUk9QRVJUWV9FUlJPUlMuaGFzT3duUHJvcGVydHkobmFtZSkpKTtcbiAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eShub2RlLCBuYW1lLCB2YWx1ZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBET00gbm9kZSB3aXRoIG5ldyBzdHlsZSB2YWx1ZXMuIElmIGEgdmFsdWUgaXMgc3BlY2lmaWVkIGFzICcnLFxuICAgKiB0aGUgY29ycmVzcG9uZGluZyBzdHlsZSBwcm9wZXJ0eSB3aWxsIGJlIHVuc2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIG5vZGUgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGVzIE1hcHBpbmcgZnJvbSBzdHlsZXMgdG8gdmFsdWVzLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHVwZGF0ZVN0eWxlc0J5SUQ6IGZ1bmN0aW9uKGlkLCBzdHlsZXMpIHtcbiAgICB2YXIgbm9kZSA9IFJlYWN0TW91bnQuZ2V0Tm9kZShpZCk7XG4gICAgQ1NTUHJvcGVydHlPcGVyYXRpb25zLnNldFZhbHVlRm9yU3R5bGVzKG5vZGUsIHN0eWxlcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBET00gbm9kZSdzIGlubmVySFRNTC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIHRoZSBub2RlIHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgQW4gSFRNTCBzdHJpbmcuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdXBkYXRlSW5uZXJIVE1MQnlJRDogZnVuY3Rpb24oaWQsIGh0bWwpIHtcbiAgICB2YXIgbm9kZSA9IFJlYWN0TW91bnQuZ2V0Tm9kZShpZCk7XG4gICAgc2V0SW5uZXJIVE1MKG5vZGUsIGh0bWwpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgRE9NIG5vZGUncyB0ZXh0IGNvbnRlbnQgc2V0IGJ5IGBwcm9wcy5jb250ZW50YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIHRoZSBub2RlIHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgVGV4dCBjb250ZW50LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHVwZGF0ZVRleHRDb250ZW50QnlJRDogZnVuY3Rpb24oaWQsIGNvbnRlbnQpIHtcbiAgICB2YXIgbm9kZSA9IFJlYWN0TW91bnQuZ2V0Tm9kZShpZCk7XG4gICAgRE9NQ2hpbGRyZW5PcGVyYXRpb25zLnVwZGF0ZVRleHRDb250ZW50KG5vZGUsIGNvbnRlbnQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhIERPTSBub2RlIHRoYXQgZXhpc3RzIGluIHRoZSBkb2N1bWVudCB3aXRoIG1hcmt1cC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIGNoaWxkIHRvIGJlIHJlcGxhY2VkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWFya3VwIERhbmdlcm91cyBtYXJrdXAgdG8gaW5qZWN0IGluIHBsYWNlIG9mIGNoaWxkLlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHNlZSB7RGFuZ2VyLmRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwfVxuICAgKi9cbiAgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXBCeUlEOiBmdW5jdGlvbihpZCwgbWFya3VwKSB7XG4gICAgdmFyIG5vZGUgPSBSZWFjdE1vdW50LmdldE5vZGUoaWQpO1xuICAgIERPTUNoaWxkcmVuT3BlcmF0aW9ucy5kYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cChub2RlLCBtYXJrdXApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgY29tcG9uZW50J3MgY2hpbGRyZW4gYnkgcHJvY2Vzc2luZyBhIHNlcmllcyBvZiB1cGRhdGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5PG9iamVjdD59IHVwZGF0ZXMgTGlzdCBvZiB1cGRhdGUgY29uZmlndXJhdGlvbnMuXG4gICAqIEBwYXJhbSB7YXJyYXk8c3RyaW5nPn0gbWFya3VwIExpc3Qgb2YgbWFya3VwIHN0cmluZ3MuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGFuZ2Vyb3VzbHlQcm9jZXNzQ2hpbGRyZW5VcGRhdGVzOiBmdW5jdGlvbih1cGRhdGVzLCBtYXJrdXApIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVwZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVwZGF0ZXNbaV0ucGFyZW50Tm9kZSA9IFJlYWN0TW91bnQuZ2V0Tm9kZSh1cGRhdGVzW2ldLnBhcmVudElEKTtcbiAgICB9XG4gICAgRE9NQ2hpbGRyZW5PcGVyYXRpb25zLnByb2Nlc3NVcGRhdGVzKHVwZGF0ZXMsIG1hcmt1cCk7XG4gIH1cbn07XG5cblJlYWN0UGVyZi5tZWFzdXJlTWV0aG9kcyhSZWFjdERPTUlET3BlcmF0aW9ucywgJ1JlYWN0RE9NSURPcGVyYXRpb25zJywge1xuICB1cGRhdGVQcm9wZXJ0eUJ5SUQ6ICd1cGRhdGVQcm9wZXJ0eUJ5SUQnLFxuICBkZWxldGVQcm9wZXJ0eUJ5SUQ6ICdkZWxldGVQcm9wZXJ0eUJ5SUQnLFxuICB1cGRhdGVTdHlsZXNCeUlEOiAndXBkYXRlU3R5bGVzQnlJRCcsXG4gIHVwZGF0ZUlubmVySFRNTEJ5SUQ6ICd1cGRhdGVJbm5lckhUTUxCeUlEJyxcbiAgdXBkYXRlVGV4dENvbnRlbnRCeUlEOiAndXBkYXRlVGV4dENvbnRlbnRCeUlEJyxcbiAgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXBCeUlEOiAnZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXBCeUlEJyxcbiAgZGFuZ2Vyb3VzbHlQcm9jZXNzQ2hpbGRyZW5VcGRhdGVzOiAnZGFuZ2Vyb3VzbHlQcm9jZXNzQ2hpbGRyZW5VcGRhdGVzJ1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RET01JRE9wZXJhdGlvbnM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01JZnJhbWVcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudENvbnN0YW50cyA9IHJlcXVpcmUoXCIuL0V2ZW50Q29uc3RhbnRzXCIpO1xudmFyIExvY2FsRXZlbnRUcmFwTWl4aW4gPSByZXF1aXJlKFwiLi9Mb2NhbEV2ZW50VHJhcE1peGluXCIpO1xudmFyIFJlYWN0QnJvd3NlckNvbXBvbmVudE1peGluID0gcmVxdWlyZShcIi4vUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW5cIik7XG52YXIgUmVhY3RDbGFzcyA9IHJlcXVpcmUoXCIuL1JlYWN0Q2xhc3NcIik7XG52YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZShcIi4vUmVhY3RFbGVtZW50XCIpO1xuXG52YXIgaWZyYW1lID0gUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3RvcnkoJ2lmcmFtZScpO1xuXG4vKipcbiAqIFNpbmNlIG9uTG9hZCBkb2Vzbid0IGJ1YmJsZSBPUiBjYXB0dXJlIG9uIHRoZSB0b3AgbGV2ZWwgaW4gSUU4LCB3ZSBuZWVkIHRvXG4gKiBjYXB0dXJlIGl0IG9uIHRoZSA8aWZyYW1lPiBlbGVtZW50IGl0c2VsZi4gVGhlcmUgYXJlIGxvdHMgb2YgaGFja3Mgd2UgY291bGRcbiAqIGRvIHRvIGFjY29tcGxpc2ggdGhpcywgYnV0IHRoZSBtb3N0IHJlbGlhYmxlIGlzIHRvIG1ha2UgPGlmcmFtZT4gYSBjb21wb3NpdGVcbiAqIGNvbXBvbmVudCBhbmQgdXNlIGBjb21wb25lbnREaWRNb3VudGAgdG8gYXR0YWNoIHRoZSBldmVudCBoYW5kbGVycy5cbiAqL1xudmFyIFJlYWN0RE9NSWZyYW1lID0gUmVhY3RDbGFzcy5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUmVhY3RET01JZnJhbWUnLFxuICB0YWdOYW1lOiAnSUZSQU1FJyxcblxuICBtaXhpbnM6IFtSZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpbiwgTG9jYWxFdmVudFRyYXBNaXhpbl0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaWZyYW1lKHRoaXMucHJvcHMpO1xuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRyYXBCdWJibGVkRXZlbnQoRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcy50b3BMb2FkLCAnbG9hZCcpO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUlmcmFtZTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdERPTUltZ1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZShcIi4vRXZlbnRDb25zdGFudHNcIik7XG52YXIgTG9jYWxFdmVudFRyYXBNaXhpbiA9IHJlcXVpcmUoXCIuL0xvY2FsRXZlbnRUcmFwTWl4aW5cIik7XG52YXIgUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW4gPSByZXF1aXJlKFwiLi9SZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpblwiKTtcbnZhciBSZWFjdENsYXNzID0gcmVxdWlyZShcIi4vUmVhY3RDbGFzc1wiKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG5cbnZhciBpbWcgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRmFjdG9yeSgnaW1nJyk7XG5cbi8qKlxuICogU2luY2Ugb25Mb2FkIGRvZXNuJ3QgYnViYmxlIE9SIGNhcHR1cmUgb24gdGhlIHRvcCBsZXZlbCBpbiBJRTgsIHdlIG5lZWQgdG9cbiAqIGNhcHR1cmUgaXQgb24gdGhlIDxpbWc+IGVsZW1lbnQgaXRzZWxmLiBUaGVyZSBhcmUgbG90cyBvZiBoYWNrcyB3ZSBjb3VsZCBkb1xuICogdG8gYWNjb21wbGlzaCB0aGlzLCBidXQgdGhlIG1vc3QgcmVsaWFibGUgaXMgdG8gbWFrZSA8aW1nPiBhIGNvbXBvc2l0ZVxuICogY29tcG9uZW50IGFuZCB1c2UgYGNvbXBvbmVudERpZE1vdW50YCB0byBhdHRhY2ggdGhlIGV2ZW50IGhhbmRsZXJzLlxuICovXG52YXIgUmVhY3RET01JbWcgPSBSZWFjdENsYXNzLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdSZWFjdERPTUltZycsXG4gIHRhZ05hbWU6ICdJTUcnLFxuXG4gIG1peGluczogW1JlYWN0QnJvd3NlckNvbXBvbmVudE1peGluLCBMb2NhbEV2ZW50VHJhcE1peGluXSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpbWcodGhpcy5wcm9wcyk7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcExvYWQsICdsb2FkJyk7XG4gICAgdGhpcy50cmFwQnViYmxlZEV2ZW50KEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXMudG9wRXJyb3IsICdlcnJvcicpO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUltZztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdERPTUlucHV0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQXV0b0ZvY3VzTWl4aW4gPSByZXF1aXJlKFwiLi9BdXRvRm9jdXNNaXhpblwiKTtcbnZhciBET01Qcm9wZXJ0eU9wZXJhdGlvbnMgPSByZXF1aXJlKFwiLi9ET01Qcm9wZXJ0eU9wZXJhdGlvbnNcIik7XG52YXIgTGlua2VkVmFsdWVVdGlscyA9IHJlcXVpcmUoXCIuL0xpbmtlZFZhbHVlVXRpbHNcIik7XG52YXIgUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW4gPSByZXF1aXJlKFwiLi9SZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpblwiKTtcbnZhciBSZWFjdENsYXNzID0gcmVxdWlyZShcIi4vUmVhY3RDbGFzc1wiKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG52YXIgUmVhY3RNb3VudCA9IHJlcXVpcmUoXCIuL1JlYWN0TW91bnRcIik7XG52YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZShcIi4vUmVhY3RVcGRhdGVzXCIpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4vT2JqZWN0LmFzc2lnblwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG5cbnZhciBpbnB1dCA9IFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5KCdpbnB1dCcpO1xuXG52YXIgaW5zdGFuY2VzQnlSZWFjdElEID0ge307XG5cbmZ1bmN0aW9uIGZvcmNlVXBkYXRlSWZNb3VudGVkKCkge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICBpZiAodGhpcy5pc01vdW50ZWQoKSkge1xuICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgYW4gPGlucHV0PiBuYXRpdmUgY29tcG9uZW50IHRoYXQgYWxsb3dzIHNldHRpbmcgdGhlc2Ugb3B0aW9uYWxcbiAqIHByb3BzOiBgY2hlY2tlZGAsIGB2YWx1ZWAsIGBkZWZhdWx0Q2hlY2tlZGAsIGFuZCBgZGVmYXVsdFZhbHVlYC5cbiAqXG4gKiBJZiBgY2hlY2tlZGAgb3IgYHZhbHVlYCBhcmUgbm90IHN1cHBsaWVkIChvciBudWxsL3VuZGVmaW5lZCksIHVzZXIgYWN0aW9uc1xuICogdGhhdCBhZmZlY3QgdGhlIGNoZWNrZWQgc3RhdGUgb3IgdmFsdWUgd2lsbCB0cmlnZ2VyIHVwZGF0ZXMgdG8gdGhlIGVsZW1lbnQuXG4gKlxuICogSWYgdGhleSBhcmUgc3VwcGxpZWQgKGFuZCBub3QgbnVsbC91bmRlZmluZWQpLCB0aGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsIG5vdFxuICogdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSBlbGVtZW50LiBJbnN0ZWFkLCB0aGUgcHJvcHMgbXVzdCBjaGFuZ2UgaW4gb3JkZXIgZm9yXG4gKiB0aGUgcmVuZGVyZWQgZWxlbWVudCB0byBiZSB1cGRhdGVkLlxuICpcbiAqIFRoZSByZW5kZXJlZCBlbGVtZW50IHdpbGwgYmUgaW5pdGlhbGl6ZWQgYXMgdW5jaGVja2VkIChvciBgZGVmYXVsdENoZWNrZWRgKVxuICogd2l0aCBhbiBlbXB0eSB2YWx1ZSAob3IgYGRlZmF1bHRWYWx1ZWApLlxuICpcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMi9XRC1odG1sNS0yMDEyMTAyNS90aGUtaW5wdXQtZWxlbWVudC5odG1sXG4gKi9cbnZhciBSZWFjdERPTUlucHV0ID0gUmVhY3RDbGFzcy5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUmVhY3RET01JbnB1dCcsXG4gIHRhZ05hbWU6ICdJTlBVVCcsXG5cbiAgbWl4aW5zOiBbQXV0b0ZvY3VzTWl4aW4sIExpbmtlZFZhbHVlVXRpbHMuTWl4aW4sIFJlYWN0QnJvd3NlckNvbXBvbmVudE1peGluXSxcblxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkZWZhdWx0VmFsdWUgPSB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgaW5pdGlhbENoZWNrZWQ6IHRoaXMucHJvcHMuZGVmYXVsdENoZWNrZWQgfHwgZmFsc2UsXG4gICAgICBpbml0aWFsVmFsdWU6IGRlZmF1bHRWYWx1ZSAhPSBudWxsID8gZGVmYXVsdFZhbHVlIDogbnVsbFxuICAgIH07XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAvLyBDbG9uZSBgdGhpcy5wcm9wc2Agc28gd2UgZG9uJ3QgbXV0YXRlIHRoZSBpbnB1dC5cbiAgICB2YXIgcHJvcHMgPSBhc3NpZ24oe30sIHRoaXMucHJvcHMpO1xuXG4gICAgcHJvcHMuZGVmYXVsdENoZWNrZWQgPSBudWxsO1xuICAgIHByb3BzLmRlZmF1bHRWYWx1ZSA9IG51bGw7XG5cbiAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHRoaXMpO1xuICAgIHByb3BzLnZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogdGhpcy5zdGF0ZS5pbml0aWFsVmFsdWU7XG5cbiAgICB2YXIgY2hlY2tlZCA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0Q2hlY2tlZCh0aGlzKTtcbiAgICBwcm9wcy5jaGVja2VkID0gY2hlY2tlZCAhPSBudWxsID8gY2hlY2tlZCA6IHRoaXMuc3RhdGUuaW5pdGlhbENoZWNrZWQ7XG5cbiAgICBwcm9wcy5vbkNoYW5nZSA9IHRoaXMuX2hhbmRsZUNoYW5nZTtcblxuICAgIHJldHVybiBpbnB1dChwcm9wcywgdGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpZCA9IFJlYWN0TW91bnQuZ2V0SUQodGhpcy5nZXRET01Ob2RlKCkpO1xuICAgIGluc3RhbmNlc0J5UmVhY3RJRFtpZF0gPSB0aGlzO1xuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcm9vdE5vZGUgPSB0aGlzLmdldERPTU5vZGUoKTtcbiAgICB2YXIgaWQgPSBSZWFjdE1vdW50LmdldElEKHJvb3ROb2RlKTtcbiAgICBkZWxldGUgaW5zdGFuY2VzQnlSZWFjdElEW2lkXTtcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKHByZXZQcm9wcywgcHJldlN0YXRlLCBwcmV2Q29udGV4dCkge1xuICAgIHZhciByb290Tm9kZSA9IHRoaXMuZ2V0RE9NTm9kZSgpO1xuICAgIGlmICh0aGlzLnByb3BzLmNoZWNrZWQgIT0gbnVsbCkge1xuICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLnNldFZhbHVlRm9yUHJvcGVydHkoXG4gICAgICAgIHJvb3ROb2RlLFxuICAgICAgICAnY2hlY2tlZCcsXG4gICAgICAgIHRoaXMucHJvcHMuY2hlY2tlZCB8fCBmYWxzZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHRoaXMpO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAvLyBDYXN0IGB2YWx1ZWAgdG8gYSBzdHJpbmcgdG8gZW5zdXJlIHRoZSB2YWx1ZSBpcyBzZXQgY29ycmVjdGx5LiBXaGlsZVxuICAgICAgLy8gYnJvd3NlcnMgdHlwaWNhbGx5IGRvIHRoaXMgYXMgbmVjZXNzYXJ5LCBqc2RvbSBkb2Vzbid0LlxuICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLnNldFZhbHVlRm9yUHJvcGVydHkocm9vdE5vZGUsICd2YWx1ZScsICcnICsgdmFsdWUpO1xuICAgIH1cbiAgfSxcblxuICBfaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciByZXR1cm5WYWx1ZTtcbiAgICB2YXIgb25DaGFuZ2UgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldE9uQ2hhbmdlKHRoaXMpO1xuICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgcmV0dXJuVmFsdWUgPSBvbkNoYW5nZS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9XG4gICAgLy8gSGVyZSB3ZSB1c2UgYXNhcCB0byB3YWl0IHVudGlsIGFsbCB1cGRhdGVzIGhhdmUgcHJvcGFnYXRlZCwgd2hpY2hcbiAgICAvLyBpcyBpbXBvcnRhbnQgd2hlbiB1c2luZyBjb250cm9sbGVkIGNvbXBvbmVudHMgd2l0aGluIGxheWVyczpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE2OThcbiAgICBSZWFjdFVwZGF0ZXMuYXNhcChmb3JjZVVwZGF0ZUlmTW91bnRlZCwgdGhpcyk7XG5cbiAgICB2YXIgbmFtZSA9IHRoaXMucHJvcHMubmFtZTtcbiAgICBpZiAodGhpcy5wcm9wcy50eXBlID09PSAncmFkaW8nICYmIG5hbWUgIT0gbnVsbCkge1xuICAgICAgdmFyIHJvb3ROb2RlID0gdGhpcy5nZXRET01Ob2RlKCk7XG4gICAgICB2YXIgcXVlcnlSb290ID0gcm9vdE5vZGU7XG5cbiAgICAgIHdoaWxlIChxdWVyeVJvb3QucGFyZW50Tm9kZSkge1xuICAgICAgICBxdWVyeVJvb3QgPSBxdWVyeVJvb3QucGFyZW50Tm9kZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYHJvb3ROb2RlLmZvcm1gIHdhcyBub24tbnVsbCwgdGhlbiB3ZSBjb3VsZCB0cnkgYGZvcm0uZWxlbWVudHNgLFxuICAgICAgLy8gYnV0IHRoYXQgc29tZXRpbWVzIGJlaGF2ZXMgc3RyYW5nZWx5IGluIElFOC4gV2UgY291bGQgYWxzbyB0cnkgdXNpbmdcbiAgICAgIC8vIGBmb3JtLmdldEVsZW1lbnRzQnlOYW1lYCwgYnV0IHRoYXQgd2lsbCBvbmx5IHJldHVybiBkaXJlY3QgY2hpbGRyZW5cbiAgICAgIC8vIGFuZCB3b24ndCBpbmNsdWRlIGlucHV0cyB0aGF0IHVzZSB0aGUgSFRNTDUgYGZvcm09YCBhdHRyaWJ1dGUuIFNpbmNlXG4gICAgICAvLyB0aGUgaW5wdXQgbWlnaHQgbm90IGV2ZW4gYmUgaW4gYSBmb3JtLCBsZXQncyBqdXN0IHVzZSB0aGUgZ2xvYmFsXG4gICAgICAvLyBgcXVlcnlTZWxlY3RvckFsbGAgdG8gZW5zdXJlIHdlIGRvbid0IG1pc3MgYW55dGhpbmcuXG4gICAgICB2YXIgZ3JvdXAgPSBxdWVyeVJvb3QucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgJ2lucHV0W25hbWU9JyArIEpTT04uc3RyaW5naWZ5KCcnICsgbmFtZSkgKyAnXVt0eXBlPVwicmFkaW9cIl0nKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGdyb3VwTGVuID0gZ3JvdXAubGVuZ3RoOyBpIDwgZ3JvdXBMZW47IGkrKykge1xuICAgICAgICB2YXIgb3RoZXJOb2RlID0gZ3JvdXBbaV07XG4gICAgICAgIGlmIChvdGhlck5vZGUgPT09IHJvb3ROb2RlIHx8XG4gICAgICAgICAgICBvdGhlck5vZGUuZm9ybSAhPT0gcm9vdE5vZGUuZm9ybSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdGhlcklEID0gUmVhY3RNb3VudC5nZXRJRChvdGhlck5vZGUpO1xuICAgICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICAgIG90aGVySUQsXG4gICAgICAgICAgJ1JlYWN0RE9NSW5wdXQ6IE1peGluZyBSZWFjdCBhbmQgbm9uLVJlYWN0IHJhZGlvIGlucHV0cyB3aXRoIHRoZSAnICtcbiAgICAgICAgICAnc2FtZSBgbmFtZWAgaXMgbm90IHN1cHBvcnRlZC4nXG4gICAgICAgICkgOiBpbnZhcmlhbnQob3RoZXJJRCkpO1xuICAgICAgICB2YXIgb3RoZXJJbnN0YW5jZSA9IGluc3RhbmNlc0J5UmVhY3RJRFtvdGhlcklEXTtcbiAgICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgICAgICBvdGhlckluc3RhbmNlLFxuICAgICAgICAgICdSZWFjdERPTUlucHV0OiBVbmtub3duIHJhZGlvIGJ1dHRvbiBJRCAlcy4nLFxuICAgICAgICAgIG90aGVySURcbiAgICAgICAgKSA6IGludmFyaWFudChvdGhlckluc3RhbmNlKSk7XG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBjb250cm9sbGVkIHJhZGlvIGJ1dHRvbiBncm91cCwgZm9yY2luZyB0aGUgaW5wdXQgdGhhdFxuICAgICAgICAvLyB3YXMgcHJldmlvdXNseSBjaGVja2VkIHRvIHVwZGF0ZSB3aWxsIGNhdXNlIGl0IHRvIGJlIGNvbWUgcmUtY2hlY2tlZFxuICAgICAgICAvLyBhcyBhcHByb3ByaWF0ZS5cbiAgICAgICAgUmVhY3RVcGRhdGVzLmFzYXAoZm9yY2VVcGRhdGVJZk1vdW50ZWQsIG90aGVySW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfVxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUlucHV0O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RE9NT3B0aW9uXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW4gPSByZXF1aXJlKFwiLi9SZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpblwiKTtcbnZhciBSZWFjdENsYXNzID0gcmVxdWlyZShcIi4vUmVhY3RDbGFzc1wiKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG5cbnZhciB3YXJuaW5nID0gcmVxdWlyZShcIi4vd2FybmluZ1wiKTtcblxudmFyIG9wdGlvbiA9IFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5KCdvcHRpb24nKTtcblxuLyoqXG4gKiBJbXBsZW1lbnRzIGFuIDxvcHRpb24+IG5hdGl2ZSBjb21wb25lbnQgdGhhdCB3YXJucyB3aGVuIGBzZWxlY3RlZGAgaXMgc2V0LlxuICovXG52YXIgUmVhY3RET01PcHRpb24gPSBSZWFjdENsYXNzLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdSZWFjdERPTU9wdGlvbicsXG4gIHRhZ05hbWU6ICdPUFRJT04nLFxuXG4gIG1peGluczogW1JlYWN0QnJvd3NlckNvbXBvbmVudE1peGluXSxcblxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFRPRE8gKHl1bmdzdGVycyk6IFJlbW92ZSBzdXBwb3J0IGZvciBgc2VsZWN0ZWRgIGluIDxvcHRpb24+LlxuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICB0aGlzLnByb3BzLnNlbGVjdGVkID09IG51bGwsXG4gICAgICAgICdVc2UgdGhlIGBkZWZhdWx0VmFsdWVgIG9yIGB2YWx1ZWAgcHJvcHMgb24gPHNlbGVjdD4gaW5zdGVhZCBvZiAnICtcbiAgICAgICAgJ3NldHRpbmcgYHNlbGVjdGVkYCBvbiA8b3B0aW9uPi4nXG4gICAgICApIDogbnVsbCk7XG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG9wdGlvbih0aGlzLnByb3BzLCB0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgfVxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTU9wdGlvbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdERPTVNlbGVjdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEF1dG9Gb2N1c01peGluID0gcmVxdWlyZShcIi4vQXV0b0ZvY3VzTWl4aW5cIik7XG52YXIgTGlua2VkVmFsdWVVdGlscyA9IHJlcXVpcmUoXCIuL0xpbmtlZFZhbHVlVXRpbHNcIik7XG52YXIgUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW4gPSByZXF1aXJlKFwiLi9SZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpblwiKTtcbnZhciBSZWFjdENsYXNzID0gcmVxdWlyZShcIi4vUmVhY3RDbGFzc1wiKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG52YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZShcIi4vUmVhY3RVcGRhdGVzXCIpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4vT2JqZWN0LmFzc2lnblwiKTtcblxudmFyIHNlbGVjdCA9IFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5KCdzZWxlY3QnKTtcblxuZnVuY3Rpb24gdXBkYXRlT3B0aW9uc0lmUGVuZGluZ1VwZGF0ZUFuZE1vdW50ZWQoKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIGlmICh0aGlzLl9wZW5kaW5nVXBkYXRlKSB7XG4gICAgdGhpcy5fcGVuZGluZ1VwZGF0ZSA9IGZhbHNlO1xuICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUodGhpcyk7XG4gICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdGhpcy5pc01vdW50ZWQoKSkge1xuICAgICAgdXBkYXRlT3B0aW9ucyh0aGlzLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGlvbiBmdW5jdGlvbiBmb3IgYHZhbHVlYCBhbmQgYGRlZmF1bHRWYWx1ZWAuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZWxlY3RWYWx1ZVR5cGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gIGlmIChwcm9wc1twcm9wTmFtZV0gPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChwcm9wcy5tdWx0aXBsZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wc1twcm9wTmFtZV0pKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgICAgICAoXCJUaGUgYFwiICsgcHJvcE5hbWUgKyBcImAgcHJvcCBzdXBwbGllZCB0byA8c2VsZWN0PiBtdXN0IGJlIGFuIGFycmF5IGlmIFwiKSArXG4gICAgICAgIChcImBtdWx0aXBsZWAgaXMgdHJ1ZS5cIilcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAgICAgIChcIlRoZSBgXCIgKyBwcm9wTmFtZSArIFwiYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYSBzY2FsYXIgXCIpICtcbiAgICAgICAgKFwidmFsdWUgaWYgYG11bHRpcGxlYCBpcyBmYWxzZS5cIilcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWFjdENvbXBvbmVudH0gY29tcG9uZW50IEluc3RhbmNlIG9mIFJlYWN0RE9NU2VsZWN0XG4gKiBAcGFyYW0geyp9IHByb3BWYWx1ZSBBIHN0cmluZ2FibGUgKHdpdGggYG11bHRpcGxlYCwgYSBsaXN0IG9mIHN0cmluZ2FibGVzKS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMoY29tcG9uZW50LCBwcm9wVmFsdWUpIHtcbiAgdmFyIHNlbGVjdGVkVmFsdWUsIGksIGw7XG4gIHZhciBvcHRpb25zID0gY29tcG9uZW50LmdldERPTU5vZGUoKS5vcHRpb25zO1xuXG4gIGlmIChjb21wb25lbnQucHJvcHMubXVsdGlwbGUpIHtcbiAgICBzZWxlY3RlZFZhbHVlID0ge307XG4gICAgZm9yIChpID0gMCwgbCA9IHByb3BWYWx1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHNlbGVjdGVkVmFsdWVbJycgKyBwcm9wVmFsdWVbaV1dID0gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChpID0gMCwgbCA9IG9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBzZWxlY3RlZFZhbHVlLmhhc093blByb3BlcnR5KG9wdGlvbnNbaV0udmFsdWUpO1xuICAgICAgaWYgKG9wdGlvbnNbaV0uc2VsZWN0ZWQgIT09IHNlbGVjdGVkKSB7XG4gICAgICAgIG9wdGlvbnNbaV0uc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gRG8gbm90IHNldCBgc2VsZWN0LnZhbHVlYCBhcyBleGFjdCBiZWhhdmlvciBpc24ndCBjb25zaXN0ZW50IGFjcm9zcyBhbGxcbiAgICAvLyBicm93c2VycyBmb3IgYWxsIGNhc2VzLlxuICAgIHNlbGVjdGVkVmFsdWUgPSAnJyArIHByb3BWYWx1ZTtcbiAgICBmb3IgKGkgPSAwLCBsID0gb3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChvcHRpb25zW2ldLnZhbHVlID09PSBzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIG9wdGlvbnNbaV0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmxlbmd0aCkge1xuICAgICAgb3B0aW9uc1swXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBhIDxzZWxlY3Q+IG5hdGl2ZSBjb21wb25lbnQgdGhhdCBhbGxvd3Mgb3B0aW9uYWxseSBzZXR0aW5nIHRoZVxuICogcHJvcHMgYHZhbHVlYCBhbmQgYGRlZmF1bHRWYWx1ZWAuIElmIGBtdWx0aXBsZWAgaXMgZmFsc2UsIHRoZSBwcm9wIG11c3QgYmUgYVxuICogc3RyaW5nYWJsZS4gSWYgYG11bHRpcGxlYCBpcyB0cnVlLCB0aGUgcHJvcCBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ2FibGVzLlxuICpcbiAqIElmIGB2YWx1ZWAgaXMgbm90IHN1cHBsaWVkIChvciBudWxsL3VuZGVmaW5lZCksIHVzZXIgYWN0aW9ucyB0aGF0IGNoYW5nZSB0aGVcbiAqIHNlbGVjdGVkIG9wdGlvbiB3aWxsIHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgcmVuZGVyZWQgb3B0aW9ucy5cbiAqXG4gKiBJZiBpdCBpcyBzdXBwbGllZCAoYW5kIG5vdCBudWxsL3VuZGVmaW5lZCksIHRoZSByZW5kZXJlZCBvcHRpb25zIHdpbGwgbm90XG4gKiB1cGRhdGUgaW4gcmVzcG9uc2UgdG8gdXNlciBhY3Rpb25zLiBJbnN0ZWFkLCB0aGUgYHZhbHVlYCBwcm9wIG11c3QgY2hhbmdlIGluXG4gKiBvcmRlciBmb3IgdGhlIHJlbmRlcmVkIG9wdGlvbnMgdG8gdXBkYXRlLlxuICpcbiAqIElmIGBkZWZhdWx0VmFsdWVgIGlzIHByb3ZpZGVkLCBhbnkgb3B0aW9ucyB3aXRoIHRoZSBzdXBwbGllZCB2YWx1ZXMgd2lsbCBiZVxuICogc2VsZWN0ZWQuXG4gKi9cbnZhciBSZWFjdERPTVNlbGVjdCA9IFJlYWN0Q2xhc3MuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1JlYWN0RE9NU2VsZWN0JyxcbiAgdGFnTmFtZTogJ1NFTEVDVCcsXG5cbiAgbWl4aW5zOiBbQXV0b0ZvY3VzTWl4aW4sIExpbmtlZFZhbHVlVXRpbHMuTWl4aW4sIFJlYWN0QnJvd3NlckNvbXBvbmVudE1peGluXSxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBkZWZhdWx0VmFsdWU6IHNlbGVjdFZhbHVlVHlwZSxcbiAgICB2YWx1ZTogc2VsZWN0VmFsdWVUeXBlXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAvLyBDbG9uZSBgdGhpcy5wcm9wc2Agc28gd2UgZG9uJ3QgbXV0YXRlIHRoZSBpbnB1dC5cbiAgICB2YXIgcHJvcHMgPSBhc3NpZ24oe30sIHRoaXMucHJvcHMpO1xuXG4gICAgcHJvcHMub25DaGFuZ2UgPSB0aGlzLl9oYW5kbGVDaGFuZ2U7XG4gICAgcHJvcHMudmFsdWUgPSBudWxsO1xuXG4gICAgcmV0dXJuIHNlbGVjdChwcm9wcywgdGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9wZW5kaW5nVXBkYXRlID0gZmFsc2U7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUodGhpcyk7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIHVwZGF0ZU9wdGlvbnModGhpcywgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgdXBkYXRlT3B0aW9ucyh0aGlzLCB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSk7XG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24ocHJldlByb3BzKSB7XG4gICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZSh0aGlzKTtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fcGVuZGluZ1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgdXBkYXRlT3B0aW9ucyh0aGlzLCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmICghcHJldlByb3BzLm11bHRpcGxlICE9PSAhdGhpcy5wcm9wcy5tdWx0aXBsZSkge1xuICAgICAgLy8gRm9yIHNpbXBsaWNpdHksIHJlYXBwbHkgYGRlZmF1bHRWYWx1ZWAgaWYgYG11bHRpcGxlYCBpcyB0b2dnbGVkLlxuICAgICAgaWYgKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdXBkYXRlT3B0aW9ucyh0aGlzLCB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXZlcnQgdGhlIHNlbGVjdCBiYWNrIHRvIGl0cyBkZWZhdWx0IHVuc2VsZWN0ZWQgc3RhdGUuXG4gICAgICAgIHVwZGF0ZU9wdGlvbnModGhpcywgdGhpcy5wcm9wcy5tdWx0aXBsZSA/IFtdIDogJycpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBfaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciByZXR1cm5WYWx1ZTtcbiAgICB2YXIgb25DaGFuZ2UgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldE9uQ2hhbmdlKHRoaXMpO1xuICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgcmV0dXJuVmFsdWUgPSBvbkNoYW5nZS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLl9wZW5kaW5nVXBkYXRlID0gdHJ1ZTtcbiAgICBSZWFjdFVwZGF0ZXMuYXNhcCh1cGRhdGVPcHRpb25zSWZQZW5kaW5nVXBkYXRlQW5kTW91bnRlZCwgdGhpcyk7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9XG5cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NU2VsZWN0O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RE9NU2VsZWN0aW9uXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi9FeGVjdXRpb25FbnZpcm9ubWVudFwiKTtcblxudmFyIGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQgPSByZXF1aXJlKFwiLi9nZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0XCIpO1xudmFyIGdldFRleHRDb250ZW50QWNjZXNzb3IgPSByZXF1aXJlKFwiLi9nZXRUZXh0Q29udGVudEFjY2Vzc29yXCIpO1xuXG4vKipcbiAqIFdoaWxlIGBpc0NvbGxhcHNlZGAgaXMgYXZhaWxhYmxlIG9uIHRoZSBTZWxlY3Rpb24gb2JqZWN0IGFuZCBgY29sbGFwc2VkYFxuICogaXMgYXZhaWxhYmxlIG9uIHRoZSBSYW5nZSBvYmplY3QsIElFMTEgc29tZXRpbWVzIGdldHMgdGhlbSB3cm9uZy5cbiAqIElmIHRoZSBhbmNob3IvZm9jdXMgbm9kZXMgYW5kIG9mZnNldHMgYXJlIHRoZSBzYW1lLCB0aGUgcmFuZ2UgaXMgY29sbGFwc2VkLlxuICovXG5mdW5jdGlvbiBpc0NvbGxhcHNlZChhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQsIGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpIHtcbiAgcmV0dXJuIGFuY2hvck5vZGUgPT09IGZvY3VzTm9kZSAmJiBhbmNob3JPZmZzZXQgPT09IGZvY3VzT2Zmc2V0O1xufVxuXG4vKipcbiAqIEdldCB0aGUgYXBwcm9wcmlhdGUgYW5jaG9yIGFuZCBmb2N1cyBub2RlL29mZnNldCBwYWlycyBmb3IgSUUuXG4gKlxuICogVGhlIGNhdGNoIGhlcmUgaXMgdGhhdCBJRSdzIHNlbGVjdGlvbiBBUEkgZG9lc24ndCBwcm92aWRlIGluZm9ybWF0aW9uXG4gKiBhYm91dCB3aGV0aGVyIHRoZSBzZWxlY3Rpb24gaXMgZm9yd2FyZCBvciBiYWNrd2FyZCwgc28gd2UgaGF2ZSB0b1xuICogYmVoYXZlIGFzIHRob3VnaCBpdCdzIGFsd2F5cyBmb3J3YXJkLlxuICpcbiAqIElFIHRleHQgZGlmZmVycyBmcm9tIG1vZGVybiBzZWxlY3Rpb24gaW4gdGhhdCBpdCBiZWhhdmVzIGFzIHRob3VnaFxuICogYmxvY2sgZWxlbWVudHMgZW5kIHdpdGggYSBuZXcgbGluZS4gVGhpcyBtZWFucyBjaGFyYWN0ZXIgb2Zmc2V0cyB3aWxsXG4gKiBkaWZmZXIgYmV0d2VlbiB0aGUgdHdvIEFQSXMuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGdldElFT2Zmc2V0cyhub2RlKSB7XG4gIHZhciBzZWxlY3Rpb24gPSBkb2N1bWVudC5zZWxlY3Rpb247XG4gIHZhciBzZWxlY3RlZFJhbmdlID0gc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gIHZhciBzZWxlY3RlZExlbmd0aCA9IHNlbGVjdGVkUmFuZ2UudGV4dC5sZW5ndGg7XG5cbiAgLy8gRHVwbGljYXRlIHNlbGVjdGlvbiBzbyB3ZSBjYW4gbW92ZSByYW5nZSB3aXRob3V0IGJyZWFraW5nIHVzZXIgc2VsZWN0aW9uLlxuICB2YXIgZnJvbVN0YXJ0ID0gc2VsZWN0ZWRSYW5nZS5kdXBsaWNhdGUoKTtcbiAgZnJvbVN0YXJ0Lm1vdmVUb0VsZW1lbnRUZXh0KG5vZGUpO1xuICBmcm9tU3RhcnQuc2V0RW5kUG9pbnQoJ0VuZFRvU3RhcnQnLCBzZWxlY3RlZFJhbmdlKTtcblxuICB2YXIgc3RhcnRPZmZzZXQgPSBmcm9tU3RhcnQudGV4dC5sZW5ndGg7XG4gIHZhciBlbmRPZmZzZXQgPSBzdGFydE9mZnNldCArIHNlbGVjdGVkTGVuZ3RoO1xuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHN0YXJ0T2Zmc2V0LFxuICAgIGVuZDogZW5kT2Zmc2V0XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcmV0dXJuIHs/b2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRNb2Rlcm5PZmZzZXRzKG5vZGUpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24gJiYgd2luZG93LmdldFNlbGVjdGlvbigpO1xuXG4gIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgYW5jaG9yTm9kZSA9IHNlbGVjdGlvbi5hbmNob3JOb2RlO1xuICB2YXIgYW5jaG9yT2Zmc2V0ID0gc2VsZWN0aW9uLmFuY2hvck9mZnNldDtcbiAgdmFyIGZvY3VzTm9kZSA9IHNlbGVjdGlvbi5mb2N1c05vZGU7XG4gIHZhciBmb2N1c09mZnNldCA9IHNlbGVjdGlvbi5mb2N1c09mZnNldDtcblxuICB2YXIgY3VycmVudFJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG5cbiAgLy8gSWYgdGhlIG5vZGUgYW5kIG9mZnNldCB2YWx1ZXMgYXJlIHRoZSBzYW1lLCB0aGUgc2VsZWN0aW9uIGlzIGNvbGxhcHNlZC5cbiAgLy8gYFNlbGVjdGlvbi5pc0NvbGxhcHNlZGAgaXMgYXZhaWxhYmxlIG5hdGl2ZWx5LCBidXQgSUUgc29tZXRpbWVzIGdldHNcbiAgLy8gdGhpcyB2YWx1ZSB3cm9uZy5cbiAgdmFyIGlzU2VsZWN0aW9uQ29sbGFwc2VkID0gaXNDb2xsYXBzZWQoXG4gICAgc2VsZWN0aW9uLmFuY2hvck5vZGUsXG4gICAgc2VsZWN0aW9uLmFuY2hvck9mZnNldCxcbiAgICBzZWxlY3Rpb24uZm9jdXNOb2RlLFxuICAgIHNlbGVjdGlvbi5mb2N1c09mZnNldFxuICApO1xuXG4gIHZhciByYW5nZUxlbmd0aCA9IGlzU2VsZWN0aW9uQ29sbGFwc2VkID8gMCA6IGN1cnJlbnRSYW5nZS50b1N0cmluZygpLmxlbmd0aDtcblxuICB2YXIgdGVtcFJhbmdlID0gY3VycmVudFJhbmdlLmNsb25lUmFuZ2UoKTtcbiAgdGVtcFJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhub2RlKTtcbiAgdGVtcFJhbmdlLnNldEVuZChjdXJyZW50UmFuZ2Uuc3RhcnRDb250YWluZXIsIGN1cnJlbnRSYW5nZS5zdGFydE9mZnNldCk7XG5cbiAgdmFyIGlzVGVtcFJhbmdlQ29sbGFwc2VkID0gaXNDb2xsYXBzZWQoXG4gICAgdGVtcFJhbmdlLnN0YXJ0Q29udGFpbmVyLFxuICAgIHRlbXBSYW5nZS5zdGFydE9mZnNldCxcbiAgICB0ZW1wUmFuZ2UuZW5kQ29udGFpbmVyLFxuICAgIHRlbXBSYW5nZS5lbmRPZmZzZXRcbiAgKTtcblxuICB2YXIgc3RhcnQgPSBpc1RlbXBSYW5nZUNvbGxhcHNlZCA/IDAgOiB0ZW1wUmFuZ2UudG9TdHJpbmcoKS5sZW5ndGg7XG4gIHZhciBlbmQgPSBzdGFydCArIHJhbmdlTGVuZ3RoO1xuXG4gIC8vIERldGVjdCB3aGV0aGVyIHRoZSBzZWxlY3Rpb24gaXMgYmFja3dhcmQuXG4gIHZhciBkZXRlY3Rpb25SYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIGRldGVjdGlvblJhbmdlLnNldFN0YXJ0KGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCk7XG4gIGRldGVjdGlvblJhbmdlLnNldEVuZChmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KTtcbiAgdmFyIGlzQmFja3dhcmQgPSBkZXRlY3Rpb25SYW5nZS5jb2xsYXBzZWQ7XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydDogaXNCYWNrd2FyZCA/IGVuZCA6IHN0YXJ0LFxuICAgIGVuZDogaXNCYWNrd2FyZCA/IHN0YXJ0IDogZW5kXG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtET01FbGVtZW50fERPTVRleHROb2RlfSBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gb2Zmc2V0c1xuICovXG5mdW5jdGlvbiBzZXRJRU9mZnNldHMobm9kZSwgb2Zmc2V0cykge1xuICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS5kdXBsaWNhdGUoKTtcbiAgdmFyIHN0YXJ0LCBlbmQ7XG5cbiAgaWYgKHR5cGVvZiBvZmZzZXRzLmVuZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzdGFydCA9IG9mZnNldHMuc3RhcnQ7XG4gICAgZW5kID0gc3RhcnQ7XG4gIH0gZWxzZSBpZiAob2Zmc2V0cy5zdGFydCA+IG9mZnNldHMuZW5kKSB7XG4gICAgc3RhcnQgPSBvZmZzZXRzLmVuZDtcbiAgICBlbmQgPSBvZmZzZXRzLnN0YXJ0O1xuICB9IGVsc2Uge1xuICAgIHN0YXJ0ID0gb2Zmc2V0cy5zdGFydDtcbiAgICBlbmQgPSBvZmZzZXRzLmVuZDtcbiAgfVxuXG4gIHJhbmdlLm1vdmVUb0VsZW1lbnRUZXh0KG5vZGUpO1xuICByYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIHN0YXJ0KTtcbiAgcmFuZ2Uuc2V0RW5kUG9pbnQoJ0VuZFRvU3RhcnQnLCByYW5nZSk7XG4gIHJhbmdlLm1vdmVFbmQoJ2NoYXJhY3RlcicsIGVuZCAtIHN0YXJ0KTtcbiAgcmFuZ2Uuc2VsZWN0KCk7XG59XG5cbi8qKlxuICogSW4gbW9kZXJuIG5vbi1JRSBicm93c2Vycywgd2UgY2FuIHN1cHBvcnQgYm90aCBmb3J3YXJkIGFuZCBiYWNrd2FyZFxuICogc2VsZWN0aW9ucy5cbiAqXG4gKiBOb3RlOiBJRTEwKyBzdXBwb3J0cyB0aGUgU2VsZWN0aW9uIG9iamVjdCwgYnV0IGl0IGRvZXMgbm90IHN1cHBvcnRcbiAqIHRoZSBgZXh0ZW5kYCBtZXRob2QsIHdoaWNoIG1lYW5zIHRoYXQgZXZlbiBpbiBtb2Rlcm4gSUUsIGl0J3Mgbm90IHBvc3NpYmxlXG4gKiB0byBwcm9ncmFtYXRpY2FsbHkgY3JlYXRlIGEgYmFja3dhcmQgc2VsZWN0aW9uLiBUaHVzLCBmb3IgYWxsIElFXG4gKiB2ZXJzaW9ucywgd2UgdXNlIHRoZSBvbGQgSUUgQVBJIHRvIGNyZWF0ZSBvdXIgc2VsZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvZmZzZXRzXG4gKi9cbmZ1bmN0aW9uIHNldE1vZGVybk9mZnNldHMobm9kZSwgb2Zmc2V0cykge1xuICBpZiAoIXdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICB2YXIgbGVuZ3RoID0gbm9kZVtnZXRUZXh0Q29udGVudEFjY2Vzc29yKCldLmxlbmd0aDtcbiAgdmFyIHN0YXJ0ID0gTWF0aC5taW4ob2Zmc2V0cy5zdGFydCwgbGVuZ3RoKTtcbiAgdmFyIGVuZCA9IHR5cGVvZiBvZmZzZXRzLmVuZCA9PT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgICAgICAgc3RhcnQgOiBNYXRoLm1pbihvZmZzZXRzLmVuZCwgbGVuZ3RoKTtcblxuICAvLyBJRSAxMSB1c2VzIG1vZGVybiBzZWxlY3Rpb24sIGJ1dCBkb2Vzbid0IHN1cHBvcnQgdGhlIGV4dGVuZCBtZXRob2QuXG4gIC8vIEZsaXAgYmFja3dhcmQgc2VsZWN0aW9ucywgc28gd2UgY2FuIHNldCB3aXRoIGEgc2luZ2xlIHJhbmdlLlxuICBpZiAoIXNlbGVjdGlvbi5leHRlbmQgJiYgc3RhcnQgPiBlbmQpIHtcbiAgICB2YXIgdGVtcCA9IGVuZDtcbiAgICBlbmQgPSBzdGFydDtcbiAgICBzdGFydCA9IHRlbXA7XG4gIH1cblxuICB2YXIgc3RhcnRNYXJrZXIgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KG5vZGUsIHN0YXJ0KTtcbiAgdmFyIGVuZE1hcmtlciA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQobm9kZSwgZW5kKTtcblxuICBpZiAoc3RhcnRNYXJrZXIgJiYgZW5kTWFya2VyKSB7XG4gICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICByYW5nZS5zZXRTdGFydChzdGFydE1hcmtlci5ub2RlLCBzdGFydE1hcmtlci5vZmZzZXQpO1xuICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcblxuICAgIGlmIChzdGFydCA+IGVuZCkge1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgIHNlbGVjdGlvbi5leHRlbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZS5zZXRFbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHVzZUlFT2Zmc2V0cyA9IChcbiAgRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmXG4gICdzZWxlY3Rpb24nIGluIGRvY3VtZW50ICYmXG4gICEoJ2dldFNlbGVjdGlvbicgaW4gd2luZG93KVxuKTtcblxudmFyIFJlYWN0RE9NU2VsZWN0aW9uID0ge1xuICAvKipcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gICAqL1xuICBnZXRPZmZzZXRzOiB1c2VJRU9mZnNldHMgPyBnZXRJRU9mZnNldHMgOiBnZXRNb2Rlcm5PZmZzZXRzLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAgICogQHBhcmFtIHtvYmplY3R9IG9mZnNldHNcbiAgICovXG4gIHNldE9mZnNldHM6IHVzZUlFT2Zmc2V0cyA/IHNldElFT2Zmc2V0cyA6IHNldE1vZGVybk9mZnNldHNcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RET01TZWxlY3Rpb247XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01UZXh0Q29tcG9uZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIERPTVByb3BlcnR5T3BlcmF0aW9ucyA9IHJlcXVpcmUoXCIuL0RPTVByb3BlcnR5T3BlcmF0aW9uc1wiKTtcbnZhciBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCA9XG4gIHJlcXVpcmUoXCIuL1JlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50XCIpO1xudmFyIFJlYWN0RE9NQ29tcG9uZW50ID0gcmVxdWlyZShcIi4vUmVhY3RET01Db21wb25lbnRcIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlciA9IHJlcXVpcmUoXCIuL2VzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlclwiKTtcblxuLyoqXG4gKiBUZXh0IG5vZGVzIHZpb2xhdGUgYSBjb3VwbGUgYXNzdW1wdGlvbnMgdGhhdCBSZWFjdCBtYWtlcyBhYm91dCBjb21wb25lbnRzOlxuICpcbiAqICAtIFdoZW4gbW91bnRpbmcgdGV4dCBpbnRvIHRoZSBET00sIGFkamFjZW50IHRleHQgbm9kZXMgYXJlIG1lcmdlZC5cbiAqICAtIFRleHQgbm9kZXMgY2Fubm90IGJlIGFzc2lnbmVkIGEgUmVhY3Qgcm9vdCBJRC5cbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBpcyB1c2VkIHRvIHdyYXAgc3RyaW5ncyBpbiBlbGVtZW50cyBzbyB0aGF0IHRoZXkgY2FuIHVuZGVyZ29cbiAqIHRoZSBzYW1lIHJlY29uY2lsaWF0aW9uIHRoYXQgaXMgYXBwbGllZCB0byBlbGVtZW50cy5cbiAqXG4gKiBUT0RPOiBJbnZlc3RpZ2F0ZSByZXByZXNlbnRpbmcgUmVhY3QgY29tcG9uZW50cyBpbiB0aGUgRE9NIHdpdGggdGV4dCBub2Rlcy5cbiAqXG4gKiBAY2xhc3MgUmVhY3RET01UZXh0Q29tcG9uZW50XG4gKiBAZXh0ZW5kcyBSZWFjdENvbXBvbmVudFxuICogQGludGVybmFsXG4gKi9cbnZhciBSZWFjdERPTVRleHRDb21wb25lbnQgPSBmdW5jdGlvbihwcm9wcykge1xuICAvLyBUaGlzIGNvbnN0cnVjdG9yIGFuZCBpdHMgYXJndW1lbnQgaXMgY3VycmVudGx5IHVzZWQgYnkgbW9ja3MuXG59O1xuXG5hc3NpZ24oUmVhY3RET01UZXh0Q29tcG9uZW50LnByb3RvdHlwZSwge1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlYWN0VGV4dH0gdGV4dFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdDogZnVuY3Rpb24odGV4dCkge1xuICAgIC8vIFRPRE86IFRoaXMgaXMgcmVhbGx5IGEgUmVhY3RUZXh0IChSZWFjdE5vZGUpLCBub3QgYSBSZWFjdEVsZW1lbnRcbiAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IHRleHQ7XG4gICAgdGhpcy5fc3RyaW5nVGV4dCA9ICcnICsgdGV4dDtcblxuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLl9yb290Tm9kZUlEID0gbnVsbDtcbiAgICB0aGlzLl9tb3VudEluZGV4ID0gMDtcbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgbWFya3VwIGZvciB0aGlzIHRleHQgbm9kZS4gVGhpcyBub2RlIGlzIG5vdCBpbnRlbmRlZCB0byBoYXZlXG4gICAqIGFueSBmZWF0dXJlcyBiZXNpZGVzIGNvbnRhaW5pbmcgdGV4dCBjb250ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcm9vdElEIERPTSBJRCBvZiB0aGUgcm9vdCBub2RlLlxuICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb258UmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHJldHVybiB7c3RyaW5nfSBNYXJrdXAgZm9yIHRoaXMgdGV4dCBub2RlLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihyb290SUQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgdGhpcy5fcm9vdE5vZGVJRCA9IHJvb3RJRDtcbiAgICB2YXIgZXNjYXBlZFRleHQgPSBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIodGhpcy5fc3RyaW5nVGV4dCk7XG5cbiAgICBpZiAodHJhbnNhY3Rpb24ucmVuZGVyVG9TdGF0aWNNYXJrdXApIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlJ2Qgd3JhcCB0aGlzIGluIGEgYHNwYW5gIGZvciB0aGUgcmVhc29ucyBzdGF0ZWQgYWJvdmUsIGJ1dFxuICAgICAgLy8gc2luY2UgdGhpcyBpcyBhIHNpdHVhdGlvbiB3aGVyZSBSZWFjdCB3b24ndCB0YWtlIG92ZXIgKHN0YXRpYyBwYWdlcyksXG4gICAgICAvLyB3ZSBjYW4gc2ltcGx5IHJldHVybiB0aGUgdGV4dCBhcyBpdCBpcy5cbiAgICAgIHJldHVybiBlc2NhcGVkVGV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgJzxzcGFuICcgKyBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuY3JlYXRlTWFya3VwRm9ySUQocm9vdElEKSArICc+JyArXG4gICAgICAgIGVzY2FwZWRUZXh0ICtcbiAgICAgICc8L3NwYW4+J1xuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhpcyBjb21wb25lbnQgYnkgdXBkYXRpbmcgdGhlIHRleHQgY29udGVudC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdFRleHR9IG5leHRUZXh0IFRoZSBuZXh0IHRleHQgY29udGVudFxuICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcmVjZWl2ZUNvbXBvbmVudDogZnVuY3Rpb24obmV4dFRleHQsIHRyYW5zYWN0aW9uKSB7XG4gICAgaWYgKG5leHRUZXh0ICE9PSB0aGlzLl9jdXJyZW50RWxlbWVudCkge1xuICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBuZXh0VGV4dDtcbiAgICAgIHZhciBuZXh0U3RyaW5nVGV4dCA9ICcnICsgbmV4dFRleHQ7XG4gICAgICBpZiAobmV4dFN0cmluZ1RleHQgIT09IHRoaXMuX3N0cmluZ1RleHQpIHtcbiAgICAgICAgLy8gVE9ETzogU2F2ZSB0aGlzIGFzIHBlbmRpbmcgcHJvcHMgYW5kIHVzZSBwZXJmb3JtVXBkYXRlSWZOZWNlc3NhcnlcbiAgICAgICAgLy8gYW5kL29yIHVwZGF0ZUNvbXBvbmVudCB0byBkbyB0aGUgYWN0dWFsIHVwZGF0ZSBmb3IgY29uc2lzdGVuY3kgd2l0aFxuICAgICAgICAvLyBvdGhlciBjb21wb25lbnQgdHlwZXM/XG4gICAgICAgIHRoaXMuX3N0cmluZ1RleHQgPSBuZXh0U3RyaW5nVGV4dDtcbiAgICAgICAgUmVhY3RET01Db21wb25lbnQuQmFja2VuZElET3BlcmF0aW9ucy51cGRhdGVUZXh0Q29udGVudEJ5SUQoXG4gICAgICAgICAgdGhpcy5fcm9vdE5vZGVJRCxcbiAgICAgICAgICBuZXh0U3RyaW5nVGV4dFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICB1bm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbigpIHtcbiAgICBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudC51bm1vdW50SURGcm9tRW52aXJvbm1lbnQodGhpcy5fcm9vdE5vZGVJRCk7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RET01UZXh0Q29tcG9uZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RE9NVGV4dGFyZWFcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBBdXRvRm9jdXNNaXhpbiA9IHJlcXVpcmUoXCIuL0F1dG9Gb2N1c01peGluXCIpO1xudmFyIERPTVByb3BlcnR5T3BlcmF0aW9ucyA9IHJlcXVpcmUoXCIuL0RPTVByb3BlcnR5T3BlcmF0aW9uc1wiKTtcbnZhciBMaW5rZWRWYWx1ZVV0aWxzID0gcmVxdWlyZShcIi4vTGlua2VkVmFsdWVVdGlsc1wiKTtcbnZhciBSZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpbiA9IHJlcXVpcmUoXCIuL1JlYWN0QnJvd3NlckNvbXBvbmVudE1peGluXCIpO1xudmFyIFJlYWN0Q2xhc3MgPSByZXF1aXJlKFwiLi9SZWFjdENsYXNzXCIpO1xudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RWxlbWVudFwiKTtcbnZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKFwiLi9SZWFjdFVwZGF0ZXNcIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcblxudmFyIHdhcm5pbmcgPSByZXF1aXJlKFwiLi93YXJuaW5nXCIpO1xuXG52YXIgdGV4dGFyZWEgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRmFjdG9yeSgndGV4dGFyZWEnKTtcblxuZnVuY3Rpb24gZm9yY2VVcGRhdGVJZk1vdW50ZWQoKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIGlmICh0aGlzLmlzTW91bnRlZCgpKSB7XG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBhIDx0ZXh0YXJlYT4gbmF0aXZlIGNvbXBvbmVudCB0aGF0IGFsbG93cyBzZXR0aW5nIGB2YWx1ZWAsIGFuZFxuICogYGRlZmF1bHRWYWx1ZWAuIFRoaXMgZGlmZmVycyBmcm9tIHRoZSB0cmFkaXRpb25hbCBET00gQVBJIGJlY2F1c2UgdmFsdWUgaXNcbiAqIHVzdWFsbHkgc2V0IGFzIFBDREFUQSBjaGlsZHJlbi5cbiAqXG4gKiBJZiBgdmFsdWVgIGlzIG5vdCBzdXBwbGllZCAob3IgbnVsbC91bmRlZmluZWQpLCB1c2VyIGFjdGlvbnMgdGhhdCBhZmZlY3QgdGhlXG4gKiB2YWx1ZSB3aWxsIHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgZWxlbWVudC5cbiAqXG4gKiBJZiBgdmFsdWVgIGlzIHN1cHBsaWVkIChhbmQgbm90IG51bGwvdW5kZWZpbmVkKSwgdGhlIHJlbmRlcmVkIGVsZW1lbnQgd2lsbFxuICogbm90IHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgZWxlbWVudC4gSW5zdGVhZCwgdGhlIGB2YWx1ZWAgcHJvcCBtdXN0IGNoYW5nZSBpblxuICogb3JkZXIgZm9yIHRoZSByZW5kZXJlZCBlbGVtZW50IHRvIGJlIHVwZGF0ZWQuXG4gKlxuICogVGhlIHJlbmRlcmVkIGVsZW1lbnQgd2lsbCBiZSBpbml0aWFsaXplZCB3aXRoIGFuIGVtcHR5IHZhbHVlLCB0aGUgcHJvcFxuICogYGRlZmF1bHRWYWx1ZWAgaWYgc3BlY2lmaWVkLCBvciB0aGUgY2hpbGRyZW4gY29udGVudCAoZGVwcmVjYXRlZCkuXG4gKi9cbnZhciBSZWFjdERPTVRleHRhcmVhID0gUmVhY3RDbGFzcy5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUmVhY3RET01UZXh0YXJlYScsXG4gIHRhZ05hbWU6ICdURVhUQVJFQScsXG5cbiAgbWl4aW5zOiBbQXV0b0ZvY3VzTWl4aW4sIExpbmtlZFZhbHVlVXRpbHMuTWl4aW4sIFJlYWN0QnJvd3NlckNvbXBvbmVudE1peGluXSxcblxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkZWZhdWx0VmFsdWUgPSB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICAvLyBUT0RPICh5dW5nc3RlcnMpOiBSZW1vdmUgc3VwcG9ydCBmb3IgY2hpbGRyZW4gY29udGVudCBpbiA8dGV4dGFyZWE+LlxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuICE9IG51bGwpIHtcbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgJ1VzZSB0aGUgYGRlZmF1bHRWYWx1ZWAgb3IgYHZhbHVlYCBwcm9wcyBpbnN0ZWFkIG9mIHNldHRpbmcgJyArXG4gICAgICAgICAgJ2NoaWxkcmVuIG9uIDx0ZXh0YXJlYT4uJ1xuICAgICAgICApIDogbnVsbCk7XG4gICAgICB9XG4gICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICBkZWZhdWx0VmFsdWUgPT0gbnVsbCxcbiAgICAgICAgJ0lmIHlvdSBzdXBwbHkgYGRlZmF1bHRWYWx1ZWAgb24gYSA8dGV4dGFyZWE+LCBkbyBub3QgcGFzcyBjaGlsZHJlbi4nXG4gICAgICApIDogaW52YXJpYW50KGRlZmF1bHRWYWx1ZSA9PSBudWxsKSk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgICAgICBjaGlsZHJlbi5sZW5ndGggPD0gMSxcbiAgICAgICAgICAnPHRleHRhcmVhPiBjYW4gb25seSBoYXZlIGF0IG1vc3Qgb25lIGNoaWxkLidcbiAgICAgICAgKSA6IGludmFyaWFudChjaGlsZHJlbi5sZW5ndGggPD0gMSkpO1xuICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuWzBdO1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0VmFsdWUgPSAnJyArIGNoaWxkcmVuO1xuICAgIH1cbiAgICBpZiAoZGVmYXVsdFZhbHVlID09IG51bGwpIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9ICcnO1xuICAgIH1cbiAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHRoaXMpO1xuICAgIHJldHVybiB7XG4gICAgICAvLyBXZSBzYXZlIHRoZSBpbml0aWFsIHZhbHVlIHNvIHRoYXQgYFJlYWN0RE9NQ29tcG9uZW50YCBkb2Vzbid0IHVwZGF0ZVxuICAgICAgLy8gYHRleHRDb250ZW50YCAodW5uZWNlc3Nhcnkgc2luY2Ugd2UgdXBkYXRlIHZhbHVlKS5cbiAgICAgIC8vIFRoZSBpbml0aWFsIHZhbHVlIGNhbiBiZSBhIGJvb2xlYW4gb3Igb2JqZWN0IHNvIHRoYXQncyB3aHkgaXQnc1xuICAgICAgLy8gZm9yY2VkIHRvIGJlIGEgc3RyaW5nLlxuICAgICAgaW5pdGlhbFZhbHVlOiAnJyArICh2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBkZWZhdWx0VmFsdWUpXG4gICAgfTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIC8vIENsb25lIGB0aGlzLnByb3BzYCBzbyB3ZSBkb24ndCBtdXRhdGUgdGhlIGlucHV0LlxuICAgIHZhciBwcm9wcyA9IGFzc2lnbih7fSwgdGhpcy5wcm9wcyk7XG5cbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgPT0gbnVsbCxcbiAgICAgICdgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIGRvZXMgbm90IG1ha2Ugc2Vuc2Ugb24gPHRleHRhcmVhPi4nXG4gICAgKSA6IGludmFyaWFudChwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PSBudWxsKSk7XG5cbiAgICBwcm9wcy5kZWZhdWx0VmFsdWUgPSBudWxsO1xuICAgIHByb3BzLnZhbHVlID0gbnVsbDtcbiAgICBwcm9wcy5vbkNoYW5nZSA9IHRoaXMuX2hhbmRsZUNoYW5nZTtcblxuICAgIC8vIEFsd2F5cyBzZXQgY2hpbGRyZW4gdG8gdGhlIHNhbWUgdGhpbmcuIEluIElFOSwgdGhlIHNlbGVjdGlvbiByYW5nZSB3aWxsXG4gICAgLy8gZ2V0IHJlc2V0IGlmIGB0ZXh0Q29udGVudGAgaXMgbXV0YXRlZC5cbiAgICByZXR1cm4gdGV4dGFyZWEocHJvcHMsIHRoaXMuc3RhdGUuaW5pdGlhbFZhbHVlKTtcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKHByZXZQcm9wcywgcHJldlN0YXRlLCBwcmV2Q29udGV4dCkge1xuICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUodGhpcyk7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIHZhciByb290Tm9kZSA9IHRoaXMuZ2V0RE9NTm9kZSgpO1xuICAgICAgLy8gQ2FzdCBgdmFsdWVgIHRvIGEgc3RyaW5nIHRvIGVuc3VyZSB0aGUgdmFsdWUgaXMgc2V0IGNvcnJlY3RseS4gV2hpbGVcbiAgICAgIC8vIGJyb3dzZXJzIHR5cGljYWxseSBkbyB0aGlzIGFzIG5lY2Vzc2FyeSwganNkb20gZG9lc24ndC5cbiAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvclByb3BlcnR5KHJvb3ROb2RlLCAndmFsdWUnLCAnJyArIHZhbHVlKTtcbiAgICB9XG4gIH0sXG5cbiAgX2hhbmRsZUNoYW5nZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgcmV0dXJuVmFsdWU7XG4gICAgdmFyIG9uQ2hhbmdlID0gTGlua2VkVmFsdWVVdGlscy5nZXRPbkNoYW5nZSh0aGlzKTtcbiAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgIHJldHVyblZhbHVlID0gb25DaGFuZ2UuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfVxuICAgIFJlYWN0VXBkYXRlcy5hc2FwKGZvcmNlVXBkYXRlSWZNb3VudGVkLCB0aGlzKTtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH1cblxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RET01UZXh0YXJlYTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZShcIi4vUmVhY3RVcGRhdGVzXCIpO1xudmFyIFRyYW5zYWN0aW9uID0gcmVxdWlyZShcIi4vVHJhbnNhY3Rpb25cIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKFwiLi9lbXB0eUZ1bmN0aW9uXCIpO1xuXG52YXIgUkVTRVRfQkFUQ0hFRF9VUERBVEVTID0ge1xuICBpbml0aWFsaXplOiBlbXB0eUZ1bmN0aW9uLFxuICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcyA9IGZhbHNlO1xuICB9XG59O1xuXG52YXIgRkxVU0hfQkFUQ0hFRF9VUERBVEVTID0ge1xuICBpbml0aWFsaXplOiBlbXB0eUZ1bmN0aW9uLFxuICBjbG9zZTogUmVhY3RVcGRhdGVzLmZsdXNoQmF0Y2hlZFVwZGF0ZXMuYmluZChSZWFjdFVwZGF0ZXMpXG59O1xuXG52YXIgVFJBTlNBQ1RJT05fV1JBUFBFUlMgPSBbRkxVU0hfQkFUQ0hFRF9VUERBVEVTLCBSRVNFVF9CQVRDSEVEX1VQREFURVNdO1xuXG5mdW5jdGlvbiBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5VHJhbnNhY3Rpb24oKSB7XG4gIHRoaXMucmVpbml0aWFsaXplVHJhbnNhY3Rpb24oKTtcbn1cblxuYXNzaWduKFxuICBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5VHJhbnNhY3Rpb24ucHJvdG90eXBlLFxuICBUcmFuc2FjdGlvbi5NaXhpbixcbiAge1xuICAgIGdldFRyYW5zYWN0aW9uV3JhcHBlcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFRSQU5TQUNUSU9OX1dSQVBQRVJTO1xuICAgIH1cbiAgfVxuKTtcblxudmFyIHRyYW5zYWN0aW9uID0gbmV3IFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3lUcmFuc2FjdGlvbigpO1xuXG52YXIgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSA9IHtcbiAgaXNCYXRjaGluZ1VwZGF0ZXM6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBDYWxsIHRoZSBwcm92aWRlZCBmdW5jdGlvbiBpbiBhIGNvbnRleHQgd2l0aGluIHdoaWNoIGNhbGxzIHRvIGBzZXRTdGF0ZWBcbiAgICogYW5kIGZyaWVuZHMgYXJlIGJhdGNoZWQgc3VjaCB0aGF0IGNvbXBvbmVudHMgYXJlbid0IHVwZGF0ZWQgdW5uZWNlc3NhcmlseS5cbiAgICovXG4gIGJhdGNoZWRVcGRhdGVzOiBmdW5jdGlvbihjYWxsYmFjaywgYSwgYiwgYywgZCkge1xuICAgIHZhciBhbHJlYWR5QmF0Y2hpbmdVcGRhdGVzID0gUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcztcblxuICAgIFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kuaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuXG4gICAgLy8gVGhlIGNvZGUgaXMgd3JpdHRlbiB0aGlzIHdheSB0byBhdm9pZCBleHRyYSBhbGxvY2F0aW9uc1xuICAgIGlmIChhbHJlYWR5QmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICBjYWxsYmFjayhhLCBiLCBjLCBkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNhY3Rpb24ucGVyZm9ybShjYWxsYmFjaywgbnVsbCwgYSwgYiwgYywgZCk7XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3k7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3REZWZhdWx0SW5qZWN0aW9uXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmVmb3JlSW5wdXRFdmVudFBsdWdpbiA9IHJlcXVpcmUoXCIuL0JlZm9yZUlucHV0RXZlbnRQbHVnaW5cIik7XG52YXIgQ2hhbmdlRXZlbnRQbHVnaW4gPSByZXF1aXJlKFwiLi9DaGFuZ2VFdmVudFBsdWdpblwiKTtcbnZhciBDbGllbnRSZWFjdFJvb3RJbmRleCA9IHJlcXVpcmUoXCIuL0NsaWVudFJlYWN0Um9vdEluZGV4XCIpO1xudmFyIERlZmF1bHRFdmVudFBsdWdpbk9yZGVyID0gcmVxdWlyZShcIi4vRGVmYXVsdEV2ZW50UGx1Z2luT3JkZXJcIik7XG52YXIgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luID0gcmVxdWlyZShcIi4vRW50ZXJMZWF2ZUV2ZW50UGx1Z2luXCIpO1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZShcIi4vRXhlY3V0aW9uRW52aXJvbm1lbnRcIik7XG52YXIgSFRNTERPTVByb3BlcnR5Q29uZmlnID0gcmVxdWlyZShcIi4vSFRNTERPTVByb3BlcnR5Q29uZmlnXCIpO1xudmFyIE1vYmlsZVNhZmFyaUNsaWNrRXZlbnRQbHVnaW4gPSByZXF1aXJlKFwiLi9Nb2JpbGVTYWZhcmlDbGlja0V2ZW50UGx1Z2luXCIpO1xudmFyIFJlYWN0QnJvd3NlckNvbXBvbmVudE1peGluID0gcmVxdWlyZShcIi4vUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW5cIik7XG52YXIgUmVhY3RDbGFzcyA9IHJlcXVpcmUoXCIuL1JlYWN0Q2xhc3NcIik7XG52YXIgUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQgPVxuICByZXF1aXJlKFwiLi9SZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudFwiKTtcbnZhciBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5ID0gcmVxdWlyZShcIi4vUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneVwiKTtcbnZhciBSZWFjdERPTUNvbXBvbmVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RE9NQ29tcG9uZW50XCIpO1xudmFyIFJlYWN0RE9NQnV0dG9uID0gcmVxdWlyZShcIi4vUmVhY3RET01CdXR0b25cIik7XG52YXIgUmVhY3RET01Gb3JtID0gcmVxdWlyZShcIi4vUmVhY3RET01Gb3JtXCIpO1xudmFyIFJlYWN0RE9NSW1nID0gcmVxdWlyZShcIi4vUmVhY3RET01JbWdcIik7XG52YXIgUmVhY3RET01JRE9wZXJhdGlvbnMgPSByZXF1aXJlKFwiLi9SZWFjdERPTUlET3BlcmF0aW9uc1wiKTtcbnZhciBSZWFjdERPTUlmcmFtZSA9IHJlcXVpcmUoXCIuL1JlYWN0RE9NSWZyYW1lXCIpO1xudmFyIFJlYWN0RE9NSW5wdXQgPSByZXF1aXJlKFwiLi9SZWFjdERPTUlucHV0XCIpO1xudmFyIFJlYWN0RE9NT3B0aW9uID0gcmVxdWlyZShcIi4vUmVhY3RET01PcHRpb25cIik7XG52YXIgUmVhY3RET01TZWxlY3QgPSByZXF1aXJlKFwiLi9SZWFjdERPTVNlbGVjdFwiKTtcbnZhciBSZWFjdERPTVRleHRhcmVhID0gcmVxdWlyZShcIi4vUmVhY3RET01UZXh0YXJlYVwiKTtcbnZhciBSZWFjdERPTVRleHRDb21wb25lbnQgPSByZXF1aXJlKFwiLi9SZWFjdERPTVRleHRDb21wb25lbnRcIik7XG52YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZShcIi4vUmVhY3RFbGVtZW50XCIpO1xudmFyIFJlYWN0RXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoXCIuL1JlYWN0RXZlbnRMaXN0ZW5lclwiKTtcbnZhciBSZWFjdEluamVjdGlvbiA9IHJlcXVpcmUoXCIuL1JlYWN0SW5qZWN0aW9uXCIpO1xudmFyIFJlYWN0SW5zdGFuY2VIYW5kbGVzID0gcmVxdWlyZShcIi4vUmVhY3RJbnN0YW5jZUhhbmRsZXNcIik7XG52YXIgUmVhY3RNb3VudCA9IHJlcXVpcmUoXCIuL1JlYWN0TW91bnRcIik7XG52YXIgUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiA9IHJlcXVpcmUoXCIuL1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb25cIik7XG52YXIgU2VsZWN0RXZlbnRQbHVnaW4gPSByZXF1aXJlKFwiLi9TZWxlY3RFdmVudFBsdWdpblwiKTtcbnZhciBTZXJ2ZXJSZWFjdFJvb3RJbmRleCA9IHJlcXVpcmUoXCIuL1NlcnZlclJlYWN0Um9vdEluZGV4XCIpO1xudmFyIFNpbXBsZUV2ZW50UGx1Z2luID0gcmVxdWlyZShcIi4vU2ltcGxlRXZlbnRQbHVnaW5cIik7XG52YXIgU1ZHRE9NUHJvcGVydHlDb25maWcgPSByZXF1aXJlKFwiLi9TVkdET01Qcm9wZXJ0eUNvbmZpZ1wiKTtcblxudmFyIGNyZWF0ZUZ1bGxQYWdlQ29tcG9uZW50ID0gcmVxdWlyZShcIi4vY3JlYXRlRnVsbFBhZ2VDb21wb25lbnRcIik7XG5cbmZ1bmN0aW9uIGF1dG9HZW5lcmF0ZVdyYXBwZXJDbGFzcyh0eXBlKSB7XG4gIHJldHVybiBSZWFjdENsYXNzLmNyZWF0ZUNsYXNzKHtcbiAgICB0YWdOYW1lOiB0eXBlLnRvVXBwZXJDYXNlKCksXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgUmVhY3RFbGVtZW50KFxuICAgICAgICB0eXBlLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICB0aGlzLnByb3BzXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluamVjdCgpIHtcbiAgUmVhY3RJbmplY3Rpb24uRXZlbnRFbWl0dGVyLmluamVjdFJlYWN0RXZlbnRMaXN0ZW5lcihcbiAgICBSZWFjdEV2ZW50TGlzdGVuZXJcbiAgKTtcblxuICAvKipcbiAgICogSW5qZWN0IG1vZHVsZXMgZm9yIHJlc29sdmluZyBET00gaGllcmFyY2h5IGFuZCBwbHVnaW4gb3JkZXJpbmcuXG4gICAqL1xuICBSZWFjdEluamVjdGlvbi5FdmVudFBsdWdpbkh1Yi5pbmplY3RFdmVudFBsdWdpbk9yZGVyKERlZmF1bHRFdmVudFBsdWdpbk9yZGVyKTtcbiAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5IdWIuaW5qZWN0SW5zdGFuY2VIYW5kbGUoUmVhY3RJbnN0YW5jZUhhbmRsZXMpO1xuICBSZWFjdEluamVjdGlvbi5FdmVudFBsdWdpbkh1Yi5pbmplY3RNb3VudChSZWFjdE1vdW50KTtcblxuICAvKipcbiAgICogU29tZSBpbXBvcnRhbnQgZXZlbnQgcGx1Z2lucyBpbmNsdWRlZCBieSBkZWZhdWx0ICh3aXRob3V0IGhhdmluZyB0byByZXF1aXJlXG4gICAqIHRoZW0pLlxuICAgKi9cbiAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5IdWIuaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lKHtcbiAgICBTaW1wbGVFdmVudFBsdWdpbjogU2ltcGxlRXZlbnRQbHVnaW4sXG4gICAgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOiBFbnRlckxlYXZlRXZlbnRQbHVnaW4sXG4gICAgQ2hhbmdlRXZlbnRQbHVnaW46IENoYW5nZUV2ZW50UGx1Z2luLFxuICAgIE1vYmlsZVNhZmFyaUNsaWNrRXZlbnRQbHVnaW46IE1vYmlsZVNhZmFyaUNsaWNrRXZlbnRQbHVnaW4sXG4gICAgU2VsZWN0RXZlbnRQbHVnaW46IFNlbGVjdEV2ZW50UGx1Z2luLFxuICAgIEJlZm9yZUlucHV0RXZlbnRQbHVnaW46IEJlZm9yZUlucHV0RXZlbnRQbHVnaW5cbiAgfSk7XG5cbiAgUmVhY3RJbmplY3Rpb24uTmF0aXZlQ29tcG9uZW50LmluamVjdEdlbmVyaWNDb21wb25lbnRDbGFzcyhcbiAgICBSZWFjdERPTUNvbXBvbmVudFxuICApO1xuXG4gIFJlYWN0SW5qZWN0aW9uLk5hdGl2ZUNvbXBvbmVudC5pbmplY3RUZXh0Q29tcG9uZW50Q2xhc3MoXG4gICAgUmVhY3RET01UZXh0Q29tcG9uZW50XG4gICk7XG5cbiAgUmVhY3RJbmplY3Rpb24uTmF0aXZlQ29tcG9uZW50LmluamVjdEF1dG9XcmFwcGVyKFxuICAgIGF1dG9HZW5lcmF0ZVdyYXBwZXJDbGFzc1xuICApO1xuXG4gIC8vIFRoaXMgbmVlZHMgdG8gaGFwcGVuIGJlZm9yZSBjcmVhdGVGdWxsUGFnZUNvbXBvbmVudCgpIG90aGVyd2lzZSB0aGUgbWl4aW5cbiAgLy8gd29uJ3QgYmUgaW5jbHVkZWQuXG4gIFJlYWN0SW5qZWN0aW9uLkNsYXNzLmluamVjdE1peGluKFJlYWN0QnJvd3NlckNvbXBvbmVudE1peGluKTtcblxuICBSZWFjdEluamVjdGlvbi5OYXRpdmVDb21wb25lbnQuaW5qZWN0Q29tcG9uZW50Q2xhc3Nlcyh7XG4gICAgJ2J1dHRvbic6IFJlYWN0RE9NQnV0dG9uLFxuICAgICdmb3JtJzogUmVhY3RET01Gb3JtLFxuICAgICdpZnJhbWUnOiBSZWFjdERPTUlmcmFtZSxcbiAgICAnaW1nJzogUmVhY3RET01JbWcsXG4gICAgJ2lucHV0JzogUmVhY3RET01JbnB1dCxcbiAgICAnb3B0aW9uJzogUmVhY3RET01PcHRpb24sXG4gICAgJ3NlbGVjdCc6IFJlYWN0RE9NU2VsZWN0LFxuICAgICd0ZXh0YXJlYSc6IFJlYWN0RE9NVGV4dGFyZWEsXG5cbiAgICAnaHRtbCc6IGNyZWF0ZUZ1bGxQYWdlQ29tcG9uZW50KCdodG1sJyksXG4gICAgJ2hlYWQnOiBjcmVhdGVGdWxsUGFnZUNvbXBvbmVudCgnaGVhZCcpLFxuICAgICdib2R5JzogY3JlYXRlRnVsbFBhZ2VDb21wb25lbnQoJ2JvZHknKVxuICB9KTtcblxuICBSZWFjdEluamVjdGlvbi5ET01Qcm9wZXJ0eS5pbmplY3RET01Qcm9wZXJ0eUNvbmZpZyhIVE1MRE9NUHJvcGVydHlDb25maWcpO1xuICBSZWFjdEluamVjdGlvbi5ET01Qcm9wZXJ0eS5pbmplY3RET01Qcm9wZXJ0eUNvbmZpZyhTVkdET01Qcm9wZXJ0eUNvbmZpZyk7XG5cbiAgUmVhY3RJbmplY3Rpb24uRW1wdHlDb21wb25lbnQuaW5qZWN0RW1wdHlDb21wb25lbnQoJ25vc2NyaXB0Jyk7XG5cbiAgUmVhY3RJbmplY3Rpb24uVXBkYXRlcy5pbmplY3RSZWNvbmNpbGVUcmFuc2FjdGlvbihcbiAgICBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uXG4gICk7XG4gIFJlYWN0SW5qZWN0aW9uLlVwZGF0ZXMuaW5qZWN0QmF0Y2hpbmdTdHJhdGVneShcbiAgICBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5XG4gICk7XG5cbiAgUmVhY3RJbmplY3Rpb24uUm9vdEluZGV4LmluamVjdENyZWF0ZVJlYWN0Um9vdEluZGV4KFxuICAgIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/XG4gICAgICBDbGllbnRSZWFjdFJvb3RJbmRleC5jcmVhdGVSZWFjdFJvb3RJbmRleCA6XG4gICAgICBTZXJ2ZXJSZWFjdFJvb3RJbmRleC5jcmVhdGVSZWFjdFJvb3RJbmRleFxuICApO1xuXG4gIFJlYWN0SW5qZWN0aW9uLkNvbXBvbmVudC5pbmplY3RFbnZpcm9ubWVudChSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCk7XG4gIFJlYWN0SW5qZWN0aW9uLkRPTUNvbXBvbmVudC5pbmplY3RJRE9wZXJhdGlvbnMoUmVhY3RET01JRE9wZXJhdGlvbnMpO1xuXG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICB2YXIgdXJsID0gKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiB3aW5kb3cubG9jYXRpb24uaHJlZikgfHwgJyc7XG4gICAgaWYgKCgvWz8mXXJlYWN0X3BlcmZcXGIvKS50ZXN0KHVybCkpIHtcbiAgICAgIHZhciBSZWFjdERlZmF1bHRQZXJmID0gcmVxdWlyZShcIi4vUmVhY3REZWZhdWx0UGVyZlwiKTtcbiAgICAgIFJlYWN0RGVmYXVsdFBlcmYuc3RhcnQoKTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGluamVjdDogaW5qZWN0XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RGVmYXVsdFBlcmZcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRE9NUHJvcGVydHkgPSByZXF1aXJlKFwiLi9ET01Qcm9wZXJ0eVwiKTtcbnZhciBSZWFjdERlZmF1bHRQZXJmQW5hbHlzaXMgPSByZXF1aXJlKFwiLi9SZWFjdERlZmF1bHRQZXJmQW5hbHlzaXNcIik7XG52YXIgUmVhY3RNb3VudCA9IHJlcXVpcmUoXCIuL1JlYWN0TW91bnRcIik7XG52YXIgUmVhY3RQZXJmID0gcmVxdWlyZShcIi4vUmVhY3RQZXJmXCIpO1xuXG52YXIgcGVyZm9ybWFuY2VOb3cgPSByZXF1aXJlKFwiLi9wZXJmb3JtYW5jZU5vd1wiKTtcblxuZnVuY3Rpb24gcm91bmRGbG9hdCh2YWwpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IodmFsICogMTAwKSAvIDEwMDtcbn1cblxuZnVuY3Rpb24gYWRkVmFsdWUob2JqLCBrZXksIHZhbCkge1xuICBvYmpba2V5XSA9IChvYmpba2V5XSB8fCAwKSArIHZhbDtcbn1cblxudmFyIFJlYWN0RGVmYXVsdFBlcmYgPSB7XG4gIF9hbGxNZWFzdXJlbWVudHM6IFtdLCAvLyBsYXN0IGl0ZW0gaW4gdGhlIGxpc3QgaXMgdGhlIGN1cnJlbnQgb25lXG4gIF9tb3VudFN0YWNrOiBbMF0sXG4gIF9pbmplY3RlZDogZmFsc2UsXG5cbiAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgIGlmICghUmVhY3REZWZhdWx0UGVyZi5faW5qZWN0ZWQpIHtcbiAgICAgIFJlYWN0UGVyZi5pbmplY3Rpb24uaW5qZWN0TWVhc3VyZShSZWFjdERlZmF1bHRQZXJmLm1lYXN1cmUpO1xuICAgIH1cblxuICAgIFJlYWN0RGVmYXVsdFBlcmYuX2FsbE1lYXN1cmVtZW50cy5sZW5ndGggPSAwO1xuICAgIFJlYWN0UGVyZi5lbmFibGVNZWFzdXJlID0gdHJ1ZTtcbiAgfSxcblxuICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICBSZWFjdFBlcmYuZW5hYmxlTWVhc3VyZSA9IGZhbHNlO1xuICB9LFxuXG4gIGdldExhc3RNZWFzdXJlbWVudHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBSZWFjdERlZmF1bHRQZXJmLl9hbGxNZWFzdXJlbWVudHM7XG4gIH0sXG5cbiAgcHJpbnRFeGNsdXNpdmU6IGZ1bmN0aW9uKG1lYXN1cmVtZW50cykge1xuICAgIG1lYXN1cmVtZW50cyA9IG1lYXN1cmVtZW50cyB8fCBSZWFjdERlZmF1bHRQZXJmLl9hbGxNZWFzdXJlbWVudHM7XG4gICAgdmFyIHN1bW1hcnkgPSBSZWFjdERlZmF1bHRQZXJmQW5hbHlzaXMuZ2V0RXhjbHVzaXZlU3VtbWFyeShtZWFzdXJlbWVudHMpO1xuICAgIGNvbnNvbGUudGFibGUoc3VtbWFyeS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ0NvbXBvbmVudCBjbGFzcyBuYW1lJzogaXRlbS5jb21wb25lbnROYW1lLFxuICAgICAgICAnVG90YWwgaW5jbHVzaXZlIHRpbWUgKG1zKSc6IHJvdW5kRmxvYXQoaXRlbS5pbmNsdXNpdmUpLFxuICAgICAgICAnRXhjbHVzaXZlIG1vdW50IHRpbWUgKG1zKSc6IHJvdW5kRmxvYXQoaXRlbS5leGNsdXNpdmUpLFxuICAgICAgICAnRXhjbHVzaXZlIHJlbmRlciB0aW1lIChtcyknOiByb3VuZEZsb2F0KGl0ZW0ucmVuZGVyKSxcbiAgICAgICAgJ01vdW50IHRpbWUgcGVyIGluc3RhbmNlIChtcyknOiByb3VuZEZsb2F0KGl0ZW0uZXhjbHVzaXZlIC8gaXRlbS5jb3VudCksXG4gICAgICAgICdSZW5kZXIgdGltZSBwZXIgaW5zdGFuY2UgKG1zKSc6IHJvdW5kRmxvYXQoaXRlbS5yZW5kZXIgLyBpdGVtLmNvdW50KSxcbiAgICAgICAgJ0luc3RhbmNlcyc6IGl0ZW0uY291bnRcbiAgICAgIH07XG4gICAgfSkpO1xuICAgIC8vIFRPRE86IFJlYWN0RGVmYXVsdFBlcmZBbmFseXNpcy5nZXRUb3RhbFRpbWUoKSBkb2VzIG5vdCByZXR1cm4gdGhlIGNvcnJlY3RcbiAgICAvLyBudW1iZXIuXG4gIH0sXG5cbiAgcHJpbnRJbmNsdXNpdmU6IGZ1bmN0aW9uKG1lYXN1cmVtZW50cykge1xuICAgIG1lYXN1cmVtZW50cyA9IG1lYXN1cmVtZW50cyB8fCBSZWFjdERlZmF1bHRQZXJmLl9hbGxNZWFzdXJlbWVudHM7XG4gICAgdmFyIHN1bW1hcnkgPSBSZWFjdERlZmF1bHRQZXJmQW5hbHlzaXMuZ2V0SW5jbHVzaXZlU3VtbWFyeShtZWFzdXJlbWVudHMpO1xuICAgIGNvbnNvbGUudGFibGUoc3VtbWFyeS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ093bmVyID4gY29tcG9uZW50JzogaXRlbS5jb21wb25lbnROYW1lLFxuICAgICAgICAnSW5jbHVzaXZlIHRpbWUgKG1zKSc6IHJvdW5kRmxvYXQoaXRlbS50aW1lKSxcbiAgICAgICAgJ0luc3RhbmNlcyc6IGl0ZW0uY291bnRcbiAgICAgIH07XG4gICAgfSkpO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgJ1RvdGFsIHRpbWU6JyxcbiAgICAgIFJlYWN0RGVmYXVsdFBlcmZBbmFseXNpcy5nZXRUb3RhbFRpbWUobWVhc3VyZW1lbnRzKS50b0ZpeGVkKDIpICsgJyBtcydcbiAgICApO1xuICB9LFxuXG4gIGdldE1lYXN1cmVtZW50c1N1bW1hcnlNYXA6IGZ1bmN0aW9uKG1lYXN1cmVtZW50cykge1xuICAgIHZhciBzdW1tYXJ5ID0gUmVhY3REZWZhdWx0UGVyZkFuYWx5c2lzLmdldEluY2x1c2l2ZVN1bW1hcnkoXG4gICAgICBtZWFzdXJlbWVudHMsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgICByZXR1cm4gc3VtbWFyeS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ093bmVyID4gY29tcG9uZW50JzogaXRlbS5jb21wb25lbnROYW1lLFxuICAgICAgICAnV2FzdGVkIHRpbWUgKG1zKSc6IGl0ZW0udGltZSxcbiAgICAgICAgJ0luc3RhbmNlcyc6IGl0ZW0uY291bnRcbiAgICAgIH07XG4gICAgfSk7XG4gIH0sXG5cbiAgcHJpbnRXYXN0ZWQ6IGZ1bmN0aW9uKG1lYXN1cmVtZW50cykge1xuICAgIG1lYXN1cmVtZW50cyA9IG1lYXN1cmVtZW50cyB8fCBSZWFjdERlZmF1bHRQZXJmLl9hbGxNZWFzdXJlbWVudHM7XG4gICAgY29uc29sZS50YWJsZShSZWFjdERlZmF1bHRQZXJmLmdldE1lYXN1cmVtZW50c1N1bW1hcnlNYXAobWVhc3VyZW1lbnRzKSk7XG4gICAgY29uc29sZS5sb2coXG4gICAgICAnVG90YWwgdGltZTonLFxuICAgICAgUmVhY3REZWZhdWx0UGVyZkFuYWx5c2lzLmdldFRvdGFsVGltZShtZWFzdXJlbWVudHMpLnRvRml4ZWQoMikgKyAnIG1zJ1xuICAgICk7XG4gIH0sXG5cbiAgcHJpbnRET006IGZ1bmN0aW9uKG1lYXN1cmVtZW50cykge1xuICAgIG1lYXN1cmVtZW50cyA9IG1lYXN1cmVtZW50cyB8fCBSZWFjdERlZmF1bHRQZXJmLl9hbGxNZWFzdXJlbWVudHM7XG4gICAgdmFyIHN1bW1hcnkgPSBSZWFjdERlZmF1bHRQZXJmQW5hbHlzaXMuZ2V0RE9NU3VtbWFyeShtZWFzdXJlbWVudHMpO1xuICAgIGNvbnNvbGUudGFibGUoc3VtbWFyeS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgcmVzdWx0W0RPTVByb3BlcnR5LklEX0FUVFJJQlVURV9OQU1FXSA9IGl0ZW0uaWQ7XG4gICAgICByZXN1bHRbJ3R5cGUnXSA9IGl0ZW0udHlwZTtcbiAgICAgIHJlc3VsdFsnYXJncyddID0gSlNPTi5zdHJpbmdpZnkoaXRlbS5hcmdzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSkpO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgJ1RvdGFsIHRpbWU6JyxcbiAgICAgIFJlYWN0RGVmYXVsdFBlcmZBbmFseXNpcy5nZXRUb3RhbFRpbWUobWVhc3VyZW1lbnRzKS50b0ZpeGVkKDIpICsgJyBtcydcbiAgICApO1xuICB9LFxuXG4gIF9yZWNvcmRXcml0ZTogZnVuY3Rpb24oaWQsIGZuTmFtZSwgdG90YWxUaW1lLCBhcmdzKSB7XG4gICAgLy8gVE9ETzogdG90YWxUaW1lIGlzbid0IHRoYXQgdXNlZnVsIHNpbmNlIGl0IGRvZXNuJ3QgY291bnQgcGFpbnRzL3JlZmxvd3NcbiAgICB2YXIgd3JpdGVzID1cbiAgICAgIFJlYWN0RGVmYXVsdFBlcmZcbiAgICAgICAgLl9hbGxNZWFzdXJlbWVudHNbUmVhY3REZWZhdWx0UGVyZi5fYWxsTWVhc3VyZW1lbnRzLmxlbmd0aCAtIDFdXG4gICAgICAgIC53cml0ZXM7XG4gICAgd3JpdGVzW2lkXSA9IHdyaXRlc1tpZF0gfHwgW107XG4gICAgd3JpdGVzW2lkXS5wdXNoKHtcbiAgICAgIHR5cGU6IGZuTmFtZSxcbiAgICAgIHRpbWU6IHRvdGFsVGltZSxcbiAgICAgIGFyZ3M6IGFyZ3NcbiAgICB9KTtcbiAgfSxcblxuICBtZWFzdXJlOiBmdW5jdGlvbihtb2R1bGVOYW1lLCBmbk5hbWUsIGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7Zm9yICh2YXIgYXJncz1bXSwkX18wPTAsJF9fMT1hcmd1bWVudHMubGVuZ3RoOyRfXzA8JF9fMTskX18wKyspIGFyZ3MucHVzaChhcmd1bWVudHNbJF9fMF0pO1xuICAgICAgdmFyIHRvdGFsVGltZTtcbiAgICAgIHZhciBydjtcbiAgICAgIHZhciBzdGFydDtcblxuICAgICAgaWYgKGZuTmFtZSA9PT0gJ19yZW5kZXJOZXdSb290Q29tcG9uZW50JyB8fFxuICAgICAgICAgIGZuTmFtZSA9PT0gJ2ZsdXNoQmF0Y2hlZFVwZGF0ZXMnKSB7XG4gICAgICAgIC8vIEEgXCJtZWFzdXJlbWVudFwiIGlzIGEgc2V0IG9mIG1ldHJpY3MgcmVjb3JkZWQgZm9yIGVhY2ggZmx1c2guIFdlIHdhbnRcbiAgICAgICAgLy8gdG8gZ3JvdXAgdGhlIG1ldHJpY3MgZm9yIGEgZ2l2ZW4gZmx1c2ggdG9nZXRoZXIgc28gd2UgY2FuIGxvb2sgYXQgdGhlXG4gICAgICAgIC8vIGNvbXBvbmVudHMgdGhhdCByZW5kZXJlZCBhbmQgdGhlIERPTSBvcGVyYXRpb25zIHRoYXQgYWN0dWFsbHlcbiAgICAgICAgLy8gaGFwcGVuZWQgdG8gZGV0ZXJtaW5lIHRoZSBhbW91bnQgb2YgXCJ3YXN0ZWQgd29ya1wiIHBlcmZvcm1lZC5cbiAgICAgICAgUmVhY3REZWZhdWx0UGVyZi5fYWxsTWVhc3VyZW1lbnRzLnB1c2goe1xuICAgICAgICAgIGV4Y2x1c2l2ZToge30sXG4gICAgICAgICAgaW5jbHVzaXZlOiB7fSxcbiAgICAgICAgICByZW5kZXI6IHt9LFxuICAgICAgICAgIGNvdW50czoge30sXG4gICAgICAgICAgd3JpdGVzOiB7fSxcbiAgICAgICAgICBkaXNwbGF5TmFtZXM6IHt9LFxuICAgICAgICAgIHRvdGFsVGltZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgc3RhcnQgPSBwZXJmb3JtYW5jZU5vdygpO1xuICAgICAgICBydiA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIFJlYWN0RGVmYXVsdFBlcmYuX2FsbE1lYXN1cmVtZW50c1tcbiAgICAgICAgICBSZWFjdERlZmF1bHRQZXJmLl9hbGxNZWFzdXJlbWVudHMubGVuZ3RoIC0gMVxuICAgICAgICBdLnRvdGFsVGltZSA9IHBlcmZvcm1hbmNlTm93KCkgLSBzdGFydDtcbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgfSBlbHNlIGlmIChmbk5hbWUgPT09ICdfbW91bnRJbWFnZUludG9Ob2RlJyB8fFxuICAgICAgICAgIG1vZHVsZU5hbWUgPT09ICdSZWFjdERPTUlET3BlcmF0aW9ucycpIHtcbiAgICAgICAgc3RhcnQgPSBwZXJmb3JtYW5jZU5vdygpO1xuICAgICAgICBydiA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIHRvdGFsVGltZSA9IHBlcmZvcm1hbmNlTm93KCkgLSBzdGFydDtcblxuICAgICAgICBpZiAoZm5OYW1lID09PSAnX21vdW50SW1hZ2VJbnRvTm9kZScpIHtcbiAgICAgICAgICB2YXIgbW91bnRJRCA9IFJlYWN0TW91bnQuZ2V0SUQoYXJnc1sxXSk7XG4gICAgICAgICAgUmVhY3REZWZhdWx0UGVyZi5fcmVjb3JkV3JpdGUobW91bnRJRCwgZm5OYW1lLCB0b3RhbFRpbWUsIGFyZ3NbMF0pO1xuICAgICAgICB9IGVsc2UgaWYgKGZuTmFtZSA9PT0gJ2Rhbmdlcm91c2x5UHJvY2Vzc0NoaWxkcmVuVXBkYXRlcycpIHtcbiAgICAgICAgICAvLyBzcGVjaWFsIGZvcm1hdFxuICAgICAgICAgIGFyZ3NbMF0uZm9yRWFjaChmdW5jdGlvbih1cGRhdGUpIHtcbiAgICAgICAgICAgIHZhciB3cml0ZUFyZ3MgPSB7fTtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuZnJvbUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHdyaXRlQXJncy5mcm9tSW5kZXggPSB1cGRhdGUuZnJvbUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVwZGF0ZS50b0luZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHdyaXRlQXJncy50b0luZGV4ID0gdXBkYXRlLnRvSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXBkYXRlLnRleHRDb250ZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHdyaXRlQXJncy50ZXh0Q29udGVudCA9IHVwZGF0ZS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1cGRhdGUubWFya3VwSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgd3JpdGVBcmdzLm1hcmt1cCA9IGFyZ3NbMV1bdXBkYXRlLm1hcmt1cEluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJlYWN0RGVmYXVsdFBlcmYuX3JlY29yZFdyaXRlKFxuICAgICAgICAgICAgICB1cGRhdGUucGFyZW50SUQsXG4gICAgICAgICAgICAgIHVwZGF0ZS50eXBlLFxuICAgICAgICAgICAgICB0b3RhbFRpbWUsXG4gICAgICAgICAgICAgIHdyaXRlQXJnc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBiYXNpYyBmb3JtYXRcbiAgICAgICAgICBSZWFjdERlZmF1bHRQZXJmLl9yZWNvcmRXcml0ZShcbiAgICAgICAgICAgIGFyZ3NbMF0sXG4gICAgICAgICAgICBmbk5hbWUsXG4gICAgICAgICAgICB0b3RhbFRpbWUsXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzLCAxKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgfSBlbHNlIGlmIChtb2R1bGVOYW1lID09PSAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnICYmIChcbiAgICAgICAgKC8vIFRPRE86IHJlY2VpdmVDb21wb25lbnQoKT9cbiAgICAgICAgKGZuTmFtZSA9PT0gJ21vdW50Q29tcG9uZW50JyB8fFxuICAgICAgICBmbk5hbWUgPT09ICd1cGRhdGVDb21wb25lbnQnIHx8IGZuTmFtZSA9PT0gJ19yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnQnKSkpKSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJvb3ROb2RlSUQgPSBmbk5hbWUgPT09ICdtb3VudENvbXBvbmVudCcgP1xuICAgICAgICAgIGFyZ3NbMF0gOlxuICAgICAgICAgIHRoaXMuX3Jvb3ROb2RlSUQ7XG4gICAgICAgIHZhciBpc1JlbmRlciA9IGZuTmFtZSA9PT0gJ19yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnQnO1xuICAgICAgICB2YXIgaXNNb3VudCA9IGZuTmFtZSA9PT0gJ21vdW50Q29tcG9uZW50JztcblxuICAgICAgICB2YXIgbW91bnRTdGFjayA9IFJlYWN0RGVmYXVsdFBlcmYuX21vdW50U3RhY2s7XG4gICAgICAgIHZhciBlbnRyeSA9IFJlYWN0RGVmYXVsdFBlcmYuX2FsbE1lYXN1cmVtZW50c1tcbiAgICAgICAgICBSZWFjdERlZmF1bHRQZXJmLl9hbGxNZWFzdXJlbWVudHMubGVuZ3RoIC0gMVxuICAgICAgICBdO1xuXG4gICAgICAgIGlmIChpc1JlbmRlcikge1xuICAgICAgICAgIGFkZFZhbHVlKGVudHJ5LmNvdW50cywgcm9vdE5vZGVJRCwgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNb3VudCkge1xuICAgICAgICAgIG1vdW50U3RhY2sucHVzaCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0ID0gcGVyZm9ybWFuY2VOb3coKTtcbiAgICAgICAgcnYgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB0b3RhbFRpbWUgPSBwZXJmb3JtYW5jZU5vdygpIC0gc3RhcnQ7XG5cbiAgICAgICAgaWYgKGlzUmVuZGVyKSB7XG4gICAgICAgICAgYWRkVmFsdWUoZW50cnkucmVuZGVyLCByb290Tm9kZUlELCB0b3RhbFRpbWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW91bnQpIHtcbiAgICAgICAgICB2YXIgc3ViTW91bnRUaW1lID0gbW91bnRTdGFjay5wb3AoKTtcbiAgICAgICAgICBtb3VudFN0YWNrW21vdW50U3RhY2subGVuZ3RoIC0gMV0gKz0gdG90YWxUaW1lO1xuICAgICAgICAgIGFkZFZhbHVlKGVudHJ5LmV4Y2x1c2l2ZSwgcm9vdE5vZGVJRCwgdG90YWxUaW1lIC0gc3ViTW91bnRUaW1lKTtcbiAgICAgICAgICBhZGRWYWx1ZShlbnRyeS5pbmNsdXNpdmUsIHJvb3ROb2RlSUQsIHRvdGFsVGltZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkVmFsdWUoZW50cnkuaW5jbHVzaXZlLCByb290Tm9kZUlELCB0b3RhbFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZW50cnkuZGlzcGxheU5hbWVzW3Jvb3ROb2RlSURdID0ge1xuICAgICAgICAgIGN1cnJlbnQ6IHRoaXMuZ2V0TmFtZSgpLFxuICAgICAgICAgIG93bmVyOiB0aGlzLl9jdXJyZW50RWxlbWVudC5fb3duZXIgP1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudEVsZW1lbnQuX293bmVyLmdldE5hbWUoKSA6XG4gICAgICAgICAgICAnPHJvb3Q+J1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBydjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3REZWZhdWx0UGVyZjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdERlZmF1bHRQZXJmQW5hbHlzaXNcbiAqL1xuXG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4vT2JqZWN0LmFzc2lnblwiKTtcblxuLy8gRG9uJ3QgdHJ5IHRvIHNhdmUgdXNlcnMgbGVzcyB0aGFuIDEuMm1zIChhIG51bWJlciBJIG1hZGUgdXApXG52YXIgRE9OVF9DQVJFX1RIUkVTSE9MRCA9IDEuMjtcbnZhciBET01fT1BFUkFUSU9OX1RZUEVTID0ge1xuICAnX21vdW50SW1hZ2VJbnRvTm9kZSc6ICdzZXQgaW5uZXJIVE1MJyxcbiAgSU5TRVJUX01BUktVUDogJ3NldCBpbm5lckhUTUwnLFxuICBNT1ZFX0VYSVNUSU5HOiAnbW92ZScsXG4gIFJFTU9WRV9OT0RFOiAncmVtb3ZlJyxcbiAgVEVYVF9DT05URU5UOiAnc2V0IHRleHRDb250ZW50JyxcbiAgJ3VwZGF0ZVByb3BlcnR5QnlJRCc6ICd1cGRhdGUgYXR0cmlidXRlJyxcbiAgJ2RlbGV0ZVByb3BlcnR5QnlJRCc6ICdkZWxldGUgYXR0cmlidXRlJyxcbiAgJ3VwZGF0ZVN0eWxlc0J5SUQnOiAndXBkYXRlIHN0eWxlcycsXG4gICd1cGRhdGVJbm5lckhUTUxCeUlEJzogJ3NldCBpbm5lckhUTUwnLFxuICAnZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXBCeUlEJzogJ3JlcGxhY2UnXG59O1xuXG5mdW5jdGlvbiBnZXRUb3RhbFRpbWUobWVhc3VyZW1lbnRzKSB7XG4gIC8vIFRPRE86IHJldHVybiBudW1iZXIgb2YgRE9NIG9wcz8gY291bGQgYmUgbWlzbGVhZGluZy5cbiAgLy8gVE9ETzogbWVhc3VyZSBkcm9wcGVkIGZyYW1lcyBhZnRlciByZWNvbmNpbGU/XG4gIC8vIFRPRE86IGxvZyB0b3RhbCB0aW1lIG9mIGVhY2ggcmVjb25jaWxlIGFuZCB0aGUgdG9wLWxldmVsIGNvbXBvbmVudFxuICAvLyBjbGFzcyB0aGF0IHRyaWdnZXJlZCBpdC5cbiAgdmFyIHRvdGFsVGltZSA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWVhc3VyZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gbWVhc3VyZW1lbnRzW2ldO1xuICAgIHRvdGFsVGltZSArPSBtZWFzdXJlbWVudC50b3RhbFRpbWU7XG4gIH1cbiAgcmV0dXJuIHRvdGFsVGltZTtcbn1cblxuZnVuY3Rpb24gZ2V0RE9NU3VtbWFyeShtZWFzdXJlbWVudHMpIHtcbiAgdmFyIGl0ZW1zID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWVhc3VyZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gbWVhc3VyZW1lbnRzW2ldO1xuICAgIHZhciBpZDtcblxuICAgIGZvciAoaWQgaW4gbWVhc3VyZW1lbnQud3JpdGVzKSB7XG4gICAgICBtZWFzdXJlbWVudC53cml0ZXNbaWRdLmZvckVhY2goZnVuY3Rpb24od3JpdGUpIHtcbiAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIHR5cGU6IERPTV9PUEVSQVRJT05fVFlQRVNbd3JpdGUudHlwZV0gfHwgd3JpdGUudHlwZSxcbiAgICAgICAgICBhcmdzOiB3cml0ZS5hcmdzXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBpdGVtcztcbn1cblxuZnVuY3Rpb24gZ2V0RXhjbHVzaXZlU3VtbWFyeShtZWFzdXJlbWVudHMpIHtcbiAgdmFyIGNhbmRpZGF0ZXMgPSB7fTtcbiAgdmFyIGRpc3BsYXlOYW1lO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWVhc3VyZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gbWVhc3VyZW1lbnRzW2ldO1xuICAgIHZhciBhbGxJRHMgPSBhc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIG1lYXN1cmVtZW50LmV4Y2x1c2l2ZSxcbiAgICAgIG1lYXN1cmVtZW50LmluY2x1c2l2ZVxuICAgICk7XG5cbiAgICBmb3IgKHZhciBpZCBpbiBhbGxJRHMpIHtcbiAgICAgIGRpc3BsYXlOYW1lID0gbWVhc3VyZW1lbnQuZGlzcGxheU5hbWVzW2lkXS5jdXJyZW50O1xuXG4gICAgICBjYW5kaWRhdGVzW2Rpc3BsYXlOYW1lXSA9IGNhbmRpZGF0ZXNbZGlzcGxheU5hbWVdIHx8IHtcbiAgICAgICAgY29tcG9uZW50TmFtZTogZGlzcGxheU5hbWUsXG4gICAgICAgIGluY2x1c2l2ZTogMCxcbiAgICAgICAgZXhjbHVzaXZlOiAwLFxuICAgICAgICByZW5kZXI6IDAsXG4gICAgICAgIGNvdW50OiAwXG4gICAgICB9O1xuICAgICAgaWYgKG1lYXN1cmVtZW50LnJlbmRlcltpZF0pIHtcbiAgICAgICAgY2FuZGlkYXRlc1tkaXNwbGF5TmFtZV0ucmVuZGVyICs9IG1lYXN1cmVtZW50LnJlbmRlcltpZF07XG4gICAgICB9XG4gICAgICBpZiAobWVhc3VyZW1lbnQuZXhjbHVzaXZlW2lkXSkge1xuICAgICAgICBjYW5kaWRhdGVzW2Rpc3BsYXlOYW1lXS5leGNsdXNpdmUgKz0gbWVhc3VyZW1lbnQuZXhjbHVzaXZlW2lkXTtcbiAgICAgIH1cbiAgICAgIGlmIChtZWFzdXJlbWVudC5pbmNsdXNpdmVbaWRdKSB7XG4gICAgICAgIGNhbmRpZGF0ZXNbZGlzcGxheU5hbWVdLmluY2x1c2l2ZSArPSBtZWFzdXJlbWVudC5pbmNsdXNpdmVbaWRdO1xuICAgICAgfVxuICAgICAgaWYgKG1lYXN1cmVtZW50LmNvdW50c1tpZF0pIHtcbiAgICAgICAgY2FuZGlkYXRlc1tkaXNwbGF5TmFtZV0uY291bnQgKz0gbWVhc3VyZW1lbnQuY291bnRzW2lkXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBOb3cgbWFrZSBhIHNvcnRlZCBhcnJheSB3aXRoIHRoZSByZXN1bHRzLlxuICB2YXIgYXJyID0gW107XG4gIGZvciAoZGlzcGxheU5hbWUgaW4gY2FuZGlkYXRlcykge1xuICAgIGlmIChjYW5kaWRhdGVzW2Rpc3BsYXlOYW1lXS5leGNsdXNpdmUgPj0gRE9OVF9DQVJFX1RIUkVTSE9MRCkge1xuICAgICAgYXJyLnB1c2goY2FuZGlkYXRlc1tkaXNwbGF5TmFtZV0pO1xuICAgIH1cbiAgfVxuXG4gIGFyci5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYi5leGNsdXNpdmUgLSBhLmV4Y2x1c2l2ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24gZ2V0SW5jbHVzaXZlU3VtbWFyeShtZWFzdXJlbWVudHMsIG9ubHlDbGVhbikge1xuICB2YXIgY2FuZGlkYXRlcyA9IHt9O1xuICB2YXIgaW5jbHVzaXZlS2V5O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWVhc3VyZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gbWVhc3VyZW1lbnRzW2ldO1xuICAgIHZhciBhbGxJRHMgPSBhc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIG1lYXN1cmVtZW50LmV4Y2x1c2l2ZSxcbiAgICAgIG1lYXN1cmVtZW50LmluY2x1c2l2ZVxuICAgICk7XG4gICAgdmFyIGNsZWFuQ29tcG9uZW50cztcblxuICAgIGlmIChvbmx5Q2xlYW4pIHtcbiAgICAgIGNsZWFuQ29tcG9uZW50cyA9IGdldFVuY2hhbmdlZENvbXBvbmVudHMobWVhc3VyZW1lbnQpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGlkIGluIGFsbElEcykge1xuICAgICAgaWYgKG9ubHlDbGVhbiAmJiAhY2xlYW5Db21wb25lbnRzW2lkXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRpc3BsYXlOYW1lID0gbWVhc3VyZW1lbnQuZGlzcGxheU5hbWVzW2lkXTtcblxuICAgICAgLy8gSW5jbHVzaXZlIHRpbWUgaXMgbm90IHVzZWZ1bCBmb3IgbWFueSBjb21wb25lbnRzIHdpdGhvdXQga25vd2luZyB3aGVyZVxuICAgICAgLy8gdGhleSBhcmUgaW5zdGFudGlhdGVkLiBTbyB3ZSBhZ2dyZWdhdGUgaW5jbHVzaXZlIHRpbWUgd2l0aCBib3RoIHRoZVxuICAgICAgLy8gb3duZXIgYW5kIGN1cnJlbnQgZGlzcGxheU5hbWUgYXMgdGhlIGtleS5cbiAgICAgIGluY2x1c2l2ZUtleSA9IGRpc3BsYXlOYW1lLm93bmVyICsgJyA+ICcgKyBkaXNwbGF5TmFtZS5jdXJyZW50O1xuXG4gICAgICBjYW5kaWRhdGVzW2luY2x1c2l2ZUtleV0gPSBjYW5kaWRhdGVzW2luY2x1c2l2ZUtleV0gfHwge1xuICAgICAgICBjb21wb25lbnROYW1lOiBpbmNsdXNpdmVLZXksXG4gICAgICAgIHRpbWU6IDAsXG4gICAgICAgIGNvdW50OiAwXG4gICAgICB9O1xuXG4gICAgICBpZiAobWVhc3VyZW1lbnQuaW5jbHVzaXZlW2lkXSkge1xuICAgICAgICBjYW5kaWRhdGVzW2luY2x1c2l2ZUtleV0udGltZSArPSBtZWFzdXJlbWVudC5pbmNsdXNpdmVbaWRdO1xuICAgICAgfVxuICAgICAgaWYgKG1lYXN1cmVtZW50LmNvdW50c1tpZF0pIHtcbiAgICAgICAgY2FuZGlkYXRlc1tpbmNsdXNpdmVLZXldLmNvdW50ICs9IG1lYXN1cmVtZW50LmNvdW50c1tpZF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gTm93IG1ha2UgYSBzb3J0ZWQgYXJyYXkgd2l0aCB0aGUgcmVzdWx0cy5cbiAgdmFyIGFyciA9IFtdO1xuICBmb3IgKGluY2x1c2l2ZUtleSBpbiBjYW5kaWRhdGVzKSB7XG4gICAgaWYgKGNhbmRpZGF0ZXNbaW5jbHVzaXZlS2V5XS50aW1lID49IERPTlRfQ0FSRV9USFJFU0hPTEQpIHtcbiAgICAgIGFyci5wdXNoKGNhbmRpZGF0ZXNbaW5jbHVzaXZlS2V5XSk7XG4gICAgfVxuICB9XG5cbiAgYXJyLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBiLnRpbWUgLSBhLnRpbWU7XG4gIH0pO1xuXG4gIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIGdldFVuY2hhbmdlZENvbXBvbmVudHMobWVhc3VyZW1lbnQpIHtcbiAgLy8gRm9yIGEgZ2l2ZW4gcmVjb25jaWxlLCBsb29rIGF0IHdoaWNoIGNvbXBvbmVudHMgZGlkIG5vdCBhY3R1YWxseVxuICAvLyByZW5kZXIgYW55dGhpbmcgdG8gdGhlIERPTSBhbmQgcmV0dXJuIGEgbWFwcGluZyBvZiB0aGVpciBJRCB0b1xuICAvLyB0aGUgYW1vdW50IG9mIHRpbWUgaXQgdG9vayB0byByZW5kZXIgdGhlIGVudGlyZSBzdWJ0cmVlLlxuICB2YXIgY2xlYW5Db21wb25lbnRzID0ge307XG4gIHZhciBkaXJ0eUxlYWZJRHMgPSBPYmplY3Qua2V5cyhtZWFzdXJlbWVudC53cml0ZXMpO1xuICB2YXIgYWxsSURzID0gYXNzaWduKHt9LCBtZWFzdXJlbWVudC5leGNsdXNpdmUsIG1lYXN1cmVtZW50LmluY2x1c2l2ZSk7XG5cbiAgZm9yICh2YXIgaWQgaW4gYWxsSURzKSB7XG4gICAgdmFyIGlzRGlydHkgPSBmYWxzZTtcbiAgICAvLyBGb3IgZWFjaCBjb21wb25lbnQgdGhhdCByZW5kZXJlZCwgc2VlIGlmIGEgY29tcG9uZW50IHRoYXQgdHJpZ2dlcmVkXG4gICAgLy8gYSBET00gb3AgaXMgaW4gaXRzIHN1YnRyZWUuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJ0eUxlYWZJRHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChkaXJ0eUxlYWZJRHNbaV0uaW5kZXhPZihpZCkgPT09IDApIHtcbiAgICAgICAgaXNEaXJ0eSA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzRGlydHkgJiYgbWVhc3VyZW1lbnQuY291bnRzW2lkXSA+IDApIHtcbiAgICAgIGNsZWFuQ29tcG9uZW50c1tpZF0gPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2xlYW5Db21wb25lbnRzO1xufVxuXG52YXIgUmVhY3REZWZhdWx0UGVyZkFuYWx5c2lzID0ge1xuICBnZXRFeGNsdXNpdmVTdW1tYXJ5OiBnZXRFeGNsdXNpdmVTdW1tYXJ5LFxuICBnZXRJbmNsdXNpdmVTdW1tYXJ5OiBnZXRJbmNsdXNpdmVTdW1tYXJ5LFxuICBnZXRET01TdW1tYXJ5OiBnZXRET01TdW1tYXJ5LFxuICBnZXRUb3RhbFRpbWU6IGdldFRvdGFsVGltZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERlZmF1bHRQZXJmQW5hbHlzaXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RFbGVtZW50XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RDb250ZXh0ID0gcmVxdWlyZShcIi4vUmVhY3RDb250ZXh0XCIpO1xudmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZShcIi4vUmVhY3RDdXJyZW50T3duZXJcIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKFwiLi93YXJuaW5nXCIpO1xuXG52YXIgUkVTRVJWRURfUFJPUFMgPSB7XG4gIGtleTogdHJ1ZSxcbiAgcmVmOiB0cnVlXG59O1xuXG4vKipcbiAqIFdhcm4gZm9yIG11dGF0aW9ucy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuZnVuY3Rpb24gZGVmaW5lV2FybmluZ1Byb3BlcnR5KG9iamVjdCwga2V5KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5fc3RvcmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fc3RvcmVba2V5XTtcbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAnRG9uXFwndCBzZXQgdGhlICVzIHByb3BlcnR5IG9mIHRoZSBSZWFjdCBlbGVtZW50LiBJbnN0ZWFkLCAnICtcbiAgICAgICAgJ3NwZWNpZnkgdGhlIGNvcnJlY3QgdmFsdWUgd2hlbiBpbml0aWFsbHkgY3JlYXRpbmcgdGhlIGVsZW1lbnQuJyxcbiAgICAgICAga2V5XG4gICAgICApIDogbnVsbCk7XG4gICAgICB0aGlzLl9zdG9yZVtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gIH0pO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgdXBkYXRlZCB0byB0cnVlIGlmIHRoZSBtZW1icmFuZSBpcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC5cbiAqL1xudmFyIHVzZU11dGF0aW9uTWVtYnJhbmUgPSBmYWxzZTtcblxuLyoqXG4gKiBXYXJuIGZvciBtdXRhdGlvbnMuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudFxuICovXG5mdW5jdGlvbiBkZWZpbmVNdXRhdGlvbk1lbWJyYW5lKHByb3RvdHlwZSkge1xuICB0cnkge1xuICAgIHZhciBwc2V1ZG9Gcm96ZW5Qcm9wZXJ0aWVzID0ge1xuICAgICAgcHJvcHM6IHRydWVcbiAgICB9O1xuICAgIGZvciAodmFyIGtleSBpbiBwc2V1ZG9Gcm96ZW5Qcm9wZXJ0aWVzKSB7XG4gICAgICBkZWZpbmVXYXJuaW5nUHJvcGVydHkocHJvdG90eXBlLCBrZXkpO1xuICAgIH1cbiAgICB1c2VNdXRhdGlvbk1lbWJyYW5lID0gdHJ1ZTtcbiAgfSBjYXRjaCAoeCkge1xuICAgIC8vIElFIHdpbGwgZmFpbCBvbiBkZWZpbmVQcm9wZXJ0eVxuICB9XG59XG5cbi8qKlxuICogQmFzZSBjb25zdHJ1Y3RvciBmb3IgYWxsIFJlYWN0IGVsZW1lbnRzLiBUaGlzIGlzIG9ubHkgdXNlZCB0byBtYWtlIHRoaXNcbiAqIHdvcmsgd2l0aCBhIGR5bmFtaWMgaW5zdGFuY2VvZiBjaGVjay4gTm90aGluZyBzaG91bGQgbGl2ZSBvbiB0aGlzIHByb3RvdHlwZS5cbiAqXG4gKiBAcGFyYW0geyp9IHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gcmVmXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHsqfSBwcm9wc1xuICogQGludGVybmFsXG4gKi9cbnZhciBSZWFjdEVsZW1lbnQgPSBmdW5jdGlvbih0eXBlLCBrZXksIHJlZiwgb3duZXIsIGNvbnRleHQsIHByb3BzKSB7XG4gIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgdGhpcy50eXBlID0gdHlwZTtcbiAgdGhpcy5rZXkgPSBrZXk7XG4gIHRoaXMucmVmID0gcmVmO1xuXG4gIC8vIFJlY29yZCB0aGUgY29tcG9uZW50IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGlzIGVsZW1lbnQuXG4gIHRoaXMuX293bmVyID0gb3duZXI7XG5cbiAgLy8gVE9ETzogRGVwcmVjYXRlIHdpdGhDb250ZXh0LCBhbmQgdGhlbiB0aGUgY29udGV4dCBiZWNvbWVzIGFjY2Vzc2libGVcbiAgLy8gdGhyb3VnaCB0aGUgb3duZXIuXG4gIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuXG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAvLyBUaGUgdmFsaWRhdGlvbiBmbGFnIGFuZCBwcm9wcyBhcmUgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgdGhlbSBvblxuICAgIC8vIGFuIGV4dGVybmFsIGJhY2tpbmcgc3RvcmUgc28gdGhhdCB3ZSBjYW4gZnJlZXplIHRoZSB3aG9sZSBvYmplY3QuXG4gICAgLy8gVGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBhIFdlYWtNYXAgb25jZSB0aGV5IGFyZSBpbXBsZW1lbnRlZCBpblxuICAgIC8vIGNvbW1vbmx5IHVzZWQgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzLlxuICAgIHRoaXMuX3N0b3JlID0ge3Byb3BzOiBwcm9wcywgb3JpZ2luYWxQcm9wczogYXNzaWduKHt9LCBwcm9wcyl9O1xuXG4gICAgLy8gVG8gbWFrZSBjb21wYXJpbmcgUmVhY3RFbGVtZW50cyBlYXNpZXIgZm9yIHRlc3RpbmcgcHVycG9zZXMsIHdlIG1ha2VcbiAgICAvLyB0aGUgdmFsaWRhdGlvbiBmbGFnIG5vbi1lbnVtZXJhYmxlICh3aGVyZSBwb3NzaWJsZSwgd2hpY2ggc2hvdWxkXG4gICAgLy8gaW5jbHVkZSBldmVyeSBlbnZpcm9ubWVudCB3ZSBydW4gdGVzdHMgaW4pLCBzbyB0aGUgdGVzdCBmcmFtZXdvcmtcbiAgICAvLyBpZ25vcmVzIGl0LlxuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoeCkge1xuICAgIH1cbiAgICB0aGlzLl9zdG9yZS52YWxpZGF0ZWQgPSBmYWxzZTtcblxuICAgIC8vIFdlJ3JlIG5vdCBhbGxvd2VkIHRvIHNldCBwcm9wcyBkaXJlY3RseSBvbiB0aGUgb2JqZWN0IHNvIHdlIGVhcmx5XG4gICAgLy8gcmV0dXJuIGFuZCByZWx5IG9uIHRoZSBwcm90b3R5cGUgbWVtYnJhbmUgdG8gZm9yd2FyZCB0byB0aGUgYmFja2luZ1xuICAgIC8vIHN0b3JlLlxuICAgIGlmICh1c2VNdXRhdGlvbk1lbWJyYW5lKSB7XG4gICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMucHJvcHMgPSBwcm9wcztcbn07XG5cbi8vIFdlIGludGVudGlvbmFsbHkgZG9uJ3QgZXhwb3NlIHRoZSBmdW5jdGlvbiBvbiB0aGUgY29uc3RydWN0b3IgcHJvcGVydHkuXG4vLyBSZWFjdEVsZW1lbnQgc2hvdWxkIGJlIGluZGlzdGluZ3Vpc2hhYmxlIGZyb20gYSBwbGFpbiBvYmplY3QuXG5SZWFjdEVsZW1lbnQucHJvdG90eXBlID0ge1xuICBfaXNSZWFjdEVsZW1lbnQ6IHRydWVcbn07XG5cbmlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgZGVmaW5lTXV0YXRpb25NZW1icmFuZShSZWFjdEVsZW1lbnQucHJvdG90eXBlKTtcbn1cblxuUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0eXBlLCBjb25maWcsIGNoaWxkcmVuKSB7XG4gIHZhciBwcm9wTmFtZTtcblxuICAvLyBSZXNlcnZlZCBuYW1lcyBhcmUgZXh0cmFjdGVkXG4gIHZhciBwcm9wcyA9IHt9O1xuXG4gIHZhciBrZXkgPSBudWxsO1xuICB2YXIgcmVmID0gbnVsbDtcblxuICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICByZWYgPSBjb25maWcucmVmID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLnJlZjtcbiAgICBrZXkgPSBjb25maWcua2V5ID09PSB1bmRlZmluZWQgPyBudWxsIDogJycgKyBjb25maWcua2V5O1xuICAgIC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcbiAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiZcbiAgICAgICAgICAhUkVTRVJWRURfUFJPUFMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hpbGRyZW4gY2FuIGJlIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQsIGFuZCB0aG9zZSBhcmUgdHJhbnNmZXJyZWQgb250b1xuICAvLyB0aGUgbmV3bHkgYWxsb2NhdGVkIHByb3BzIG9iamVjdC5cbiAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICB9XG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICB9XG5cbiAgLy8gUmVzb2x2ZSBkZWZhdWx0IHByb3BzXG4gIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuICAgIGZvciAocHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICBpZiAodHlwZW9mIHByb3BzW3Byb3BOYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFJlYWN0RWxlbWVudChcbiAgICB0eXBlLFxuICAgIGtleSxcbiAgICByZWYsXG4gICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCxcbiAgICBSZWFjdENvbnRleHQuY3VycmVudCxcbiAgICBwcm9wc1xuICApO1xufTtcblxuUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3RvcnkgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBmYWN0b3J5ID0gUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChudWxsLCB0eXBlKTtcbiAgLy8gRXhwb3NlIHRoZSB0eXBlIG9uIHRoZSBmYWN0b3J5IGFuZCB0aGUgcHJvdG90eXBlIHNvIHRoYXQgaXQgY2FuIGJlXG4gIC8vIGVhc2lseSBhY2Nlc3NlZCBvbiBlbGVtZW50cy4gRS5nLiA8Rm9vIC8+LnR5cGUgPT09IEZvby50eXBlLlxuICAvLyBUaGlzIHNob3VsZCBub3QgYmUgbmFtZWQgYGNvbnN0cnVjdG9yYCBzaW5jZSB0aGlzIG1heSBub3QgYmUgdGhlIGZ1bmN0aW9uXG4gIC8vIHRoYXQgY3JlYXRlZCB0aGUgZWxlbWVudCwgYW5kIGl0IG1heSBub3QgZXZlbiBiZSBhIGNvbnN0cnVjdG9yLlxuICAvLyBMZWdhY3kgaG9vayBUT0RPOiBXYXJuIGlmIHRoaXMgaXMgYWNjZXNzZWRcbiAgZmFjdG9yeS50eXBlID0gdHlwZTtcbiAgcmV0dXJuIGZhY3Rvcnk7XG59O1xuXG5SZWFjdEVsZW1lbnQuY2xvbmVBbmRSZXBsYWNlUHJvcHMgPSBmdW5jdGlvbihvbGRFbGVtZW50LCBuZXdQcm9wcykge1xuICB2YXIgbmV3RWxlbWVudCA9IG5ldyBSZWFjdEVsZW1lbnQoXG4gICAgb2xkRWxlbWVudC50eXBlLFxuICAgIG9sZEVsZW1lbnQua2V5LFxuICAgIG9sZEVsZW1lbnQucmVmLFxuICAgIG9sZEVsZW1lbnQuX293bmVyLFxuICAgIG9sZEVsZW1lbnQuX2NvbnRleHQsXG4gICAgbmV3UHJvcHNcbiAgKTtcblxuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgLy8gSWYgdGhlIGtleSBvbiB0aGUgb3JpZ2luYWwgaXMgdmFsaWQsIHRoZW4gdGhlIGNsb25lIGlzIHZhbGlkXG4gICAgbmV3RWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gb2xkRWxlbWVudC5fc3RvcmUudmFsaWRhdGVkO1xuICB9XG4gIHJldHVybiBuZXdFbGVtZW50O1xufTtcblxuUmVhY3RFbGVtZW50LmNsb25lRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgdmFyIHByb3BOYW1lO1xuXG4gIC8vIE9yaWdpbmFsIHByb3BzIGFyZSBjb3BpZWRcbiAgdmFyIHByb3BzID0gYXNzaWduKHt9LCBlbGVtZW50LnByb3BzKTtcblxuICAvLyBSZXNlcnZlZCBuYW1lcyBhcmUgZXh0cmFjdGVkXG4gIHZhciBrZXkgPSBlbGVtZW50LmtleTtcbiAgdmFyIHJlZiA9IGVsZW1lbnQucmVmO1xuXG4gIC8vIE93bmVyIHdpbGwgYmUgcHJlc2VydmVkLCB1bmxlc3MgcmVmIGlzIG92ZXJyaWRkZW5cbiAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG5cbiAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgaWYgKGNvbmZpZy5yZWYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gU2lsZW50bHkgc3RlYWwgdGhlIHJlZiBmcm9tIHRoZSBwYXJlbnQuXG4gICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgIH1cbiAgICBpZiAoY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIG92ZXJyaWRlIGV4aXN0aW5nIHByb3BzXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmXG4gICAgICAgICAgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENoaWxkcmVuIGNhbiBiZSBtb3JlIHRoYW4gb25lIGFyZ3VtZW50LCBhbmQgdGhvc2UgYXJlIHRyYW5zZmVycmVkIG9udG9cbiAgLy8gdGhlIG5ld2x5IGFsbG9jYXRlZCBwcm9wcyBvYmplY3QuXG4gIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICBpZiAoY2hpbGRyZW5MZW5ndGggPT09IDEpIHtcbiAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgfVxuICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVhY3RFbGVtZW50KFxuICAgIGVsZW1lbnQudHlwZSxcbiAgICBrZXksXG4gICAgcmVmLFxuICAgIG93bmVyLFxuICAgIGVsZW1lbnQuX2NvbnRleHQsXG4gICAgcHJvcHNcbiAgKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHs/b2JqZWN0fSBvYmplY3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYG9iamVjdGAgaXMgYSB2YWxpZCBjb21wb25lbnQuXG4gKiBAZmluYWxcbiAqL1xuUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIC8vIFJlYWN0VGVzdFV0aWxzIGlzIG9mdGVuIHVzZWQgb3V0c2lkZSBvZiBiZWZvcmVFYWNoIHdoZXJlIGFzIFJlYWN0IGlzXG4gIC8vIHdpdGhpbiBpdC4gVGhpcyBsZWFkcyB0byB0d28gZGlmZmVyZW50IGluc3RhbmNlcyBvZiBSZWFjdCBvbiB0aGUgc2FtZVxuICAvLyBwYWdlLiBUbyBpZGVudGlmeSBhIGVsZW1lbnQgZnJvbSBhIGRpZmZlcmVudCBSZWFjdCBpbnN0YW5jZSB3ZSB1c2VcbiAgLy8gYSBmbGFnIGluc3RlYWQgb2YgYW4gaW5zdGFuY2VvZiBjaGVjay5cbiAgdmFyIGlzRWxlbWVudCA9ICEhKG9iamVjdCAmJiBvYmplY3QuX2lzUmVhY3RFbGVtZW50KTtcbiAgLy8gaWYgKGlzRWxlbWVudCAmJiAhKG9iamVjdCBpbnN0YW5jZW9mIFJlYWN0RWxlbWVudCkpIHtcbiAgLy8gVGhpcyBpcyBhbiBpbmRpY2F0b3IgdGhhdCB5b3UncmUgdXNpbmcgbXVsdGlwbGUgdmVyc2lvbnMgb2YgUmVhY3QgYXQgdGhlXG4gIC8vIHNhbWUgdGltZS4gVGhpcyB3aWxsIHNjcmV3IHdpdGggb3duZXJzaGlwIGFuZCBzdHVmZi4gRml4IGl0LCBwbGVhc2UuXG4gIC8vIFRPRE86IFdlIGNvdWxkIHBvc3NpYmx5IHdhcm4gaGVyZS5cbiAgLy8gfVxuICByZXR1cm4gaXNFbGVtZW50O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdEVsZW1lbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RFbGVtZW50VmFsaWRhdG9yXG4gKi9cblxuLyoqXG4gKiBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgcHJvdmlkZXMgYSB3cmFwcGVyIGFyb3VuZCBhIGVsZW1lbnQgZmFjdG9yeVxuICogd2hpY2ggdmFsaWRhdGVzIHRoZSBwcm9wcyBwYXNzZWQgdG8gdGhlIGVsZW1lbnQuIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmVcbiAqIHVzZWQgb25seSBpbiBERVYgYW5kIGNvdWxkIGJlIHJlcGxhY2VkIGJ5IGEgc3RhdGljIHR5cGUgY2hlY2tlciBmb3IgbGFuZ3VhZ2VzXG4gKiB0aGF0IHN1cHBvcnQgaXQuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZShcIi4vUmVhY3RFbGVtZW50XCIpO1xudmFyIFJlYWN0RnJhZ21lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEZyYWdtZW50XCIpO1xudmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSByZXF1aXJlKFwiLi9SZWFjdFByb3BUeXBlTG9jYXRpb25zXCIpO1xudmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0gcmVxdWlyZShcIi4vUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNcIik7XG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKFwiLi9SZWFjdEN1cnJlbnRPd25lclwiKTtcbnZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudCA9IHJlcXVpcmUoXCIuL1JlYWN0TmF0aXZlQ29tcG9uZW50XCIpO1xuXG52YXIgZ2V0SXRlcmF0b3JGbiA9IHJlcXVpcmUoXCIuL2dldEl0ZXJhdG9yRm5cIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKFwiLi93YXJuaW5nXCIpO1xuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIGlmIChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgdmFyIG5hbWUgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LmdldE5hbWUoKTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFdhcm4gaWYgdGhlcmUncyBubyBrZXkgZXhwbGljaXRseSBzZXQgb24gZHluYW1pYyBhcnJheXMgb2YgY2hpbGRyZW4gb3JcbiAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICogdXBkYXRlcy5cbiAqL1xudmFyIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuXG52YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG5cbnZhciBOVU1FUklDX1BST1BFUlRZX1JFR0VYID0gL15cXGQrJC87XG5cbi8qKlxuICogR2V0cyB0aGUgaW5zdGFuY2UncyBuYW1lIGZvciB1c2UgaW4gd2FybmluZ3MuXG4gKlxuICogQGludGVybmFsXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBEaXNwbGF5IG5hbWUgb3IgdW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGdldE5hbWUoaW5zdGFuY2UpIHtcbiAgdmFyIHB1YmxpY0luc3RhbmNlID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuZ2V0UHVibGljSW5zdGFuY2UoKTtcbiAgaWYgKCFwdWJsaWNJbnN0YW5jZSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgdmFyIGNvbnN0cnVjdG9yID0gcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3I7XG4gIGlmICghY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBjb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCBjb25zdHJ1Y3Rvci5uYW1lIHx8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50IG93bmVyJ3MgZGlzcGxheU5hbWUgZm9yIHVzZSBpbiB3YXJuaW5ncy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEByZXR1cm4gez9zdHJpbmd9IERpc3BsYXkgbmFtZSBvciB1bmRlZmluZWRcbiAqL1xuZnVuY3Rpb24gZ2V0Q3VycmVudE93bmVyRGlzcGxheU5hbWUoKSB7XG4gIHZhciBjdXJyZW50ID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgcmV0dXJuIChcbiAgICBjdXJyZW50ICYmIGdldE5hbWUoY3VycmVudCkgfHwgdW5kZWZpbmVkXG4gICk7XG59XG5cbi8qKlxuICogV2FybiBpZiB0aGUgZWxlbWVudCBkb2Vzbid0IGhhdmUgYW4gZXhwbGljaXQga2V5IGFzc2lnbmVkIHRvIGl0LlxuICogVGhpcyBlbGVtZW50IGlzIGluIGFuIGFycmF5LiBUaGUgYXJyYXkgY291bGQgZ3JvdyBhbmQgc2hyaW5rIG9yIGJlXG4gKiByZW9yZGVyZWQuIEFsbCBjaGlsZHJlbiB0aGF0IGhhdmVuJ3QgYWxyZWFkeSBiZWVuIHZhbGlkYXRlZCBhcmUgcmVxdWlyZWQgdG9cbiAqIGhhdmUgYSBcImtleVwiIHByb3BlcnR5IGFzc2lnbmVkIHRvIGl0LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgaWYgKGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCB8fCBlbGVtZW50LmtleSAhPSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG5cbiAgd2FybkFuZE1vbml0b3JGb3JLZXlVc2UoXG4gICAgJ0VhY2ggY2hpbGQgaW4gYW4gYXJyYXkgb3IgaXRlcmF0b3Igc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLicsXG4gICAgZWxlbWVudCxcbiAgICBwYXJlbnRUeXBlXG4gICk7XG59XG5cbi8qKlxuICogV2FybiBpZiB0aGUga2V5IGlzIGJlaW5nIGRlZmluZWQgYXMgYW4gb2JqZWN0IHByb3BlcnR5IGJ1dCBoYXMgYW4gaW5jb3JyZWN0XG4gKiB2YWx1ZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGtleS5cbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50IENvbXBvbmVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5S2V5KG5hbWUsIGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgaWYgKCFOVU1FUklDX1BST1BFUlRZX1JFR0VYLnRlc3QobmFtZSkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2FybkFuZE1vbml0b3JGb3JLZXlVc2UoXG4gICAgJ0NoaWxkIG9iamVjdHMgc2hvdWxkIGhhdmUgbm9uLW51bWVyaWMga2V5cyBzbyBvcmRlcmluZyBpcyBwcmVzZXJ2ZWQuJyxcbiAgICBlbGVtZW50LFxuICAgIHBhcmVudFR5cGVcbiAgKTtcbn1cblxuLyoqXG4gKiBTaGFyZWQgd2FybmluZyBhbmQgbW9uaXRvcmluZyBjb2RlIGZvciB0aGUga2V5IHdhcm5pbmdzLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGJhc2Ugd2FybmluZyB0aGF0IGdldHMgb3V0cHV0LlxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgQ29tcG9uZW50IHRoYXQgcmVxdWlyZXMgYSBrZXkuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgZWxlbWVudCdzIHBhcmVudCdzIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIHdhcm5BbmRNb25pdG9yRm9yS2V5VXNlKG1lc3NhZ2UsIGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgdmFyIG93bmVyTmFtZSA9IGdldEN1cnJlbnRPd25lckRpc3BsYXlOYW1lKCk7XG4gIHZhciBwYXJlbnROYW1lID0gdHlwZW9mIHBhcmVudFR5cGUgPT09ICdzdHJpbmcnID9cbiAgICBwYXJlbnRUeXBlIDogcGFyZW50VHlwZS5kaXNwbGF5TmFtZSB8fCBwYXJlbnRUeXBlLm5hbWU7XG5cbiAgdmFyIHVzZU5hbWUgPSBvd25lck5hbWUgfHwgcGFyZW50TmFtZTtcbiAgdmFyIG1lbW9pemVyID0gb3duZXJIYXNLZXlVc2VXYXJuaW5nW21lc3NhZ2VdIHx8IChcbiAgICAob3duZXJIYXNLZXlVc2VXYXJuaW5nW21lc3NhZ2VdID0ge30pXG4gICk7XG4gIGlmIChtZW1vaXplci5oYXNPd25Qcm9wZXJ0eSh1c2VOYW1lKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBtZW1vaXplclt1c2VOYW1lXSA9IHRydWU7XG5cbiAgdmFyIHBhcmVudE9yT3duZXJBZGRlbmR1bSA9XG4gICAgb3duZXJOYW1lID8gKFwiIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIFwiICsgb3duZXJOYW1lICsgXCIuXCIpIDpcbiAgICBwYXJlbnROYW1lID8gKFwiIENoZWNrIHRoZSBSZWFjdC5yZW5kZXIgY2FsbCB1c2luZyA8XCIgKyBwYXJlbnROYW1lICsgXCI+LlwiKSA6XG4gICAgJyc7XG5cbiAgLy8gVXN1YWxseSB0aGUgY3VycmVudCBvd25lciBpcyB0aGUgb2ZmZW5kZXIsIGJ1dCBpZiBpdCBhY2NlcHRzIGNoaWxkcmVuIGFzIGFcbiAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAvLyBhc3NpZ25pbmcgaXQgYSBrZXkuXG4gIHZhciBjaGlsZE93bmVyQWRkZW5kdW0gPSAnJztcbiAgaWYgKGVsZW1lbnQgJiZcbiAgICAgIGVsZW1lbnQuX293bmVyICYmXG4gICAgICBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgIC8vIE5hbWUgb2YgdGhlIGNvbXBvbmVudCB0aGF0IG9yaWdpbmFsbHkgY3JlYXRlZCB0aGlzIGNoaWxkLlxuICAgIHZhciBjaGlsZE93bmVyTmFtZSA9IGdldE5hbWUoZWxlbWVudC5fb3duZXIpO1xuXG4gICAgY2hpbGRPd25lckFkZGVuZHVtID0gKFwiIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tIFwiICsgY2hpbGRPd25lck5hbWUgKyBcIi5cIik7XG4gIH1cblxuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICBmYWxzZSxcbiAgICBtZXNzYWdlICsgJyVzJXMgU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgcGFyZW50T3JPd25lckFkZGVuZHVtLFxuICAgIGNoaWxkT3duZXJBZGRlbmR1bVxuICApIDogbnVsbCk7XG59XG5cbi8qKlxuICogRW5zdXJlIHRoYXQgZXZlcnkgZWxlbWVudCBlaXRoZXIgaXMgcGFzc2VkIGluIGEgc3RhdGljIGxvY2F0aW9uLCBpbiBhblxuICogYXJyYXkgd2l0aCBhbiBleHBsaWNpdCBrZXlzIHByb3BlcnR5IGRlZmluZWQsIG9yIGluIGFuIG9iamVjdCBsaXRlcmFsXG4gKiB3aXRoIHZhbGlkIGtleSBwcm9wZXJ0eS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7UmVhY3ROb2RlfSBub2RlIFN0YXRpY2FsbHkgcGFzc2VkIGNoaWxkIG9mIGFueSB0eXBlLlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIG5vZGUncyBwYXJlbnQncyB0eXBlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgIC8vIFRoaXMgZWxlbWVudCB3YXMgcGFzc2VkIGluIGEgdmFsaWQgbG9jYXRpb24uXG4gICAgbm9kZS5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChub2RlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG5vZGUpO1xuICAgIC8vIEVudHJ5IGl0ZXJhdG9ycyBwcm92aWRlIGltcGxpY2l0IGtleXMuXG4gICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgIGlmIChpdGVyYXRvckZuICE9PSBub2RlLmVudHJpZXMpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBmcmFnbWVudCA9IFJlYWN0RnJhZ21lbnQuZXh0cmFjdElmRnJhZ21lbnQobm9kZSk7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gZnJhZ21lbnQpIHtcbiAgICAgICAgaWYgKGZyYWdtZW50Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICB2YWxpZGF0ZVByb3BlcnR5S2V5KGtleSwgZnJhZ21lbnRba2V5XSwgcGFyZW50VHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBc3NlcnQgdGhhdCB0aGUgcHJvcHMgYXJlIHZhbGlkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wVHlwZXMgTWFwIG9mIHByb3AgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXMoY29tcG9uZW50TmFtZSwgcHJvcFR5cGVzLCBwcm9wcywgbG9jYXRpb24pIHtcbiAgZm9yICh2YXIgcHJvcE5hbWUgaW4gcHJvcFR5cGVzKSB7XG4gICAgaWYgKHByb3BUeXBlcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgIHZhciBlcnJvcjtcbiAgICAgIC8vIFByb3AgdHlwZSB2YWxpZGF0aW9uIG1heSB0aHJvdy4gSW4gY2FzZSB0aGV5IGRvLCB3ZSBkb24ndCB3YW50IHRvXG4gICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG4gICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgLy8gYmVoYXZpb3IgYXMgd2l0aG91dCB0aGlzIHN0YXRlbWVudCBleGNlcHQgd2l0aCBhIGJldHRlciBtZXNzYWdlLlxuICAgICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgICAgIHR5cGVvZiBwcm9wVHlwZXNbcHJvcE5hbWVdID09PSAnZnVuY3Rpb24nLFxuICAgICAgICAgICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgK1xuICAgICAgICAgICdSZWFjdC5Qcm9wVHlwZXMuJyxcbiAgICAgICAgICBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsXG4gICAgICAgICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dLFxuICAgICAgICAgIHByb3BOYW1lXG4gICAgICAgICkgOiBpbnZhcmlhbnQodHlwZW9mIHByb3BUeXBlc1twcm9wTmFtZV0gPT09ICdmdW5jdGlvbicpKTtcbiAgICAgICAgZXJyb3IgPSBwcm9wVHlwZXNbcHJvcE5hbWVdKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgIH1cbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgIC8vIE9ubHkgbW9uaXRvciB0aGlzIGZhaWx1cmUgb25jZSBiZWNhdXNlIHRoZXJlIHRlbmRzIHRvIGJlIGEgbG90IG9mIHRoZVxuICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuXG4gICAgICAgIHZhciBhZGRlbmR1bSA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSh0aGlzKTtcbiAgICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiBudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxudmFyIHdhcm5lZFByb3BzTXV0YXRpb25zID0ge307XG5cbi8qKlxuICogV2FybiBhYm91dCBtdXRhdGluZyBwcm9wcyB3aGVuIHNldHRpbmcgYHByb3BOYW1lYCBvbiBgZWxlbWVudGAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BOYW1lIFRoZSBzdHJpbmcga2V5IHdpdGhpbiBwcm9wcyB0aGF0IHdhcyBzZXRcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHdhcm5Gb3JQcm9wc011dGF0aW9uKHByb3BOYW1lLCBlbGVtZW50KSB7XG4gIHZhciB0eXBlID0gZWxlbWVudC50eXBlO1xuICB2YXIgZWxlbWVudE5hbWUgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlIDogdHlwZS5kaXNwbGF5TmFtZTtcbiAgdmFyIG93bmVyTmFtZSA9IGVsZW1lbnQuX293bmVyID9cbiAgICBlbGVtZW50Ll9vd25lci5nZXRQdWJsaWNJbnN0YW5jZSgpLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIDogbnVsbDtcblxuICB2YXIgd2FybmluZ0tleSA9IHByb3BOYW1lICsgJ3wnICsgZWxlbWVudE5hbWUgKyAnfCcgKyBvd25lck5hbWU7XG4gIGlmICh3YXJuZWRQcm9wc011dGF0aW9ucy5oYXNPd25Qcm9wZXJ0eSh3YXJuaW5nS2V5KSkge1xuICAgIHJldHVybjtcbiAgfVxuICB3YXJuZWRQcm9wc011dGF0aW9uc1t3YXJuaW5nS2V5XSA9IHRydWU7XG5cbiAgdmFyIGVsZW1lbnRJbmZvID0gJyc7XG4gIGlmIChlbGVtZW50TmFtZSkge1xuICAgIGVsZW1lbnRJbmZvID0gJyA8JyArIGVsZW1lbnROYW1lICsgJyAvPic7XG4gIH1cbiAgdmFyIG93bmVySW5mbyA9ICcnO1xuICBpZiAob3duZXJOYW1lKSB7XG4gICAgb3duZXJJbmZvID0gJyBUaGUgZWxlbWVudCB3YXMgY3JlYXRlZCBieSAnICsgb3duZXJOYW1lICsgJy4nO1xuICB9XG5cbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgZmFsc2UsXG4gICAgJ0RvblxcJ3Qgc2V0IC5wcm9wcy4lcyBvZiB0aGUgUmVhY3QgY29tcG9uZW50JXMuIEluc3RlYWQsIHNwZWNpZnkgdGhlICcgK1xuICAgICdjb3JyZWN0IHZhbHVlIHdoZW4gaW5pdGlhbGx5IGNyZWF0aW5nIHRoZSBlbGVtZW50IG9yIHVzZSAnICtcbiAgICAnUmVhY3QuY2xvbmVFbGVtZW50IHRvIG1ha2UgYSBuZXcgZWxlbWVudCB3aXRoIHVwZGF0ZWQgcHJvcHMuJXMnLFxuICAgIHByb3BOYW1lLFxuICAgIGVsZW1lbnRJbmZvLFxuICAgIG93bmVySW5mb1xuICApIDogbnVsbCk7XG59XG5cbi8vIElubGluZSBPYmplY3QuaXMgcG9seWZpbGxcbmZ1bmN0aW9uIGlzKGEsIGIpIHtcbiAgaWYgKGEgIT09IGEpIHtcbiAgICAvLyBOYU5cbiAgICByZXR1cm4gYiAhPT0gYjtcbiAgfVxuICBpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG4gICAgLy8gKy0wXG4gICAgcmV0dXJuIDEgLyBhID09PSAxIC8gYjtcbiAgfVxuICByZXR1cm4gYSA9PT0gYjtcbn1cblxuLyoqXG4gKiBHaXZlbiBhbiBlbGVtZW50LCBjaGVjayBpZiBpdHMgcHJvcHMgaGF2ZSBiZWVuIG11dGF0ZWQgc2luY2UgZWxlbWVudFxuICogY3JlYXRpb24gKG9yIHRoZSBsYXN0IGNhbGwgdG8gdGhpcyBmdW5jdGlvbikuIEluIHBhcnRpY3VsYXIsIGNoZWNrIGlmIGFueVxuICogbmV3IHByb3BzIGhhdmUgYmVlbiBhZGRlZCwgd2hpY2ggd2UgY2FuJ3QgZGlyZWN0bHkgY2F0Y2ggYnkgZGVmaW5pbmcgd2FybmluZ1xuICogcHJvcGVydGllcyBvbiB0aGUgcHJvcHMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNoZWNrQW5kV2FybkZvck11dGF0ZWRQcm9wcyhlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudC5fc3RvcmUpIHtcbiAgICAvLyBFbGVtZW50IHdhcyBjcmVhdGVkIHVzaW5nIGBuZXcgUmVhY3RFbGVtZW50YCBkaXJlY3RseSBvciB3aXRoXG4gICAgLy8gYFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50YDsgc2tpcCBtdXRhdGlvbiBjaGVja2luZ1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBvcmlnaW5hbFByb3BzID0gZWxlbWVudC5fc3RvcmUub3JpZ2luYWxQcm9wcztcbiAgdmFyIHByb3BzID0gZWxlbWVudC5wcm9wcztcblxuICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wcykge1xuICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgIGlmICghb3JpZ2luYWxQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgfHxcbiAgICAgICAgICAhaXMob3JpZ2luYWxQcm9wc1twcm9wTmFtZV0sIHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgd2FybkZvclByb3BzTXV0YXRpb24ocHJvcE5hbWUsIGVsZW1lbnQpO1xuXG4gICAgICAgIC8vIENvcHkgb3ZlciB0aGUgbmV3IHZhbHVlIHNvIHRoYXQgdGhlIHR3byBwcm9wcyBvYmplY3RzIG1hdGNoIGFnYWluXG4gICAgICAgIG9yaWdpbmFsUHJvcHNbcHJvcE5hbWVdID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEdpdmVuIGFuIGVsZW1lbnQsIHZhbGlkYXRlIHRoYXQgaXRzIHByb3BzIGZvbGxvdyB0aGUgcHJvcFR5cGVzIGRlZmluaXRpb24sXG4gKiBwcm92aWRlZCBieSB0aGUgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudFxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50LnR5cGUgPT0gbnVsbCkge1xuICAgIC8vIFRoaXMgaGFzIGFscmVhZHkgd2FybmVkLiBEb24ndCB0aHJvdy5cbiAgICByZXR1cm47XG4gIH1cbiAgLy8gRXh0cmFjdCB0aGUgY29tcG9uZW50IGNsYXNzIGZyb20gdGhlIGVsZW1lbnQuIENvbnZlcnRzIHN0cmluZyB0eXBlc1xuICAvLyB0byBhIGNvbXBvc2l0ZSBjbGFzcyB3aGljaCBtYXkgaGF2ZSBwcm9wVHlwZXMuXG4gIC8vIFRPRE86IFZhbGlkYXRpbmcgYSBzdHJpbmcncyBwcm9wVHlwZXMgaXMgbm90IGRlY291cGxlZCBmcm9tIHRoZVxuICAvLyByZW5kZXJpbmcgdGFyZ2V0IHdoaWNoIGlzIHByb2JsZW1hdGljLlxuICB2YXIgY29tcG9uZW50Q2xhc3MgPSBSZWFjdE5hdGl2ZUNvbXBvbmVudC5nZXRDb21wb25lbnRDbGFzc0ZvckVsZW1lbnQoXG4gICAgZWxlbWVudFxuICApO1xuICB2YXIgbmFtZSA9IGNvbXBvbmVudENsYXNzLmRpc3BsYXlOYW1lIHx8IGNvbXBvbmVudENsYXNzLm5hbWU7XG4gIGlmIChjb21wb25lbnRDbGFzcy5wcm9wVHlwZXMpIHtcbiAgICBjaGVja1Byb3BUeXBlcyhcbiAgICAgIG5hbWUsXG4gICAgICBjb21wb25lbnRDbGFzcy5wcm9wVHlwZXMsXG4gICAgICBlbGVtZW50LnByb3BzLFxuICAgICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5wcm9wXG4gICAgKTtcbiAgfVxuICBpZiAodHlwZW9mIGNvbXBvbmVudENsYXNzLmdldERlZmF1bHRQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgY29tcG9uZW50Q2xhc3MuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkLFxuICAgICAgJ2dldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyAnICtcbiAgICAgICdkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuJ1xuICAgICkgOiBudWxsKTtcbiAgfVxufVxuXG52YXIgUmVhY3RFbGVtZW50VmFsaWRhdG9yID0ge1xuXG4gIGNoZWNrQW5kV2FybkZvck11dGF0ZWRQcm9wczogY2hlY2tBbmRXYXJuRm9yTXV0YXRlZFByb3BzLFxuXG4gIGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuICAgIC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gICAgLy8gc3VjY2VlZCBhbmQgdGhlcmUgd2lsbCBsaWtlbHkgYmUgZXJyb3JzIGluIHJlbmRlci5cbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgIHR5cGUgIT0gbnVsbCxcbiAgICAgICdSZWFjdC5jcmVhdGVFbGVtZW50OiB0eXBlIHNob3VsZCBub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuIEl0IHNob3VsZCAnICtcbiAgICAgICAgJ2JlIGEgc3RyaW5nIChmb3IgRE9NIGVsZW1lbnRzKSBvciBhIFJlYWN0Q2xhc3MgKGZvciBjb21wb3NpdGUgJyArXG4gICAgICAgICdjb21wb25lbnRzKS4nXG4gICAgKSA6IG51bGwpO1xuXG4gICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLy8gVGhlIHJlc3VsdCBjYW4gYmUgbnVsbGlzaCBpZiBhIG1vY2sgb3IgYSBjdXN0b20gZnVuY3Rpb24gaXMgdXNlZC5cbiAgICAvLyBUT0RPOiBEcm9wIHRoaXMgd2hlbiB0aGVzZSBhcmUgbm8gbG9uZ2VyIGFsbG93ZWQgYXMgdGhlIHR5cGUgYXJndW1lbnQuXG4gICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgdHlwZSk7XG4gICAgfVxuXG4gICAgdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCk7XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSxcblxuICBjcmVhdGVGYWN0b3J5OiBmdW5jdGlvbih0eXBlKSB7XG4gICAgdmFyIHZhbGlkYXRlZEZhY3RvcnkgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRWxlbWVudC5iaW5kKFxuICAgICAgbnVsbCxcbiAgICAgIHR5cGVcbiAgICApO1xuICAgIC8vIExlZ2FjeSBob29rIFRPRE86IFdhcm4gaWYgdGhpcyBpcyBhY2Nlc3NlZFxuICAgIHZhbGlkYXRlZEZhY3RvcnkudHlwZSA9IHR5cGU7XG5cbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICB0cnkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgdmFsaWRhdGVkRmFjdG9yeSxcbiAgICAgICAgICAndHlwZScsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAnRmFjdG9yeS50eXBlIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB0aGUgY2xhc3MgZGlyZWN0bHkgJyArXG4gICAgICAgICAgICAgICAgJ2JlZm9yZSBwYXNzaW5nIGl0IHRvIGNyZWF0ZUZhY3RvcnkuJ1xuICAgICAgICAgICAgICApIDogbnVsbCk7XG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndHlwZScsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHlwZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAvLyBJRSB3aWxsIGZhaWwgb24gZGVmaW5lUHJvcGVydHkgKGVzNS1zaGltL3NoYW0gdG9vKVxuICAgICAgfVxuICAgIH1cblxuXG4gICAgcmV0dXJuIHZhbGlkYXRlZEZhY3Rvcnk7XG4gIH0sXG5cbiAgY2xvbmVFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudC5jbG9uZUVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCBuZXdFbGVtZW50LnR5cGUpO1xuICAgIH1cbiAgICB2YWxpZGF0ZVByb3BUeXBlcyhuZXdFbGVtZW50KTtcbiAgICByZXR1cm4gbmV3RWxlbWVudDtcbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RWxlbWVudFZhbGlkYXRvcjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdEVtcHR5Q29tcG9uZW50XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZShcIi4vUmVhY3RFbGVtZW50XCIpO1xudmFyIFJlYWN0SW5zdGFuY2VNYXAgPSByZXF1aXJlKFwiLi9SZWFjdEluc3RhbmNlTWFwXCIpO1xuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xuXG52YXIgY29tcG9uZW50O1xuLy8gVGhpcyByZWdpc3RyeSBrZWVwcyB0cmFjayBvZiB0aGUgUmVhY3QgSURzIG9mIHRoZSBjb21wb25lbnRzIHRoYXQgcmVuZGVyZWQgdG9cbi8vIGBudWxsYCAoaW4gcmVhbGl0eSBhIHBsYWNlaG9sZGVyIHN1Y2ggYXMgYG5vc2NyaXB0YClcbnZhciBudWxsQ29tcG9uZW50SURzUmVnaXN0cnkgPSB7fTtcblxudmFyIFJlYWN0RW1wdHlDb21wb25lbnRJbmplY3Rpb24gPSB7XG4gIGluamVjdEVtcHR5Q29tcG9uZW50OiBmdW5jdGlvbihlbXB0eUNvbXBvbmVudCkge1xuICAgIGNvbXBvbmVudCA9IFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5KGVtcHR5Q29tcG9uZW50KTtcbiAgfVxufTtcblxudmFyIFJlYWN0RW1wdHlDb21wb25lbnRUeXBlID0gZnVuY3Rpb24oKSB7fTtcblJlYWN0RW1wdHlDb21wb25lbnRUeXBlLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IFJlYWN0SW5zdGFuY2VNYXAuZ2V0KHRoaXMpO1xuICAvLyBUT0RPOiBNYWtlIHN1cmUgd2UgcnVuIHRoZXNlIG1ldGhvZHMgaW4gdGhlIGNvcnJlY3Qgb3JkZXIsIHdlIHNob3VsZG4ndFxuICAvLyBuZWVkIHRoaXMgY2hlY2suIFdlJ3JlIGdvaW5nIHRvIGFzc3VtZSBpZiB3ZSdyZSBoZXJlIGl0IG1lYW5zIHdlIHJhblxuICAvLyBjb21wb25lbnRXaWxsVW5tb3VudCBhbHJlYWR5IHNvIHRoZXJlIGlzIG5vIGludGVybmFsIGluc3RhbmNlIChpdCBnZXRzXG4gIC8vIHJlbW92ZWQgYXMgcGFydCBvZiB0aGUgdW5tb3VudGluZyBwcm9jZXNzKS5cbiAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlZ2lzdGVyTnVsbENvbXBvbmVudElEKGludGVybmFsSW5zdGFuY2UuX3Jvb3ROb2RlSUQpO1xufTtcblJlYWN0RW1wdHlDb21wb25lbnRUeXBlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IFJlYWN0SW5zdGFuY2VNYXAuZ2V0KHRoaXMpO1xuICAvLyBUT0RPOiBHZXQgcmlkIG9mIHRoaXMgY2hlY2suIFNlZSBUT0RPIGluIGNvbXBvbmVudERpZE1vdW50LlxuICBpZiAoIWludGVybmFsSW5zdGFuY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZGVyZWdpc3Rlck51bGxDb21wb25lbnRJRChpbnRlcm5hbEluc3RhbmNlLl9yb290Tm9kZUlEKTtcbn07XG5SZWFjdEVtcHR5Q29tcG9uZW50VHlwZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgY29tcG9uZW50LFxuICAgICdUcnlpbmcgdG8gcmV0dXJuIG51bGwgZnJvbSBhIHJlbmRlciwgYnV0IG5vIG51bGwgcGxhY2Vob2xkZXIgY29tcG9uZW50ICcgK1xuICAgICd3YXMgaW5qZWN0ZWQuJ1xuICApIDogaW52YXJpYW50KGNvbXBvbmVudCkpO1xuICByZXR1cm4gY29tcG9uZW50KCk7XG59O1xuXG52YXIgZW1wdHlFbGVtZW50ID0gUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQoUmVhY3RFbXB0eUNvbXBvbmVudFR5cGUpO1xuXG4vKipcbiAqIE1hcmsgdGhlIGNvbXBvbmVudCBhcyBoYXZpbmcgcmVuZGVyZWQgdG8gbnVsbC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDb21wb25lbnQncyBgX3Jvb3ROb2RlSURgLlxuICovXG5mdW5jdGlvbiByZWdpc3Rlck51bGxDb21wb25lbnRJRChpZCkge1xuICBudWxsQ29tcG9uZW50SURzUmVnaXN0cnlbaWRdID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBVbm1hcmsgdGhlIGNvbXBvbmVudCBhcyBoYXZpbmcgcmVuZGVyZWQgdG8gbnVsbDogaXQgcmVuZGVycyB0byBzb21ldGhpbmcgbm93LlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIENvbXBvbmVudCdzIGBfcm9vdE5vZGVJRGAuXG4gKi9cbmZ1bmN0aW9uIGRlcmVnaXN0ZXJOdWxsQ29tcG9uZW50SUQoaWQpIHtcbiAgZGVsZXRlIG51bGxDb21wb25lbnRJRHNSZWdpc3RyeVtpZF07XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIENvbXBvbmVudCdzIGBfcm9vdE5vZGVJRGAuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBjb21wb25lbnQgaXMgcmVuZGVyZWQgdG8gbnVsbC5cbiAqL1xuZnVuY3Rpb24gaXNOdWxsQ29tcG9uZW50SUQoaWQpIHtcbiAgcmV0dXJuICEhbnVsbENvbXBvbmVudElEc1JlZ2lzdHJ5W2lkXTtcbn1cblxudmFyIFJlYWN0RW1wdHlDb21wb25lbnQgPSB7XG4gIGVtcHR5RWxlbWVudDogZW1wdHlFbGVtZW50LFxuICBpbmplY3Rpb246IFJlYWN0RW1wdHlDb21wb25lbnRJbmplY3Rpb24sXG4gIGlzTnVsbENvbXBvbmVudElEOiBpc051bGxDb21wb25lbnRJRFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdEVtcHR5Q29tcG9uZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RXJyb3JVdGlsc1xuICogQHR5cGVjaGVja3NcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFJlYWN0RXJyb3JVdGlscyA9IHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBndWFyZGVkIHZlcnNpb24gb2YgYSBmdW5jdGlvbi4gVGhpcyBpcyBzdXBwb3NlZCB0byBtYWtlIGRlYnVnZ2luZ1xuICAgKiBvZiBldmVudCBoYW5kbGVycyBlYXNpZXIuIFRvIGFpZCBkZWJ1Z2dpbmcgd2l0aCB0aGUgYnJvd3NlcidzIGRlYnVnZ2VyLFxuICAgKiB0aGlzIGN1cnJlbnRseSBzaW1wbHkgcmV0dXJucyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgRnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGd1YXJkXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufVxuICAgKi9cbiAgZ3VhcmQ6IGZ1bmN0aW9uKGZ1bmMsIG5hbWUpIHtcbiAgICByZXR1cm4gZnVuYztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdEVycm9yVXRpbHM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RFdmVudEVtaXR0ZXJNaXhpblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50UGx1Z2luSHViID0gcmVxdWlyZShcIi4vRXZlbnRQbHVnaW5IdWJcIik7XG5cbmZ1bmN0aW9uIHJ1bkV2ZW50UXVldWVJbkJhdGNoKGV2ZW50cykge1xuICBFdmVudFBsdWdpbkh1Yi5lbnF1ZXVlRXZlbnRzKGV2ZW50cyk7XG4gIEV2ZW50UGx1Z2luSHViLnByb2Nlc3NFdmVudFF1ZXVlKCk7XG59XG5cbnZhciBSZWFjdEV2ZW50RW1pdHRlck1peGluID0ge1xuXG4gIC8qKlxuICAgKiBTdHJlYW1zIGEgZmlyZWQgdG9wLWxldmVsIGV2ZW50IHRvIGBFdmVudFBsdWdpbkh1YmAgd2hlcmUgcGx1Z2lucyBoYXZlIHRoZVxuICAgKiBvcHBvcnR1bml0eSB0byBjcmVhdGUgYFJlYWN0RXZlbnRgcyB0byBiZSBkaXNwYXRjaGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBFdmVudENvbnN0YW50c2AuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB0b3BMZXZlbFRhcmdldCBUaGUgbGlzdGVuaW5nIGNvbXBvbmVudCByb290IG5vZGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFRhcmdldElEIElEIG9mIGB0b3BMZXZlbFRhcmdldGAuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgZW52aXJvbm1lbnQgZXZlbnQuXG4gICAqL1xuICBoYW5kbGVUb3BMZXZlbDogZnVuY3Rpb24oXG4gICAgICB0b3BMZXZlbFR5cGUsXG4gICAgICB0b3BMZXZlbFRhcmdldCxcbiAgICAgIHRvcExldmVsVGFyZ2V0SUQsXG4gICAgICBuYXRpdmVFdmVudCkge1xuICAgIHZhciBldmVudHMgPSBFdmVudFBsdWdpbkh1Yi5leHRyYWN0RXZlbnRzKFxuICAgICAgdG9wTGV2ZWxUeXBlLFxuICAgICAgdG9wTGV2ZWxUYXJnZXQsXG4gICAgICB0b3BMZXZlbFRhcmdldElELFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApO1xuXG4gICAgcnVuRXZlbnRRdWV1ZUluQmF0Y2goZXZlbnRzKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdEV2ZW50RW1pdHRlck1peGluO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RXZlbnRMaXN0ZW5lclxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudExpc3RlbmVyID0gcmVxdWlyZShcIi4vRXZlbnRMaXN0ZW5lclwiKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoXCIuL0V4ZWN1dGlvbkVudmlyb25tZW50XCIpO1xudmFyIFBvb2xlZENsYXNzID0gcmVxdWlyZShcIi4vUG9vbGVkQ2xhc3NcIik7XG52YXIgUmVhY3RJbnN0YW5jZUhhbmRsZXMgPSByZXF1aXJlKFwiLi9SZWFjdEluc3RhbmNlSGFuZGxlc1wiKTtcbnZhciBSZWFjdE1vdW50ID0gcmVxdWlyZShcIi4vUmVhY3RNb3VudFwiKTtcbnZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKFwiLi9SZWFjdFVwZGF0ZXNcIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIGdldEV2ZW50VGFyZ2V0ID0gcmVxdWlyZShcIi4vZ2V0RXZlbnRUYXJnZXRcIik7XG52YXIgZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb24gPSByZXF1aXJlKFwiLi9nZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvblwiKTtcblxuLyoqXG4gKiBGaW5kcyB0aGUgcGFyZW50IFJlYWN0IGNvbXBvbmVudCBvZiBgbm9kZWAuXG4gKlxuICogQHBhcmFtIHsqfSBub2RlXG4gKiBAcmV0dXJuIHs/RE9NRXZlbnRUYXJnZXR9IFBhcmVudCBjb250YWluZXIsIG9yIGBudWxsYCBpZiB0aGUgc3BlY2lmaWVkIG5vZGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgbm90IG5lc3RlZC5cbiAqL1xuZnVuY3Rpb24gZmluZFBhcmVudChub2RlKSB7XG4gIC8vIFRPRE86IEl0IG1heSBiZSBhIGdvb2QgaWRlYSB0byBjYWNoZSB0aGlzIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgRE9NXG4gIC8vIHRyYXZlcnNhbCwgYnV0IGNhY2hpbmcgaXMgZGlmZmljdWx0IHRvIGRvIGNvcnJlY3RseSB3aXRob3V0IHVzaW5nIGFcbiAgLy8gbXV0YXRpb24gb2JzZXJ2ZXIgdG8gbGlzdGVuIGZvciBhbGwgRE9NIGNoYW5nZXMuXG4gIHZhciBub2RlSUQgPSBSZWFjdE1vdW50LmdldElEKG5vZGUpO1xuICB2YXIgcm9vdElEID0gUmVhY3RJbnN0YW5jZUhhbmRsZXMuZ2V0UmVhY3RSb290SURGcm9tTm9kZUlEKG5vZGVJRCk7XG4gIHZhciBjb250YWluZXIgPSBSZWFjdE1vdW50LmZpbmRSZWFjdENvbnRhaW5lckZvcklEKHJvb3RJRCk7XG4gIHZhciBwYXJlbnQgPSBSZWFjdE1vdW50LmdldEZpcnN0UmVhY3RET00oY29udGFpbmVyKTtcbiAgcmV0dXJuIHBhcmVudDtcbn1cblxuLy8gVXNlZCB0byBzdG9yZSBhbmNlc3RvciBoaWVyYXJjaHkgaW4gdG9wIGxldmVsIGNhbGxiYWNrXG5mdW5jdGlvbiBUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICB0aGlzLnRvcExldmVsVHlwZSA9IHRvcExldmVsVHlwZTtcbiAgdGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICB0aGlzLmFuY2VzdG9ycyA9IFtdO1xufVxuYXNzaWduKFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZy5wcm90b3R5cGUsIHtcbiAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50b3BMZXZlbFR5cGUgPSBudWxsO1xuICAgIHRoaXMubmF0aXZlRXZlbnQgPSBudWxsO1xuICAgIHRoaXMuYW5jZXN0b3JzLmxlbmd0aCA9IDA7XG4gIH1cbn0pO1xuUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKFxuICBUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcsXG4gIFBvb2xlZENsYXNzLnR3b0FyZ3VtZW50UG9vbGVyXG4pO1xuXG5mdW5jdGlvbiBoYW5kbGVUb3BMZXZlbEltcGwoYm9va0tlZXBpbmcpIHtcbiAgdmFyIHRvcExldmVsVGFyZ2V0ID0gUmVhY3RNb3VudC5nZXRGaXJzdFJlYWN0RE9NKFxuICAgIGdldEV2ZW50VGFyZ2V0KGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50KVxuICApIHx8IHdpbmRvdztcblxuICAvLyBMb29wIHRocm91Z2ggdGhlIGhpZXJhcmNoeSwgaW4gY2FzZSB0aGVyZSdzIGFueSBuZXN0ZWQgY29tcG9uZW50cy5cbiAgLy8gSXQncyBpbXBvcnRhbnQgdGhhdCB3ZSBidWlsZCB0aGUgYXJyYXkgb2YgYW5jZXN0b3JzIGJlZm9yZSBjYWxsaW5nIGFueVxuICAvLyBldmVudCBoYW5kbGVycywgYmVjYXVzZSBldmVudCBoYW5kbGVycyBjYW4gbW9kaWZ5IHRoZSBET00sIGxlYWRpbmcgdG9cbiAgLy8gaW5jb25zaXN0ZW5jaWVzIHdpdGggUmVhY3RNb3VudCdzIG5vZGUgY2FjaGUuIFNlZSAjMTEwNS5cbiAgdmFyIGFuY2VzdG9yID0gdG9wTGV2ZWxUYXJnZXQ7XG4gIHdoaWxlIChhbmNlc3Rvcikge1xuICAgIGJvb2tLZWVwaW5nLmFuY2VzdG9ycy5wdXNoKGFuY2VzdG9yKTtcbiAgICBhbmNlc3RvciA9IGZpbmRQYXJlbnQoYW5jZXN0b3IpO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBib29rS2VlcGluZy5hbmNlc3RvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdG9wTGV2ZWxUYXJnZXQgPSBib29rS2VlcGluZy5hbmNlc3RvcnNbaV07XG4gICAgdmFyIHRvcExldmVsVGFyZ2V0SUQgPSBSZWFjdE1vdW50LmdldElEKHRvcExldmVsVGFyZ2V0KSB8fCAnJztcbiAgICBSZWFjdEV2ZW50TGlzdGVuZXIuX2hhbmRsZVRvcExldmVsKFxuICAgICAgYm9va0tlZXBpbmcudG9wTGV2ZWxUeXBlLFxuICAgICAgdG9wTGV2ZWxUYXJnZXQsXG4gICAgICB0b3BMZXZlbFRhcmdldElELFxuICAgICAgYm9va0tlZXBpbmcubmF0aXZlRXZlbnRcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNjcm9sbFZhbHVlTW9uaXRvcihjYikge1xuICB2YXIgc2Nyb2xsUG9zaXRpb24gPSBnZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbih3aW5kb3cpO1xuICBjYihzY3JvbGxQb3NpdGlvbik7XG59XG5cbnZhciBSZWFjdEV2ZW50TGlzdGVuZXIgPSB7XG4gIF9lbmFibGVkOiB0cnVlLFxuICBfaGFuZGxlVG9wTGV2ZWw6IG51bGwsXG5cbiAgV0lORE9XX0hBTkRMRTogRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gd2luZG93IDogbnVsbCxcblxuICBzZXRIYW5kbGVUb3BMZXZlbDogZnVuY3Rpb24oaGFuZGxlVG9wTGV2ZWwpIHtcbiAgICBSZWFjdEV2ZW50TGlzdGVuZXIuX2hhbmRsZVRvcExldmVsID0gaGFuZGxlVG9wTGV2ZWw7XG4gIH0sXG5cbiAgc2V0RW5hYmxlZDogZnVuY3Rpb24oZW5hYmxlZCkge1xuICAgIFJlYWN0RXZlbnRMaXN0ZW5lci5fZW5hYmxlZCA9ICEhZW5hYmxlZDtcbiAgfSxcblxuICBpc0VuYWJsZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBSZWFjdEV2ZW50TGlzdGVuZXIuX2VuYWJsZWQ7XG4gIH0sXG5cblxuICAvKipcbiAgICogVHJhcHMgdG9wLWxldmVsIGV2ZW50cyBieSB1c2luZyBldmVudCBidWJibGluZy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgRXZlbnRDb25zdGFudHNgLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaGFuZGxlckJhc2VOYW1lIEV2ZW50IG5hbWUgKGUuZy4gXCJjbGlja1wiKS5cbiAgICogQHBhcmFtIHtvYmplY3R9IGhhbmRsZSBFbGVtZW50IG9uIHdoaWNoIHRvIGF0dGFjaCBsaXN0ZW5lci5cbiAgICogQHJldHVybiB7b2JqZWN0fSBBbiBvYmplY3Qgd2l0aCBhIHJlbW92ZSBmdW5jdGlvbiB3aGljaCB3aWxsIGZvcmNlZnVsbHlcbiAgICogICAgICAgICAgICAgICAgICByZW1vdmUgdGhlIGxpc3RlbmVyLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHRyYXBCdWJibGVkRXZlbnQ6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBoYW5kbGUpIHtcbiAgICB2YXIgZWxlbWVudCA9IGhhbmRsZTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gRXZlbnRMaXN0ZW5lci5saXN0ZW4oXG4gICAgICBlbGVtZW50LFxuICAgICAgaGFuZGxlckJhc2VOYW1lLFxuICAgICAgUmVhY3RFdmVudExpc3RlbmVyLmRpc3BhdGNoRXZlbnQuYmluZChudWxsLCB0b3BMZXZlbFR5cGUpXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogVHJhcHMgYSB0b3AtbGV2ZWwgZXZlbnQgYnkgdXNpbmcgZXZlbnQgY2FwdHVyaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBFdmVudENvbnN0YW50c2AuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBoYW5kbGVyQmFzZU5hbWUgRXZlbnQgbmFtZSAoZS5nLiBcImNsaWNrXCIpLlxuICAgKiBAcGFyYW0ge29iamVjdH0gaGFuZGxlIEVsZW1lbnQgb24gd2hpY2ggdG8gYXR0YWNoIGxpc3RlbmVyLlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IEFuIG9iamVjdCB3aXRoIGEgcmVtb3ZlIGZ1bmN0aW9uIHdoaWNoIHdpbGwgZm9yY2VmdWxseVxuICAgKiAgICAgICAgICAgICAgICAgIHJlbW92ZSB0aGUgbGlzdGVuZXIuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdHJhcENhcHR1cmVkRXZlbnQ6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBoYW5kbGUpIHtcbiAgICB2YXIgZWxlbWVudCA9IGhhbmRsZTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gRXZlbnRMaXN0ZW5lci5jYXB0dXJlKFxuICAgICAgZWxlbWVudCxcbiAgICAgIGhhbmRsZXJCYXNlTmFtZSxcbiAgICAgIFJlYWN0RXZlbnRMaXN0ZW5lci5kaXNwYXRjaEV2ZW50LmJpbmQobnVsbCwgdG9wTGV2ZWxUeXBlKVxuICAgICk7XG4gIH0sXG5cbiAgbW9uaXRvclNjcm9sbFZhbHVlOiBmdW5jdGlvbihyZWZyZXNoKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gc2Nyb2xsVmFsdWVNb25pdG9yLmJpbmQobnVsbCwgcmVmcmVzaCk7XG4gICAgRXZlbnRMaXN0ZW5lci5saXN0ZW4od2luZG93LCAnc2Nyb2xsJywgY2FsbGJhY2spO1xuICB9LFxuXG4gIGRpc3BhdGNoRXZlbnQ6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgICBpZiAoIVJlYWN0RXZlbnRMaXN0ZW5lci5fZW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBib29rS2VlcGluZyA9IFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZy5nZXRQb29sZWQoXG4gICAgICB0b3BMZXZlbFR5cGUsXG4gICAgICBuYXRpdmVFdmVudFxuICAgICk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEV2ZW50IHF1ZXVlIGJlaW5nIHByb2Nlc3NlZCBpbiB0aGUgc2FtZSBjeWNsZSBhbGxvd3NcbiAgICAgIC8vIGBwcmV2ZW50RGVmYXVsdGAuXG4gICAgICBSZWFjdFVwZGF0ZXMuYmF0Y2hlZFVwZGF0ZXMoaGFuZGxlVG9wTGV2ZWxJbXBsLCBib29rS2VlcGluZyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZy5yZWxlYXNlKGJvb2tLZWVwaW5nKTtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RFdmVudExpc3RlbmVyO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RnJhZ21lbnRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RWxlbWVudFwiKTtcblxudmFyIHdhcm5pbmcgPSByZXF1aXJlKFwiLi93YXJuaW5nXCIpO1xuXG4vKipcbiAqIFdlIHVzZWQgdG8gYWxsb3cga2V5ZWQgb2JqZWN0cyB0byBzZXJ2ZSBhcyBhIGNvbGxlY3Rpb24gb2YgUmVhY3RFbGVtZW50cyxcbiAqIG9yIG5lc3RlZCBzZXRzLiBUaGlzIGFsbG93ZWQgdXMgYSB3YXkgdG8gZXhwbGljaXRseSBrZXkgYSBzZXQgYSBmcmFnbWVudCBvZlxuICogY29tcG9uZW50cy4gVGhpcyBpcyBub3cgYmVpbmcgcmVwbGFjZWQgd2l0aCBhbiBvcGFxdWUgZGF0YSBzdHJ1Y3R1cmUuXG4gKiBUaGUgdXBncmFkZSBwYXRoIGlzIHRvIGNhbGwgUmVhY3QuYWRkb25zLmNyZWF0ZUZyYWdtZW50KHsga2V5OiB2YWx1ZSB9KSB0b1xuICogY3JlYXRlIGEga2V5ZWQgZnJhZ21lbnQuIFRoZSByZXN1bHRpbmcgZGF0YSBzdHJ1Y3R1cmUgaXMgb3BhcXVlLCBmb3Igbm93LlxuICovXG5cbmlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgdmFyIGZyYWdtZW50S2V5ID0gJ19yZWFjdEZyYWdtZW50JztcbiAgdmFyIGRpZFdhcm5LZXkgPSAnX3JlYWN0RGlkV2Fybic7XG4gIHZhciBjYW5XYXJuRm9yUmVhY3RGcmFnbWVudCA9IGZhbHNlO1xuXG4gIHRyeSB7XG4gICAgLy8gRmVhdHVyZSB0ZXN0LiBEb24ndCBldmVuIHRyeSB0byBpc3N1ZSB0aGlzIHdhcm5pbmcgaWYgd2UgY2FuJ3QgdXNlXG4gICAgLy8gZW51bWVyYWJsZTogZmFsc2UuXG5cbiAgICB2YXIgZHVtbXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICB7fSxcbiAgICAgIGZyYWdtZW50S2V5LFxuICAgICAge2VudW1lcmFibGU6IGZhbHNlLCB2YWx1ZTogdHJ1ZX1cbiAgICApO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAge30sXG4gICAgICAna2V5JyxcbiAgICAgIHtlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGR1bW15fVxuICAgICk7XG5cbiAgICBjYW5XYXJuRm9yUmVhY3RGcmFnbWVudCA9IHRydWU7XG4gIH0gY2F0Y2ggKHgpIHsgfVxuXG4gIHZhciBwcm94eVByb3BlcnR5QWNjZXNzV2l0aFdhcm5pbmcgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICAgIHRoaXNbZGlkV2FybktleV0sXG4gICAgICAgICAgJ0EgUmVhY3RGcmFnbWVudCBpcyBhbiBvcGFxdWUgdHlwZS4gQWNjZXNzaW5nIGFueSBvZiBpdHMgJyArXG4gICAgICAgICAgJ3Byb3BlcnRpZXMgaXMgZGVwcmVjYXRlZC4gUGFzcyBpdCB0byBvbmUgb2YgdGhlIFJlYWN0LkNoaWxkcmVuICcgK1xuICAgICAgICAgICdoZWxwZXJzLidcbiAgICAgICAgKSA6IG51bGwpO1xuICAgICAgICB0aGlzW2RpZFdhcm5LZXldID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXNbZnJhZ21lbnRLZXldW2tleV07XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgICAgICB0aGlzW2RpZFdhcm5LZXldLFxuICAgICAgICAgICdBIFJlYWN0RnJhZ21lbnQgaXMgYW4gaW1tdXRhYmxlIG9wYXF1ZSB0eXBlLiBNdXRhdGluZyBpdHMgJyArXG4gICAgICAgICAgJ3Byb3BlcnRpZXMgaXMgZGVwcmVjYXRlZC4nXG4gICAgICAgICkgOiBudWxsKTtcbiAgICAgICAgdGhpc1tkaWRXYXJuS2V5XSA9IHRydWU7XG4gICAgICAgIHRoaXNbZnJhZ21lbnRLZXldW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgaXNzdWVkV2FybmluZ3MgPSB7fTtcblxuICB2YXIgZGlkV2FybkZvckZyYWdtZW50ID0gZnVuY3Rpb24oZnJhZ21lbnQpIHtcbiAgICAvLyBXZSB1c2UgdGhlIGtleXMgYW5kIHRoZSB0eXBlIG9mIHRoZSB2YWx1ZSBhcyBhIGhldXJpc3RpYyB0byBkZWR1cGUgdGhlXG4gICAgLy8gd2FybmluZyB0byBhdm9pZCBzcGFtbWluZyB0b28gbXVjaC5cbiAgICB2YXIgZnJhZ21lbnRDYWNoZUtleSA9ICcnO1xuICAgIGZvciAodmFyIGtleSBpbiBmcmFnbWVudCkge1xuICAgICAgZnJhZ21lbnRDYWNoZUtleSArPSBrZXkgKyAnOicgKyAodHlwZW9mIGZyYWdtZW50W2tleV0pICsgJywnO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeVdhcm5lZE9uY2UgPSAhIWlzc3VlZFdhcm5pbmdzW2ZyYWdtZW50Q2FjaGVLZXldO1xuICAgIGlzc3VlZFdhcm5pbmdzW2ZyYWdtZW50Q2FjaGVLZXldID0gdHJ1ZTtcbiAgICByZXR1cm4gYWxyZWFkeVdhcm5lZE9uY2U7XG4gIH07XG59XG5cbnZhciBSZWFjdEZyYWdtZW50ID0ge1xuICAvLyBXcmFwIGEga2V5ZWQgb2JqZWN0IGluIGFuIG9wYXF1ZSBwcm94eSB0aGF0IHdhcm5zIHlvdSBpZiB5b3UgYWNjZXNzIGFueVxuICAvLyBvZiBpdHMgcHJvcGVydGllcy5cbiAgY3JlYXRlOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICBpZiAodHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcgfHwgIW9iamVjdCB8fCBBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgJ1JlYWN0LmFkZG9ucy5jcmVhdGVGcmFnbWVudCBvbmx5IGFjY2VwdHMgYSBzaW5nbGUgb2JqZWN0LicsXG4gICAgICAgICAgb2JqZWN0XG4gICAgICAgICkgOiBudWxsKTtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQob2JqZWN0KSkge1xuICAgICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAnUmVhY3QuYWRkb25zLmNyZWF0ZUZyYWdtZW50IGRvZXMgbm90IGFjY2VwdCBhIFJlYWN0RWxlbWVudCAnICtcbiAgICAgICAgICAnd2l0aG91dCBhIHdyYXBwZXIgb2JqZWN0LidcbiAgICAgICAgKSA6IG51bGwpO1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgaWYgKGNhbldhcm5Gb3JSZWFjdEZyYWdtZW50KSB7XG4gICAgICAgIHZhciBwcm94eSA9IHt9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksIGZyYWdtZW50S2V5LCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IG9iamVjdFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3h5LCBkaWRXYXJuS2V5LCB7XG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgcHJveHlQcm9wZXJ0eUFjY2Vzc1dpdGhXYXJuaW5nKHByb3h5LCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyhwcm94eSk7XG4gICAgICAgIHJldHVybiBwcm94eTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSxcbiAgLy8gRXh0cmFjdCB0aGUgb3JpZ2luYWwga2V5ZWQgb2JqZWN0IGZyb20gdGhlIGZyYWdtZW50IG9wYXF1ZSB0eXBlLiBXYXJuIGlmXG4gIC8vIGEgcGxhaW4gb2JqZWN0IGlzIHBhc3NlZCBoZXJlLlxuICBleHRyYWN0OiBmdW5jdGlvbihmcmFnbWVudCkge1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIGlmIChjYW5XYXJuRm9yUmVhY3RGcmFnbWVudCkge1xuICAgICAgICBpZiAoIWZyYWdtZW50W2ZyYWdtZW50S2V5XSkge1xuICAgICAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICAgICAgZGlkV2FybkZvckZyYWdtZW50KGZyYWdtZW50KSxcbiAgICAgICAgICAgICdBbnkgdXNlIG9mIGEga2V5ZWQgb2JqZWN0IHNob3VsZCBiZSB3cmFwcGVkIGluICcgK1xuICAgICAgICAgICAgJ1JlYWN0LmFkZG9ucy5jcmVhdGVGcmFnbWVudChvYmplY3QpIGJlZm9yZSBiZWluZyBwYXNzZWQgYXMgYSAnICtcbiAgICAgICAgICAgICdjaGlsZC4nXG4gICAgICAgICAgKSA6IG51bGwpO1xuICAgICAgICAgIHJldHVybiBmcmFnbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhZ21lbnRbZnJhZ21lbnRLZXldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJhZ21lbnQ7XG4gIH0sXG4gIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBmcmFnbWVudCBhbmQgaWYgc28sIGV4dHJhY3QgdGhlIGtleWVkIG9iamVjdC4gSWYgaXRcbiAgLy8gaXMgYSBmcmFnbWVudC1saWtlIG9iamVjdCwgd2FybiB0aGF0IGl0IHNob3VsZCBiZSB3cmFwcGVkLiBJZ25vcmUgaWYgd2VcbiAgLy8gY2FuJ3QgZGV0ZXJtaW5lIHdoYXQga2luZCBvZiBvYmplY3QgdGhpcyBpcy5cbiAgZXh0cmFjdElmRnJhZ21lbnQ6IGZ1bmN0aW9uKGZyYWdtZW50KSB7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgaWYgKGNhbldhcm5Gb3JSZWFjdEZyYWdtZW50KSB7XG4gICAgICAgIC8vIElmIGl0IGlzIHRoZSBvcGFxdWUgdHlwZSwgcmV0dXJuIHRoZSBrZXllZCBvYmplY3QuXG4gICAgICAgIGlmIChmcmFnbWVudFtmcmFnbWVudEtleV0pIHtcbiAgICAgICAgICByZXR1cm4gZnJhZ21lbnRbZnJhZ21lbnRLZXldO1xuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSwgY2hlY2sgZWFjaCBwcm9wZXJ0eSBpZiBpdCBoYXMgYW4gZWxlbWVudCwgaWYgaXQgZG9lc1xuICAgICAgICAvLyBpdCBpcyBwcm9iYWJseSBtZWFudCBhcyBhIGZyYWdtZW50LCBzbyB3ZSBjYW4gd2FybiBlYXJseS4gRGVmZXIsXG4gICAgICAgIC8vIHRoZSB3YXJuaW5nIHRvIGV4dHJhY3QuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBmcmFnbWVudCkge1xuICAgICAgICAgIGlmIChmcmFnbWVudC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmXG4gICAgICAgICAgICAgIFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChmcmFnbWVudFtrZXldKSkge1xuICAgICAgICAgICAgLy8gVGhpcyBsb29rcyBsaWtlIGEgZnJhZ21lbnQgb2JqZWN0LCB3ZSBzaG91bGQgcHJvdmlkZSBhblxuICAgICAgICAgICAgLy8gZWFybHkgd2FybmluZy5cbiAgICAgICAgICAgIHJldHVybiBSZWFjdEZyYWdtZW50LmV4dHJhY3QoZnJhZ21lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJhZ21lbnQ7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RGcmFnbWVudDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdEluamVjdGlvblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZShcIi4vRE9NUHJvcGVydHlcIik7XG52YXIgRXZlbnRQbHVnaW5IdWIgPSByZXF1aXJlKFwiLi9FdmVudFBsdWdpbkh1YlwiKTtcbnZhciBSZWFjdENvbXBvbmVudEVudmlyb25tZW50ID0gcmVxdWlyZShcIi4vUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudFwiKTtcbnZhciBSZWFjdENsYXNzID0gcmVxdWlyZShcIi4vUmVhY3RDbGFzc1wiKTtcbnZhciBSZWFjdEVtcHR5Q29tcG9uZW50ID0gcmVxdWlyZShcIi4vUmVhY3RFbXB0eUNvbXBvbmVudFwiKTtcbnZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiLi9SZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXJcIik7XG52YXIgUmVhY3ROYXRpdmVDb21wb25lbnQgPSByZXF1aXJlKFwiLi9SZWFjdE5hdGl2ZUNvbXBvbmVudFwiKTtcbnZhciBSZWFjdERPTUNvbXBvbmVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RE9NQ29tcG9uZW50XCIpO1xudmFyIFJlYWN0UGVyZiA9IHJlcXVpcmUoXCIuL1JlYWN0UGVyZlwiKTtcbnZhciBSZWFjdFJvb3RJbmRleCA9IHJlcXVpcmUoXCIuL1JlYWN0Um9vdEluZGV4XCIpO1xudmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoXCIuL1JlYWN0VXBkYXRlc1wiKTtcblxudmFyIFJlYWN0SW5qZWN0aW9uID0ge1xuICBDb21wb25lbnQ6IFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQuaW5qZWN0aW9uLFxuICBDbGFzczogUmVhY3RDbGFzcy5pbmplY3Rpb24sXG4gIERPTUNvbXBvbmVudDogUmVhY3RET01Db21wb25lbnQuaW5qZWN0aW9uLFxuICBET01Qcm9wZXJ0eTogRE9NUHJvcGVydHkuaW5qZWN0aW9uLFxuICBFbXB0eUNvbXBvbmVudDogUmVhY3RFbXB0eUNvbXBvbmVudC5pbmplY3Rpb24sXG4gIEV2ZW50UGx1Z2luSHViOiBFdmVudFBsdWdpbkh1Yi5pbmplY3Rpb24sXG4gIEV2ZW50RW1pdHRlcjogUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmluamVjdGlvbixcbiAgTmF0aXZlQ29tcG9uZW50OiBSZWFjdE5hdGl2ZUNvbXBvbmVudC5pbmplY3Rpb24sXG4gIFBlcmY6IFJlYWN0UGVyZi5pbmplY3Rpb24sXG4gIFJvb3RJbmRleDogUmVhY3RSb290SW5kZXguaW5qZWN0aW9uLFxuICBVcGRhdGVzOiBSZWFjdFVwZGF0ZXMuaW5qZWN0aW9uXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW5qZWN0aW9uO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0SW5wdXRTZWxlY3Rpb25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdERPTVNlbGVjdGlvbiA9IHJlcXVpcmUoXCIuL1JlYWN0RE9NU2VsZWN0aW9uXCIpO1xuXG52YXIgY29udGFpbnNOb2RlID0gcmVxdWlyZShcIi4vY29udGFpbnNOb2RlXCIpO1xudmFyIGZvY3VzTm9kZSA9IHJlcXVpcmUoXCIuL2ZvY3VzTm9kZVwiKTtcbnZhciBnZXRBY3RpdmVFbGVtZW50ID0gcmVxdWlyZShcIi4vZ2V0QWN0aXZlRWxlbWVudFwiKTtcblxuZnVuY3Rpb24gaXNJbkRvY3VtZW50KG5vZGUpIHtcbiAgcmV0dXJuIGNvbnRhaW5zTm9kZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG5vZGUpO1xufVxuXG4vKipcbiAqIEBSZWFjdElucHV0U2VsZWN0aW9uOiBSZWFjdCBpbnB1dCBzZWxlY3Rpb24gbW9kdWxlLiBCYXNlZCBvbiBTZWxlY3Rpb24uanMsXG4gKiBidXQgbW9kaWZpZWQgdG8gYmUgc3VpdGFibGUgZm9yIHJlYWN0IGFuZCBoYXMgYSBjb3VwbGUgb2YgYnVnIGZpeGVzIChkb2Vzbid0XG4gKiBhc3N1bWUgYnV0dG9ucyBoYXZlIHJhbmdlIHNlbGVjdGlvbnMgYWxsb3dlZCkuXG4gKiBJbnB1dCBzZWxlY3Rpb24gbW9kdWxlIGZvciBSZWFjdC5cbiAqL1xudmFyIFJlYWN0SW5wdXRTZWxlY3Rpb24gPSB7XG5cbiAgaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzOiBmdW5jdGlvbihlbGVtKSB7XG4gICAgcmV0dXJuIGVsZW0gJiYgKFxuICAgICAgKChlbGVtLm5vZGVOYW1lID09PSAnSU5QVVQnICYmIGVsZW0udHlwZSA9PT0gJ3RleHQnKSB8fFxuICAgICAgZWxlbS5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fCBlbGVtLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKVxuICAgICk7XG4gIH0sXG5cbiAgZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb2N1c2VkRWxlbSA9IGdldEFjdGl2ZUVsZW1lbnQoKTtcbiAgICByZXR1cm4ge1xuICAgICAgZm9jdXNlZEVsZW06IGZvY3VzZWRFbGVtLFxuICAgICAgc2VsZWN0aW9uUmFuZ2U6XG4gICAgICAgICAgUmVhY3RJbnB1dFNlbGVjdGlvbi5oYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoZm9jdXNlZEVsZW0pID9cbiAgICAgICAgICBSZWFjdElucHV0U2VsZWN0aW9uLmdldFNlbGVjdGlvbihmb2N1c2VkRWxlbSkgOlxuICAgICAgICAgIG51bGxcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcmVzdG9yZVNlbGVjdGlvbjogSWYgYW55IHNlbGVjdGlvbiBpbmZvcm1hdGlvbiB3YXMgcG90ZW50aWFsbHkgbG9zdCxcbiAgICogcmVzdG9yZSBpdC4gVGhpcyBpcyB1c2VmdWwgd2hlbiBwZXJmb3JtaW5nIG9wZXJhdGlvbnMgdGhhdCBjb3VsZCByZW1vdmUgZG9tXG4gICAqIG5vZGVzIGFuZCBwbGFjZSB0aGVtIGJhY2sgaW4sIHJlc3VsdGluZyBpbiBmb2N1cyBiZWluZyBsb3N0LlxuICAgKi9cbiAgcmVzdG9yZVNlbGVjdGlvbjogZnVuY3Rpb24ocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbikge1xuICAgIHZhciBjdXJGb2N1c2VkRWxlbSA9IGdldEFjdGl2ZUVsZW1lbnQoKTtcbiAgICB2YXIgcHJpb3JGb2N1c2VkRWxlbSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uZm9jdXNlZEVsZW07XG4gICAgdmFyIHByaW9yU2VsZWN0aW9uUmFuZ2UgPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLnNlbGVjdGlvblJhbmdlO1xuICAgIGlmIChjdXJGb2N1c2VkRWxlbSAhPT0gcHJpb3JGb2N1c2VkRWxlbSAmJlxuICAgICAgICBpc0luRG9jdW1lbnQocHJpb3JGb2N1c2VkRWxlbSkpIHtcbiAgICAgIGlmIChSZWFjdElucHV0U2VsZWN0aW9uLmhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhwcmlvckZvY3VzZWRFbGVtKSkge1xuICAgICAgICBSZWFjdElucHV0U2VsZWN0aW9uLnNldFNlbGVjdGlvbihcbiAgICAgICAgICBwcmlvckZvY3VzZWRFbGVtLFxuICAgICAgICAgIHByaW9yU2VsZWN0aW9uUmFuZ2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGZvY3VzTm9kZShwcmlvckZvY3VzZWRFbGVtKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBnZXRTZWxlY3Rpb246IEdldHMgdGhlIHNlbGVjdGlvbiBib3VuZHMgb2YgYSBmb2N1c2VkIHRleHRhcmVhLCBpbnB1dCBvclxuICAgKiBjb250ZW50RWRpdGFibGUgbm9kZS5cbiAgICogLUBpbnB1dDogTG9vayB1cCBzZWxlY3Rpb24gYm91bmRzIG9mIHRoaXMgaW5wdXRcbiAgICogLUByZXR1cm4ge3N0YXJ0OiBzZWxlY3Rpb25TdGFydCwgZW5kOiBzZWxlY3Rpb25FbmR9XG4gICAqL1xuICBnZXRTZWxlY3Rpb246IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgdmFyIHNlbGVjdGlvbjtcblxuICAgIGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIGlucHV0KSB7XG4gICAgICAvLyBNb2Rlcm4gYnJvd3NlciB3aXRoIGlucHV0IG9yIHRleHRhcmVhLlxuICAgICAgc2VsZWN0aW9uID0ge1xuICAgICAgICBzdGFydDogaW5wdXQuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgIGVuZDogaW5wdXQuc2VsZWN0aW9uRW5kXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uICYmIGlucHV0Lm5vZGVOYW1lID09PSAnSU5QVVQnKSB7XG4gICAgICAvLyBJRTggaW5wdXQuXG4gICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICAgIC8vIFRoZXJlIGNhbiBvbmx5IGJlIG9uZSBzZWxlY3Rpb24gcGVyIGRvY3VtZW50IGluIElFLCBzbyBpdCBtdXN0XG4gICAgICAvLyBiZSBpbiBvdXIgZWxlbWVudC5cbiAgICAgIGlmIChyYW5nZS5wYXJlbnRFbGVtZW50KCkgPT09IGlucHV0KSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHtcbiAgICAgICAgICBzdGFydDogLXJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgLWlucHV0LnZhbHVlLmxlbmd0aCksXG4gICAgICAgICAgZW5kOiAtcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgLWlucHV0LnZhbHVlLmxlbmd0aClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ29udGVudCBlZGl0YWJsZSBvciBvbGQgSUUgdGV4dGFyZWEuXG4gICAgICBzZWxlY3Rpb24gPSBSZWFjdERPTVNlbGVjdGlvbi5nZXRPZmZzZXRzKGlucHV0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZWN0aW9uIHx8IHtzdGFydDogMCwgZW5kOiAwfTtcbiAgfSxcblxuICAvKipcbiAgICogQHNldFNlbGVjdGlvbjogU2V0cyB0aGUgc2VsZWN0aW9uIGJvdW5kcyBvZiBhIHRleHRhcmVhIG9yIGlucHV0IGFuZCBmb2N1c2VzXG4gICAqIHRoZSBpbnB1dC5cbiAgICogLUBpbnB1dCAgICAgU2V0IHNlbGVjdGlvbiBib3VuZHMgb2YgdGhpcyBpbnB1dCBvciB0ZXh0YXJlYVxuICAgKiAtQG9mZnNldHMgICBPYmplY3Qgb2Ygc2FtZSBmb3JtIHRoYXQgaXMgcmV0dXJuZWQgZnJvbSBnZXQqXG4gICAqL1xuICBzZXRTZWxlY3Rpb246IGZ1bmN0aW9uKGlucHV0LCBvZmZzZXRzKSB7XG4gICAgdmFyIHN0YXJ0ID0gb2Zmc2V0cy5zdGFydDtcbiAgICB2YXIgZW5kID0gb2Zmc2V0cy5lbmQ7XG4gICAgaWYgKHR5cGVvZiBlbmQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlbmQgPSBzdGFydDtcbiAgICB9XG5cbiAgICBpZiAoJ3NlbGVjdGlvblN0YXJ0JyBpbiBpbnB1dCkge1xuICAgICAgaW5wdXQuc2VsZWN0aW9uU3RhcnQgPSBzdGFydDtcbiAgICAgIGlucHV0LnNlbGVjdGlvbkVuZCA9IE1hdGgubWluKGVuZCwgaW5wdXQudmFsdWUubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBpbnB1dC5ub2RlTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgdmFyIHJhbmdlID0gaW5wdXQuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgc3RhcnQpO1xuICAgICAgcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgZW5kIC0gc3RhcnQpO1xuICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RE9NU2VsZWN0aW9uLnNldE9mZnNldHMoaW5wdXQsIG9mZnNldHMpO1xuICAgIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdElucHV0U2VsZWN0aW9uO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0SW5zdGFuY2VIYW5kbGVzXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0Um9vdEluZGV4ID0gcmVxdWlyZShcIi4vUmVhY3RSb290SW5kZXhcIik7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG5cbnZhciBTRVBBUkFUT1IgPSAnLic7XG52YXIgU0VQQVJBVE9SX0xFTkdUSCA9IFNFUEFSQVRPUi5sZW5ndGg7XG5cbi8qKlxuICogTWF4aW11bSBkZXB0aCBvZiB0cmF2ZXJzYWxzIGJlZm9yZSB3ZSBjb25zaWRlciB0aGUgcG9zc2liaWxpdHkgb2YgYSBiYWQgSUQuXG4gKi9cbnZhciBNQVhfVFJFRV9ERVBUSCA9IDEwMDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgRE9NIElEIHByZWZpeCB0byB1c2Ugd2hlbiBtb3VudGluZyBSZWFjdCBjb21wb25lbnRzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBBIHVuaXF1ZSBpbnRlZ2VyXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFJlYWN0IHJvb3QgSUQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZ2V0UmVhY3RSb290SURTdHJpbmcoaW5kZXgpIHtcbiAgcmV0dXJuIFNFUEFSQVRPUiArIGluZGV4LnRvU3RyaW5nKDM2KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBjaGFyYWN0ZXIgaW4gdGhlIHN1cHBsaWVkIElEIGlzIGEgc2VwYXJhdG9yIG9yIHRoZSBlbmQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIEEgUmVhY3QgRE9NIElELlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4IG9mIHRoZSBjaGFyYWN0ZXIgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBjaGFyYWN0ZXIgaXMgYSBzZXBhcmF0b3Igb3IgZW5kIG9mIHRoZSBJRC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGlzQm91bmRhcnkoaWQsIGluZGV4KSB7XG4gIHJldHVybiBpZC5jaGFyQXQoaW5kZXgpID09PSBTRVBBUkFUT1IgfHwgaW5kZXggPT09IGlkLmxlbmd0aDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHN1cHBsaWVkIHN0cmluZyBpcyBhIHZhbGlkIFJlYWN0IERPTSBJRC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgQSBSZWFjdCBET00gSUQsIG1heWJlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3RyaW5nIGlzIGEgdmFsaWQgUmVhY3QgRE9NIElELlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaXNWYWxpZElEKGlkKSB7XG4gIHJldHVybiBpZCA9PT0gJycgfHwgKFxuICAgIGlkLmNoYXJBdCgwKSA9PT0gU0VQQVJBVE9SICYmIGlkLmNoYXJBdChpZC5sZW5ndGggLSAxKSAhPT0gU0VQQVJBVE9SXG4gICk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBmaXJzdCBJRCBpcyBhbiBhbmNlc3RvciBvZiBvciBlcXVhbCB0byB0aGUgc2Vjb25kIElELlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhbmNlc3RvcklEXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVzY2VuZGFudElEXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBhbmNlc3RvcklEYCBpcyBhbiBhbmNlc3RvciBvZiBgZGVzY2VuZGFudElEYC5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBpc0FuY2VzdG9ySURPZihhbmNlc3RvcklELCBkZXNjZW5kYW50SUQpIHtcbiAgcmV0dXJuIChcbiAgICBkZXNjZW5kYW50SUQuaW5kZXhPZihhbmNlc3RvcklEKSA9PT0gMCAmJlxuICAgIGlzQm91bmRhcnkoZGVzY2VuZGFudElELCBhbmNlc3RvcklELmxlbmd0aClcbiAgKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBwYXJlbnQgSUQgb2YgdGhlIHN1cHBsaWVkIFJlYWN0IERPTSBJRCwgYGlkYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgYSBjb21wb25lbnQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IElEIG9mIHRoZSBwYXJlbnQsIG9yIGFuIGVtcHR5IHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudElEKGlkKSB7XG4gIHJldHVybiBpZCA/IGlkLnN1YnN0cigwLCBpZC5sYXN0SW5kZXhPZihTRVBBUkFUT1IpKSA6ICcnO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5leHQgRE9NIElEIG9uIHRoZSB0cmVlIHBhdGggZnJvbSB0aGUgc3VwcGxpZWQgYGFuY2VzdG9ySURgIHRvIHRoZVxuICogc3VwcGxpZWQgYGRlc3RpbmF0aW9uSURgLiBJZiB0aGV5IGFyZSBlcXVhbCwgdGhlIElEIGlzIHJldHVybmVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhbmNlc3RvcklEIElEIG9mIGFuIGFuY2VzdG9yIG5vZGUgb2YgYGRlc3RpbmF0aW9uSURgLlxuICogQHBhcmFtIHtzdHJpbmd9IGRlc3RpbmF0aW9uSUQgSUQgb2YgdGhlIGRlc3RpbmF0aW9uIG5vZGUuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5leHQgSUQgb24gdGhlIHBhdGggZnJvbSBgYW5jZXN0b3JJRGAgdG8gYGRlc3RpbmF0aW9uSURgLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZ2V0TmV4dERlc2NlbmRhbnRJRChhbmNlc3RvcklELCBkZXN0aW5hdGlvbklEKSB7XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgaXNWYWxpZElEKGFuY2VzdG9ySUQpICYmIGlzVmFsaWRJRChkZXN0aW5hdGlvbklEKSxcbiAgICAnZ2V0TmV4dERlc2NlbmRhbnRJRCglcywgJXMpOiBSZWNlaXZlZCBhbiBpbnZhbGlkIFJlYWN0IERPTSBJRC4nLFxuICAgIGFuY2VzdG9ySUQsXG4gICAgZGVzdGluYXRpb25JRFxuICApIDogaW52YXJpYW50KGlzVmFsaWRJRChhbmNlc3RvcklEKSAmJiBpc1ZhbGlkSUQoZGVzdGluYXRpb25JRCkpKTtcbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICBpc0FuY2VzdG9ySURPZihhbmNlc3RvcklELCBkZXN0aW5hdGlvbklEKSxcbiAgICAnZ2V0TmV4dERlc2NlbmRhbnRJRCguLi4pOiBSZWFjdCBoYXMgbWFkZSBhbiBpbnZhbGlkIGFzc3VtcHRpb24gYWJvdXQgJyArXG4gICAgJ3RoZSBET00gaGllcmFyY2h5LiBFeHBlY3RlZCBgJXNgIHRvIGJlIGFuIGFuY2VzdG9yIG9mIGAlc2AuJyxcbiAgICBhbmNlc3RvcklELFxuICAgIGRlc3RpbmF0aW9uSURcbiAgKSA6IGludmFyaWFudChpc0FuY2VzdG9ySURPZihhbmNlc3RvcklELCBkZXN0aW5hdGlvbklEKSkpO1xuICBpZiAoYW5jZXN0b3JJRCA9PT0gZGVzdGluYXRpb25JRCkge1xuICAgIHJldHVybiBhbmNlc3RvcklEO1xuICB9XG4gIC8vIFNraXAgb3ZlciB0aGUgYW5jZXN0b3IgYW5kIHRoZSBpbW1lZGlhdGUgc2VwYXJhdG9yLiBUcmF2ZXJzZSB1bnRpbCB3ZSBoaXRcbiAgLy8gYW5vdGhlciBzZXBhcmF0b3Igb3Igd2UgcmVhY2ggdGhlIGVuZCBvZiBgZGVzdGluYXRpb25JRGAuXG4gIHZhciBzdGFydCA9IGFuY2VzdG9ySUQubGVuZ3RoICsgU0VQQVJBVE9SX0xFTkdUSDtcbiAgdmFyIGk7XG4gIGZvciAoaSA9IHN0YXJ0OyBpIDwgZGVzdGluYXRpb25JRC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpc0JvdW5kYXJ5KGRlc3RpbmF0aW9uSUQsIGkpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlc3RpbmF0aW9uSUQuc3Vic3RyKDAsIGkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5lYXJlc3QgY29tbW9uIGFuY2VzdG9yIElEIG9mIHR3byBJRHMuXG4gKlxuICogVXNpbmcgdGhpcyBJRCBzY2hlbWUsIHRoZSBuZWFyZXN0IGNvbW1vbiBhbmNlc3RvciBJRCBpcyB0aGUgbG9uZ2VzdCBjb21tb25cbiAqIHByZWZpeCBvZiB0aGUgdHdvIElEcyB0aGF0IGltbWVkaWF0ZWx5IHByZWNlZGVkIGEgXCJtYXJrZXJcIiBpbiBib3RoIHN0cmluZ3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG9uZUlEXG4gKiBAcGFyYW0ge3N0cmluZ30gdHdvSURcbiAqIEByZXR1cm4ge3N0cmluZ30gTmVhcmVzdCBjb21tb24gYW5jZXN0b3IgSUQsIG9yIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm9uZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdldEZpcnN0Q29tbW9uQW5jZXN0b3JJRChvbmVJRCwgdHdvSUQpIHtcbiAgdmFyIG1pbkxlbmd0aCA9IE1hdGgubWluKG9uZUlELmxlbmd0aCwgdHdvSUQubGVuZ3RoKTtcbiAgaWYgKG1pbkxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICB2YXIgbGFzdENvbW1vbk1hcmtlckluZGV4ID0gMDtcbiAgLy8gVXNlIGA8PWAgdG8gdHJhdmVyc2UgdW50aWwgdGhlIFwiRU9MXCIgb2YgdGhlIHNob3J0ZXIgc3RyaW5nLlxuICBmb3IgKHZhciBpID0gMDsgaSA8PSBtaW5MZW5ndGg7IGkrKykge1xuICAgIGlmIChpc0JvdW5kYXJ5KG9uZUlELCBpKSAmJiBpc0JvdW5kYXJ5KHR3b0lELCBpKSkge1xuICAgICAgbGFzdENvbW1vbk1hcmtlckluZGV4ID0gaTtcbiAgICB9IGVsc2UgaWYgKG9uZUlELmNoYXJBdChpKSAhPT0gdHdvSUQuY2hhckF0KGkpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgdmFyIGxvbmdlc3RDb21tb25JRCA9IG9uZUlELnN1YnN0cigwLCBsYXN0Q29tbW9uTWFya2VySW5kZXgpO1xuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgIGlzVmFsaWRJRChsb25nZXN0Q29tbW9uSUQpLFxuICAgICdnZXRGaXJzdENvbW1vbkFuY2VzdG9ySUQoJXMsICVzKTogRXhwZWN0ZWQgYSB2YWxpZCBSZWFjdCBET00gSUQ6ICVzJyxcbiAgICBvbmVJRCxcbiAgICB0d29JRCxcbiAgICBsb25nZXN0Q29tbW9uSURcbiAgKSA6IGludmFyaWFudChpc1ZhbGlkSUQobG9uZ2VzdENvbW1vbklEKSkpO1xuICByZXR1cm4gbG9uZ2VzdENvbW1vbklEO1xufVxuXG4vKipcbiAqIFRyYXZlcnNlcyB0aGUgcGFyZW50IHBhdGggYmV0d2VlbiB0d28gSURzIChlaXRoZXIgdXAgb3IgZG93bikuIFRoZSBJRHMgbXVzdFxuICogbm90IGJlIHRoZSBzYW1lLCBhbmQgdGhlcmUgbXVzdCBleGlzdCBhIHBhcmVudCBwYXRoIGJldHdlZW4gdGhlbS4gSWYgdGhlXG4gKiBjYWxsYmFjayByZXR1cm5zIGBmYWxzZWAsIHRyYXZlcnNhbCBpcyBzdG9wcGVkLlxuICpcbiAqIEBwYXJhbSB7P3N0cmluZ30gc3RhcnQgSUQgYXQgd2hpY2ggdG8gc3RhcnQgdHJhdmVyc2FsLlxuICogQHBhcmFtIHs/c3RyaW5nfSBzdG9wIElEIGF0IHdoaWNoIHRvIGVuZCB0cmF2ZXJzYWwuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiBDYWxsYmFjayB0byBpbnZva2UgZWFjaCBJRCB3aXRoLlxuICogQHBhcmFtIHs/Ym9vbGVhbn0gc2tpcEZpcnN0IFdoZXRoZXIgb3Igbm90IHRvIHNraXAgdGhlIGZpcnN0IG5vZGUuXG4gKiBAcGFyYW0gez9ib29sZWFufSBza2lwTGFzdCBXaGV0aGVyIG9yIG5vdCB0byBza2lwIHRoZSBsYXN0IG5vZGUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0cmF2ZXJzZVBhcmVudFBhdGgoc3RhcnQsIHN0b3AsIGNiLCBhcmcsIHNraXBGaXJzdCwgc2tpcExhc3QpIHtcbiAgc3RhcnQgPSBzdGFydCB8fCAnJztcbiAgc3RvcCA9IHN0b3AgfHwgJyc7XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgc3RhcnQgIT09IHN0b3AsXG4gICAgJ3RyYXZlcnNlUGFyZW50UGF0aCguLi4pOiBDYW5ub3QgdHJhdmVyc2UgZnJvbSBhbmQgdG8gdGhlIHNhbWUgSUQsIGAlc2AuJyxcbiAgICBzdGFydFxuICApIDogaW52YXJpYW50KHN0YXJ0ICE9PSBzdG9wKSk7XG4gIHZhciB0cmF2ZXJzZVVwID0gaXNBbmNlc3RvcklET2Yoc3RvcCwgc3RhcnQpO1xuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgIHRyYXZlcnNlVXAgfHwgaXNBbmNlc3RvcklET2Yoc3RhcnQsIHN0b3ApLFxuICAgICd0cmF2ZXJzZVBhcmVudFBhdGgoJXMsICVzLCAuLi4pOiBDYW5ub3QgdHJhdmVyc2UgZnJvbSB0d28gSURzIHRoYXQgZG8gJyArXG4gICAgJ25vdCBoYXZlIGEgcGFyZW50IHBhdGguJyxcbiAgICBzdGFydCxcbiAgICBzdG9wXG4gICkgOiBpbnZhcmlhbnQodHJhdmVyc2VVcCB8fCBpc0FuY2VzdG9ySURPZihzdGFydCwgc3RvcCkpKTtcbiAgLy8gVHJhdmVyc2UgZnJvbSBgc3RhcnRgIHRvIGBzdG9wYCBvbmUgZGVwdGggYXQgYSB0aW1lLlxuICB2YXIgZGVwdGggPSAwO1xuICB2YXIgdHJhdmVyc2UgPSB0cmF2ZXJzZVVwID8gZ2V0UGFyZW50SUQgOiBnZXROZXh0RGVzY2VuZGFudElEO1xuICBmb3IgKHZhciBpZCA9IHN0YXJ0OyAvKiB1bnRpbCBicmVhayAqLzsgaWQgPSB0cmF2ZXJzZShpZCwgc3RvcCkpIHtcbiAgICB2YXIgcmV0O1xuICAgIGlmICgoIXNraXBGaXJzdCB8fCBpZCAhPT0gc3RhcnQpICYmICghc2tpcExhc3QgfHwgaWQgIT09IHN0b3ApKSB7XG4gICAgICByZXQgPSBjYihpZCwgdHJhdmVyc2VVcCwgYXJnKTtcbiAgICB9XG4gICAgaWYgKHJldCA9PT0gZmFsc2UgfHwgaWQgPT09IHN0b3ApIHtcbiAgICAgIC8vIE9ubHkgYnJlYWsgLy9hZnRlci8vIHZpc2l0aW5nIGBzdG9wYC5cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgZGVwdGgrKyA8IE1BWF9UUkVFX0RFUFRILFxuICAgICAgJ3RyYXZlcnNlUGFyZW50UGF0aCglcywgJXMsIC4uLik6IERldGVjdGVkIGFuIGluZmluaXRlIGxvb3Agd2hpbGUgJyArXG4gICAgICAndHJhdmVyc2luZyB0aGUgUmVhY3QgRE9NIElEIHRyZWUuIFRoaXMgbWF5IGJlIGR1ZSB0byBtYWxmb3JtZWQgSURzOiAlcycsXG4gICAgICBzdGFydCwgc3RvcFxuICAgICkgOiBpbnZhcmlhbnQoZGVwdGgrKyA8IE1BWF9UUkVFX0RFUFRIKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBJRHMgYXNzaWduZWQgdG8gRE9NIHJlcHJlc2VudGF0aW9ucyBvZiBSZWFjdCBjb21wb25lbnRzLiBUaGlzXG4gKiB1c2VzIGEgc3BlY2lmaWMgc2NoZW1lIGluIG9yZGVyIHRvIHRyYXZlcnNlIHRoZSBET00gZWZmaWNpZW50bHkgKGUuZy4gaW5cbiAqIG9yZGVyIHRvIHNpbXVsYXRlIGV2ZW50cykuXG4gKlxuICogQGludGVybmFsXG4gKi9cbnZhciBSZWFjdEluc3RhbmNlSGFuZGxlcyA9IHtcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIFJlYWN0IHJvb3QgSURcbiAgICogQHJldHVybiB7c3RyaW5nfSBBIFJlYWN0IHJvb3QgSUQuXG4gICAqL1xuICBjcmVhdGVSZWFjdFJvb3RJRDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdldFJlYWN0Um9vdElEU3RyaW5nKFJlYWN0Um9vdEluZGV4LmNyZWF0ZVJlYWN0Um9vdEluZGV4KCkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgUmVhY3QgSUQgYnkgam9pbmluZyBhIHJvb3QgSUQgd2l0aCBhIG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByb290SUQgUm9vdCBJRCBvZiBhIHBhcmVudCBjb21wb25lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEEgY29tcG9uZW50J3MgbmFtZSAoYXMgZmxhdHRlbmVkIGNoaWxkcmVuKS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBBIFJlYWN0IElELlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNyZWF0ZVJlYWN0SUQ6IGZ1bmN0aW9uKHJvb3RJRCwgbmFtZSkge1xuICAgIHJldHVybiByb290SUQgKyBuYW1lO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBET00gSUQgb2YgdGhlIFJlYWN0IGNvbXBvbmVudCB0aGF0IGlzIHRoZSByb290IG9mIHRoZSB0cmVlIHRoYXRcbiAgICogY29udGFpbnMgdGhlIFJlYWN0IGNvbXBvbmVudCB3aXRoIHRoZSBzdXBwbGllZCBET00gSUQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBET00gSUQgb2YgYSBSZWFjdCBjb21wb25lbnQuXG4gICAqIEByZXR1cm4gez9zdHJpbmd9IERPTSBJRCBvZiB0aGUgUmVhY3QgY29tcG9uZW50IHRoYXQgaXMgdGhlIHJvb3QuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZ2V0UmVhY3RSb290SURGcm9tTm9kZUlEOiBmdW5jdGlvbihpZCkge1xuICAgIGlmIChpZCAmJiBpZC5jaGFyQXQoMCkgPT09IFNFUEFSQVRPUiAmJiBpZC5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgaW5kZXggPSBpZC5pbmRleE9mKFNFUEFSQVRPUiwgMSk7XG4gICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGlkLnN1YnN0cigwLCBpbmRleCkgOiBpZDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRyYXZlcnNlcyB0aGUgSUQgaGllcmFyY2h5IGFuZCBpbnZva2VzIHRoZSBzdXBwbGllZCBgY2JgIG9uIGFueSBJRHMgdGhhdFxuICAgKiBzaG91bGQgd291bGQgcmVjZWl2ZSBhIGBtb3VzZUVudGVyYCBvciBgbW91c2VMZWF2ZWAgZXZlbnQuXG4gICAqXG4gICAqIE5PVEU6IERvZXMgbm90IGludm9rZSB0aGUgY2FsbGJhY2sgb24gdGhlIG5lYXJlc3QgY29tbW9uIGFuY2VzdG9yIGJlY2F1c2VcbiAgICogbm90aGluZyBcImVudGVyZWRcIiBvciBcImxlZnRcIiB0aGF0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZWF2ZUlEIElEIGJlaW5nIGxlZnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbnRlcklEIElEIGJlaW5nIGVudGVyZWQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIENhbGxiYWNrIHRvIGludm9rZSBvbiBlYWNoIGVudGVyZWQvbGVmdCBJRC5cbiAgICogQHBhcmFtIHsqfSB1cEFyZyBBcmd1bWVudCB0byBpbnZva2UgdGhlIGNhbGxiYWNrIHdpdGggb24gbGVmdCBJRHMuXG4gICAqIEBwYXJhbSB7Kn0gZG93bkFyZyBBcmd1bWVudCB0byBpbnZva2UgdGhlIGNhbGxiYWNrIHdpdGggb24gZW50ZXJlZCBJRHMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdHJhdmVyc2VFbnRlckxlYXZlOiBmdW5jdGlvbihsZWF2ZUlELCBlbnRlcklELCBjYiwgdXBBcmcsIGRvd25BcmcpIHtcbiAgICB2YXIgYW5jZXN0b3JJRCA9IGdldEZpcnN0Q29tbW9uQW5jZXN0b3JJRChsZWF2ZUlELCBlbnRlcklEKTtcbiAgICBpZiAoYW5jZXN0b3JJRCAhPT0gbGVhdmVJRCkge1xuICAgICAgdHJhdmVyc2VQYXJlbnRQYXRoKGxlYXZlSUQsIGFuY2VzdG9ySUQsIGNiLCB1cEFyZywgZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoYW5jZXN0b3JJRCAhPT0gZW50ZXJJRCkge1xuICAgICAgdHJhdmVyc2VQYXJlbnRQYXRoKGFuY2VzdG9ySUQsIGVudGVySUQsIGNiLCBkb3duQXJnLCB0cnVlLCBmYWxzZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTaW11bGF0ZXMgdGhlIHRyYXZlcnNhbCBvZiBhIHR3by1waGFzZSwgY2FwdHVyZS9idWJibGUgZXZlbnQgZGlzcGF0Y2guXG4gICAqXG4gICAqIE5PVEU6IFRoaXMgdHJhdmVyc2FsIGhhcHBlbnMgb24gSURzIHdpdGhvdXQgdG91Y2hpbmcgdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldElEIElEIG9mIHRoZSB0YXJnZXQgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgQ2FsbGJhY2sgdG8gaW52b2tlLlxuICAgKiBAcGFyYW0geyp9IGFyZyBBcmd1bWVudCB0byBpbnZva2UgdGhlIGNhbGxiYWNrIHdpdGguXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdHJhdmVyc2VUd29QaGFzZTogZnVuY3Rpb24odGFyZ2V0SUQsIGNiLCBhcmcpIHtcbiAgICBpZiAodGFyZ2V0SUQpIHtcbiAgICAgIHRyYXZlcnNlUGFyZW50UGF0aCgnJywgdGFyZ2V0SUQsIGNiLCBhcmcsIHRydWUsIGZhbHNlKTtcbiAgICAgIHRyYXZlcnNlUGFyZW50UGF0aCh0YXJnZXRJRCwgJycsIGNiLCBhcmcsIGZhbHNlLCB0cnVlKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRyYXZlcnNlIGEgbm9kZSBJRCwgY2FsbGluZyB0aGUgc3VwcGxpZWQgYGNiYCBmb3IgZWFjaCBhbmNlc3RvciBJRC4gRm9yXG4gICAqIGV4YW1wbGUsIHBhc3NpbmcgYC4wLiRyb3ctMC4xYCB3b3VsZCByZXN1bHQgaW4gYGNiYCBnZXR0aW5nIGNhbGxlZFxuICAgKiB3aXRoIGAuMGAsIGAuMC4kcm93LTBgLCBhbmQgYC4wLiRyb3ctMC4xYC5cbiAgICpcbiAgICogTk9URTogVGhpcyB0cmF2ZXJzYWwgaGFwcGVucyBvbiBJRHMgd2l0aG91dCB0b3VjaGluZyB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0SUQgSUQgb2YgdGhlIHRhcmdldCBub2RlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiBDYWxsYmFjayB0byBpbnZva2UuXG4gICAqIEBwYXJhbSB7Kn0gYXJnIEFyZ3VtZW50IHRvIGludm9rZSB0aGUgY2FsbGJhY2sgd2l0aC5cbiAgICogQGludGVybmFsXG4gICAqL1xuICB0cmF2ZXJzZUFuY2VzdG9yczogZnVuY3Rpb24odGFyZ2V0SUQsIGNiLCBhcmcpIHtcbiAgICB0cmF2ZXJzZVBhcmVudFBhdGgoJycsIHRhcmdldElELCBjYiwgYXJnLCB0cnVlLCBmYWxzZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRGaXJzdENvbW1vbkFuY2VzdG9ySUQ6IGdldEZpcnN0Q29tbW9uQW5jZXN0b3JJRCxcblxuICAvKipcbiAgICogRXhwb3NlZCBmb3IgdW5pdCB0ZXN0aW5nLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldE5leHREZXNjZW5kYW50SUQ6IGdldE5leHREZXNjZW5kYW50SUQsXG5cbiAgaXNBbmNlc3RvcklET2Y6IGlzQW5jZXN0b3JJRE9mLFxuXG4gIFNFUEFSQVRPUjogU0VQQVJBVE9SXG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RJbnN0YW5jZUhhbmRsZXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RJbnN0YW5jZU1hcFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBgUmVhY3RJbnN0YW5jZU1hcGAgbWFpbnRhaW5zIGEgbWFwcGluZyBmcm9tIGEgcHVibGljIGZhY2luZyBzdGF0ZWZ1bFxuICogaW5zdGFuY2UgKGtleSkgYW5kIHRoZSBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiAodmFsdWUpLiBUaGlzIGFsbG93cyBwdWJsaWNcbiAqIG1ldGhvZHMgdG8gYWNjZXB0IHRoZSB1c2VyIGZhY2luZyBpbnN0YW5jZSBhcyBhbiBhcmd1bWVudCBhbmQgbWFwIHRoZW0gYmFja1xuICogdG8gaW50ZXJuYWwgbWV0aG9kcy5cbiAqL1xuXG4vLyBUT0RPOiBSZXBsYWNlIHRoaXMgd2l0aCBFUzY6IHZhciBSZWFjdEluc3RhbmNlTWFwID0gbmV3IE1hcCgpO1xudmFyIFJlYWN0SW5zdGFuY2VNYXAgPSB7XG5cbiAgLyoqXG4gICAqIFRoaXMgQVBJIHNob3VsZCBiZSBjYWxsZWQgYGRlbGV0ZWAgYnV0IHdlJ2QgaGF2ZSB0byBtYWtlIHN1cmUgdG8gYWx3YXlzXG4gICAqIHRyYW5zZm9ybSB0aGVzZSB0byBzdHJpbmdzIGZvciBJRSBzdXBwb3J0LiBXaGVuIHRoaXMgdHJhbnNmb3JtIGlzIGZ1bGx5XG4gICAqIHN1cHBvcnRlZCB3ZSBjYW4gcmVuYW1lIGl0LlxuICAgKi9cbiAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICBrZXkuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSA9IHVuZGVmaW5lZDtcbiAgfSxcblxuICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBrZXkuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZTtcbiAgfSxcblxuICBoYXM6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBrZXkuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSAhPT0gdW5kZWZpbmVkO1xuICB9LFxuXG4gIHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIGtleS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlID0gdmFsdWU7XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdEluc3RhbmNlTWFwO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdExpZmVDeWNsZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBtYW5hZ2VzIHRoZSBib29ra2VlcGluZyB3aGVuIGEgY29tcG9uZW50IGlzIGluIHRoZSBwcm9jZXNzXG4gKiBvZiBiZWluZyBtb3VudGVkIG9yIGJlaW5nIHVubW91bnRlZC4gVGhpcyBpcyB1c2VkIGFzIGEgd2F5IHRvIGVuZm9yY2VcbiAqIGludmFyaWFudHMgKG9yIHdhcm5pbmdzKSB3aGVuIGl0IGlzIG5vdCByZWNvbW1lbmRlZCB0byBjYWxsXG4gKiBzZXRTdGF0ZS9mb3JjZVVwZGF0ZS5cbiAqXG4gKiBjdXJyZW50bHlNb3VudGluZ0luc3RhbmNlOiBEdXJpbmcgdGhlIGNvbnN0cnVjdGlvbiBwaGFzZSwgaXQgaXMgbm90IHBvc3NpYmxlXG4gKiB0byB0cmlnZ2VyIGFuIHVwZGF0ZSBzaW5jZSB0aGUgaW5zdGFuY2UgaXMgbm90IGZ1bGx5IG1vdW50ZWQgeWV0LiBIb3dldmVyLCB3ZVxuICogY3VycmVudGx5IGFsbG93IHRoaXMgYXMgYSBjb252ZW5pZW5jZSBmb3IgbXV0YXRpbmcgdGhlIGluaXRpYWwgc3RhdGUuXG4gKlxuICogY3VycmVudGx5VW5tb3VudGluZ0luc3RhbmNlOiBEdXJpbmcgdGhlIHVubW91bnRpbmcgcGhhc2UsIHRoZSBpbnN0YW5jZSBpc1xuICogc3RpbGwgbW91bnRlZCBhbmQgY2FuIHRoZXJlZm9yZSBzY2hlZHVsZSBhbiB1cGRhdGUuIEhvd2V2ZXIsIHRoaXMgaXMgbm90XG4gKiByZWNvbW1lbmRlZCBhbmQgcHJvYmFibHkgYW4gZXJyb3Igc2luY2UgaXQncyBhYm91dCB0byBiZSB1bm1vdW50ZWQuXG4gKiBUaGVyZWZvcmUgd2Ugc3RpbGwgd2FudCB0byB0cmlnZ2VyIGluIGFuIGVycm9yIGZvciB0aGF0IGNhc2UuXG4gKi9cblxudmFyIFJlYWN0TGlmZUN5Y2xlID0ge1xuICBjdXJyZW50bHlNb3VudGluZ0luc3RhbmNlOiBudWxsLFxuICBjdXJyZW50bHlVbm1vdW50aW5nSW5zdGFuY2U6IG51bGxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RMaWZlQ3ljbGU7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RMaW5rXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBSZWFjdExpbmsgZW5jYXBzdWxhdGVzIGEgY29tbW9uIHBhdHRlcm4gaW4gd2hpY2ggYSBjb21wb25lbnQgd2FudHMgdG8gbW9kaWZ5XG4gKiBhIHByb3AgcmVjZWl2ZWQgZnJvbSBpdHMgcGFyZW50LiBSZWFjdExpbmsgYWxsb3dzIHRoZSBwYXJlbnQgdG8gcGFzcyBkb3duIGFcbiAqIHZhbHVlIGNvdXBsZWQgd2l0aCBhIGNhbGxiYWNrIHRoYXQsIHdoZW4gaW52b2tlZCwgZXhwcmVzc2VzIGFuIGludGVudCB0b1xuICogbW9kaWZ5IHRoYXQgdmFsdWUuIEZvciBleGFtcGxlOlxuICpcbiAqIFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAqICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAqICAgICByZXR1cm4ge3ZhbHVlOiAnJ307XG4gKiAgIH0sXG4gKiAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gKiAgICAgdmFyIHZhbHVlTGluayA9IG5ldyBSZWFjdExpbmsodGhpcy5zdGF0ZS52YWx1ZSwgdGhpcy5faGFuZGxlVmFsdWVDaGFuZ2UpO1xuICogICAgIHJldHVybiA8aW5wdXQgdmFsdWVMaW5rPXt2YWx1ZUxpbmt9IC8+O1xuICogICB9LFxuICogICB0aGlzLl9oYW5kbGVWYWx1ZUNoYW5nZTogZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAqICAgICB0aGlzLnNldFN0YXRlKHt2YWx1ZTogbmV3VmFsdWV9KTtcbiAqICAgfVxuICogfSk7XG4gKlxuICogV2UgaGF2ZSBwcm92aWRlZCBzb21lIHN1Z2FyeSBtaXhpbnMgdG8gbWFrZSB0aGUgY3JlYXRpb24gYW5kXG4gKiBjb25zdW1wdGlvbiBvZiBSZWFjdExpbmsgZWFzaWVyOyBzZWUgTGlua2VkVmFsdWVVdGlscyBhbmQgTGlua2VkU3RhdGVNaXhpbi5cbiAqL1xuXG52YXIgUmVhY3QgPSByZXF1aXJlKFwiLi9SZWFjdFwiKTtcblxuLyoqXG4gKiBAcGFyYW0geyp9IHZhbHVlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGxpbmtcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlcXVlc3RDaGFuZ2UgY2FsbGJhY2sgdG8gcmVxdWVzdCBhIGNoYW5nZVxuICovXG5mdW5jdGlvbiBSZWFjdExpbmsodmFsdWUsIHJlcXVlc3RDaGFuZ2UpIHtcbiAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB0aGlzLnJlcXVlc3RDaGFuZ2UgPSByZXF1ZXN0Q2hhbmdlO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBQcm9wVHlwZSB0aGF0IGVuZm9yY2VzIHRoZSBSZWFjdExpbmsgQVBJIGFuZCBvcHRpb25hbGx5IGNoZWNrcyB0aGVcbiAqIHR5cGUgb2YgdGhlIHZhbHVlIGJlaW5nIHBhc3NlZCBpbnNpZGUgdGhlIGxpbmsuIEV4YW1wbGU6XG4gKlxuICogTXlDb21wb25lbnQucHJvcFR5cGVzID0ge1xuICogICB0YWJJbmRleExpbms6IFJlYWN0TGluay5Qcm9wVHlwZXMubGluayhSZWFjdC5Qcm9wVHlwZXMubnVtYmVyKVxuICogfVxuICovXG5mdW5jdGlvbiBjcmVhdGVMaW5rVHlwZUNoZWNrZXIobGlua1R5cGUpIHtcbiAgdmFyIHNoYXBlcyA9IHtcbiAgICB2YWx1ZTogdHlwZW9mIGxpbmtUeXBlID09PSAndW5kZWZpbmVkJyA/XG4gICAgICBSZWFjdC5Qcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQgOlxuICAgICAgbGlua1R5cGUuaXNSZXF1aXJlZCxcbiAgICByZXF1ZXN0Q2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG4gIH07XG4gIHJldHVybiBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoc2hhcGVzKTtcbn1cblxuUmVhY3RMaW5rLlByb3BUeXBlcyA9IHtcbiAgbGluazogY3JlYXRlTGlua1R5cGVDaGVja2VyXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0TGluaztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdE1hcmt1cENoZWNrc3VtXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgYWRsZXIzMiA9IHJlcXVpcmUoXCIuL2FkbGVyMzJcIik7XG5cbnZhciBSZWFjdE1hcmt1cENoZWNrc3VtID0ge1xuICBDSEVDS1NVTV9BVFRSX05BTUU6ICdkYXRhLXJlYWN0LWNoZWNrc3VtJyxcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hcmt1cCBNYXJrdXAgc3RyaW5nXG4gICAqIEByZXR1cm4ge3N0cmluZ30gTWFya3VwIHN0cmluZyB3aXRoIGNoZWNrc3VtIGF0dHJpYnV0ZSBhdHRhY2hlZFxuICAgKi9cbiAgYWRkQ2hlY2tzdW1Ub01hcmt1cDogZnVuY3Rpb24obWFya3VwKSB7XG4gICAgdmFyIGNoZWNrc3VtID0gYWRsZXIzMihtYXJrdXApO1xuICAgIHJldHVybiBtYXJrdXAucmVwbGFjZShcbiAgICAgICc+JyxcbiAgICAgICcgJyArIFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FICsgJz1cIicgKyBjaGVja3N1bSArICdcIj4nXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hcmt1cCB0byB1c2VcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHJvb3QgUmVhY3QgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgdGhlIG1hcmt1cCBpcyB0aGUgc2FtZVxuICAgKi9cbiAgY2FuUmV1c2VNYXJrdXA6IGZ1bmN0aW9uKG1hcmt1cCwgZWxlbWVudCkge1xuICAgIHZhciBleGlzdGluZ0NoZWNrc3VtID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXG4gICAgICBSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRVxuICAgICk7XG4gICAgZXhpc3RpbmdDaGVja3N1bSA9IGV4aXN0aW5nQ2hlY2tzdW0gJiYgcGFyc2VJbnQoZXhpc3RpbmdDaGVja3N1bSwgMTApO1xuICAgIHZhciBtYXJrdXBDaGVja3N1bSA9IGFkbGVyMzIobWFya3VwKTtcbiAgICByZXR1cm4gbWFya3VwQ2hlY2tzdW0gPT09IGV4aXN0aW5nQ2hlY2tzdW07XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RNYXJrdXBDaGVja3N1bTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdE1vdW50XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRE9NUHJvcGVydHkgPSByZXF1aXJlKFwiLi9ET01Qcm9wZXJ0eVwiKTtcbnZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiLi9SZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXJcIik7XG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKFwiLi9SZWFjdEN1cnJlbnRPd25lclwiKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG52YXIgUmVhY3RFbGVtZW50VmFsaWRhdG9yID0gcmVxdWlyZShcIi4vUmVhY3RFbGVtZW50VmFsaWRhdG9yXCIpO1xudmFyIFJlYWN0RW1wdHlDb21wb25lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVtcHR5Q29tcG9uZW50XCIpO1xudmFyIFJlYWN0SW5zdGFuY2VIYW5kbGVzID0gcmVxdWlyZShcIi4vUmVhY3RJbnN0YW5jZUhhbmRsZXNcIik7XG52YXIgUmVhY3RJbnN0YW5jZU1hcCA9IHJlcXVpcmUoXCIuL1JlYWN0SW5zdGFuY2VNYXBcIik7XG52YXIgUmVhY3RNYXJrdXBDaGVja3N1bSA9IHJlcXVpcmUoXCIuL1JlYWN0TWFya3VwQ2hlY2tzdW1cIik7XG52YXIgUmVhY3RQZXJmID0gcmVxdWlyZShcIi4vUmVhY3RQZXJmXCIpO1xudmFyIFJlYWN0UmVjb25jaWxlciA9IHJlcXVpcmUoXCIuL1JlYWN0UmVjb25jaWxlclwiKTtcbnZhciBSZWFjdFVwZGF0ZVF1ZXVlID0gcmVxdWlyZShcIi4vUmVhY3RVcGRhdGVRdWV1ZVwiKTtcbnZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKFwiLi9SZWFjdFVwZGF0ZXNcIik7XG5cbnZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoXCIuL2VtcHR5T2JqZWN0XCIpO1xudmFyIGNvbnRhaW5zTm9kZSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5zTm9kZVwiKTtcbnZhciBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIgPSByZXF1aXJlKFwiLi9nZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXJcIik7XG52YXIgaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoXCIuL2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnRcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xudmFyIHNldElubmVySFRNTCA9IHJlcXVpcmUoXCIuL3NldElubmVySFRNTFwiKTtcbnZhciBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoXCIuL3Nob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50XCIpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKFwiLi93YXJuaW5nXCIpO1xuXG52YXIgU0VQQVJBVE9SID0gUmVhY3RJbnN0YW5jZUhhbmRsZXMuU0VQQVJBVE9SO1xuXG52YXIgQVRUUl9OQU1FID0gRE9NUHJvcGVydHkuSURfQVRUUklCVVRFX05BTUU7XG52YXIgbm9kZUNhY2hlID0ge307XG5cbnZhciBFTEVNRU5UX05PREVfVFlQRSA9IDE7XG52YXIgRE9DX05PREVfVFlQRSA9IDk7XG5cbi8qKiBNYXBwaW5nIGZyb20gcmVhY3RSb290SUQgdG8gUmVhY3QgY29tcG9uZW50IGluc3RhbmNlLiAqL1xudmFyIGluc3RhbmNlc0J5UmVhY3RSb290SUQgPSB7fTtcblxuLyoqIE1hcHBpbmcgZnJvbSByZWFjdFJvb3RJRCB0byBgY29udGFpbmVyYCBub2Rlcy4gKi9cbnZhciBjb250YWluZXJzQnlSZWFjdFJvb3RJRCA9IHt9O1xuXG5pZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gIC8qKiBfX0RFVl9fLW9ubHkgbWFwcGluZyBmcm9tIHJlYWN0Um9vdElEIHRvIHJvb3QgZWxlbWVudHMuICovXG4gIHZhciByb290RWxlbWVudHNCeVJlYWN0Um9vdElEID0ge307XG59XG5cbi8vIFVzZWQgdG8gc3RvcmUgYnJlYWR0aC1maXJzdCBzZWFyY2ggc3RhdGUgaW4gZmluZENvbXBvbmVudFJvb3QuXG52YXIgZmluZENvbXBvbmVudFJvb3RSZXVzYWJsZUFycmF5ID0gW107XG5cbi8qKlxuICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBjaGFyYWN0ZXJcbiAqIHRoYXQncyBub3QgY29tbW9uIGJldHdlZW4gdGhlIHR3byBnaXZlbiBzdHJpbmdzLlxuICpcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIGluZGV4IG9mIHRoZSBjaGFyYWN0ZXIgd2hlcmUgdGhlIHN0cmluZ3MgZGl2ZXJnZVxuICovXG5mdW5jdGlvbiBmaXJzdERpZmZlcmVuY2VJbmRleChzdHJpbmcxLCBzdHJpbmcyKSB7XG4gIHZhciBtaW5MZW4gPSBNYXRoLm1pbihzdHJpbmcxLmxlbmd0aCwgc3RyaW5nMi5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1pbkxlbjsgaSsrKSB7XG4gICAgaWYgKHN0cmluZzEuY2hhckF0KGkpICE9PSBzdHJpbmcyLmNoYXJBdChpKSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHJpbmcxLmxlbmd0aCA9PT0gc3RyaW5nMi5sZW5ndGggPyAtMSA6IG1pbkxlbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciBET00gZWxlbWVudCB0aGF0IG1heSBjb250YWluIGEgUmVhY3QgY29tcG9uZW50LlxuICogQHJldHVybiB7P3N0cmluZ30gQSBcInJlYWN0Um9vdFwiIElELCBpZiBhIFJlYWN0IGNvbXBvbmVudCBpcyByZW5kZXJlZC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmVhY3RSb290SUQoY29udGFpbmVyKSB7XG4gIHZhciByb290RWxlbWVudCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICByZXR1cm4gcm9vdEVsZW1lbnQgJiYgUmVhY3RNb3VudC5nZXRJRChyb290RWxlbWVudCk7XG59XG5cbi8qKlxuICogQWNjZXNzaW5nIG5vZGVbQVRUUl9OQU1FXSBvciBjYWxsaW5nIGdldEF0dHJpYnV0ZShBVFRSX05BTUUpIG9uIGEgZm9ybVxuICogZWxlbWVudCBjYW4gcmV0dXJuIGl0cyBjb250cm9sIHdob3NlIG5hbWUgb3IgSUQgZXF1YWxzIEFUVFJfTkFNRS4gQWxsXG4gKiBET00gbm9kZXMgc3VwcG9ydCBgZ2V0QXR0cmlidXRlTm9kZWAgYnV0IHRoaXMgY2FuIGFsc28gZ2V0IGNhbGxlZCBvblxuICogb3RoZXIgb2JqZWN0cyBzbyBqdXN0IHJldHVybiAnJyBpZiB3ZSdyZSBnaXZlbiBzb21ldGhpbmcgb3RoZXIgdGhhbiBhXG4gKiBET00gbm9kZSAoc3VjaCBhcyB3aW5kb3cpLlxuICpcbiAqIEBwYXJhbSB7P0RPTUVsZW1lbnR8RE9NV2luZG93fERPTURvY3VtZW50fERPTVRleHROb2RlfSBub2RlIERPTSBub2RlLlxuICogQHJldHVybiB7c3RyaW5nfSBJRCBvZiB0aGUgc3VwcGxpZWQgYGRvbU5vZGVgLlxuICovXG5mdW5jdGlvbiBnZXRJRChub2RlKSB7XG4gIHZhciBpZCA9IGludGVybmFsR2V0SUQobm9kZSk7XG4gIGlmIChpZCkge1xuICAgIGlmIChub2RlQ2FjaGUuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICB2YXIgY2FjaGVkID0gbm9kZUNhY2hlW2lkXTtcbiAgICAgIGlmIChjYWNoZWQgIT09IG5vZGUpIHtcbiAgICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgICAgICAhaXNWYWxpZChjYWNoZWQsIGlkKSxcbiAgICAgICAgICAnUmVhY3RNb3VudDogVHdvIHZhbGlkIGJ1dCB1bmVxdWFsIG5vZGVzIHdpdGggdGhlIHNhbWUgYCVzYDogJXMnLFxuICAgICAgICAgIEFUVFJfTkFNRSwgaWRcbiAgICAgICAgKSA6IGludmFyaWFudCghaXNWYWxpZChjYWNoZWQsIGlkKSkpO1xuXG4gICAgICAgIG5vZGVDYWNoZVtpZF0gPSBub2RlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBub2RlQ2FjaGVbaWRdID0gbm9kZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaWQ7XG59XG5cbmZ1bmN0aW9uIGludGVybmFsR2V0SUQobm9kZSkge1xuICAvLyBJZiBub2RlIGlzIHNvbWV0aGluZyBsaWtlIGEgd2luZG93LCBkb2N1bWVudCwgb3IgdGV4dCBub2RlLCBub25lIG9mXG4gIC8vIHdoaWNoIHN1cHBvcnQgYXR0cmlidXRlcyBvciBhIC5nZXRBdHRyaWJ1dGUgbWV0aG9kLCBncmFjZWZ1bGx5IHJldHVyblxuICAvLyB0aGUgZW1wdHkgc3RyaW5nLCBhcyBpZiB0aGUgYXR0cmlidXRlIHdlcmUgbWlzc2luZy5cbiAgcmV0dXJuIG5vZGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoQVRUUl9OQU1FKSB8fCAnJztcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBSZWFjdC1zcGVjaWZpYyBJRCBvZiB0aGUgZ2l2ZW4gbm9kZS5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGUgVGhlIERPTSBub2RlIHdob3NlIElEIHdpbGwgYmUgc2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSB2YWx1ZSBvZiB0aGUgSUQgYXR0cmlidXRlLlxuICovXG5mdW5jdGlvbiBzZXRJRChub2RlLCBpZCkge1xuICB2YXIgb2xkSUQgPSBpbnRlcm5hbEdldElEKG5vZGUpO1xuICBpZiAob2xkSUQgIT09IGlkKSB7XG4gICAgZGVsZXRlIG5vZGVDYWNoZVtvbGRJRF07XG4gIH1cbiAgbm9kZS5zZXRBdHRyaWJ1dGUoQVRUUl9OQU1FLCBpZCk7XG4gIG5vZGVDYWNoZVtpZF0gPSBub2RlO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBub2RlIHdpdGggdGhlIHN1cHBsaWVkIFJlYWN0LWdlbmVyYXRlZCBET00gSUQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIEEgUmVhY3QtZ2VuZXJhdGVkIERPTSBJRC5cbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR9IERPTSBub2RlIHdpdGggdGhlIHN1cHBsZWQgYGlkYC5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBnZXROb2RlKGlkKSB7XG4gIGlmICghbm9kZUNhY2hlLmhhc093blByb3BlcnR5KGlkKSB8fCAhaXNWYWxpZChub2RlQ2FjaGVbaWRdLCBpZCkpIHtcbiAgICBub2RlQ2FjaGVbaWRdID0gUmVhY3RNb3VudC5maW5kUmVhY3ROb2RlQnlJRChpZCk7XG4gIH1cbiAgcmV0dXJuIG5vZGVDYWNoZVtpZF07XG59XG5cbi8qKlxuICogRmluZHMgdGhlIG5vZGUgd2l0aCB0aGUgc3VwcGxpZWQgcHVibGljIFJlYWN0IGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB7Kn0gaW5zdGFuY2UgQSBwdWJsaWMgUmVhY3QgaW5zdGFuY2UuXG4gKiBAcmV0dXJuIHs/RE9NRWxlbWVudH0gRE9NIG5vZGUgd2l0aCB0aGUgc3VwcGxlZCBgaWRgLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgdmFyIGlkID0gUmVhY3RJbnN0YW5jZU1hcC5nZXQoaW5zdGFuY2UpLl9yb290Tm9kZUlEO1xuICBpZiAoUmVhY3RFbXB0eUNvbXBvbmVudC5pc051bGxDb21wb25lbnRJRChpZCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIW5vZGVDYWNoZS5oYXNPd25Qcm9wZXJ0eShpZCkgfHwgIWlzVmFsaWQobm9kZUNhY2hlW2lkXSwgaWQpKSB7XG4gICAgbm9kZUNhY2hlW2lkXSA9IFJlYWN0TW91bnQuZmluZFJlYWN0Tm9kZUJ5SUQoaWQpO1xuICB9XG4gIHJldHVybiBub2RlQ2FjaGVbaWRdO1xufVxuXG4vKipcbiAqIEEgbm9kZSBpcyBcInZhbGlkXCIgaWYgaXQgaXMgY29udGFpbmVkIGJ5IGEgY3VycmVudGx5IG1vdW50ZWQgY29udGFpbmVyLlxuICpcbiAqIFRoaXMgbWVhbnMgdGhhdCB0aGUgbm9kZSBkb2VzIG5vdCBoYXZlIHRvIGJlIGNvbnRhaW5lZCBieSBhIGRvY3VtZW50IGluXG4gKiBvcmRlciB0byBiZSBjb25zaWRlcmVkIHZhbGlkLlxuICpcbiAqIEBwYXJhbSB7P0RPTUVsZW1lbnR9IG5vZGUgVGhlIGNhbmRpZGF0ZSBET00gbm9kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgZXhwZWN0ZWQgSUQgb2YgdGhlIG5vZGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBub2RlIGlzIGNvbnRhaW5lZCBieSBhIG1vdW50ZWQgY29udGFpbmVyLlxuICovXG5mdW5jdGlvbiBpc1ZhbGlkKG5vZGUsIGlkKSB7XG4gIGlmIChub2RlKSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIGludGVybmFsR2V0SUQobm9kZSkgPT09IGlkLFxuICAgICAgJ1JlYWN0TW91bnQ6IFVuZXhwZWN0ZWQgbW9kaWZpY2F0aW9uIG9mIGAlc2AnLFxuICAgICAgQVRUUl9OQU1FXG4gICAgKSA6IGludmFyaWFudChpbnRlcm5hbEdldElEKG5vZGUpID09PSBpZCkpO1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IFJlYWN0TW91bnQuZmluZFJlYWN0Q29udGFpbmVyRm9ySUQoaWQpO1xuICAgIGlmIChjb250YWluZXIgJiYgY29udGFpbnNOb2RlKGNvbnRhaW5lciwgbm9kZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDYXVzZXMgdGhlIGNhY2hlIHRvIGZvcmdldCBhYm91dCBvbmUgUmVhY3Qtc3BlY2lmaWMgSUQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCB0byBmb3JnZXQuXG4gKi9cbmZ1bmN0aW9uIHB1cmdlSUQoaWQpIHtcbiAgZGVsZXRlIG5vZGVDYWNoZVtpZF07XG59XG5cbnZhciBkZWVwZXN0Tm9kZVNvRmFyID0gbnVsbDtcbmZ1bmN0aW9uIGZpbmREZWVwZXN0Q2FjaGVkQW5jZXN0b3JJbXBsKGFuY2VzdG9ySUQpIHtcbiAgdmFyIGFuY2VzdG9yID0gbm9kZUNhY2hlW2FuY2VzdG9ySURdO1xuICBpZiAoYW5jZXN0b3IgJiYgaXNWYWxpZChhbmNlc3RvciwgYW5jZXN0b3JJRCkpIHtcbiAgICBkZWVwZXN0Tm9kZVNvRmFyID0gYW5jZXN0b3I7XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhpcyBub2RlIGlzbid0IHBvcHVsYXRlZCBpbiB0aGUgY2FjaGUsIHNvIHByZXN1bWFibHkgbm9uZSBvZiBpdHNcbiAgICAvLyBkZXNjZW5kYW50cyBhcmUuIEJyZWFrIG91dCBvZiB0aGUgbG9vcC5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGRlZXBlc3QgY2FjaGVkIG5vZGUgd2hvc2UgSUQgaXMgYSBwcmVmaXggb2YgYHRhcmdldElEYC5cbiAqL1xuZnVuY3Rpb24gZmluZERlZXBlc3RDYWNoZWRBbmNlc3Rvcih0YXJnZXRJRCkge1xuICBkZWVwZXN0Tm9kZVNvRmFyID0gbnVsbDtcbiAgUmVhY3RJbnN0YW5jZUhhbmRsZXMudHJhdmVyc2VBbmNlc3RvcnMoXG4gICAgdGFyZ2V0SUQsXG4gICAgZmluZERlZXBlc3RDYWNoZWRBbmNlc3RvckltcGxcbiAgKTtcblxuICB2YXIgZm91bmROb2RlID0gZGVlcGVzdE5vZGVTb0ZhcjtcbiAgZGVlcGVzdE5vZGVTb0ZhciA9IG51bGw7XG4gIHJldHVybiBmb3VuZE5vZGU7XG59XG5cbi8qKlxuICogTW91bnRzIHRoaXMgY29tcG9uZW50IGFuZCBpbnNlcnRzIGl0IGludG8gdGhlIERPTS5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBjb21wb25lbnRJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdG8gbW91bnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gcm9vdElEIERPTSBJRCBvZiB0aGUgcm9vdCBub2RlLlxuICogQHBhcmFtIHtET01FbGVtZW50fSBjb250YWluZXIgRE9NIGVsZW1lbnQgdG8gbW91bnQgaW50by5cbiAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvdWxkUmV1c2VNYXJrdXAgSWYgdHJ1ZSwgZG8gbm90IGluc2VydCBtYXJrdXBcbiAqL1xuZnVuY3Rpb24gbW91bnRDb21wb25lbnRJbnRvTm9kZShcbiAgICBjb21wb25lbnRJbnN0YW5jZSxcbiAgICByb290SUQsXG4gICAgY29udGFpbmVyLFxuICAgIHRyYW5zYWN0aW9uLFxuICAgIHNob3VsZFJldXNlTWFya3VwKSB7XG4gIHZhciBtYXJrdXAgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQoXG4gICAgY29tcG9uZW50SW5zdGFuY2UsIHJvb3RJRCwgdHJhbnNhY3Rpb24sIGVtcHR5T2JqZWN0XG4gICk7XG4gIGNvbXBvbmVudEluc3RhbmNlLl9pc1RvcExldmVsID0gdHJ1ZTtcbiAgUmVhY3RNb3VudC5fbW91bnRJbWFnZUludG9Ob2RlKG1hcmt1cCwgY29udGFpbmVyLCBzaG91bGRSZXVzZU1hcmt1cCk7XG59XG5cbi8qKlxuICogQmF0Y2hlZCBtb3VudC5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBjb21wb25lbnRJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdG8gbW91bnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gcm9vdElEIERPTSBJRCBvZiB0aGUgcm9vdCBub2RlLlxuICogQHBhcmFtIHtET01FbGVtZW50fSBjb250YWluZXIgRE9NIGVsZW1lbnQgdG8gbW91bnQgaW50by5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvdWxkUmV1c2VNYXJrdXAgSWYgdHJ1ZSwgZG8gbm90IGluc2VydCBtYXJrdXBcbiAqL1xuZnVuY3Rpb24gYmF0Y2hlZE1vdW50Q29tcG9uZW50SW50b05vZGUoXG4gICAgY29tcG9uZW50SW5zdGFuY2UsXG4gICAgcm9vdElELFxuICAgIGNvbnRhaW5lcixcbiAgICBzaG91bGRSZXVzZU1hcmt1cCkge1xuICB2YXIgdHJhbnNhY3Rpb24gPSBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5nZXRQb29sZWQoKTtcbiAgdHJhbnNhY3Rpb24ucGVyZm9ybShcbiAgICBtb3VudENvbXBvbmVudEludG9Ob2RlLFxuICAgIG51bGwsXG4gICAgY29tcG9uZW50SW5zdGFuY2UsXG4gICAgcm9vdElELFxuICAgIGNvbnRhaW5lcixcbiAgICB0cmFuc2FjdGlvbixcbiAgICBzaG91bGRSZXVzZU1hcmt1cFxuICApO1xuICBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5yZWxlYXNlKHRyYW5zYWN0aW9uKTtcbn1cblxuLyoqXG4gKiBNb3VudGluZyBpcyB0aGUgcHJvY2VzcyBvZiBpbml0aWFsaXppbmcgYSBSZWFjdCBjb21wb25lbnQgYnkgY3JlYXRpbmcgaXRzXG4gKiByZXByZXNlbnRhdGl2ZSBET00gZWxlbWVudHMgYW5kIGluc2VydGluZyB0aGVtIGludG8gYSBzdXBwbGllZCBgY29udGFpbmVyYC5cbiAqIEFueSBwcmlvciBjb250ZW50IGluc2lkZSBgY29udGFpbmVyYCBpcyBkZXN0cm95ZWQgaW4gdGhlIHByb2Nlc3MuXG4gKlxuICogICBSZWFjdE1vdW50LnJlbmRlcihcbiAqICAgICBjb21wb25lbnQsXG4gKiAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpXG4gKiAgICk7XG4gKlxuICogICA8ZGl2IGlkPVwiY29udGFpbmVyXCI+ICAgICAgICAgICAgICAgICAgIDwtLSBTdXBwbGllZCBgY29udGFpbmVyYC5cbiAqICAgICA8ZGl2IGRhdGEtcmVhY3RpZD1cIi4zXCI+ICAgICAgICAgICAgICA8LS0gUmVuZGVyZWQgcmVhY3RSb290IG9mIFJlYWN0XG4gKiAgICAgICAvLyAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuXG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICpcbiAqIEluc2lkZSBvZiBgY29udGFpbmVyYCwgdGhlIGZpcnN0IGVsZW1lbnQgcmVuZGVyZWQgaXMgdGhlIFwicmVhY3RSb290XCIuXG4gKi9cbnZhciBSZWFjdE1vdW50ID0ge1xuICAvKiogRXhwb3NlZCBmb3IgZGVidWdnaW5nIHB1cnBvc2VzICoqL1xuICBfaW5zdGFuY2VzQnlSZWFjdFJvb3RJRDogaW5zdGFuY2VzQnlSZWFjdFJvb3RJRCxcblxuICAvKipcbiAgICogVGhpcyBpcyBhIGhvb2sgcHJvdmlkZWQgdG8gc3VwcG9ydCByZW5kZXJpbmcgUmVhY3QgY29tcG9uZW50cyB3aGlsZVxuICAgKiBlbnN1cmluZyB0aGF0IHRoZSBhcHBhcmVudCBzY3JvbGwgcG9zaXRpb24gb2YgaXRzIGBjb250YWluZXJgIGRvZXMgbm90XG4gICAqIGNoYW5nZS5cbiAgICpcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBjb250YWluZXIgVGhlIGBjb250YWluZXJgIGJlaW5nIHJlbmRlcmVkIGludG8uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlbmRlckNhbGxiYWNrIFRoaXMgbXVzdCBiZSBjYWxsZWQgb25jZSB0byBkbyB0aGUgcmVuZGVyLlxuICAgKi9cbiAgc2Nyb2xsTW9uaXRvcjogZnVuY3Rpb24oY29udGFpbmVyLCByZW5kZXJDYWxsYmFjaykge1xuICAgIHJlbmRlckNhbGxiYWNrKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRha2UgYSBjb21wb25lbnQgdGhhdCdzIGFscmVhZHkgbW91bnRlZCBpbnRvIHRoZSBET00gYW5kIHJlcGxhY2UgaXRzIHByb3BzXG4gICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IHByZXZDb21wb25lbnQgY29tcG9uZW50IGluc3RhbmNlIGFscmVhZHkgaW4gdGhlIERPTVxuICAgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gbmV4dEVsZW1lbnQgY29tcG9uZW50IGluc3RhbmNlIHRvIHJlbmRlclxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciBjb250YWluZXIgdG8gcmVuZGVyIGludG9cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uIHRyaWdnZXJlZCBvbiBjb21wbGV0aW9uXG4gICAqL1xuICBfdXBkYXRlUm9vdENvbXBvbmVudDogZnVuY3Rpb24oXG4gICAgICBwcmV2Q29tcG9uZW50LFxuICAgICAgbmV4dEVsZW1lbnQsXG4gICAgICBjb250YWluZXIsXG4gICAgICBjYWxsYmFjaykge1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIFJlYWN0RWxlbWVudFZhbGlkYXRvci5jaGVja0FuZFdhcm5Gb3JNdXRhdGVkUHJvcHMobmV4dEVsZW1lbnQpO1xuICAgIH1cblxuICAgIFJlYWN0TW91bnQuc2Nyb2xsTW9uaXRvcihjb250YWluZXIsIGZ1bmN0aW9uKCkge1xuICAgICAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlRWxlbWVudEludGVybmFsKHByZXZDb21wb25lbnQsIG5leHRFbGVtZW50KTtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBSZWFjdFVwZGF0ZVF1ZXVlLmVucXVldWVDYWxsYmFja0ludGVybmFsKHByZXZDb21wb25lbnQsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIC8vIFJlY29yZCB0aGUgcm9vdCBlbGVtZW50IGluIGNhc2UgaXQgbGF0ZXIgZ2V0cyB0cmFuc3BsYW50ZWQuXG4gICAgICByb290RWxlbWVudHNCeVJlYWN0Um9vdElEW2dldFJlYWN0Um9vdElEKGNvbnRhaW5lcildID1cbiAgICAgICAgZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByZXZDb21wb25lbnQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgY29tcG9uZW50IGludG8gdGhlIGluc3RhbmNlIG1hcCBhbmQgc3RhcnRzIHNjcm9sbCB2YWx1ZVxuICAgKiBtb25pdG9yaW5nXG4gICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IG5leHRDb21wb25lbnQgY29tcG9uZW50IGluc3RhbmNlIHRvIHJlbmRlclxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciBjb250YWluZXIgdG8gcmVuZGVyIGludG9cbiAgICogQHJldHVybiB7c3RyaW5nfSByZWFjdFJvb3QgSUQgcHJlZml4XG4gICAqL1xuICBfcmVnaXN0ZXJDb21wb25lbnQ6IGZ1bmN0aW9uKG5leHRDb21wb25lbnQsIGNvbnRhaW5lcikge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICBjb250YWluZXIgJiYgKFxuICAgICAgICAoY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUpXG4gICAgICApLFxuICAgICAgJ19yZWdpc3RlckNvbXBvbmVudCguLi4pOiBUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LidcbiAgICApIDogaW52YXJpYW50KGNvbnRhaW5lciAmJiAoXG4gICAgICAoY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUpXG4gICAgKSkpO1xuXG4gICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmVuc3VyZVNjcm9sbFZhbHVlTW9uaXRvcmluZygpO1xuXG4gICAgdmFyIHJlYWN0Um9vdElEID0gUmVhY3RNb3VudC5yZWdpc3RlckNvbnRhaW5lcihjb250YWluZXIpO1xuICAgIGluc3RhbmNlc0J5UmVhY3RSb290SURbcmVhY3RSb290SURdID0gbmV4dENvbXBvbmVudDtcbiAgICByZXR1cm4gcmVhY3RSb290SUQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIG5ldyBjb21wb25lbnQgaW50byB0aGUgRE9NLlxuICAgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gbmV4dEVsZW1lbnQgZWxlbWVudCB0byByZW5kZXJcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBjb250YWluZXIgY29udGFpbmVyIHRvIHJlbmRlciBpbnRvXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvdWxkUmV1c2VNYXJrdXAgaWYgd2Ugc2hvdWxkIHNraXAgdGhlIG1hcmt1cCBpbnNlcnRpb25cbiAgICogQHJldHVybiB7UmVhY3RDb21wb25lbnR9IG5leHRDb21wb25lbnRcbiAgICovXG4gIF9yZW5kZXJOZXdSb290Q29tcG9uZW50OiBmdW5jdGlvbihcbiAgICBuZXh0RWxlbWVudCxcbiAgICBjb250YWluZXIsXG4gICAgc2hvdWxkUmV1c2VNYXJrdXBcbiAgKSB7XG4gICAgLy8gVmFyaW91cyBwYXJ0cyBvZiBvdXIgY29kZSAoc3VjaCBhcyBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCdzXG4gICAgLy8gX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudCkgYXNzdW1lIHRoYXQgY2FsbHMgdG8gcmVuZGVyIGFyZW4ndCBuZXN0ZWQ7XG4gICAgLy8gdmVyaWZ5IHRoYXQgdGhhdCdzIHRoZSBjYXNlLlxuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9PSBudWxsLFxuICAgICAgJ19yZW5kZXJOZXdSb290Q29tcG9uZW50KCk6IFJlbmRlciBtZXRob2RzIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gJyArXG4gICAgICAnb2YgcHJvcHMgYW5kIHN0YXRlOyB0cmlnZ2VyaW5nIG5lc3RlZCBjb21wb25lbnQgdXBkYXRlcyBmcm9tICcgK1xuICAgICAgJ3JlbmRlciBpcyBub3QgYWxsb3dlZC4gSWYgbmVjZXNzYXJ5LCB0cmlnZ2VyIG5lc3RlZCB1cGRhdGVzIGluICcgK1xuICAgICAgJ2NvbXBvbmVudERpZFVwZGF0ZS4nXG4gICAgKSA6IG51bGwpO1xuXG4gICAgdmFyIGNvbXBvbmVudEluc3RhbmNlID0gaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChuZXh0RWxlbWVudCwgbnVsbCk7XG4gICAgdmFyIHJlYWN0Um9vdElEID0gUmVhY3RNb3VudC5fcmVnaXN0ZXJDb21wb25lbnQoXG4gICAgICBjb21wb25lbnRJbnN0YW5jZSxcbiAgICAgIGNvbnRhaW5lclxuICAgICk7XG5cbiAgICAvLyBUaGUgaW5pdGlhbCByZW5kZXIgaXMgc3luY2hyb25vdXMgYnV0IGFueSB1cGRhdGVzIHRoYXQgaGFwcGVuIGR1cmluZ1xuICAgIC8vIHJlbmRlcmluZywgaW4gY29tcG9uZW50V2lsbE1vdW50IG9yIGNvbXBvbmVudERpZE1vdW50LCB3aWxsIGJlIGJhdGNoZWRcbiAgICAvLyBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgYmF0Y2hpbmcgc3RyYXRlZ3kuXG5cbiAgICBSZWFjdFVwZGF0ZXMuYmF0Y2hlZFVwZGF0ZXMoXG4gICAgICBiYXRjaGVkTW91bnRDb21wb25lbnRJbnRvTm9kZSxcbiAgICAgIGNvbXBvbmVudEluc3RhbmNlLFxuICAgICAgcmVhY3RSb290SUQsXG4gICAgICBjb250YWluZXIsXG4gICAgICBzaG91bGRSZXVzZU1hcmt1cFxuICAgICk7XG5cbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAvLyBSZWNvcmQgdGhlIHJvb3QgZWxlbWVudCBpbiBjYXNlIGl0IGxhdGVyIGdldHMgdHJhbnNwbGFudGVkLlxuICAgICAgcm9vdEVsZW1lbnRzQnlSZWFjdFJvb3RJRFtyZWFjdFJvb3RJRF0gPVxuICAgICAgICBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcG9uZW50SW5zdGFuY2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgYSBSZWFjdCBjb21wb25lbnQgaW50byB0aGUgRE9NIGluIHRoZSBzdXBwbGllZCBgY29udGFpbmVyYC5cbiAgICpcbiAgICogSWYgdGhlIFJlYWN0IGNvbXBvbmVudCB3YXMgcHJldmlvdXNseSByZW5kZXJlZCBpbnRvIGBjb250YWluZXJgLCB0aGlzIHdpbGxcbiAgICogcGVyZm9ybSBhbiB1cGRhdGUgb24gaXQgYW5kIG9ubHkgbXV0YXRlIHRoZSBET00gYXMgbmVjZXNzYXJ5IHRvIHJlZmxlY3QgdGhlXG4gICAqIGxhdGVzdCBSZWFjdCBjb21wb25lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBuZXh0RWxlbWVudCBDb21wb25lbnQgZWxlbWVudCB0byByZW5kZXIuXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY29udGFpbmVyIERPTSBlbGVtZW50IHRvIHJlbmRlciBpbnRvLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb24gdHJpZ2dlcmVkIG9uIGNvbXBsZXRpb25cbiAgICogQHJldHVybiB7UmVhY3RDb21wb25lbnR9IENvbXBvbmVudCBpbnN0YW5jZSByZW5kZXJlZCBpbiBgY29udGFpbmVyYC5cbiAgICovXG4gIHJlbmRlcjogZnVuY3Rpb24obmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KG5leHRFbGVtZW50KSxcbiAgICAgICdSZWFjdC5yZW5kZXIoKTogSW52YWxpZCBjb21wb25lbnQgZWxlbWVudC4lcycsXG4gICAgICAoXG4gICAgICAgIHR5cGVvZiBuZXh0RWxlbWVudCA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICcgSW5zdGVhZCBvZiBwYXNzaW5nIGFuIGVsZW1lbnQgc3RyaW5nLCBtYWtlIHN1cmUgdG8gaW5zdGFudGlhdGUgJyArXG4gICAgICAgICAgJ2l0IGJ5IHBhc3NpbmcgaXQgdG8gUmVhY3QuY3JlYXRlRWxlbWVudC4nIDpcbiAgICAgICAgdHlwZW9mIG5leHRFbGVtZW50ID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAnIEluc3RlYWQgb2YgcGFzc2luZyBhIGNvbXBvbmVudCBjbGFzcywgbWFrZSBzdXJlIHRvIGluc3RhbnRpYXRlICcgK1xuICAgICAgICAgICdpdCBieSBwYXNzaW5nIGl0IHRvIFJlYWN0LmNyZWF0ZUVsZW1lbnQuJyA6XG4gICAgICAgIC8vIENoZWNrIGlmIGl0IHF1YWNrcyBsaWtlIGFuIGVsZW1lbnRcbiAgICAgICAgbmV4dEVsZW1lbnQgIT0gbnVsbCAmJiBuZXh0RWxlbWVudC5wcm9wcyAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAnIFRoaXMgbWF5IGJlIGNhdXNlZCBieSB1bmludGVudGlvbmFsbHkgbG9hZGluZyB0d28gaW5kZXBlbmRlbnQgJyArXG4gICAgICAgICAgJ2NvcGllcyBvZiBSZWFjdC4nIDpcbiAgICAgICAgICAnJ1xuICAgICAgKVxuICAgICkgOiBpbnZhcmlhbnQoUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KG5leHRFbGVtZW50KSkpO1xuXG4gICAgdmFyIHByZXZDb21wb25lbnQgPSBpbnN0YW5jZXNCeVJlYWN0Um9vdElEW2dldFJlYWN0Um9vdElEKGNvbnRhaW5lcildO1xuXG4gICAgaWYgKHByZXZDb21wb25lbnQpIHtcbiAgICAgIHZhciBwcmV2RWxlbWVudCA9IHByZXZDb21wb25lbnQuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50KHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0TW91bnQuX3VwZGF0ZVJvb3RDb21wb25lbnQoXG4gICAgICAgICAgcHJldkNvbXBvbmVudCxcbiAgICAgICAgICBuZXh0RWxlbWVudCxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgKS5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUmVhY3RNb3VudC51bm1vdW50Q29tcG9uZW50QXROb2RlKGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlYWN0Um9vdEVsZW1lbnQgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICB2YXIgY29udGFpbmVySGFzUmVhY3RNYXJrdXAgPVxuICAgICAgcmVhY3RSb290RWxlbWVudCAmJiBSZWFjdE1vdW50LmlzUmVuZGVyZWRCeVJlYWN0KHJlYWN0Um9vdEVsZW1lbnQpO1xuXG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgaWYgKCFjb250YWluZXJIYXNSZWFjdE1hcmt1cCB8fCByZWFjdFJvb3RFbGVtZW50Lm5leHRTaWJsaW5nKSB7XG4gICAgICAgIHZhciByb290RWxlbWVudFNpYmxpbmcgPSByZWFjdFJvb3RFbGVtZW50O1xuICAgICAgICB3aGlsZSAocm9vdEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgICAgaWYgKFJlYWN0TW91bnQuaXNSZW5kZXJlZEJ5UmVhY3Qocm9vdEVsZW1lbnRTaWJsaW5nKSkge1xuICAgICAgICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAncmVuZGVyKCk6IFRhcmdldCBub2RlIGhhcyBtYXJrdXAgcmVuZGVyZWQgYnkgUmVhY3QsIGJ1dCB0aGVyZSAnICtcbiAgICAgICAgICAgICAgJ2FyZSB1bnJlbGF0ZWQgbm9kZXMgYXMgd2VsbC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGNhdXNlZCBieSAnICtcbiAgICAgICAgICAgICAgJ3doaXRlLXNwYWNlIGluc2VydGVkIGFyb3VuZCBzZXJ2ZXItcmVuZGVyZWQgbWFya3VwLidcbiAgICAgICAgICAgICkgOiBudWxsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJvb3RFbGVtZW50U2libGluZyA9IHJvb3RFbGVtZW50U2libGluZy5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzaG91bGRSZXVzZU1hcmt1cCA9IGNvbnRhaW5lckhhc1JlYWN0TWFya3VwICYmICFwcmV2Q29tcG9uZW50O1xuXG4gICAgdmFyIGNvbXBvbmVudCA9IFJlYWN0TW91bnQuX3JlbmRlck5ld1Jvb3RDb21wb25lbnQoXG4gICAgICBuZXh0RWxlbWVudCxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHNob3VsZFJldXNlTWFya3VwXG4gICAgKS5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2suY2FsbChjb21wb25lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgY29tcG9uZW50IGluc3RhbmNlIG9mIGBjb25zdHJ1Y3RvcmAgd2l0aCBgaW5pdGlhbFByb3BzYCBhbmRcbiAgICogcmVuZGVycyBpdCBpbnRvIHRoZSBzdXBwbGllZCBgY29udGFpbmVyYC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY29uc3RydWN0b3IgUmVhY3QgY29tcG9uZW50IGNvbnN0cnVjdG9yLlxuICAgKiBAcGFyYW0gez9vYmplY3R9IHByb3BzIEluaXRpYWwgcHJvcHMgb2YgdGhlIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBjb250YWluZXIgRE9NIGVsZW1lbnQgdG8gcmVuZGVyIGludG8uXG4gICAqIEByZXR1cm4ge1JlYWN0Q29tcG9uZW50fSBDb21wb25lbnQgaW5zdGFuY2UgcmVuZGVyZWQgaW4gYGNvbnRhaW5lcmAuXG4gICAqL1xuICBjb25zdHJ1Y3RBbmRSZW5kZXJDb21wb25lbnQ6IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCBwcm9wcywgY29udGFpbmVyKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudChjb25zdHJ1Y3RvciwgcHJvcHMpO1xuICAgIHJldHVybiBSZWFjdE1vdW50LnJlbmRlcihlbGVtZW50LCBjb250YWluZXIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgY29tcG9uZW50IGluc3RhbmNlIG9mIGBjb25zdHJ1Y3RvcmAgd2l0aCBgaW5pdGlhbFByb3BzYCBhbmRcbiAgICogcmVuZGVycyBpdCBpbnRvIGEgY29udGFpbmVyIG5vZGUgaWRlbnRpZmllZCBieSBzdXBwbGllZCBgaWRgLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb21wb25lbnRDb25zdHJ1Y3RvciBSZWFjdCBjb21wb25lbnQgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBwcm9wcyBJbml0aWFsIHByb3BzIG9mIHRoZSBjb21wb25lbnQgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiB0aGUgRE9NIGVsZW1lbnQgdG8gcmVuZGVyIGludG8uXG4gICAqIEByZXR1cm4ge1JlYWN0Q29tcG9uZW50fSBDb21wb25lbnQgaW5zdGFuY2UgcmVuZGVyZWQgaW4gdGhlIGNvbnRhaW5lciBub2RlLlxuICAgKi9cbiAgY29uc3RydWN0QW5kUmVuZGVyQ29tcG9uZW50QnlJRDogZnVuY3Rpb24oY29uc3RydWN0b3IsIHByb3BzLCBpZCkge1xuICAgIHZhciBkb21Ob2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICBkb21Ob2RlLFxuICAgICAgJ1RyaWVkIHRvIGdldCBlbGVtZW50IHdpdGggaWQgb2YgXCIlc1wiIGJ1dCBpdCBpcyBub3QgcHJlc2VudCBvbiB0aGUgcGFnZS4nLFxuICAgICAgaWRcbiAgICApIDogaW52YXJpYW50KGRvbU5vZGUpKTtcbiAgICByZXR1cm4gUmVhY3RNb3VudC5jb25zdHJ1Y3RBbmRSZW5kZXJDb21wb25lbnQoY29uc3RydWN0b3IsIHByb3BzLCBkb21Ob2RlKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgY29udGFpbmVyIG5vZGUgaW50byB3aGljaCBSZWFjdCBjb21wb25lbnRzIHdpbGwgYmUgcmVuZGVyZWQuXG4gICAqIFRoaXMgYWxzbyBjcmVhdGVzIHRoZSBcInJlYWN0Um9vdFwiIElEIHRoYXQgd2lsbCBiZSBhc3NpZ25lZCB0byB0aGUgZWxlbWVudFxuICAgKiByZW5kZXJlZCB3aXRoaW4uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY29udGFpbmVyIERPTSBlbGVtZW50IHRvIHJlZ2lzdGVyIGFzIGEgY29udGFpbmVyLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBcInJlYWN0Um9vdFwiIElEIG9mIGVsZW1lbnRzIHJlbmRlcmVkIHdpdGhpbi5cbiAgICovXG4gIHJlZ2lzdGVyQ29udGFpbmVyOiBmdW5jdGlvbihjb250YWluZXIpIHtcbiAgICB2YXIgcmVhY3RSb290SUQgPSBnZXRSZWFjdFJvb3RJRChjb250YWluZXIpO1xuICAgIGlmIChyZWFjdFJvb3RJRCkge1xuICAgICAgLy8gSWYgb25lIGV4aXN0cywgbWFrZSBzdXJlIGl0IGlzIGEgdmFsaWQgXCJyZWFjdFJvb3RcIiBJRC5cbiAgICAgIHJlYWN0Um9vdElEID0gUmVhY3RJbnN0YW5jZUhhbmRsZXMuZ2V0UmVhY3RSb290SURGcm9tTm9kZUlEKHJlYWN0Um9vdElEKTtcbiAgICB9XG4gICAgaWYgKCFyZWFjdFJvb3RJRCkge1xuICAgICAgLy8gTm8gdmFsaWQgXCJyZWFjdFJvb3RcIiBJRCBmb3VuZCwgY3JlYXRlIG9uZS5cbiAgICAgIHJlYWN0Um9vdElEID0gUmVhY3RJbnN0YW5jZUhhbmRsZXMuY3JlYXRlUmVhY3RSb290SUQoKTtcbiAgICB9XG4gICAgY29udGFpbmVyc0J5UmVhY3RSb290SURbcmVhY3RSb290SURdID0gY29udGFpbmVyO1xuICAgIHJldHVybiByZWFjdFJvb3RJRDtcbiAgfSxcblxuICAvKipcbiAgICogVW5tb3VudHMgYW5kIGRlc3Ryb3lzIHRoZSBSZWFjdCBjb21wb25lbnQgcmVuZGVyZWQgaW4gdGhlIGBjb250YWluZXJgLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciBET00gZWxlbWVudCBjb250YWluaW5nIGEgUmVhY3QgY29tcG9uZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGEgY29tcG9uZW50IHdhcyBmb3VuZCBpbiBhbmQgdW5tb3VudGVkIGZyb21cbiAgICogICAgICAgICAgICAgICAgICAgYGNvbnRhaW5lcmBcbiAgICovXG4gIHVubW91bnRDb21wb25lbnRBdE5vZGU6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICAgIC8vIFZhcmlvdXMgcGFydHMgb2Ygb3VyIGNvZGUgKHN1Y2ggYXMgUmVhY3RDb21wb3NpdGVDb21wb25lbnQnc1xuICAgIC8vIF9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnQpIGFzc3VtZSB0aGF0IGNhbGxzIHRvIHJlbmRlciBhcmVuJ3QgbmVzdGVkO1xuICAgIC8vIHZlcmlmeSB0aGF0IHRoYXQncyB0aGUgY2FzZS4gKFN0cmljdGx5IHNwZWFraW5nLCB1bm1vdW50aW5nIHdvbid0IGNhdXNlIGFcbiAgICAvLyByZW5kZXIgYnV0IHdlIHN0aWxsIGRvbid0IGV4cGVjdCB0byBiZSBpbiBhIHJlbmRlciBjYWxsIGhlcmUuKVxuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9PSBudWxsLFxuICAgICAgJ3VubW91bnRDb21wb25lbnRBdE5vZGUoKTogUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiAnICtcbiAgICAgICdwcm9wcyBhbmQgc3RhdGU7IHRyaWdnZXJpbmcgbmVzdGVkIGNvbXBvbmVudCB1cGRhdGVzIGZyb20gcmVuZGVyIGlzICcgK1xuICAgICAgJ25vdCBhbGxvd2VkLiBJZiBuZWNlc3NhcnksIHRyaWdnZXIgbmVzdGVkIHVwZGF0ZXMgaW4gJyArXG4gICAgICAnY29tcG9uZW50RGlkVXBkYXRlLidcbiAgICApIDogbnVsbCk7XG5cbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgY29udGFpbmVyICYmIChcbiAgICAgICAgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFX1RZUEUgfHwgY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NfTk9ERV9UWVBFKVxuICAgICAgKSxcbiAgICAgICd1bm1vdW50Q29tcG9uZW50QXROb2RlKC4uLik6IFRhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuJ1xuICAgICkgOiBpbnZhcmlhbnQoY29udGFpbmVyICYmIChcbiAgICAgIChjb250YWluZXIubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSlcbiAgICApKSk7XG5cbiAgICB2YXIgcmVhY3RSb290SUQgPSBnZXRSZWFjdFJvb3RJRChjb250YWluZXIpO1xuICAgIHZhciBjb21wb25lbnQgPSBpbnN0YW5jZXNCeVJlYWN0Um9vdElEW3JlYWN0Um9vdElEXTtcbiAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBSZWFjdE1vdW50LnVubW91bnRDb21wb25lbnRGcm9tTm9kZShjb21wb25lbnQsIGNvbnRhaW5lcik7XG4gICAgZGVsZXRlIGluc3RhbmNlc0J5UmVhY3RSb290SURbcmVhY3RSb290SURdO1xuICAgIGRlbGV0ZSBjb250YWluZXJzQnlSZWFjdFJvb3RJRFtyZWFjdFJvb3RJRF07XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgZGVsZXRlIHJvb3RFbGVtZW50c0J5UmVhY3RSb290SURbcmVhY3RSb290SURdO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogVW5tb3VudHMgYSBjb21wb25lbnQgYW5kIHJlbW92ZXMgaXQgZnJvbSB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBpbnN0YW5jZSBSZWFjdCBjb21wb25lbnQgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY29udGFpbmVyIERPTSBlbGVtZW50IHRvIHVubW91bnQgZnJvbS5cbiAgICogQGZpbmFsXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAc2VlIHtSZWFjdE1vdW50LnVubW91bnRDb21wb25lbnRBdE5vZGV9XG4gICAqL1xuICB1bm1vdW50Q29tcG9uZW50RnJvbU5vZGU6IGZ1bmN0aW9uKGluc3RhbmNlLCBjb250YWluZXIpIHtcbiAgICBSZWFjdFJlY29uY2lsZXIudW5tb3VudENvbXBvbmVudChpbnN0YW5jZSk7XG5cbiAgICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NfTk9ERV9UWVBFKSB7XG4gICAgICBjb250YWluZXIgPSBjb250YWluZXIuZG9jdW1lbnRFbGVtZW50O1xuICAgIH1cblxuICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2VtcHR5aW5nLWEtbm9kZVxuICAgIHdoaWxlIChjb250YWluZXIubGFzdENoaWxkKSB7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmxhc3RDaGlsZCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgY29udGFpbmVyIERPTSBlbGVtZW50IHRoYXQgY29udGFpbnMgUmVhY3QgY29tcG9uZW50IHRvIHdoaWNoIHRoZVxuICAgKiBzdXBwbGllZCBET00gYGlkYCBiZWxvbmdzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIGFuIGVsZW1lbnQgcmVuZGVyZWQgYnkgYSBSZWFjdCBjb21wb25lbnQuXG4gICAqIEByZXR1cm4gez9ET01FbGVtZW50fSBET00gZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBgaWRgLlxuICAgKi9cbiAgZmluZFJlYWN0Q29udGFpbmVyRm9ySUQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgdmFyIHJlYWN0Um9vdElEID0gUmVhY3RJbnN0YW5jZUhhbmRsZXMuZ2V0UmVhY3RSb290SURGcm9tTm9kZUlEKGlkKTtcbiAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyc0J5UmVhY3RSb290SURbcmVhY3RSb290SURdO1xuXG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgdmFyIHJvb3RFbGVtZW50ID0gcm9vdEVsZW1lbnRzQnlSZWFjdFJvb3RJRFtyZWFjdFJvb3RJRF07XG4gICAgICBpZiAocm9vdEVsZW1lbnQgJiYgcm9vdEVsZW1lbnQucGFyZW50Tm9kZSAhPT0gY29udGFpbmVyKSB7XG4gICAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAgICAgLy8gQ2FsbCBpbnRlcm5hbEdldElEIGhlcmUgYmVjYXVzZSBnZXRJRCBjYWxscyBpc1ZhbGlkIHdoaWNoIGNhbGxzXG4gICAgICAgICAgLy8gZmluZFJlYWN0Q29udGFpbmVyRm9ySUQgKHRoaXMgZnVuY3Rpb24pLlxuICAgICAgICAgIGludGVybmFsR2V0SUQocm9vdEVsZW1lbnQpID09PSByZWFjdFJvb3RJRCxcbiAgICAgICAgICAnUmVhY3RNb3VudDogUm9vdCBlbGVtZW50IElEIGRpZmZlcmVkIGZyb20gcmVhY3RSb290SUQuJ1xuICAgICAgICApIDogaW52YXJpYW50KC8vIENhbGwgaW50ZXJuYWxHZXRJRCBoZXJlIGJlY2F1c2UgZ2V0SUQgY2FsbHMgaXNWYWxpZCB3aGljaCBjYWxsc1xuICAgICAgICAvLyBmaW5kUmVhY3RDb250YWluZXJGb3JJRCAodGhpcyBmdW5jdGlvbikuXG4gICAgICAgIGludGVybmFsR2V0SUQocm9vdEVsZW1lbnQpID09PSByZWFjdFJvb3RJRCkpO1xuXG4gICAgICAgIHZhciBjb250YWluZXJDaGlsZCA9IGNvbnRhaW5lci5maXJzdENoaWxkO1xuICAgICAgICBpZiAoY29udGFpbmVyQ2hpbGQgJiZcbiAgICAgICAgICAgIHJlYWN0Um9vdElEID09PSBpbnRlcm5hbEdldElEKGNvbnRhaW5lckNoaWxkKSkge1xuICAgICAgICAgIC8vIElmIHRoZSBjb250YWluZXIgaGFzIGEgbmV3IGNoaWxkIHdpdGggdGhlIHNhbWUgSUQgYXMgdGhlIG9sZFxuICAgICAgICAgIC8vIHJvb3QgZWxlbWVudCwgdGhlbiByb290RWxlbWVudHNCeVJlYWN0Um9vdElEW3JlYWN0Um9vdElEXSBpc1xuICAgICAgICAgIC8vIGp1c3Qgc3RhbGUgYW5kIG5lZWRzIHRvIGJlIHVwZGF0ZWQuIFRoZSBjYXNlIHRoYXQgZGVzZXJ2ZXMgYVxuICAgICAgICAgIC8vIHdhcm5pbmcgaXMgd2hlbiB0aGUgY29udGFpbmVyIGlzIGVtcHR5LlxuICAgICAgICAgIHJvb3RFbGVtZW50c0J5UmVhY3RSb290SURbcmVhY3RSb290SURdID0gY29udGFpbmVyQ2hpbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICdSZWFjdE1vdW50OiBSb290IGVsZW1lbnQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIGl0cyBvcmlnaW5hbCAnICtcbiAgICAgICAgICAgICdjb250YWluZXIuIE5ldyBjb250YWluZXI6Jywgcm9vdEVsZW1lbnQucGFyZW50Tm9kZVxuICAgICAgICAgICkgOiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb250YWluZXI7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmRzIGFuIGVsZW1lbnQgcmVuZGVyZWQgYnkgUmVhY3Qgd2l0aCB0aGUgc3VwcGxpZWQgSUQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiBhIERPTSBub2RlIGluIHRoZSBSZWFjdCBjb21wb25lbnQuXG4gICAqIEByZXR1cm4ge0RPTUVsZW1lbnR9IFJvb3QgRE9NIG5vZGUgb2YgdGhlIFJlYWN0IGNvbXBvbmVudC5cbiAgICovXG4gIGZpbmRSZWFjdE5vZGVCeUlEOiBmdW5jdGlvbihpZCkge1xuICAgIHZhciByZWFjdFJvb3QgPSBSZWFjdE1vdW50LmZpbmRSZWFjdENvbnRhaW5lckZvcklEKGlkKTtcbiAgICByZXR1cm4gUmVhY3RNb3VudC5maW5kQ29tcG9uZW50Um9vdChyZWFjdFJvb3QsIGlkKTtcbiAgfSxcblxuICAvKipcbiAgICogVHJ1ZSBpZiB0aGUgc3VwcGxpZWQgYG5vZGVgIGlzIHJlbmRlcmVkIGJ5IFJlYWN0LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG5vZGUgRE9NIEVsZW1lbnQgdG8gY2hlY2suXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIERPTSBFbGVtZW50IGFwcGVhcnMgdG8gYmUgcmVuZGVyZWQgYnkgUmVhY3QuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgaXNSZW5kZXJlZEJ5UmVhY3Q6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgLy8gTm90IGEgRE9NRWxlbWVudCwgdGhlcmVmb3JlIG5vdCBhIFJlYWN0IGNvbXBvbmVudFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgaWQgPSBSZWFjdE1vdW50LmdldElEKG5vZGUpO1xuICAgIHJldHVybiBpZCA/IGlkLmNoYXJBdCgwKSA9PT0gU0VQQVJBVE9SIDogZmFsc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRyYXZlcnNlcyB1cCB0aGUgYW5jZXN0b3JzIG9mIHRoZSBzdXBwbGllZCBub2RlIHRvIGZpbmQgYSBub2RlIHRoYXQgaXMgYVxuICAgKiBET00gcmVwcmVzZW50YXRpb24gb2YgYSBSZWFjdCBjb21wb25lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbm9kZVxuICAgKiBAcmV0dXJuIHs/RE9NRXZlbnRUYXJnZXR9XG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZ2V0Rmlyc3RSZWFjdERPTTogZnVuY3Rpb24obm9kZSkge1xuICAgIHZhciBjdXJyZW50ID0gbm9kZTtcbiAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50LnBhcmVudE5vZGUgIT09IGN1cnJlbnQpIHtcbiAgICAgIGlmIChSZWFjdE1vdW50LmlzUmVuZGVyZWRCeVJlYWN0KGN1cnJlbnQpKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmRzIGEgbm9kZSB3aXRoIHRoZSBzdXBwbGllZCBgdGFyZ2V0SURgIGluc2lkZSBvZiB0aGUgc3VwcGxpZWRcbiAgICogYGFuY2VzdG9yTm9kZWAuICBFeHBsb2l0cyB0aGUgSUQgbmFtaW5nIHNjaGVtZSB0byBwZXJmb3JtIHRoZSBzZWFyY2hcbiAgICogcXVpY2tseS5cbiAgICpcbiAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gYW5jZXN0b3JOb2RlIFNlYXJjaCBmcm9tIHRoaXMgcm9vdC5cbiAgICogQHBhcmFybSB7c3RyaW5nfSB0YXJnZXRJRCBJRCBvZiB0aGUgRE9NIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb21wb25lbnQuXG4gICAqIEByZXR1cm4ge0RPTUV2ZW50VGFyZ2V0fSBET00gbm9kZSB3aXRoIHRoZSBzdXBwbGllZCBgdGFyZ2V0SURgLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGZpbmRDb21wb25lbnRSb290OiBmdW5jdGlvbihhbmNlc3Rvck5vZGUsIHRhcmdldElEKSB7XG4gICAgdmFyIGZpcnN0Q2hpbGRyZW4gPSBmaW5kQ29tcG9uZW50Um9vdFJldXNhYmxlQXJyYXk7XG4gICAgdmFyIGNoaWxkSW5kZXggPSAwO1xuXG4gICAgdmFyIGRlZXBlc3RBbmNlc3RvciA9IGZpbmREZWVwZXN0Q2FjaGVkQW5jZXN0b3IodGFyZ2V0SUQpIHx8IGFuY2VzdG9yTm9kZTtcblxuICAgIGZpcnN0Q2hpbGRyZW5bMF0gPSBkZWVwZXN0QW5jZXN0b3IuZmlyc3RDaGlsZDtcbiAgICBmaXJzdENoaWxkcmVuLmxlbmd0aCA9IDE7XG5cbiAgICB3aGlsZSAoY2hpbGRJbmRleCA8IGZpcnN0Q2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICB2YXIgY2hpbGQgPSBmaXJzdENoaWxkcmVuW2NoaWxkSW5kZXgrK107XG4gICAgICB2YXIgdGFyZ2V0Q2hpbGQ7XG5cbiAgICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICB2YXIgY2hpbGRJRCA9IFJlYWN0TW91bnQuZ2V0SUQoY2hpbGQpO1xuICAgICAgICBpZiAoY2hpbGRJRCkge1xuICAgICAgICAgIC8vIEV2ZW4gaWYgd2UgZmluZCB0aGUgbm9kZSB3ZSdyZSBsb29raW5nIGZvciwgd2UgZmluaXNoIGxvb3BpbmdcbiAgICAgICAgICAvLyB0aHJvdWdoIGl0cyBzaWJsaW5ncyB0byBlbnN1cmUgdGhleSdyZSBjYWNoZWQgc28gdGhhdCB3ZSBkb24ndCBoYXZlXG4gICAgICAgICAgLy8gdG8gcmV2aXNpdCB0aGlzIG5vZGUgYWdhaW4uIE90aGVyd2lzZSwgd2UgbWFrZSBuXjIgY2FsbHMgdG8gZ2V0SURcbiAgICAgICAgICAvLyB3aGVuIHZpc2l0aW5nIHRoZSBtYW55IGNoaWxkcmVuIG9mIGEgc2luZ2xlIG5vZGUgaW4gb3JkZXIuXG5cbiAgICAgICAgICBpZiAodGFyZ2V0SUQgPT09IGNoaWxkSUQpIHtcbiAgICAgICAgICAgIHRhcmdldENoaWxkID0gY2hpbGQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChSZWFjdEluc3RhbmNlSGFuZGxlcy5pc0FuY2VzdG9ySURPZihjaGlsZElELCB0YXJnZXRJRCkpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGZpbmQgYSBjaGlsZCB3aG9zZSBJRCBpcyBhbiBhbmNlc3RvciBvZiB0aGUgZ2l2ZW4gSUQsXG4gICAgICAgICAgICAvLyB0aGVuIHdlIGNhbiBiZSBzdXJlIHRoYXQgd2Ugb25seSB3YW50IHRvIHNlYXJjaCB0aGUgc3VidHJlZVxuICAgICAgICAgICAgLy8gcm9vdGVkIGF0IHRoaXMgY2hpbGQsIHNvIHdlIGNhbiB0aHJvdyBvdXQgdGhlIHJlc3Qgb2YgdGhlXG4gICAgICAgICAgICAvLyBzZWFyY2ggc3RhdGUuXG4gICAgICAgICAgICBmaXJzdENoaWxkcmVuLmxlbmd0aCA9IGNoaWxkSW5kZXggPSAwO1xuICAgICAgICAgICAgZmlyc3RDaGlsZHJlbi5wdXNoKGNoaWxkLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIHRoaXMgY2hpbGQgaGFkIG5vIElELCB0aGVuIHRoZXJlJ3MgYSBjaGFuY2UgdGhhdCBpdCB3YXNcbiAgICAgICAgICAvLyBpbmplY3RlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBicm93c2VyLCBhcyB3aGVuIGEgYDx0YWJsZT5gXG4gICAgICAgICAgLy8gZWxlbWVudCBzcHJvdXRzIGFuIGV4dHJhIGA8dGJvZHk+YCBjaGlsZCBhcyBhIHNpZGUgZWZmZWN0IG9mXG4gICAgICAgICAgLy8gYC5pbm5lckhUTUxgIHBhcnNpbmcuIE9wdGltaXN0aWNhbGx5IGNvbnRpbnVlIGRvd24gdGhpc1xuICAgICAgICAgIC8vIGJyYW5jaCwgYnV0IG5vdCBiZWZvcmUgZXhhbWluaW5nIHRoZSBvdGhlciBzaWJsaW5ncy5cbiAgICAgICAgICBmaXJzdENoaWxkcmVuLnB1c2goY2hpbGQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0Q2hpbGQpIHtcbiAgICAgICAgLy8gRW1wdHlpbmcgZmlyc3RDaGlsZHJlbi9maW5kQ29tcG9uZW50Um9vdFJldXNhYmxlQXJyYXkgaXNcbiAgICAgICAgLy8gbm90IG5lY2Vzc2FyeSBmb3IgY29ycmVjdG5lc3MsIGJ1dCBpdCBoZWxwcyB0aGUgR0MgcmVjbGFpbVxuICAgICAgICAvLyBhbnkgbm9kZXMgdGhhdCB3ZXJlIGxlZnQgYXQgdGhlIGVuZCBvZiB0aGUgc2VhcmNoLlxuICAgICAgICBmaXJzdENoaWxkcmVuLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldENoaWxkO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZpcnN0Q2hpbGRyZW4ubGVuZ3RoID0gMDtcblxuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgICdmaW5kQ29tcG9uZW50Um9vdCguLi4sICVzKTogVW5hYmxlIHRvIGZpbmQgZWxlbWVudC4gVGhpcyBwcm9iYWJseSAnICtcbiAgICAgICdtZWFucyB0aGUgRE9NIHdhcyB1bmV4cGVjdGVkbHkgbXV0YXRlZCAoZS5nLiwgYnkgdGhlIGJyb3dzZXIpLCAnICtcbiAgICAgICd1c3VhbGx5IGR1ZSB0byBmb3JnZXR0aW5nIGEgPHRib2R5PiB3aGVuIHVzaW5nIHRhYmxlcywgbmVzdGluZyB0YWdzICcgK1xuICAgICAgJ2xpa2UgPGZvcm0+LCA8cD4sIG9yIDxhPiwgb3IgdXNpbmcgbm9uLVNWRyBlbGVtZW50cyBpbiBhbiA8c3ZnPiAnICtcbiAgICAgICdwYXJlbnQuICcgK1xuICAgICAgJ1RyeSBpbnNwZWN0aW5nIHRoZSBjaGlsZCBub2RlcyBvZiB0aGUgZWxlbWVudCB3aXRoIFJlYWN0IElEIGAlc2AuJyxcbiAgICAgIHRhcmdldElELFxuICAgICAgUmVhY3RNb3VudC5nZXRJRChhbmNlc3Rvck5vZGUpXG4gICAgKSA6IGludmFyaWFudChmYWxzZSkpO1xuICB9LFxuXG4gIF9tb3VudEltYWdlSW50b05vZGU6IGZ1bmN0aW9uKG1hcmt1cCwgY29udGFpbmVyLCBzaG91bGRSZXVzZU1hcmt1cCkge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICBjb250YWluZXIgJiYgKFxuICAgICAgICAoY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUpXG4gICAgICApLFxuICAgICAgJ21vdW50Q29tcG9uZW50SW50b05vZGUoLi4uKTogVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgdmFsaWQuJ1xuICAgICkgOiBpbnZhcmlhbnQoY29udGFpbmVyICYmIChcbiAgICAgIChjb250YWluZXIubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSlcbiAgICApKSk7XG5cbiAgICBpZiAoc2hvdWxkUmV1c2VNYXJrdXApIHtcbiAgICAgIHZhciByb290RWxlbWVudCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgaWYgKFJlYWN0TWFya3VwQ2hlY2tzdW0uY2FuUmV1c2VNYXJrdXAobWFya3VwLCByb290RWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNoZWNrc3VtID0gcm9vdEVsZW1lbnQuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgIFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FXG4gICAgICAgICk7XG4gICAgICAgIHJvb3RFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSk7XG5cbiAgICAgICAgdmFyIHJvb3RNYXJrdXAgPSByb290RWxlbWVudC5vdXRlckhUTUw7XG4gICAgICAgIHJvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICBSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSxcbiAgICAgICAgICBjaGVja3N1bVxuICAgICAgICApO1xuXG4gICAgICAgIHZhciBkaWZmSW5kZXggPSBmaXJzdERpZmZlcmVuY2VJbmRleChtYXJrdXAsIHJvb3RNYXJrdXApO1xuICAgICAgICB2YXIgZGlmZmVyZW5jZSA9ICcgKGNsaWVudCkgJyArXG4gICAgICAgICAgbWFya3VwLnN1YnN0cmluZyhkaWZmSW5kZXggLSAyMCwgZGlmZkluZGV4ICsgMjApICtcbiAgICAgICAgICAnXFxuIChzZXJ2ZXIpICcgKyByb290TWFya3VwLnN1YnN0cmluZyhkaWZmSW5kZXggLSAyMCwgZGlmZkluZGV4ICsgMjApO1xuXG4gICAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAgICAgY29udGFpbmVyLm5vZGVUeXBlICE9PSBET0NfTk9ERV9UWVBFLFxuICAgICAgICAgICdZb3VcXCdyZSB0cnlpbmcgdG8gcmVuZGVyIGEgY29tcG9uZW50IHRvIHRoZSBkb2N1bWVudCB1c2luZyAnICtcbiAgICAgICAgICAnc2VydmVyIHJlbmRlcmluZyBidXQgdGhlIGNoZWNrc3VtIHdhcyBpbnZhbGlkLiBUaGlzIHVzdWFsbHkgJyArXG4gICAgICAgICAgJ21lYW5zIHlvdSByZW5kZXJlZCBhIGRpZmZlcmVudCBjb21wb25lbnQgdHlwZSBvciBwcm9wcyBvbiAnICtcbiAgICAgICAgICAndGhlIGNsaWVudCBmcm9tIHRoZSBvbmUgb24gdGhlIHNlcnZlciwgb3IgeW91ciByZW5kZXIoKSAnICtcbiAgICAgICAgICAnbWV0aG9kcyBhcmUgaW1wdXJlLiBSZWFjdCBjYW5ub3QgaGFuZGxlIHRoaXMgY2FzZSBkdWUgdG8gJyArXG4gICAgICAgICAgJ2Nyb3NzLWJyb3dzZXIgcXVpcmtzIGJ5IHJlbmRlcmluZyBhdCB0aGUgZG9jdW1lbnQgcm9vdC4gWW91ICcgK1xuICAgICAgICAgICdzaG91bGQgbG9vayBmb3IgZW52aXJvbm1lbnQgZGVwZW5kZW50IGNvZGUgaW4geW91ciBjb21wb25lbnRzICcgK1xuICAgICAgICAgICdhbmQgZW5zdXJlIHRoZSBwcm9wcyBhcmUgdGhlIHNhbWUgY2xpZW50IGFuZCBzZXJ2ZXIgc2lkZTpcXG4lcycsXG4gICAgICAgICAgZGlmZmVyZW5jZVxuICAgICAgICApIDogaW52YXJpYW50KGNvbnRhaW5lci5ub2RlVHlwZSAhPT0gRE9DX05PREVfVFlQRSkpO1xuXG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgJ1JlYWN0IGF0dGVtcHRlZCB0byByZXVzZSBtYXJrdXAgaW4gYSBjb250YWluZXIgYnV0IHRoZSAnICtcbiAgICAgICAgICAgICdjaGVja3N1bSB3YXMgaW52YWxpZC4gVGhpcyBnZW5lcmFsbHkgbWVhbnMgdGhhdCB5b3UgYXJlICcgK1xuICAgICAgICAgICAgJ3VzaW5nIHNlcnZlciByZW5kZXJpbmcgYW5kIHRoZSBtYXJrdXAgZ2VuZXJhdGVkIG9uIHRoZSAnICtcbiAgICAgICAgICAgICdzZXJ2ZXIgd2FzIG5vdCB3aGF0IHRoZSBjbGllbnQgd2FzIGV4cGVjdGluZy4gUmVhY3QgaW5qZWN0ZWQgJyArXG4gICAgICAgICAgICAnbmV3IG1hcmt1cCB0byBjb21wZW5zYXRlIHdoaWNoIHdvcmtzIGJ1dCB5b3UgaGF2ZSBsb3N0IG1hbnkgJyArXG4gICAgICAgICAgICAnb2YgdGhlIGJlbmVmaXRzIG9mIHNlcnZlciByZW5kZXJpbmcuIEluc3RlYWQsIGZpZ3VyZSBvdXQgJyArXG4gICAgICAgICAgICAnd2h5IHRoZSBtYXJrdXAgYmVpbmcgZ2VuZXJhdGVkIGlzIGRpZmZlcmVudCBvbiB0aGUgY2xpZW50ICcgK1xuICAgICAgICAgICAgJ29yIHNlcnZlcjpcXG4lcycsXG4gICAgICAgICAgICBkaWZmZXJlbmNlXG4gICAgICAgICAgKSA6IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIGNvbnRhaW5lci5ub2RlVHlwZSAhPT0gRE9DX05PREVfVFlQRSxcbiAgICAgICdZb3VcXCdyZSB0cnlpbmcgdG8gcmVuZGVyIGEgY29tcG9uZW50IHRvIHRoZSBkb2N1bWVudCBidXQgJyArXG4gICAgICAgICd5b3UgZGlkblxcJ3QgdXNlIHNlcnZlciByZW5kZXJpbmcuIFdlIGNhblxcJ3QgZG8gdGhpcyAnICtcbiAgICAgICAgJ3dpdGhvdXQgdXNpbmcgc2VydmVyIHJlbmRlcmluZyBkdWUgdG8gY3Jvc3MtYnJvd3NlciBxdWlya3MuICcgK1xuICAgICAgICAnU2VlIFJlYWN0LnJlbmRlclRvU3RyaW5nKCkgZm9yIHNlcnZlciByZW5kZXJpbmcuJ1xuICAgICkgOiBpbnZhcmlhbnQoY29udGFpbmVyLm5vZGVUeXBlICE9PSBET0NfTk9ERV9UWVBFKSk7XG5cbiAgICBzZXRJbm5lckhUTUwoY29udGFpbmVyLCBtYXJrdXApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZWFjdCBJRCB1dGlsaXRpZXMuXG4gICAqL1xuXG4gIGdldFJlYWN0Um9vdElEOiBnZXRSZWFjdFJvb3RJRCxcblxuICBnZXRJRDogZ2V0SUQsXG5cbiAgc2V0SUQ6IHNldElELFxuXG4gIGdldE5vZGU6IGdldE5vZGUsXG5cbiAgZ2V0Tm9kZUZyb21JbnN0YW5jZTogZ2V0Tm9kZUZyb21JbnN0YW5jZSxcblxuICBwdXJnZUlEOiBwdXJnZUlEXG59O1xuXG5SZWFjdFBlcmYubWVhc3VyZU1ldGhvZHMoUmVhY3RNb3VudCwgJ1JlYWN0TW91bnQnLCB7XG4gIF9yZW5kZXJOZXdSb290Q29tcG9uZW50OiAnX3JlbmRlck5ld1Jvb3RDb21wb25lbnQnLFxuICBfbW91bnRJbWFnZUludG9Ob2RlOiAnX21vdW50SW1hZ2VJbnRvTm9kZSdcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0TW91bnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RNdWx0aUNoaWxkXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdENvbXBvbmVudEVudmlyb25tZW50XCIpO1xudmFyIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzID0gcmVxdWlyZShcIi4vUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXNcIik7XG5cbnZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKFwiLi9SZWFjdFJlY29uY2lsZXJcIik7XG52YXIgUmVhY3RDaGlsZFJlY29uY2lsZXIgPSByZXF1aXJlKFwiLi9SZWFjdENoaWxkUmVjb25jaWxlclwiKTtcblxuLyoqXG4gKiBVcGRhdGluZyBjaGlsZHJlbiBvZiBhIGNvbXBvbmVudCBtYXkgdHJpZ2dlciByZWN1cnNpdmUgdXBkYXRlcy4gVGhlIGRlcHRoIGlzXG4gKiB1c2VkIHRvIGJhdGNoIHJlY3Vyc2l2ZSB1cGRhdGVzIHRvIHJlbmRlciBtYXJrdXAgbW9yZSBlZmZpY2llbnRseS5cbiAqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQHByaXZhdGVcbiAqL1xudmFyIHVwZGF0ZURlcHRoID0gMDtcblxuLyoqXG4gKiBRdWV1ZSBvZiB1cGRhdGUgY29uZmlndXJhdGlvbiBvYmplY3RzLlxuICpcbiAqIEVhY2ggb2JqZWN0IGhhcyBhIGB0eXBlYCBwcm9wZXJ0eSB0aGF0IGlzIGluIGBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlc2AuXG4gKlxuICogQHR5cGUge2FycmF5PG9iamVjdD59XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgdXBkYXRlUXVldWUgPSBbXTtcblxuLyoqXG4gKiBRdWV1ZSBvZiBtYXJrdXAgdG8gYmUgcmVuZGVyZWQuXG4gKlxuICogQHR5cGUge2FycmF5PHN0cmluZz59XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgbWFya3VwUXVldWUgPSBbXTtcblxuLyoqXG4gKiBFbnF1ZXVlcyBtYXJrdXAgdG8gYmUgcmVuZGVyZWQgYW5kIGluc2VydGVkIGF0IGEgc3VwcGxpZWQgaW5kZXguXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudElEIElEIG9mIHRoZSBwYXJlbnQgY29tcG9uZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IG1hcmt1cCBNYXJrdXAgdGhhdCByZW5kZXJzIGludG8gYW4gZWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IERlc3RpbmF0aW9uIGluZGV4LlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZW5xdWV1ZU1hcmt1cChwYXJlbnRJRCwgbWFya3VwLCB0b0luZGV4KSB7XG4gIC8vIE5PVEU6IE51bGwgdmFsdWVzIHJlZHVjZSBoaWRkZW4gY2xhc3Nlcy5cbiAgdXBkYXRlUXVldWUucHVzaCh7XG4gICAgcGFyZW50SUQ6IHBhcmVudElELFxuICAgIHBhcmVudE5vZGU6IG51bGwsXG4gICAgdHlwZTogUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuSU5TRVJUX01BUktVUCxcbiAgICBtYXJrdXBJbmRleDogbWFya3VwUXVldWUucHVzaChtYXJrdXApIC0gMSxcbiAgICB0ZXh0Q29udGVudDogbnVsbCxcbiAgICBmcm9tSW5kZXg6IG51bGwsXG4gICAgdG9JbmRleDogdG9JbmRleFxuICB9KTtcbn1cblxuLyoqXG4gKiBFbnF1ZXVlcyBtb3ZpbmcgYW4gZXhpc3RpbmcgZWxlbWVudCB0byBhbm90aGVyIGluZGV4LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRJRCBJRCBvZiB0aGUgcGFyZW50IGNvbXBvbmVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggU291cmNlIGluZGV4IG9mIHRoZSBleGlzdGluZyBlbGVtZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHRvSW5kZXggRGVzdGluYXRpb24gaW5kZXggb2YgdGhlIGVsZW1lbnQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBlbnF1ZXVlTW92ZShwYXJlbnRJRCwgZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gIC8vIE5PVEU6IE51bGwgdmFsdWVzIHJlZHVjZSBoaWRkZW4gY2xhc3Nlcy5cbiAgdXBkYXRlUXVldWUucHVzaCh7XG4gICAgcGFyZW50SUQ6IHBhcmVudElELFxuICAgIHBhcmVudE5vZGU6IG51bGwsXG4gICAgdHlwZTogUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuTU9WRV9FWElTVElORyxcbiAgICBtYXJrdXBJbmRleDogbnVsbCxcbiAgICB0ZXh0Q29udGVudDogbnVsbCxcbiAgICBmcm9tSW5kZXg6IGZyb21JbmRleCxcbiAgICB0b0luZGV4OiB0b0luZGV4XG4gIH0pO1xufVxuXG4vKipcbiAqIEVucXVldWVzIHJlbW92aW5nIGFuIGVsZW1lbnQgYXQgYW4gaW5kZXguXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudElEIElEIG9mIHRoZSBwYXJlbnQgY29tcG9uZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCB0byByZW1vdmUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBlbnF1ZXVlUmVtb3ZlKHBhcmVudElELCBmcm9tSW5kZXgpIHtcbiAgLy8gTk9URTogTnVsbCB2YWx1ZXMgcmVkdWNlIGhpZGRlbiBjbGFzc2VzLlxuICB1cGRhdGVRdWV1ZS5wdXNoKHtcbiAgICBwYXJlbnRJRDogcGFyZW50SUQsXG4gICAgcGFyZW50Tm9kZTogbnVsbCxcbiAgICB0eXBlOiBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5SRU1PVkVfTk9ERSxcbiAgICBtYXJrdXBJbmRleDogbnVsbCxcbiAgICB0ZXh0Q29udGVudDogbnVsbCxcbiAgICBmcm9tSW5kZXg6IGZyb21JbmRleCxcbiAgICB0b0luZGV4OiBudWxsXG4gIH0pO1xufVxuXG4vKipcbiAqIEVucXVldWVzIHNldHRpbmcgdGhlIHRleHQgY29udGVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50SUQgSUQgb2YgdGhlIHBhcmVudCBjb21wb25lbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dENvbnRlbnQgVGV4dCBjb250ZW50IHRvIHNldC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVucXVldWVUZXh0Q29udGVudChwYXJlbnRJRCwgdGV4dENvbnRlbnQpIHtcbiAgLy8gTk9URTogTnVsbCB2YWx1ZXMgcmVkdWNlIGhpZGRlbiBjbGFzc2VzLlxuICB1cGRhdGVRdWV1ZS5wdXNoKHtcbiAgICBwYXJlbnRJRDogcGFyZW50SUQsXG4gICAgcGFyZW50Tm9kZTogbnVsbCxcbiAgICB0eXBlOiBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5URVhUX0NPTlRFTlQsXG4gICAgbWFya3VwSW5kZXg6IG51bGwsXG4gICAgdGV4dENvbnRlbnQ6IHRleHRDb250ZW50LFxuICAgIGZyb21JbmRleDogbnVsbCxcbiAgICB0b0luZGV4OiBudWxsXG4gIH0pO1xufVxuXG4vKipcbiAqIFByb2Nlc3NlcyBhbnkgZW5xdWV1ZWQgdXBkYXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwcm9jZXNzUXVldWUoKSB7XG4gIGlmICh1cGRhdGVRdWV1ZS5sZW5ndGgpIHtcbiAgICBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LnByb2Nlc3NDaGlsZHJlblVwZGF0ZXMoXG4gICAgICB1cGRhdGVRdWV1ZSxcbiAgICAgIG1hcmt1cFF1ZXVlXG4gICAgKTtcbiAgICBjbGVhclF1ZXVlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGVhcnMgYW55IGVucXVldWVkIHVwZGF0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJRdWV1ZSgpIHtcbiAgdXBkYXRlUXVldWUubGVuZ3RoID0gMDtcbiAgbWFya3VwUXVldWUubGVuZ3RoID0gMDtcbn1cblxuLyoqXG4gKiBSZWFjdE11bHRpQ2hpbGQgYXJlIGNhcGFibGUgb2YgcmVjb25jaWxpbmcgbXVsdGlwbGUgY2hpbGRyZW4uXG4gKlxuICogQGNsYXNzIFJlYWN0TXVsdGlDaGlsZFxuICogQGludGVybmFsXG4gKi9cbnZhciBSZWFjdE11bHRpQ2hpbGQgPSB7XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGNvbW1vbiBmdW5jdGlvbmFsaXR5IGZvciBjb21wb25lbnRzIHRoYXQgbXVzdCByZWNvbmNpbGUgbXVsdGlwbGVcbiAgICogY2hpbGRyZW4uIFRoaXMgaXMgdXNlZCBieSBgUmVhY3RET01Db21wb25lbnRgIHRvIG1vdW50LCB1cGRhdGUsIGFuZFxuICAgKiB1bm1vdW50IGNoaWxkIGNvbXBvbmVudHMuXG4gICAqXG4gICAqIEBsZW5kcyB7UmVhY3RNdWx0aUNoaWxkLnByb3RvdHlwZX1cbiAgICovXG4gIE1peGluOiB7XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBcIm1vdW50IGltYWdlXCIgZm9yIGVhY2ggb2YgdGhlIHN1cHBsaWVkIGNoaWxkcmVuLiBJbiB0aGUgY2FzZVxuICAgICAqIG9mIGBSZWFjdERPTUNvbXBvbmVudGAsIGEgbW91bnQgaW1hZ2UgaXMgYSBzdHJpbmcgb2YgbWFya3VwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHs/b2JqZWN0fSBuZXN0ZWRDaGlsZHJlbiBOZXN0ZWQgY2hpbGQgbWFwcy5cbiAgICAgKiBAcmV0dXJuIHthcnJheX0gQW4gYXJyYXkgb2YgbW91bnRlZCByZXByZXNlbnRhdGlvbnMuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgbW91bnRDaGlsZHJlbjogZnVuY3Rpb24obmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBSZWFjdENoaWxkUmVjb25jaWxlci5pbnN0YW50aWF0ZUNoaWxkcmVuKFxuICAgICAgICBuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHRcbiAgICAgICk7XG4gICAgICB0aGlzLl9yZW5kZXJlZENoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICB2YXIgbW91bnRJbWFnZXMgPSBbXTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICBmb3IgKHZhciBuYW1lIGluIGNoaWxkcmVuKSB7XG4gICAgICAgIGlmIChjaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW25hbWVdO1xuICAgICAgICAgIC8vIElubGluZWQgZm9yIHBlcmZvcm1hbmNlLCBzZWUgYFJlYWN0SW5zdGFuY2VIYW5kbGVzLmNyZWF0ZVJlYWN0SURgLlxuICAgICAgICAgIHZhciByb290SUQgPSB0aGlzLl9yb290Tm9kZUlEICsgbmFtZTtcbiAgICAgICAgICB2YXIgbW91bnRJbWFnZSA9IFJlYWN0UmVjb25jaWxlci5tb3VudENvbXBvbmVudChcbiAgICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgICAgcm9vdElELFxuICAgICAgICAgICAgdHJhbnNhY3Rpb24sXG4gICAgICAgICAgICBjb250ZXh0XG4gICAgICAgICAgKTtcbiAgICAgICAgICBjaGlsZC5fbW91bnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgIG1vdW50SW1hZ2VzLnB1c2gobW91bnRJbWFnZSk7XG4gICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1vdW50SW1hZ2VzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyBhbnkgcmVuZGVyZWQgY2hpbGRyZW4gd2l0aCBhIHRleHQgY29udGVudCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV4dENvbnRlbnQgU3RyaW5nIG9mIGNvbnRlbnQuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdXBkYXRlVGV4dENvbnRlbnQ6IGZ1bmN0aW9uKG5leHRDb250ZW50KSB7XG4gICAgICB1cGRhdGVEZXB0aCsrO1xuICAgICAgdmFyIGVycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBwcmV2Q2hpbGRyZW4gPSB0aGlzLl9yZW5kZXJlZENoaWxkcmVuO1xuICAgICAgICAvLyBSZW1vdmUgYW55IHJlbmRlcmVkIGNoaWxkcmVuLlxuICAgICAgICBSZWFjdENoaWxkUmVjb25jaWxlci51bm1vdW50Q2hpbGRyZW4ocHJldkNoaWxkcmVuKTtcbiAgICAgICAgLy8gVE9ETzogVGhlIHNldFRleHRDb250ZW50IG9wZXJhdGlvbiBzaG91bGQgYmUgZW5vdWdoXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKHByZXZDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5fdW5tb3VudENoaWxkQnlOYW1lKHByZXZDaGlsZHJlbltuYW1lXSwgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNldCBuZXcgdGV4dCBjb250ZW50LlxuICAgICAgICB0aGlzLnNldFRleHRDb250ZW50KG5leHRDb250ZW50KTtcbiAgICAgICAgZXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHVwZGF0ZURlcHRoLS07XG4gICAgICAgIGlmICghdXBkYXRlRGVwdGgpIHtcbiAgICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgIGNsZWFyUXVldWUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvY2Vzc1F1ZXVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHJlbmRlcmVkIGNoaWxkcmVuIHdpdGggbmV3IGNoaWxkcmVuLlxuICAgICAqXG4gICAgICogQHBhcmFtIHs/b2JqZWN0fSBuZXh0TmVzdGVkQ2hpbGRyZW4gTmVzdGVkIGNoaWxkIG1hcHMuXG4gICAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHVwZGF0ZUNoaWxkcmVuOiBmdW5jdGlvbihuZXh0TmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB1cGRhdGVEZXB0aCsrO1xuICAgICAgdmFyIGVycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNoaWxkcmVuKG5leHROZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBlcnJvclRocm93biA9IGZhbHNlO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdXBkYXRlRGVwdGgtLTtcbiAgICAgICAgaWYgKCF1cGRhdGVEZXB0aCkge1xuICAgICAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICAgICAgY2xlYXJRdWV1ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzUXVldWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbXByb3ZlIHBlcmZvcm1hbmNlIGJ5IGlzb2xhdGluZyB0aGlzIGhvdCBjb2RlIHBhdGggZnJvbSB0aGUgdHJ5L2NhdGNoXG4gICAgICogYmxvY2sgaW4gYHVwZGF0ZUNoaWxkcmVuYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dE5lc3RlZENoaWxkcmVuIE5lc3RlZCBjaGlsZCBtYXBzLlxuICAgICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICAgKiBAZmluYWxcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3VwZGF0ZUNoaWxkcmVuOiBmdW5jdGlvbihuZXh0TmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcHJldkNoaWxkcmVuID0gdGhpcy5fcmVuZGVyZWRDaGlsZHJlbjtcbiAgICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBSZWFjdENoaWxkUmVjb25jaWxlci51cGRhdGVDaGlsZHJlbihcbiAgICAgICAgcHJldkNoaWxkcmVuLCBuZXh0TmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0XG4gICAgICApO1xuICAgICAgdGhpcy5fcmVuZGVyZWRDaGlsZHJlbiA9IG5leHRDaGlsZHJlbjtcbiAgICAgIGlmICghbmV4dENoaWxkcmVuICYmICFwcmV2Q2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5hbWU7XG4gICAgICAvLyBgbmV4dEluZGV4YCB3aWxsIGluY3JlbWVudCBmb3IgZWFjaCBjaGlsZCBpbiBgbmV4dENoaWxkcmVuYCwgYnV0XG4gICAgICAvLyBgbGFzdEluZGV4YCB3aWxsIGJlIHRoZSBsYXN0IGluZGV4IHZpc2l0ZWQgaW4gYHByZXZDaGlsZHJlbmAuXG4gICAgICB2YXIgbGFzdEluZGV4ID0gMDtcbiAgICAgIHZhciBuZXh0SW5kZXggPSAwO1xuICAgICAgZm9yIChuYW1lIGluIG5leHRDaGlsZHJlbikge1xuICAgICAgICBpZiAoIW5leHRDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2Q2hpbGQgPSBwcmV2Q2hpbGRyZW4gJiYgcHJldkNoaWxkcmVuW25hbWVdO1xuICAgICAgICB2YXIgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW25hbWVdO1xuICAgICAgICBpZiAocHJldkNoaWxkID09PSBuZXh0Q2hpbGQpIHtcbiAgICAgICAgICB0aGlzLm1vdmVDaGlsZChwcmV2Q2hpbGQsIG5leHRJbmRleCwgbGFzdEluZGV4KTtcbiAgICAgICAgICBsYXN0SW5kZXggPSBNYXRoLm1heChwcmV2Q2hpbGQuX21vdW50SW5kZXgsIGxhc3RJbmRleCk7XG4gICAgICAgICAgcHJldkNoaWxkLl9tb3VudEluZGV4ID0gbmV4dEluZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChwcmV2Q2hpbGQpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBgbGFzdEluZGV4YCBiZWZvcmUgYF9tb3VudEluZGV4YCBnZXRzIHVuc2V0IGJ5IHVubW91bnRpbmcuXG4gICAgICAgICAgICBsYXN0SW5kZXggPSBNYXRoLm1heChwcmV2Q2hpbGQuX21vdW50SW5kZXgsIGxhc3RJbmRleCk7XG4gICAgICAgICAgICB0aGlzLl91bm1vdW50Q2hpbGRCeU5hbWUocHJldkNoaWxkLCBuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gVGhlIGNoaWxkIG11c3QgYmUgaW5zdGFudGlhdGVkIGJlZm9yZSBpdCdzIG1vdW50ZWQuXG4gICAgICAgICAgdGhpcy5fbW91bnRDaGlsZEJ5TmFtZUF0SW5kZXgoXG4gICAgICAgICAgICBuZXh0Q2hpbGQsIG5hbWUsIG5leHRJbmRleCwgdHJhbnNhY3Rpb24sIGNvbnRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIG5leHRJbmRleCsrO1xuICAgICAgfVxuICAgICAgLy8gUmVtb3ZlIGNoaWxkcmVuIHRoYXQgYXJlIG5vIGxvbmdlciBwcmVzZW50LlxuICAgICAgZm9yIChuYW1lIGluIHByZXZDaGlsZHJlbikge1xuICAgICAgICBpZiAocHJldkNoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgICAgICAhKG5leHRDaGlsZHJlbiAmJiBuZXh0Q2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpKSB7XG4gICAgICAgICAgdGhpcy5fdW5tb3VudENoaWxkQnlOYW1lKHByZXZDaGlsZHJlbltuYW1lXSwgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5tb3VudHMgYWxsIHJlbmRlcmVkIGNoaWxkcmVuLiBUaGlzIHNob3VsZCBiZSB1c2VkIHRvIGNsZWFuIHVwIGNoaWxkcmVuXG4gICAgICogd2hlbiB0aGlzIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB1bm1vdW50Q2hpbGRyZW46IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlbmRlcmVkQ2hpbGRyZW4gPSB0aGlzLl9yZW5kZXJlZENoaWxkcmVuO1xuICAgICAgUmVhY3RDaGlsZFJlY29uY2lsZXIudW5tb3VudENoaWxkcmVuKHJlbmRlcmVkQ2hpbGRyZW4pO1xuICAgICAgdGhpcy5fcmVuZGVyZWRDaGlsZHJlbiA9IG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGEgY2hpbGQgY29tcG9uZW50IHRvIHRoZSBzdXBwbGllZCBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGNoaWxkIENvbXBvbmVudCB0byBtb3ZlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IERlc3RpbmF0aW9uIGluZGV4IG9mIHRoZSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsYXN0SW5kZXggTGFzdCBpbmRleCB2aXNpdGVkIG9mIHRoZSBzaWJsaW5ncyBvZiBgY2hpbGRgLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBtb3ZlQ2hpbGQ6IGZ1bmN0aW9uKGNoaWxkLCB0b0luZGV4LCBsYXN0SW5kZXgpIHtcbiAgICAgIC8vIElmIHRoZSBpbmRleCBvZiBgY2hpbGRgIGlzIGxlc3MgdGhhbiBgbGFzdEluZGV4YCwgdGhlbiBpdCBuZWVkcyB0b1xuICAgICAgLy8gYmUgbW92ZWQuIE90aGVyd2lzZSwgd2UgZG8gbm90IG5lZWQgdG8gbW92ZSBpdCBiZWNhdXNlIGEgY2hpbGQgd2lsbCBiZVxuICAgICAgLy8gaW5zZXJ0ZWQgb3IgbW92ZWQgYmVmb3JlIGBjaGlsZGAuXG4gICAgICBpZiAoY2hpbGQuX21vdW50SW5kZXggPCBsYXN0SW5kZXgpIHtcbiAgICAgICAgZW5xdWV1ZU1vdmUodGhpcy5fcm9vdE5vZGVJRCwgY2hpbGQuX21vdW50SW5kZXgsIHRvSW5kZXgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2hpbGQgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFjdENvbXBvbmVudH0gY2hpbGQgQ29tcG9uZW50IHRvIGNyZWF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW91bnRJbWFnZSBNYXJrdXAgdG8gaW5zZXJ0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjcmVhdGVDaGlsZDogZnVuY3Rpb24oY2hpbGQsIG1vdW50SW1hZ2UpIHtcbiAgICAgIGVucXVldWVNYXJrdXAodGhpcy5fcm9vdE5vZGVJRCwgbW91bnRJbWFnZSwgY2hpbGQuX21vdW50SW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFjdENvbXBvbmVudH0gY2hpbGQgQ2hpbGQgdG8gcmVtb3ZlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICByZW1vdmVDaGlsZDogZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIGVucXVldWVSZW1vdmUodGhpcy5fcm9vdE5vZGVJRCwgY2hpbGQuX21vdW50SW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoaXMgdGV4dCBjb250ZW50IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0Q29udGVudCBUZXh0IGNvbnRlbnQgdG8gc2V0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzZXRUZXh0Q29udGVudDogZnVuY3Rpb24odGV4dENvbnRlbnQpIHtcbiAgICAgIGVucXVldWVUZXh0Q29udGVudCh0aGlzLl9yb290Tm9kZUlELCB0ZXh0Q29udGVudCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1vdW50cyBhIGNoaWxkIHdpdGggdGhlIHN1cHBsaWVkIG5hbWUuXG4gICAgICpcbiAgICAgKiBOT1RFOiBUaGlzIGlzIHBhcnQgb2YgYHVwZGF0ZUNoaWxkcmVuYCBhbmQgaXMgaGVyZSBmb3IgcmVhZGFiaWxpdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBjaGlsZCBDb21wb25lbnQgdG8gbW91bnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgY2hpbGQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4IGF0IHdoaWNoIHRvIGluc2VydCB0aGUgY2hpbGQuXG4gICAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX21vdW50Q2hpbGRCeU5hbWVBdEluZGV4OiBmdW5jdGlvbihcbiAgICAgIGNoaWxkLFxuICAgICAgbmFtZSxcbiAgICAgIGluZGV4LFxuICAgICAgdHJhbnNhY3Rpb24sXG4gICAgICBjb250ZXh0KSB7XG4gICAgICAvLyBJbmxpbmVkIGZvciBwZXJmb3JtYW5jZSwgc2VlIGBSZWFjdEluc3RhbmNlSGFuZGxlcy5jcmVhdGVSZWFjdElEYC5cbiAgICAgIHZhciByb290SUQgPSB0aGlzLl9yb290Tm9kZUlEICsgbmFtZTtcbiAgICAgIHZhciBtb3VudEltYWdlID0gUmVhY3RSZWNvbmNpbGVyLm1vdW50Q29tcG9uZW50KFxuICAgICAgICBjaGlsZCxcbiAgICAgICAgcm9vdElELFxuICAgICAgICB0cmFuc2FjdGlvbixcbiAgICAgICAgY29udGV4dFxuICAgICAgKTtcbiAgICAgIGNoaWxkLl9tb3VudEluZGV4ID0gaW5kZXg7XG4gICAgICB0aGlzLmNyZWF0ZUNoaWxkKGNoaWxkLCBtb3VudEltYWdlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5tb3VudHMgYSByZW5kZXJlZCBjaGlsZCBieSBuYW1lLlxuICAgICAqXG4gICAgICogTk9URTogVGhpcyBpcyBwYXJ0IG9mIGB1cGRhdGVDaGlsZHJlbmAgYW5kIGlzIGhlcmUgZm9yIHJlYWRhYmlsaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFjdENvbXBvbmVudH0gY2hpbGQgQ29tcG9uZW50IHRvIHVubW91bnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgY2hpbGQgaW4gYHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW5gLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VubW91bnRDaGlsZEJ5TmFtZTogZnVuY3Rpb24oY2hpbGQsIG5hbWUpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgY2hpbGQuX21vdW50SW5kZXggPSBudWxsO1xuICAgIH1cblxuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RNdWx0aUNoaWxkO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5TWlycm9yID0gcmVxdWlyZShcIi4va2V5TWlycm9yXCIpO1xuXG4vKipcbiAqIFdoZW4gYSBjb21wb25lbnQncyBjaGlsZHJlbiBhcmUgdXBkYXRlZCwgYSBzZXJpZXMgb2YgdXBkYXRlIGNvbmZpZ3VyYXRpb25cbiAqIG9iamVjdHMgYXJlIGNyZWF0ZWQgaW4gb3JkZXIgdG8gYmF0Y2ggYW5kIHNlcmlhbGl6ZSB0aGUgcmVxdWlyZWQgY2hhbmdlcy5cbiAqXG4gKiBFbnVtZXJhdGVzIGFsbCB0aGUgcG9zc2libGUgdHlwZXMgb2YgdXBkYXRlIGNvbmZpZ3VyYXRpb25zLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMgPSBrZXlNaXJyb3Ioe1xuICBJTlNFUlRfTUFSS1VQOiBudWxsLFxuICBNT1ZFX0VYSVNUSU5HOiBudWxsLFxuICBSRU1PVkVfTk9ERTogbnVsbCxcbiAgVEVYVF9DT05URU5UOiBudWxsXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdE5hdGl2ZUNvbXBvbmVudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoXCIuL09iamVjdC5hc3NpZ25cIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xuXG52YXIgYXV0b0dlbmVyYXRlV3JhcHBlckNsYXNzID0gbnVsbDtcbnZhciBnZW5lcmljQ29tcG9uZW50Q2xhc3MgPSBudWxsO1xuLy8gVGhpcyByZWdpc3RyeSBrZWVwcyB0cmFjayBvZiB3cmFwcGVyIGNsYXNzZXMgYXJvdW5kIG5hdGl2ZSB0YWdzXG52YXIgdGFnVG9Db21wb25lbnRDbGFzcyA9IHt9O1xudmFyIHRleHRDb21wb25lbnRDbGFzcyA9IG51bGw7XG5cbnZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudEluamVjdGlvbiA9IHtcbiAgLy8gVGhpcyBhY2NlcHRzIGEgY2xhc3MgdGhhdCByZWNlaXZlcyB0aGUgdGFnIHN0cmluZy4gVGhpcyBpcyBhIGNhdGNoIGFsbFxuICAvLyB0aGF0IGNhbiByZW5kZXIgYW55IGtpbmQgb2YgdGFnLlxuICBpbmplY3RHZW5lcmljQ29tcG9uZW50Q2xhc3M6IGZ1bmN0aW9uKGNvbXBvbmVudENsYXNzKSB7XG4gICAgZ2VuZXJpY0NvbXBvbmVudENsYXNzID0gY29tcG9uZW50Q2xhc3M7XG4gIH0sXG4gIC8vIFRoaXMgYWNjZXB0cyBhIHRleHQgY29tcG9uZW50IGNsYXNzIHRoYXQgdGFrZXMgdGhlIHRleHQgc3RyaW5nIHRvIGJlXG4gIC8vIHJlbmRlcmVkIGFzIHByb3BzLlxuICBpbmplY3RUZXh0Q29tcG9uZW50Q2xhc3M6IGZ1bmN0aW9uKGNvbXBvbmVudENsYXNzKSB7XG4gICAgdGV4dENvbXBvbmVudENsYXNzID0gY29tcG9uZW50Q2xhc3M7XG4gIH0sXG4gIC8vIFRoaXMgYWNjZXB0cyBhIGtleWVkIG9iamVjdCB3aXRoIGNsYXNzZXMgYXMgdmFsdWVzLiBFYWNoIGtleSByZXByZXNlbnRzIGFcbiAgLy8gdGFnLiBUaGF0IHBhcnRpY3VsYXIgdGFnIHdpbGwgdXNlIHRoaXMgY2xhc3MgaW5zdGVhZCBvZiB0aGUgZ2VuZXJpYyBvbmUuXG4gIGluamVjdENvbXBvbmVudENsYXNzZXM6IGZ1bmN0aW9uKGNvbXBvbmVudENsYXNzZXMpIHtcbiAgICBhc3NpZ24odGFnVG9Db21wb25lbnRDbGFzcywgY29tcG9uZW50Q2xhc3Nlcyk7XG4gIH0sXG4gIC8vIFRlbXBvcmFyeSBoYWNrIHNpbmNlIHdlIGV4cGVjdCBET00gcmVmcyB0byBiZWhhdmUgbGlrZSBjb21wb3NpdGVzLFxuICAvLyBmb3IgdGhpcyByZWxlYXNlLlxuICBpbmplY3RBdXRvV3JhcHBlcjogZnVuY3Rpb24od3JhcHBlckZhY3RvcnkpIHtcbiAgICBhdXRvR2VuZXJhdGVXcmFwcGVyQ2xhc3MgPSB3cmFwcGVyRmFjdG9yeTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZXQgYSBjb21wb3NpdGUgY29tcG9uZW50IHdyYXBwZXIgY2xhc3MgZm9yIGEgc3BlY2lmaWMgdGFnLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50IFRoZSB0YWcgZm9yIHdoaWNoIHRvIGdldCB0aGUgY2xhc3MuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIFJlYWN0IGNsYXNzIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnRDbGFzc0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICBpZiAodHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbGVtZW50LnR5cGU7XG4gIH1cbiAgdmFyIHRhZyA9IGVsZW1lbnQudHlwZTtcbiAgdmFyIGNvbXBvbmVudENsYXNzID0gdGFnVG9Db21wb25lbnRDbGFzc1t0YWddO1xuICBpZiAoY29tcG9uZW50Q2xhc3MgPT0gbnVsbCkge1xuICAgIHRhZ1RvQ29tcG9uZW50Q2xhc3NbdGFnXSA9IGNvbXBvbmVudENsYXNzID0gYXV0b0dlbmVyYXRlV3JhcHBlckNsYXNzKHRhZyk7XG4gIH1cbiAgcmV0dXJuIGNvbXBvbmVudENsYXNzO1xufVxuXG4vKipcbiAqIEdldCBhIG5hdGl2ZSBpbnRlcm5hbCBjb21wb25lbnQgY2xhc3MgZm9yIGEgc3BlY2lmaWMgdGFnLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGNyZWF0ZS5cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgaW50ZXJuYWwgY2xhc3MgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUludGVybmFsQ29tcG9uZW50KGVsZW1lbnQpIHtcbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICBnZW5lcmljQ29tcG9uZW50Q2xhc3MsXG4gICAgJ1RoZXJlIGlzIG5vIHJlZ2lzdGVyZWQgY29tcG9uZW50IGZvciB0aGUgdGFnICVzJyxcbiAgICBlbGVtZW50LnR5cGVcbiAgKSA6IGludmFyaWFudChnZW5lcmljQ29tcG9uZW50Q2xhc3MpKTtcbiAgcmV0dXJuIG5ldyBnZW5lcmljQ29tcG9uZW50Q2xhc3MoZWxlbWVudC50eXBlLCBlbGVtZW50LnByb3BzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlYWN0VGV4dH0gdGV4dFxuICogQHJldHVybiB7UmVhY3RDb21wb25lbnR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlRm9yVGV4dCh0ZXh0KSB7XG4gIHJldHVybiBuZXcgdGV4dENvbXBvbmVudENsYXNzKHRleHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGNvbXBvbmVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNUZXh0Q29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gY29tcG9uZW50IGluc3RhbmNlb2YgdGV4dENvbXBvbmVudENsYXNzO1xufVxuXG52YXIgUmVhY3ROYXRpdmVDb21wb25lbnQgPSB7XG4gIGdldENvbXBvbmVudENsYXNzRm9yRWxlbWVudDogZ2V0Q29tcG9uZW50Q2xhc3NGb3JFbGVtZW50LFxuICBjcmVhdGVJbnRlcm5hbENvbXBvbmVudDogY3JlYXRlSW50ZXJuYWxDb21wb25lbnQsXG4gIGNyZWF0ZUluc3RhbmNlRm9yVGV4dDogY3JlYXRlSW5zdGFuY2VGb3JUZXh0LFxuICBpc1RleHRDb21wb25lbnQ6IGlzVGV4dENvbXBvbmVudCxcbiAgaW5qZWN0aW9uOiBSZWFjdE5hdGl2ZUNvbXBvbmVudEluamVjdGlvblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdE5hdGl2ZUNvbXBvbmVudDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdE93bmVyXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xuXG4vKipcbiAqIFJlYWN0T3duZXJzIGFyZSBjYXBhYmxlIG9mIHN0b3JpbmcgcmVmZXJlbmNlcyB0byBvd25lZCBjb21wb25lbnRzLlxuICpcbiAqIEFsbCBjb21wb25lbnRzIGFyZSBjYXBhYmxlIG9mIC8vYmVpbmcvLyByZWZlcmVuY2VkIGJ5IG93bmVyIGNvbXBvbmVudHMsIGJ1dFxuICogb25seSBSZWFjdE93bmVyIGNvbXBvbmVudHMgYXJlIGNhcGFibGUgb2YgLy9yZWZlcmVuY2luZy8vIG93bmVkIGNvbXBvbmVudHMuXG4gKiBUaGUgbmFtZWQgcmVmZXJlbmNlIGlzIGtub3duIGFzIGEgXCJyZWZcIi5cbiAqXG4gKiBSZWZzIGFyZSBhdmFpbGFibGUgd2hlbiBtb3VudGVkIGFuZCB1cGRhdGVkIGR1cmluZyByZWNvbmNpbGlhdGlvbi5cbiAqXG4gKiAgIHZhciBNeUNvbXBvbmVudCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgcmV0dXJuIChcbiAqICAgICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5cbiAqICAgICAgICAgICA8Q3VzdG9tQ29tcG9uZW50IHJlZj1cImN1c3RvbVwiIC8+XG4gKiAgICAgICAgIDwvZGl2PlxuICogICAgICAgKTtcbiAqICAgICB9LFxuICogICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbigpIHtcbiAqICAgICAgIHRoaXMucmVmcy5jdXN0b20uaGFuZGxlQ2xpY2soKTtcbiAqICAgICB9LFxuICogICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAqICAgICAgIHRoaXMucmVmcy5jdXN0b20uaW5pdGlhbGl6ZSgpO1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogUmVmcyBzaG91bGQgcmFyZWx5IGJlIHVzZWQuIFdoZW4gcmVmcyBhcmUgdXNlZCwgdGhleSBzaG91bGQgb25seSBiZSBkb25lIHRvXG4gKiBjb250cm9sIGRhdGEgdGhhdCBpcyBub3QgaGFuZGxlZCBieSBSZWFjdCdzIGRhdGEgZmxvdy5cbiAqXG4gKiBAY2xhc3MgUmVhY3RPd25lclxuICovXG52YXIgUmVhY3RPd25lciA9IHtcblxuICAvKipcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBvYmplY3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIHZhbGlkIG93bmVyLlxuICAgKiBAZmluYWxcbiAgICovXG4gIGlzVmFsaWRPd25lcjogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgKG9iamVjdCAmJlxuICAgICAgdHlwZW9mIG9iamVjdC5hdHRhY2hSZWYgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iamVjdC5kZXRhY2hSZWYgPT09ICdmdW5jdGlvbicpXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogQWRkcyBhIGNvbXBvbmVudCBieSByZWYgdG8gYW4gb3duZXIgY29tcG9uZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBjb21wb25lbnQgQ29tcG9uZW50IHRvIHJlZmVyZW5jZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlZiBOYW1lIGJ5IHdoaWNoIHRvIHJlZmVyIHRvIHRoZSBjb21wb25lbnQuXG4gICAqIEBwYXJhbSB7UmVhY3RPd25lcn0gb3duZXIgQ29tcG9uZW50IG9uIHdoaWNoIHRvIHJlY29yZCB0aGUgcmVmLlxuICAgKiBAZmluYWxcbiAgICogQGludGVybmFsXG4gICAqL1xuICBhZGRDb21wb25lbnRBc1JlZlRvOiBmdW5jdGlvbihjb21wb25lbnQsIHJlZiwgb3duZXIpIHtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgUmVhY3RPd25lci5pc1ZhbGlkT3duZXIob3duZXIpLFxuICAgICAgJ2FkZENvbXBvbmVudEFzUmVmVG8oLi4uKTogT25seSBhIFJlYWN0T3duZXIgY2FuIGhhdmUgcmVmcy4gVGhpcyAnICtcbiAgICAgICd1c3VhbGx5IG1lYW5zIHRoYXQgeW91XFwncmUgdHJ5aW5nIHRvIGFkZCBhIHJlZiB0byBhIGNvbXBvbmVudCB0aGF0ICcgK1xuICAgICAgJ2RvZXNuXFwndCBoYXZlIGFuIG93bmVyICh0aGF0IGlzLCB3YXMgbm90IGNyZWF0ZWQgaW5zaWRlIG9mIGFub3RoZXIgJyArXG4gICAgICAnY29tcG9uZW50XFwncyBgcmVuZGVyYCBtZXRob2QpLiBUcnkgcmVuZGVyaW5nIHRoaXMgY29tcG9uZW50IGluc2lkZSBvZiAnICtcbiAgICAgICdhIG5ldyB0b3AtbGV2ZWwgY29tcG9uZW50IHdoaWNoIHdpbGwgaG9sZCB0aGUgcmVmLidcbiAgICApIDogaW52YXJpYW50KFJlYWN0T3duZXIuaXNWYWxpZE93bmVyKG93bmVyKSkpO1xuICAgIG93bmVyLmF0dGFjaFJlZihyZWYsIGNvbXBvbmVudCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBjb21wb25lbnQgYnkgcmVmIGZyb20gYW4gb3duZXIgY29tcG9uZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBjb21wb25lbnQgQ29tcG9uZW50IHRvIGRlcmVmZXJlbmNlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmIE5hbWUgb2YgdGhlIHJlZiB0byByZW1vdmUuXG4gICAqIEBwYXJhbSB7UmVhY3RPd25lcn0gb3duZXIgQ29tcG9uZW50IG9uIHdoaWNoIHRoZSByZWYgaXMgcmVjb3JkZWQuXG4gICAqIEBmaW5hbFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHJlbW92ZUNvbXBvbmVudEFzUmVmRnJvbTogZnVuY3Rpb24oY29tcG9uZW50LCByZWYsIG93bmVyKSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIFJlYWN0T3duZXIuaXNWYWxpZE93bmVyKG93bmVyKSxcbiAgICAgICdyZW1vdmVDb21wb25lbnRBc1JlZkZyb20oLi4uKTogT25seSBhIFJlYWN0T3duZXIgY2FuIGhhdmUgcmVmcy4gVGhpcyAnICtcbiAgICAgICd1c3VhbGx5IG1lYW5zIHRoYXQgeW91XFwncmUgdHJ5aW5nIHRvIHJlbW92ZSBhIHJlZiB0byBhIGNvbXBvbmVudCB0aGF0ICcgK1xuICAgICAgJ2RvZXNuXFwndCBoYXZlIGFuIG93bmVyICh0aGF0IGlzLCB3YXMgbm90IGNyZWF0ZWQgaW5zaWRlIG9mIGFub3RoZXIgJyArXG4gICAgICAnY29tcG9uZW50XFwncyBgcmVuZGVyYCBtZXRob2QpLiBUcnkgcmVuZGVyaW5nIHRoaXMgY29tcG9uZW50IGluc2lkZSBvZiAnICtcbiAgICAgICdhIG5ldyB0b3AtbGV2ZWwgY29tcG9uZW50IHdoaWNoIHdpbGwgaG9sZCB0aGUgcmVmLidcbiAgICApIDogaW52YXJpYW50KFJlYWN0T3duZXIuaXNWYWxpZE93bmVyKG93bmVyKSkpO1xuICAgIC8vIENoZWNrIHRoYXQgYGNvbXBvbmVudGAgaXMgc3RpbGwgdGhlIGN1cnJlbnQgcmVmIGJlY2F1c2Ugd2UgZG8gbm90IHdhbnQgdG9cbiAgICAvLyBkZXRhY2ggdGhlIHJlZiBpZiBhbm90aGVyIGNvbXBvbmVudCBzdG9sZSBpdC5cbiAgICBpZiAob3duZXIuZ2V0UHVibGljSW5zdGFuY2UoKS5yZWZzW3JlZl0gPT09IGNvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpKSB7XG4gICAgICBvd25lci5kZXRhY2hSZWYocmVmKTtcbiAgICB9XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdE93bmVyO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0UGVyZlxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUmVhY3RQZXJmIGlzIGEgZ2VuZXJhbCBBT1Agc3lzdGVtIGRlc2lnbmVkIHRvIG1lYXN1cmUgcGVyZm9ybWFuY2UuIFRoaXNcbiAqIG1vZHVsZSBvbmx5IGhhcyB0aGUgaG9va3M6IHNlZSBSZWFjdERlZmF1bHRQZXJmIGZvciB0aGUgYW5hbHlzaXMgdG9vbC5cbiAqL1xudmFyIFJlYWN0UGVyZiA9IHtcbiAgLyoqXG4gICAqIEJvb2xlYW4gdG8gZW5hYmxlL2Rpc2FibGUgbWVhc3VyZW1lbnQuIFNldCB0byBmYWxzZSBieSBkZWZhdWx0IHRvIHByZXZlbnRcbiAgICogYWNjaWRlbnRhbCBsb2dnaW5nIGFuZCBwZXJmIGxvc3MuXG4gICAqL1xuICBlbmFibGVNZWFzdXJlOiBmYWxzZSxcblxuICAvKipcbiAgICogSG9sZHMgb250byB0aGUgbWVhc3VyZSBmdW5jdGlvbiBpbiB1c2UuIEJ5IGRlZmF1bHQsIGRvbid0IG1lYXN1cmVcbiAgICogYW55dGhpbmcsIGJ1dCB3ZSdsbCBvdmVycmlkZSB0aGlzIGlmIHdlIGluamVjdCBhIG1lYXN1cmUgZnVuY3Rpb24uXG4gICAqL1xuICBzdG9yZWRNZWFzdXJlOiBfbm9NZWFzdXJlLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvYmplY3ROYW1lXG4gICAqIEBwYXJhbSB7b2JqZWN0PHN0cmluZz59IG1ldGhvZE5hbWVzXG4gICAqL1xuICBtZWFzdXJlTWV0aG9kczogZnVuY3Rpb24ob2JqZWN0LCBvYmplY3ROYW1lLCBtZXRob2ROYW1lcykge1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBtZXRob2ROYW1lcykge1xuICAgICAgICBpZiAoIW1ldGhvZE5hbWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3Rba2V5XSA9IFJlYWN0UGVyZi5tZWFzdXJlKFxuICAgICAgICAgIG9iamVjdE5hbWUsXG4gICAgICAgICAgbWV0aG9kTmFtZXNba2V5XSxcbiAgICAgICAgICBvYmplY3Rba2V5XVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVXNlIHRoaXMgdG8gd3JhcCBtZXRob2RzIHlvdSB3YW50IHRvIG1lYXN1cmUuIFplcm8gb3ZlcmhlYWQgaW4gcHJvZHVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9iak5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZuTmFtZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufVxuICAgKi9cbiAgbWVhc3VyZTogZnVuY3Rpb24ob2JqTmFtZSwgZm5OYW1lLCBmdW5jKSB7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgdmFyIG1lYXN1cmVkRnVuYyA9IG51bGw7XG4gICAgICB2YXIgd3JhcHBlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoUmVhY3RQZXJmLmVuYWJsZU1lYXN1cmUpIHtcbiAgICAgICAgICBpZiAoIW1lYXN1cmVkRnVuYykge1xuICAgICAgICAgICAgbWVhc3VyZWRGdW5jID0gUmVhY3RQZXJmLnN0b3JlZE1lYXN1cmUob2JqTmFtZSwgZm5OYW1lLCBmdW5jKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG1lYXN1cmVkRnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgd3JhcHBlci5kaXNwbGF5TmFtZSA9IG9iak5hbWUgKyAnXycgKyBmbk5hbWU7XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH0sXG5cbiAgaW5qZWN0aW9uOiB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWVhc3VyZVxuICAgICAqL1xuICAgIGluamVjdE1lYXN1cmU6IGZ1bmN0aW9uKG1lYXN1cmUpIHtcbiAgICAgIFJlYWN0UGVyZi5zdG9yZWRNZWFzdXJlID0gbWVhc3VyZTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogU2ltcGx5IHBhc3NlcyB0aHJvdWdoIHRoZSBtZWFzdXJlZCBmdW5jdGlvbiwgd2l0aG91dCBtZWFzdXJpbmcgaXQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG9iak5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBmbk5hbWVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmNcbiAqIEByZXR1cm4ge2Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBfbm9NZWFzdXJlKG9iak5hbWUsIGZuTmFtZSwgZnVuYykge1xuICByZXR1cm4gZnVuYztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFBlcmY7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RQcm9wVHJhbnNmZXJlclxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoXCIuL09iamVjdC5hc3NpZ25cIik7XG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoXCIuL2VtcHR5RnVuY3Rpb25cIik7XG52YXIgam9pbkNsYXNzZXMgPSByZXF1aXJlKFwiLi9qb2luQ2xhc3Nlc1wiKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgdHJhbnNmZXIgc3RyYXRlZ3kgdGhhdCB3aWxsIG1lcmdlIHByb3AgdmFsdWVzIHVzaW5nIHRoZSBzdXBwbGllZFxuICogYG1lcmdlU3RyYXRlZ3lgLiBJZiBhIHByb3Agd2FzIHByZXZpb3VzbHkgdW5zZXQsIHRoaXMganVzdCBzZXRzIGl0LlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG1lcmdlU3RyYXRlZ3lcbiAqIEByZXR1cm4ge2Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjcmVhdGVUcmFuc2ZlclN0cmF0ZWd5KG1lcmdlU3RyYXRlZ3kpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3BzLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKCFwcm9wcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBwcm9wc1trZXldID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb3BzW2tleV0gPSBtZXJnZVN0cmF0ZWd5KHByb3BzW2tleV0sIHZhbHVlKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciB0cmFuc2ZlclN0cmF0ZWd5TWVyZ2UgPSBjcmVhdGVUcmFuc2ZlclN0cmF0ZWd5KGZ1bmN0aW9uKGEsIGIpIHtcbiAgLy8gYG1lcmdlYCBvdmVycmlkZXMgdGhlIGZpcnN0IG9iamVjdCdzIChgcHJvcHNba2V5XWAgYWJvdmUpIGtleXMgdXNpbmcgdGhlXG4gIC8vIHNlY29uZCBvYmplY3QncyAoYHZhbHVlYCkga2V5cy4gQW4gb2JqZWN0J3Mgc3R5bGUncyBleGlzdGluZyBgcHJvcEFgIHdvdWxkXG4gIC8vIGdldCBvdmVycmlkZGVuLiBGbGlwIHRoZSBvcmRlciBoZXJlLlxuICByZXR1cm4gYXNzaWduKHt9LCBiLCBhKTtcbn0pO1xuXG4vKipcbiAqIFRyYW5zZmVyIHN0cmF0ZWdpZXMgZGljdGF0ZSBob3cgcHJvcHMgYXJlIHRyYW5zZmVycmVkIGJ5IGB0cmFuc2ZlclByb3BzVG9gLlxuICogTk9URTogaWYgeW91IGFkZCBhbnkgbW9yZSBleGNlcHRpb25zIHRvIHRoaXMgbGlzdCB5b3Ugc2hvdWxkIGJlIHN1cmUgdG9cbiAqIHVwZGF0ZSBgY2xvbmVXaXRoUHJvcHMoKWAgYWNjb3JkaW5nbHkuXG4gKi9cbnZhciBUcmFuc2ZlclN0cmF0ZWdpZXMgPSB7XG4gIC8qKlxuICAgKiBOZXZlciB0cmFuc2ZlciBgY2hpbGRyZW5gLlxuICAgKi9cbiAgY2hpbGRyZW46IGVtcHR5RnVuY3Rpb24sXG4gIC8qKlxuICAgKiBUcmFuc2ZlciB0aGUgYGNsYXNzTmFtZWAgcHJvcCBieSBtZXJnaW5nIHRoZW0uXG4gICAqL1xuICBjbGFzc05hbWU6IGNyZWF0ZVRyYW5zZmVyU3RyYXRlZ3koam9pbkNsYXNzZXMpLFxuICAvKipcbiAgICogVHJhbnNmZXIgdGhlIGBzdHlsZWAgcHJvcCAod2hpY2ggaXMgYW4gb2JqZWN0KSBieSBtZXJnaW5nIHRoZW0uXG4gICAqL1xuICBzdHlsZTogdHJhbnNmZXJTdHJhdGVneU1lcmdlXG59O1xuXG4vKipcbiAqIE11dGF0ZXMgdGhlIGZpcnN0IGFyZ3VtZW50IGJ5IHRyYW5zZmVycmluZyB0aGUgcHJvcGVydGllcyBmcm9tIHRoZSBzZWNvbmRcbiAqIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtvYmplY3R9IG5ld1Byb3BzXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHRyYW5zZmVySW50byhwcm9wcywgbmV3UHJvcHMpIHtcbiAgZm9yICh2YXIgdGhpc0tleSBpbiBuZXdQcm9wcykge1xuICAgIGlmICghbmV3UHJvcHMuaGFzT3duUHJvcGVydHkodGhpc0tleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciB0cmFuc2ZlclN0cmF0ZWd5ID0gVHJhbnNmZXJTdHJhdGVnaWVzW3RoaXNLZXldO1xuXG4gICAgaWYgKHRyYW5zZmVyU3RyYXRlZ3kgJiYgVHJhbnNmZXJTdHJhdGVnaWVzLmhhc093blByb3BlcnR5KHRoaXNLZXkpKSB7XG4gICAgICB0cmFuc2ZlclN0cmF0ZWd5KHByb3BzLCB0aGlzS2V5LCBuZXdQcm9wc1t0aGlzS2V5XSk7XG4gICAgfSBlbHNlIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkodGhpc0tleSkpIHtcbiAgICAgIHByb3BzW3RoaXNLZXldID0gbmV3UHJvcHNbdGhpc0tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wcztcbn1cblxuLyoqXG4gKiBSZWFjdFByb3BUcmFuc2ZlcmVyIGFyZSBjYXBhYmxlIG9mIHRyYW5zZmVycmluZyBwcm9wcyB0byBhbm90aGVyIGNvbXBvbmVudFxuICogdXNpbmcgYSBgdHJhbnNmZXJQcm9wc1RvYCBtZXRob2QuXG4gKlxuICogQGNsYXNzIFJlYWN0UHJvcFRyYW5zZmVyZXJcbiAqL1xudmFyIFJlYWN0UHJvcFRyYW5zZmVyZXIgPSB7XG5cbiAgLyoqXG4gICAqIE1lcmdlIHR3byBwcm9wcyBvYmplY3RzIHVzaW5nIFRyYW5zZmVyU3RyYXRlZ2llcy5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG9sZFByb3BzIG9yaWdpbmFsIHByb3BzICh0aGV5IHRha2UgcHJlY2VkZW5jZSlcbiAgICogQHBhcmFtIHtvYmplY3R9IG5ld1Byb3BzIG5ldyBwcm9wcyB0byBtZXJnZSBpblxuICAgKiBAcmV0dXJuIHtvYmplY3R9IGEgbmV3IG9iamVjdCBjb250YWluaW5nIGJvdGggc2V0cyBvZiBwcm9wcyBtZXJnZWQuXG4gICAqL1xuICBtZXJnZVByb3BzOiBmdW5jdGlvbihvbGRQcm9wcywgbmV3UHJvcHMpIHtcbiAgICByZXR1cm4gdHJhbnNmZXJJbnRvKGFzc2lnbih7fSwgb2xkUHJvcHMpLCBuZXdQcm9wcyk7XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUcmFuc2ZlcmVyO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7fTtcblxuaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9IHtcbiAgICBwcm9wOiAncHJvcCcsXG4gICAgY29udGV4dDogJ2NvbnRleHQnLFxuICAgIGNoaWxkQ29udGV4dDogJ2NoaWxkIGNvbnRleHQnXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RQcm9wVHlwZUxvY2F0aW9uc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGtleU1pcnJvciA9IHJlcXVpcmUoXCIuL2tleU1pcnJvclwiKTtcblxudmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSBrZXlNaXJyb3Ioe1xuICBwcm9wOiBudWxsLFxuICBjb250ZXh0OiBudWxsLFxuICBjaGlsZENvbnRleHQ6IG51bGxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbnM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RQcm9wVHlwZXNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG52YXIgUmVhY3RGcmFnbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RnJhZ21lbnRcIik7XG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSByZXF1aXJlKFwiLi9SZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1wiKTtcblxudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKFwiLi9lbXB0eUZ1bmN0aW9uXCIpO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyB0aGF0IGFsbG93IGRlY2xhcmF0aW9uIGFuZCB2YWxpZGF0aW9uIG9mIHByb3BzIHRoYXQgYXJlXG4gKiBzdXBwbGllZCB0byBSZWFjdCBjb21wb25lbnRzLiBFeGFtcGxlIHVzYWdlOlxuICpcbiAqICAgdmFyIFByb3BzID0gcmVxdWlyZSgnUmVhY3RQcm9wVHlwZXMnKTtcbiAqICAgdmFyIE15QXJ0aWNsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAqICAgICBwcm9wVHlwZXM6IHtcbiAqICAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBwcm9wIG5hbWVkIFwiZGVzY3JpcHRpb25cIi5cbiAqICAgICAgIGRlc2NyaXB0aW9uOiBQcm9wcy5zdHJpbmcsXG4gKlxuICogICAgICAgLy8gQSByZXF1aXJlZCBlbnVtIHByb3AgbmFtZWQgXCJjYXRlZ29yeVwiLlxuICogICAgICAgY2F0ZWdvcnk6IFByb3BzLm9uZU9mKFsnTmV3cycsJ1Bob3RvcyddKS5pc1JlcXVpcmVkLFxuICpcbiAqICAgICAgIC8vIEEgcHJvcCBuYW1lZCBcImRpYWxvZ1wiIHRoYXQgcmVxdWlyZXMgYW4gaW5zdGFuY2Ugb2YgRGlhbG9nLlxuICogICAgICAgZGlhbG9nOiBQcm9wcy5pbnN0YW5jZU9mKERpYWxvZykuaXNSZXF1aXJlZFxuICogICAgIH0sXG4gKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHsgLi4uIH1cbiAqICAgfSk7XG4gKlxuICogQSBtb3JlIGZvcm1hbCBzcGVjaWZpY2F0aW9uIG9mIGhvdyB0aGVzZSBtZXRob2RzIGFyZSB1c2VkOlxuICpcbiAqICAgdHlwZSA6PSBhcnJheXxib29sfGZ1bmN8b2JqZWN0fG51bWJlcnxzdHJpbmd8b25lT2YoWy4uLl0pfGluc3RhbmNlT2YoLi4uKVxuICogICBkZWNsIDo9IFJlYWN0UHJvcFR5cGVzLnt0eXBlfSguaXNSZXF1aXJlZCk/XG4gKlxuICogRWFjaCBhbmQgZXZlcnkgZGVjbGFyYXRpb24gcHJvZHVjZXMgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZS4gVGhpc1xuICogYWxsb3dzIHRoZSBjcmVhdGlvbiBvZiBjdXN0b20gdmFsaWRhdGlvbiBmdW5jdGlvbnMuIEZvciBleGFtcGxlOlxuICpcbiAqICB2YXIgTXlMaW5rID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICogICAgcHJvcFR5cGVzOiB7XG4gKiAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBvciBVUkkgcHJvcCBuYW1lZCBcImhyZWZcIi5cbiAqICAgICAgaHJlZjogZnVuY3Rpb24ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gKiAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAqICAgICAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHByb3BWYWx1ZSAhPT0gJ3N0cmluZycgJiZcbiAqICAgICAgICAgICAgIShwcm9wVmFsdWUgaW5zdGFuY2VvZiBVUkkpKSB7XG4gKiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFxuICogICAgICAgICAgICAnRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYW4gVVJJIGZvciAnICsgcHJvcE5hbWUgKyAnIGluICcgK1xuICogICAgICAgICAgICBjb21wb25lbnROYW1lXG4gKiAgICAgICAgICApO1xuICogICAgICAgIH1cbiAqICAgICAgfVxuICogICAgfSxcbiAqICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7Li4ufVxuICogIH0pO1xuICpcbiAqIEBpbnRlcm5hbFxuICovXG5cbnZhciBBTk9OWU1PVVMgPSAnPDxhbm9ueW1vdXM+Pic7XG5cbnZhciBlbGVtZW50VHlwZUNoZWNrZXIgPSBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKTtcbnZhciBub2RlVHlwZUNoZWNrZXIgPSBjcmVhdGVOb2RlQ2hlY2tlcigpO1xuXG52YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gIGFycmF5OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYXJyYXknKSxcbiAgYm9vbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Jvb2xlYW4nKSxcbiAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gIG51bWJlcjogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ251bWJlcicpLFxuICBvYmplY3Q6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdvYmplY3QnKSxcbiAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG5cbiAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICBhcnJheU9mOiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIsXG4gIGVsZW1lbnQ6IGVsZW1lbnRUeXBlQ2hlY2tlcixcbiAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcbiAgbm9kZTogbm9kZVR5cGVDaGVja2VyLFxuICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcbiAgb25lT2Y6IGNyZWF0ZUVudW1UeXBlQ2hlY2tlcixcbiAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlclxufTtcblxuZnVuY3Rpb24gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpIHtcbiAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pIHtcbiAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICAgICAgICAoXCJSZXF1aXJlZCBcIiArIGxvY2F0aW9uTmFtZSArIFwiIGBcIiArIHByb3BOYW1lICsgXCJgIHdhcyBub3Qgc3BlY2lmaWVkIGluIFwiKSArXG4gICAgICAgICAgKFwiYFwiICsgY29tcG9uZW50TmFtZSArIFwiYC5cIilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG4gIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuXG4gIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcihleHBlY3RlZFR5cGUpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbikge1xuICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIC8vIGBwcm9wVmFsdWVgIGJlaW5nIGluc3RhbmNlIG9mLCBzYXksIGRhdGUvcmVnZXhwLCBwYXNzIHRoZSAnb2JqZWN0J1xuICAgICAgLy8gY2hlY2ssIGJ1dCB3ZSBjYW4gb2ZmZXIgYSBtb3JlIHByZWNpc2UgZXJyb3IgbWVzc2FnZSBoZXJlIHJhdGhlciB0aGFuXG4gICAgICAvLyAnb2YgdHlwZSBgb2JqZWN0YCcuXG4gICAgICB2YXIgcHJlY2lzZVR5cGUgPSBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpO1xuXG4gICAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgICAgICAoXCJJbnZhbGlkIFwiICsgbG9jYXRpb25OYW1lICsgXCIgYFwiICsgcHJvcE5hbWUgKyBcImAgb2YgdHlwZSBgXCIgKyBwcmVjaXNlVHlwZSArIFwiYCBcIikgK1xuICAgICAgICAoXCJzdXBwbGllZCB0byBgXCIgKyBjb21wb25lbnROYW1lICsgXCJgLCBleHBlY3RlZCBgXCIgKyBleHBlY3RlZFR5cGUgKyBcImAuXCIpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpIHtcbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMobnVsbCkpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbikge1xuICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICAgICAgKFwiSW52YWxpZCBcIiArIGxvY2F0aW9uTmFtZSArIFwiIGBcIiArIHByb3BOYW1lICsgXCJgIG9mIHR5cGUgXCIpICtcbiAgICAgICAgKFwiYFwiICsgcHJvcFR5cGUgKyBcImAgc3VwcGxpZWQgdG8gYFwiICsgY29tcG9uZW50TmFtZSArIFwiYCwgZXhwZWN0ZWQgYW4gYXJyYXkuXCIpXG4gICAgICApO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBpLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbik7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbikge1xuICAgIGlmICghUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgICAgICAoXCJJbnZhbGlkIFwiICsgbG9jYXRpb25OYW1lICsgXCIgYFwiICsgcHJvcE5hbWUgKyBcImAgc3VwcGxpZWQgdG8gXCIpICtcbiAgICAgICAgKFwiYFwiICsgY29tcG9uZW50TmFtZSArIFwiYCwgZXhwZWN0ZWQgYSBSZWFjdEVsZW1lbnQuXCIpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbikge1xuICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgdmFyIGV4cGVjdGVkQ2xhc3NOYW1lID0gZXhwZWN0ZWRDbGFzcy5uYW1lIHx8IEFOT05ZTU9VUztcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAgICAgIChcIkludmFsaWQgXCIgKyBsb2NhdGlvbk5hbWUgKyBcIiBgXCIgKyBwcm9wTmFtZSArIFwiYCBzdXBwbGllZCB0byBcIikgK1xuICAgICAgICAoXCJgXCIgKyBjb21wb25lbnROYW1lICsgXCJgLCBleHBlY3RlZCBpbnN0YW5jZSBvZiBgXCIgKyBleHBlY3RlZENsYXNzTmFtZSArIFwiYC5cIilcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVudW1UeXBlQ2hlY2tlcihleHBlY3RlZFZhbHVlcykge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uKSB7XG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocHJvcFZhbHVlID09PSBleHBlY3RlZFZhbHVlc1tpXSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcyk7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICAgIChcIkludmFsaWQgXCIgKyBsb2NhdGlvbk5hbWUgKyBcIiBgXCIgKyBwcm9wTmFtZSArIFwiYCBvZiB2YWx1ZSBgXCIgKyBwcm9wVmFsdWUgKyBcImAgXCIpICtcbiAgICAgIChcInN1cHBsaWVkIHRvIGBcIiArIGNvbXBvbmVudE5hbWUgKyBcImAsIGV4cGVjdGVkIG9uZSBvZiBcIiArIHZhbHVlc1N0cmluZyArIFwiLlwiKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uKSB7XG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgICAgICAoXCJJbnZhbGlkIFwiICsgbG9jYXRpb25OYW1lICsgXCIgYFwiICsgcHJvcE5hbWUgKyBcImAgb2YgdHlwZSBcIikgK1xuICAgICAgICAoXCJgXCIgKyBwcm9wVHlwZSArIFwiYCBzdXBwbGllZCB0byBgXCIgKyBjb21wb25lbnROYW1lICsgXCJgLCBleHBlY3RlZCBhbiBvYmplY3QuXCIpXG4gICAgICApO1xuICAgIH1cbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcFZhbHVlKSB7XG4gICAgICBpZiAocHJvcFZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uKTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVW5pb25UeXBlQ2hlY2tlcihhcnJheU9mVHlwZUNoZWNrZXJzKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcbiAgICAgIGlmIChjaGVja2VyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgICAgKFwiSW52YWxpZCBcIiArIGxvY2F0aW9uTmFtZSArIFwiIGBcIiArIHByb3BOYW1lICsgXCJgIHN1cHBsaWVkIHRvIFwiKSArXG4gICAgICAoXCJgXCIgKyBjb21wb25lbnROYW1lICsgXCJgLlwiKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pIHtcbiAgICBpZiAoIWlzTm9kZShwcm9wc1twcm9wTmFtZV0pKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICAgICAgKFwiSW52YWxpZCBcIiArIGxvY2F0aW9uTmFtZSArIFwiIGBcIiArIHByb3BOYW1lICsgXCJgIHN1cHBsaWVkIHRvIFwiKSArXG4gICAgICAgIChcImBcIiArIGNvbXBvbmVudE5hbWUgKyBcImAsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLlwiKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoXG4gICAgICAgIChcIkludmFsaWQgXCIgKyBsb2NhdGlvbk5hbWUgKyBcIiBgXCIgKyBwcm9wTmFtZSArIFwiYCBvZiB0eXBlIGBcIiArIHByb3BUeXBlICsgXCJgIFwiKSArXG4gICAgICAgIChcInN1cHBsaWVkIHRvIGBcIiArIGNvbXBvbmVudE5hbWUgKyBcImAsIGV4cGVjdGVkIGBvYmplY3RgLlwiKVxuICAgICAgKTtcbiAgICB9XG4gICAgZm9yICh2YXIga2V5IGluIHNoYXBlVHlwZXMpIHtcbiAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cblxuZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuICBzd2l0Y2ggKHR5cGVvZiBwcm9wVmFsdWUpIHtcbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuICFwcm9wVmFsdWU7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHByb3BWYWx1ZSA9IFJlYWN0RnJhZ21lbnQuZXh0cmFjdElmRnJhZ21lbnQocHJvcFZhbHVlKTtcbiAgICAgIGZvciAodmFyIGsgaW4gcHJvcFZhbHVlKSB7XG4gICAgICAgIGlmICghaXNOb2RlKHByb3BWYWx1ZVtrXSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gRXF1aXZhbGVudCBvZiBgdHlwZW9mYCBidXQgd2l0aCBzcGVjaWFsIGhhbmRsaW5nIGZvciBhcnJheSBhbmQgcmVnZXhwLlxuZnVuY3Rpb24gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKSB7XG4gIHZhciBwcm9wVHlwZSA9IHR5cGVvZiBwcm9wVmFsdWU7XG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICByZXR1cm4gJ2FycmF5JztcbiAgfVxuICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxuICAgIC8vICdvYmplY3QnIGZvciB0eXBlb2YgYSBSZWdFeHAuIFdlJ2xsIG5vcm1hbGl6ZSB0aGlzIGhlcmUgc28gdGhhdCAvYmxhL1xuICAgIC8vIHBhc3NlcyBQcm9wVHlwZXMub2JqZWN0LlxuICAgIHJldHVybiAnb2JqZWN0JztcbiAgfVxuICByZXR1cm4gcHJvcFR5cGU7XG59XG5cbi8vIFRoaXMgaGFuZGxlcyBtb3JlIHR5cGVzIHRoYW4gYGdldFByb3BUeXBlYC4gT25seSB1c2VkIGZvciBlcnJvciBtZXNzYWdlcy5cbi8vIFNlZSBgY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXJgLlxuZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG4gIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gIGlmIChwcm9wVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgcmV0dXJuICdkYXRlJztcbiAgICB9IGVsc2UgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgcmV0dXJuICdyZWdleHAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcFR5cGU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RQdXRMaXN0ZW5lclF1ZXVlXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKFwiLi9Qb29sZWRDbGFzc1wiKTtcbnZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiLi9SZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXJcIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xuXG5mdW5jdGlvbiBSZWFjdFB1dExpc3RlbmVyUXVldWUoKSB7XG4gIHRoaXMubGlzdGVuZXJzVG9QdXQgPSBbXTtcbn1cblxuYXNzaWduKFJlYWN0UHV0TGlzdGVuZXJRdWV1ZS5wcm90b3R5cGUsIHtcbiAgZW5xdWV1ZVB1dExpc3RlbmVyOiBmdW5jdGlvbihyb290Tm9kZUlELCBwcm9wS2V5LCBwcm9wVmFsdWUpIHtcbiAgICB0aGlzLmxpc3RlbmVyc1RvUHV0LnB1c2goe1xuICAgICAgcm9vdE5vZGVJRDogcm9vdE5vZGVJRCxcbiAgICAgIHByb3BLZXk6IHByb3BLZXksXG4gICAgICBwcm9wVmFsdWU6IHByb3BWYWx1ZVxuICAgIH0pO1xuICB9LFxuXG4gIHB1dExpc3RlbmVyczogZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVyc1RvUHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGlzdGVuZXJUb1B1dCA9IHRoaXMubGlzdGVuZXJzVG9QdXRbaV07XG4gICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIucHV0TGlzdGVuZXIoXG4gICAgICAgIGxpc3RlbmVyVG9QdXQucm9vdE5vZGVJRCxcbiAgICAgICAgbGlzdGVuZXJUb1B1dC5wcm9wS2V5LFxuICAgICAgICBsaXN0ZW5lclRvUHV0LnByb3BWYWx1ZVxuICAgICAgKTtcbiAgICB9XG4gIH0sXG5cbiAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubGlzdGVuZXJzVG9QdXQubGVuZ3RoID0gMDtcbiAgfSxcblxuICBkZXN0cnVjdG9yOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cbn0pO1xuXG5Qb29sZWRDbGFzcy5hZGRQb29saW5nVG8oUmVhY3RQdXRMaXN0ZW5lclF1ZXVlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFB1dExpc3RlbmVyUXVldWU7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvblxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBDYWxsYmFja1F1ZXVlID0gcmVxdWlyZShcIi4vQ2FsbGJhY2tRdWV1ZVwiKTtcbnZhciBQb29sZWRDbGFzcyA9IHJlcXVpcmUoXCIuL1Bvb2xlZENsYXNzXCIpO1xudmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCIuL1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlclwiKTtcbnZhciBSZWFjdElucHV0U2VsZWN0aW9uID0gcmVxdWlyZShcIi4vUmVhY3RJbnB1dFNlbGVjdGlvblwiKTtcbnZhciBSZWFjdFB1dExpc3RlbmVyUXVldWUgPSByZXF1aXJlKFwiLi9SZWFjdFB1dExpc3RlbmVyUXVldWVcIik7XG52YXIgVHJhbnNhY3Rpb24gPSByZXF1aXJlKFwiLi9UcmFuc2FjdGlvblwiKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoXCIuL09iamVjdC5hc3NpZ25cIik7XG5cbi8qKlxuICogRW5zdXJlcyB0aGF0LCB3aGVuIHBvc3NpYmxlLCB0aGUgc2VsZWN0aW9uIHJhbmdlIChjdXJyZW50bHkgc2VsZWN0ZWQgdGV4dFxuICogaW5wdXQpIGlzIG5vdCBkaXN0dXJiZWQgYnkgcGVyZm9ybWluZyB0aGUgdHJhbnNhY3Rpb24uXG4gKi9cbnZhciBTRUxFQ1RJT05fUkVTVE9SQVRJT04gPSB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIHtTZWxlY3Rpb259IFNlbGVjdGlvbiBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGluaXRpYWxpemU6IFJlYWN0SW5wdXRTZWxlY3Rpb24uZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24sXG4gIC8qKlxuICAgKiBAcGFyYW0ge1NlbGVjdGlvbn0gc2VsIFNlbGVjdGlvbiBpbmZvcm1hdGlvbiByZXR1cm5lZCBmcm9tIGBpbml0aWFsaXplYC5cbiAgICovXG4gIGNsb3NlOiBSZWFjdElucHV0U2VsZWN0aW9uLnJlc3RvcmVTZWxlY3Rpb25cbn07XG5cbi8qKlxuICogU3VwcHJlc3NlcyBldmVudHMgKGJsdXIvZm9jdXMpIHRoYXQgY291bGQgYmUgaW5hZHZlcnRlbnRseSBkaXNwYXRjaGVkIGR1ZSB0b1xuICogaGlnaCBsZXZlbCBET00gbWFuaXB1bGF0aW9ucyAobGlrZSB0ZW1wb3JhcmlseSByZW1vdmluZyBhIHRleHQgaW5wdXQgZnJvbSB0aGVcbiAqIERPTSkuXG4gKi9cbnZhciBFVkVOVF9TVVBQUkVTU0lPTiA9IHtcbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBlbmFibGVkIHN0YXR1cyBvZiBgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyYCBiZWZvcmVcbiAgICogdGhlIHJlY29uY2lsaWF0aW9uLlxuICAgKi9cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGN1cnJlbnRseUVuYWJsZWQgPSBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuaXNFbmFibGVkKCk7XG4gICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgIHJldHVybiBjdXJyZW50bHlFbmFibGVkO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHByZXZpb3VzbHlFbmFibGVkIEVuYWJsZWQgc3RhdHVzIG9mXG4gICAqICAgYFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlcmAgYmVmb3JlIHRoZSByZWNvbmNpbGlhdGlvbiBvY2N1cmVkLiBgY2xvc2VgXG4gICAqICAgcmVzdG9yZXMgdGhlIHByZXZpb3VzIHZhbHVlLlxuICAgKi9cbiAgY2xvc2U6IGZ1bmN0aW9uKHByZXZpb3VzbHlFbmFibGVkKSB7XG4gICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnNldEVuYWJsZWQocHJldmlvdXNseUVuYWJsZWQpO1xuICB9XG59O1xuXG4vKipcbiAqIFByb3ZpZGVzIGEgcXVldWUgZm9yIGNvbGxlY3RpbmcgYGNvbXBvbmVudERpZE1vdW50YCBhbmRcbiAqIGBjb21wb25lbnREaWRVcGRhdGVgIGNhbGxiYWNrcyBkdXJpbmcgdGhlIHRoZSB0cmFuc2FjdGlvbi5cbiAqL1xudmFyIE9OX0RPTV9SRUFEWV9RVUVVRUlORyA9IHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBpbnRlcm5hbCBgb25ET01SZWFkeWAgcXVldWUuXG4gICAqL1xuICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlYWN0TW91bnRSZWFkeS5yZXNldCgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBZnRlciBET00gaXMgZmx1c2hlZCwgaW52b2tlIGFsbCByZWdpc3RlcmVkIGBvbkRPTVJlYWR5YCBjYWxsYmFja3MuXG4gICAqL1xuICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkubm90aWZ5QWxsKCk7XG4gIH1cbn07XG5cbnZhciBQVVRfTElTVEVORVJfUVVFVUVJTkcgPSB7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucHV0TGlzdGVuZXJRdWV1ZS5yZXNldCgpO1xuICB9LFxuXG4gIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnB1dExpc3RlbmVyUXVldWUucHV0TGlzdGVuZXJzKCk7XG4gIH1cbn07XG5cbi8qKlxuICogRXhlY3V0ZWQgd2l0aGluIHRoZSBzY29wZSBvZiB0aGUgYFRyYW5zYWN0aW9uYCBpbnN0YW5jZS4gQ29uc2lkZXIgdGhlc2UgYXNcbiAqIGJlaW5nIG1lbWJlciBtZXRob2RzLCBidXQgd2l0aCBhbiBpbXBsaWVkIG9yZGVyaW5nIHdoaWxlIGJlaW5nIGlzb2xhdGVkIGZyb21cbiAqIGVhY2ggb3RoZXIuXG4gKi9cbnZhciBUUkFOU0FDVElPTl9XUkFQUEVSUyA9IFtcbiAgUFVUX0xJU1RFTkVSX1FVRVVFSU5HLFxuICBTRUxFQ1RJT05fUkVTVE9SQVRJT04sXG4gIEVWRU5UX1NVUFBSRVNTSU9OLFxuICBPTl9ET01fUkVBRFlfUVVFVUVJTkdcbl07XG5cbi8qKlxuICogQ3VycmVudGx5OlxuICogLSBUaGUgb3JkZXIgdGhhdCB0aGVzZSBhcmUgbGlzdGVkIGluIHRoZSB0cmFuc2FjdGlvbiBpcyBjcml0aWNhbDpcbiAqIC0gU3VwcHJlc3NlcyBldmVudHMuXG4gKiAtIFJlc3RvcmVzIHNlbGVjdGlvbiByYW5nZS5cbiAqXG4gKiBGdXR1cmU6XG4gKiAtIFJlc3RvcmUgZG9jdW1lbnQvb3ZlcmZsb3cgc2Nyb2xsIHBvc2l0aW9ucyB0aGF0IHdlcmUgdW5pbnRlbnRpb25hbGx5XG4gKiAgIG1vZGlmaWVkIHZpYSBET00gaW5zZXJ0aW9ucyBhYm92ZSB0aGUgdG9wIHZpZXdwb3J0IGJvdW5kYXJ5LlxuICogLSBJbXBsZW1lbnQvaW50ZWdyYXRlIHdpdGggY3VzdG9taXplZCBjb25zdHJhaW50IGJhc2VkIGxheW91dCBzeXN0ZW0gYW5kIGtlZXBcbiAqICAgdHJhY2sgb2Ygd2hpY2ggZGltZW5zaW9ucyBtdXN0IGJlIHJlbWVhc3VyZWQuXG4gKlxuICogQGNsYXNzIFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb25cbiAqL1xuZnVuY3Rpb24gUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbigpIHtcbiAgdGhpcy5yZWluaXRpYWxpemVUcmFuc2FjdGlvbigpO1xuICAvLyBPbmx5IHNlcnZlci1zaWRlIHJlbmRlcmluZyByZWFsbHkgbmVlZHMgdGhpcyBvcHRpb24gKHNlZVxuICAvLyBgUmVhY3RTZXJ2ZXJSZW5kZXJpbmdgKSwgYnV0IHNlcnZlci1zaWRlIHVzZXNcbiAgLy8gYFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb25gIGluc3RlYWQuIFRoaXMgb3B0aW9uIGlzIGhlcmUgc28gdGhhdCBpdCdzXG4gIC8vIGFjY2Vzc2libGUgYW5kIGRlZmF1bHRzIHRvIGZhbHNlIHdoZW4gYFJlYWN0RE9NQ29tcG9uZW50YCBhbmRcbiAgLy8gYFJlYWN0VGV4dENvbXBvbmVudGAgY2hlY2tzIGl0IGluIGBtb3VudENvbXBvbmVudGAuYFxuICB0aGlzLnJlbmRlclRvU3RhdGljTWFya3VwID0gZmFsc2U7XG4gIHRoaXMucmVhY3RNb3VudFJlYWR5ID0gQ2FsbGJhY2tRdWV1ZS5nZXRQb29sZWQobnVsbCk7XG4gIHRoaXMucHV0TGlzdGVuZXJRdWV1ZSA9IFJlYWN0UHV0TGlzdGVuZXJRdWV1ZS5nZXRQb29sZWQoKTtcbn1cblxudmFyIE1peGluID0ge1xuICAvKipcbiAgICogQHNlZSBUcmFuc2FjdGlvblxuICAgKiBAYWJzdHJhY3RcbiAgICogQGZpbmFsXG4gICAqIEByZXR1cm4ge2FycmF5PG9iamVjdD59IExpc3Qgb2Ygb3BlcmF0aW9uIHdyYXAgcHJvY2VlZHVyZXMuXG4gICAqICAgVE9ETzogY29udmVydCB0byBhcnJheTxUcmFuc2FjdGlvbldyYXBwZXI+XG4gICAqL1xuICBnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVFJBTlNBQ1RJT05fV1JBUFBFUlM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge29iamVjdH0gVGhlIHF1ZXVlIHRvIGNvbGxlY3QgYG9uRE9NUmVhZHlgIGNhbGxiYWNrcyB3aXRoLlxuICAgKi9cbiAgZ2V0UmVhY3RNb3VudFJlYWR5OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFjdE1vdW50UmVhZHk7XG4gIH0sXG5cbiAgZ2V0UHV0TGlzdGVuZXJRdWV1ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHV0TGlzdGVuZXJRdWV1ZTtcbiAgfSxcblxuICAvKipcbiAgICogYFBvb2xlZENsYXNzYCBsb29rcyBmb3IgdGhpcywgYW5kIHdpbGwgaW52b2tlIHRoaXMgYmVmb3JlIGFsbG93aW5nIHRoaXNcbiAgICogaW5zdGFuY2UgdG8gYmUgcmVzdXNlZC5cbiAgICovXG4gIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIENhbGxiYWNrUXVldWUucmVsZWFzZSh0aGlzLnJlYWN0TW91bnRSZWFkeSk7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkgPSBudWxsO1xuXG4gICAgUmVhY3RQdXRMaXN0ZW5lclF1ZXVlLnJlbGVhc2UodGhpcy5wdXRMaXN0ZW5lclF1ZXVlKTtcbiAgICB0aGlzLnB1dExpc3RlbmVyUXVldWUgPSBudWxsO1xuICB9XG59O1xuXG5cbmFzc2lnbihSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLnByb3RvdHlwZSwgVHJhbnNhY3Rpb24uTWl4aW4sIE1peGluKTtcblxuUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb247XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RSZWNvbmNpbGVyXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RSZWYgPSByZXF1aXJlKFwiLi9SZWFjdFJlZlwiKTtcbnZhciBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRWYWxpZGF0b3JcIik7XG5cbi8qKlxuICogSGVscGVyIHRvIGNhbGwgUmVhY3RSZWYuYXR0YWNoUmVmcyB3aXRoIHRoaXMgY29tcG9zaXRlIGNvbXBvbmVudCwgc3BsaXQgb3V0XG4gKiB0byBhdm9pZCBhbGxvY2F0aW9ucyBpbiB0aGUgdHJhbnNhY3Rpb24gbW91bnQtcmVhZHkgcXVldWUuXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaFJlZnMoKSB7XG4gIFJlYWN0UmVmLmF0dGFjaFJlZnModGhpcywgdGhpcy5fY3VycmVudEVsZW1lbnQpO1xufVxuXG52YXIgUmVhY3RSZWNvbmNpbGVyID0ge1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgY29tcG9uZW50LCByZW5kZXJzIG1hcmt1cCwgYW5kIHJlZ2lzdGVycyBldmVudCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGludGVybmFsSW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJvb3RJRCBET00gSUQgb2YgdGhlIHJvb3Qgbm9kZS5cbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEByZXR1cm4gez9zdHJpbmd9IFJlbmRlcmVkIG1hcmt1cCB0byBiZSBpbnNlcnRlZCBpbnRvIHRoZSBET00uXG4gICAqIEBmaW5hbFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCByb290SUQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgdmFyIG1hcmt1cCA9IGludGVybmFsSW5zdGFuY2UubW91bnRDb21wb25lbnQocm9vdElELCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNoZWNrQW5kV2FybkZvck11dGF0ZWRQcm9wcyhcbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fY3VycmVudEVsZW1lbnRcbiAgICAgICk7XG4gICAgfVxuICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoYXR0YWNoUmVmcywgaW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgcmV0dXJuIG1hcmt1cDtcbiAgfSxcblxuICAvKipcbiAgICogUmVsZWFzZXMgYW55IHJlc291cmNlcyBhbGxvY2F0ZWQgYnkgYG1vdW50Q29tcG9uZW50YC5cbiAgICpcbiAgICogQGZpbmFsXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24oaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgIFJlYWN0UmVmLmRldGFjaFJlZnMoaW50ZXJuYWxJbnN0YW5jZSwgaW50ZXJuYWxJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQpO1xuICAgIGludGVybmFsSW5zdGFuY2UudW5tb3VudENvbXBvbmVudCgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBjb21wb25lbnQgdXNpbmcgYSBuZXcgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENvbXBvbmVudH0gaW50ZXJuYWxJbnN0YW5jZVxuICAgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gbmV4dEVsZW1lbnRcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHJlY2VpdmVDb21wb25lbnQ6IGZ1bmN0aW9uKFxuICAgIGludGVybmFsSW5zdGFuY2UsIG5leHRFbGVtZW50LCB0cmFuc2FjdGlvbiwgY29udGV4dFxuICApIHtcbiAgICB2YXIgcHJldkVsZW1lbnQgPSBpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudDtcblxuICAgIGlmIChuZXh0RWxlbWVudCA9PT0gcHJldkVsZW1lbnQgJiYgbmV4dEVsZW1lbnQuX293bmVyICE9IG51bGwpIHtcbiAgICAgIC8vIFNpbmNlIGVsZW1lbnRzIGFyZSBpbW11dGFibGUgYWZ0ZXIgdGhlIG93bmVyIGlzIHJlbmRlcmVkLFxuICAgICAgLy8gd2UgY2FuIGRvIGEgY2hlYXAgaWRlbnRpdHkgY29tcGFyZSBoZXJlIHRvIGRldGVybWluZSBpZiB0aGlzIGlzIGFcbiAgICAgIC8vIHN1cGVyZmx1b3VzIHJlY29uY2lsZS4gSXQncyBwb3NzaWJsZSBmb3Igc3RhdGUgdG8gYmUgbXV0YWJsZSBidXQgc3VjaFxuICAgICAgLy8gY2hhbmdlIHNob3VsZCB0cmlnZ2VyIGFuIHVwZGF0ZSBvZiB0aGUgb3duZXIgd2hpY2ggd291bGQgcmVjcmVhdGVcbiAgICAgIC8vIHRoZSBlbGVtZW50LiBXZSBleHBsaWNpdGx5IGNoZWNrIGZvciB0aGUgZXhpc3RlbmNlIG9mIGFuIG93bmVyIHNpbmNlXG4gICAgICAvLyBpdCdzIHBvc3NpYmxlIGZvciBhbiBlbGVtZW50IGNyZWF0ZWQgb3V0c2lkZSBhIGNvbXBvc2l0ZSB0byBiZVxuICAgICAgLy8gZGVlcGx5IG11dGF0ZWQgYW5kIHJldXNlZC5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY2hlY2tBbmRXYXJuRm9yTXV0YXRlZFByb3BzKG5leHRFbGVtZW50KTtcbiAgICB9XG5cbiAgICB2YXIgcmVmc0NoYW5nZWQgPSBSZWFjdFJlZi5zaG91bGRVcGRhdGVSZWZzKFxuICAgICAgcHJldkVsZW1lbnQsXG4gICAgICBuZXh0RWxlbWVudFxuICAgICk7XG5cbiAgICBpZiAocmVmc0NoYW5nZWQpIHtcbiAgICAgIFJlYWN0UmVmLmRldGFjaFJlZnMoaW50ZXJuYWxJbnN0YW5jZSwgcHJldkVsZW1lbnQpO1xuICAgIH1cblxuICAgIGludGVybmFsSW5zdGFuY2UucmVjZWl2ZUNvbXBvbmVudChuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuXG4gICAgaWYgKHJlZnNDaGFuZ2VkKSB7XG4gICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKGF0dGFjaFJlZnMsIGludGVybmFsSW5zdGFuY2UpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRmx1c2ggYW55IGRpcnR5IGNoYW5nZXMgaW4gYSBjb21wb25lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGludGVybmFsSW5zdGFuY2VcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeTogZnVuY3Rpb24oXG4gICAgaW50ZXJuYWxJbnN0YW5jZSxcbiAgICB0cmFuc2FjdGlvblxuICApIHtcbiAgICBpbnRlcm5hbEluc3RhbmNlLnBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeSh0cmFuc2FjdGlvbik7XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJlY29uY2lsZXI7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RSZWZcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdE93bmVyID0gcmVxdWlyZShcIi4vUmVhY3RPd25lclwiKTtcblxudmFyIFJlYWN0UmVmID0ge307XG5cbmZ1bmN0aW9uIGF0dGFjaFJlZihyZWYsIGNvbXBvbmVudCwgb3duZXIpIHtcbiAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZWYoY29tcG9uZW50LmdldFB1YmxpY0luc3RhbmNlKCkpO1xuICB9IGVsc2Uge1xuICAgIC8vIExlZ2FjeSByZWZcbiAgICBSZWFjdE93bmVyLmFkZENvbXBvbmVudEFzUmVmVG8oY29tcG9uZW50LCByZWYsIG93bmVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZXRhY2hSZWYocmVmLCBjb21wb25lbnQsIG93bmVyKSB7XG4gIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmVmKG51bGwpO1xuICB9IGVsc2Uge1xuICAgIC8vIExlZ2FjeSByZWZcbiAgICBSZWFjdE93bmVyLnJlbW92ZUNvbXBvbmVudEFzUmVmRnJvbShjb21wb25lbnQsIHJlZiwgb3duZXIpO1xuICB9XG59XG5cblJlYWN0UmVmLmF0dGFjaFJlZnMgPSBmdW5jdGlvbihpbnN0YW5jZSwgZWxlbWVudCkge1xuICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gIGlmIChyZWYgIT0gbnVsbCkge1xuICAgIGF0dGFjaFJlZihyZWYsIGluc3RhbmNlLCBlbGVtZW50Ll9vd25lcik7XG4gIH1cbn07XG5cblJlYWN0UmVmLnNob3VsZFVwZGF0ZVJlZnMgPSBmdW5jdGlvbihwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQpIHtcbiAgLy8gSWYgZWl0aGVyIHRoZSBvd25lciBvciBhIGByZWZgIGhhcyBjaGFuZ2VkLCBtYWtlIHN1cmUgdGhlIG5ld2VzdCBvd25lclxuICAvLyBoYXMgc3RvcmVkIGEgcmVmZXJlbmNlIHRvIGB0aGlzYCwgYW5kIHRoZSBwcmV2aW91cyBvd25lciAoaWYgZGlmZmVyZW50KVxuICAvLyBoYXMgZm9yZ290dGVuIHRoZSByZWZlcmVuY2UgdG8gYHRoaXNgLiBXZSB1c2UgdGhlIGVsZW1lbnQgaW5zdGVhZFxuICAvLyBvZiB0aGUgcHVibGljIHRoaXMucHJvcHMgYmVjYXVzZSB0aGUgcG9zdCBwcm9jZXNzaW5nIGNhbm5vdCBkZXRlcm1pbmVcbiAgLy8gYSByZWYuIFRoZSByZWYgY29uY2VwdHVhbGx5IGxpdmVzIG9uIHRoZSBlbGVtZW50LlxuXG4gIC8vIFRPRE86IFNob3VsZCB0aGlzIGV2ZW4gYmUgcG9zc2libGU/IFRoZSBvd25lciBjYW5ub3QgY2hhbmdlIGJlY2F1c2VcbiAgLy8gaXQncyBmb3JiaWRkZW4gYnkgc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQuIFRoZSByZWYgY2FuIGNoYW5nZVxuICAvLyBpZiB5b3Ugc3dhcCB0aGUga2V5cyBvZiBidXQgbm90IHRoZSByZWZzLiBSZWNvbnNpZGVyIHdoZXJlIHRoaXMgY2hlY2tcbiAgLy8gaXMgbWFkZS4gSXQgcHJvYmFibHkgYmVsb25ncyB3aGVyZSB0aGUga2V5IGNoZWNraW5nIGFuZFxuICAvLyBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50IGlzIGRvbmUuXG5cbiAgcmV0dXJuIChcbiAgICBuZXh0RWxlbWVudC5fb3duZXIgIT09IHByZXZFbGVtZW50Ll9vd25lciB8fFxuICAgIG5leHRFbGVtZW50LnJlZiAhPT0gcHJldkVsZW1lbnQucmVmXG4gICk7XG59O1xuXG5SZWFjdFJlZi5kZXRhY2hSZWZzID0gZnVuY3Rpb24oaW5zdGFuY2UsIGVsZW1lbnQpIHtcbiAgdmFyIHJlZiA9IGVsZW1lbnQucmVmO1xuICBpZiAocmVmICE9IG51bGwpIHtcbiAgICBkZXRhY2hSZWYocmVmLCBpbnN0YW5jZSwgZWxlbWVudC5fb3duZXIpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UmVmO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0Um9vdEluZGV4XG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0Um9vdEluZGV4SW5qZWN0aW9uID0ge1xuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gX2NyZWF0ZVJlYWN0Um9vdEluZGV4XG4gICAqL1xuICBpbmplY3RDcmVhdGVSZWFjdFJvb3RJbmRleDogZnVuY3Rpb24oX2NyZWF0ZVJlYWN0Um9vdEluZGV4KSB7XG4gICAgUmVhY3RSb290SW5kZXguY3JlYXRlUmVhY3RSb290SW5kZXggPSBfY3JlYXRlUmVhY3RSb290SW5kZXg7XG4gIH1cbn07XG5cbnZhciBSZWFjdFJvb3RJbmRleCA9IHtcbiAgY3JlYXRlUmVhY3RSb290SW5kZXg6IG51bGwsXG4gIGluamVjdGlvbjogUmVhY3RSb290SW5kZXhJbmplY3Rpb25cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RSb290SW5kZXg7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0U2VydmVyUmVuZGVyaW5nXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RWxlbWVudFwiKTtcbnZhciBSZWFjdEluc3RhbmNlSGFuZGxlcyA9IHJlcXVpcmUoXCIuL1JlYWN0SW5zdGFuY2VIYW5kbGVzXCIpO1xudmFyIFJlYWN0TWFya3VwQ2hlY2tzdW0gPSByZXF1aXJlKFwiLi9SZWFjdE1hcmt1cENoZWNrc3VtXCIpO1xudmFyIFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24gPVxuICByZXF1aXJlKFwiLi9SZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uXCIpO1xuXG52YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKFwiLi9lbXB0eU9iamVjdFwiKTtcbnZhciBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50ID0gcmVxdWlyZShcIi4vaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudFwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG5cbi8qKlxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIEhUTUwgbWFya3VwXG4gKi9cbmZ1bmN0aW9uIHJlbmRlclRvU3RyaW5nKGVsZW1lbnQpIHtcbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICBSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoZWxlbWVudCksXG4gICAgJ3JlbmRlclRvU3RyaW5nKCk6IFlvdSBtdXN0IHBhc3MgYSB2YWxpZCBSZWFjdEVsZW1lbnQuJ1xuICApIDogaW52YXJpYW50KFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkpO1xuXG4gIHZhciB0cmFuc2FjdGlvbjtcbiAgdHJ5IHtcbiAgICB2YXIgaWQgPSBSZWFjdEluc3RhbmNlSGFuZGxlcy5jcmVhdGVSZWFjdFJvb3RJRCgpO1xuICAgIHRyYW5zYWN0aW9uID0gUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbi5nZXRQb29sZWQoZmFsc2UpO1xuXG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uLnBlcmZvcm0oZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KGVsZW1lbnQsIG51bGwpO1xuICAgICAgdmFyIG1hcmt1cCA9XG4gICAgICAgIGNvbXBvbmVudEluc3RhbmNlLm1vdW50Q29tcG9uZW50KGlkLCB0cmFuc2FjdGlvbiwgZW1wdHlPYmplY3QpO1xuICAgICAgcmV0dXJuIFJlYWN0TWFya3VwQ2hlY2tzdW0uYWRkQ2hlY2tzdW1Ub01hcmt1cChtYXJrdXApO1xuICAgIH0sIG51bGwpO1xuICB9IGZpbmFsbHkge1xuICAgIFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24ucmVsZWFzZSh0cmFuc2FjdGlvbik7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgSFRNTCBtYXJrdXAsIHdpdGhvdXQgdGhlIGV4dHJhIFJlYWN0IElEIGFuZCBjaGVja3N1bVxuICogKGZvciBnZW5lcmF0aW5nIHN0YXRpYyBwYWdlcylcbiAqL1xuZnVuY3Rpb24gcmVuZGVyVG9TdGF0aWNNYXJrdXAoZWxlbWVudCkge1xuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgIFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSxcbiAgICAncmVuZGVyVG9TdGF0aWNNYXJrdXAoKTogWW91IG11c3QgcGFzcyBhIHZhbGlkIFJlYWN0RWxlbWVudC4nXG4gICkgOiBpbnZhcmlhbnQoUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSk7XG5cbiAgdmFyIHRyYW5zYWN0aW9uO1xuICB0cnkge1xuICAgIHZhciBpZCA9IFJlYWN0SW5zdGFuY2VIYW5kbGVzLmNyZWF0ZVJlYWN0Um9vdElEKCk7XG4gICAgdHJhbnNhY3Rpb24gPSBSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uLmdldFBvb2xlZCh0cnVlKTtcblxuICAgIHJldHVybiB0cmFuc2FjdGlvbi5wZXJmb3JtKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvbXBvbmVudEluc3RhbmNlID0gaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChlbGVtZW50LCBudWxsKTtcbiAgICAgIHJldHVybiBjb21wb25lbnRJbnN0YW5jZS5tb3VudENvbXBvbmVudChpZCwgdHJhbnNhY3Rpb24sIGVtcHR5T2JqZWN0KTtcbiAgICB9LCBudWxsKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uLnJlbGVhc2UodHJhbnNhY3Rpb24pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICByZW5kZXJUb1N0cmluZzogcmVuZGVyVG9TdHJpbmcsXG4gIHJlbmRlclRvU3RhdGljTWFya3VwOiByZW5kZXJUb1N0YXRpY01hcmt1cFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFBvb2xlZENsYXNzID0gcmVxdWlyZShcIi4vUG9vbGVkQ2xhc3NcIik7XG52YXIgQ2FsbGJhY2tRdWV1ZSA9IHJlcXVpcmUoXCIuL0NhbGxiYWNrUXVldWVcIik7XG52YXIgUmVhY3RQdXRMaXN0ZW5lclF1ZXVlID0gcmVxdWlyZShcIi4vUmVhY3RQdXRMaXN0ZW5lclF1ZXVlXCIpO1xudmFyIFRyYW5zYWN0aW9uID0gcmVxdWlyZShcIi4vVHJhbnNhY3Rpb25cIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKFwiLi9lbXB0eUZ1bmN0aW9uXCIpO1xuXG4vKipcbiAqIFByb3ZpZGVzIGEgYENhbGxiYWNrUXVldWVgIHF1ZXVlIGZvciBjb2xsZWN0aW5nIGBvbkRPTVJlYWR5YCBjYWxsYmFja3NcbiAqIGR1cmluZyB0aGUgcGVyZm9ybWluZyBvZiB0aGUgdHJhbnNhY3Rpb24uXG4gKi9cbnZhciBPTl9ET01fUkVBRFlfUVVFVUVJTkcgPSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgaW50ZXJuYWwgYG9uRE9NUmVhZHlgIHF1ZXVlLlxuICAgKi9cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkucmVzZXQoKTtcbiAgfSxcblxuICBjbG9zZTogZW1wdHlGdW5jdGlvblxufTtcblxudmFyIFBVVF9MSVNURU5FUl9RVUVVRUlORyA9IHtcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wdXRMaXN0ZW5lclF1ZXVlLnJlc2V0KCk7XG4gIH0sXG5cbiAgY2xvc2U6IGVtcHR5RnVuY3Rpb25cbn07XG5cbi8qKlxuICogRXhlY3V0ZWQgd2l0aGluIHRoZSBzY29wZSBvZiB0aGUgYFRyYW5zYWN0aW9uYCBpbnN0YW5jZS4gQ29uc2lkZXIgdGhlc2UgYXNcbiAqIGJlaW5nIG1lbWJlciBtZXRob2RzLCBidXQgd2l0aCBhbiBpbXBsaWVkIG9yZGVyaW5nIHdoaWxlIGJlaW5nIGlzb2xhdGVkIGZyb21cbiAqIGVhY2ggb3RoZXIuXG4gKi9cbnZhciBUUkFOU0FDVElPTl9XUkFQUEVSUyA9IFtcbiAgUFVUX0xJU1RFTkVSX1FVRVVFSU5HLFxuICBPTl9ET01fUkVBRFlfUVVFVUVJTkdcbl07XG5cbi8qKlxuICogQGNsYXNzIFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVuZGVyVG9TdGF0aWNNYXJrdXBcbiAqL1xuZnVuY3Rpb24gUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbihyZW5kZXJUb1N0YXRpY01hcmt1cCkge1xuICB0aGlzLnJlaW5pdGlhbGl6ZVRyYW5zYWN0aW9uKCk7XG4gIHRoaXMucmVuZGVyVG9TdGF0aWNNYXJrdXAgPSByZW5kZXJUb1N0YXRpY01hcmt1cDtcbiAgdGhpcy5yZWFjdE1vdW50UmVhZHkgPSBDYWxsYmFja1F1ZXVlLmdldFBvb2xlZChudWxsKTtcbiAgdGhpcy5wdXRMaXN0ZW5lclF1ZXVlID0gUmVhY3RQdXRMaXN0ZW5lclF1ZXVlLmdldFBvb2xlZCgpO1xufVxuXG52YXIgTWl4aW4gPSB7XG4gIC8qKlxuICAgKiBAc2VlIFRyYW5zYWN0aW9uXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAZmluYWxcbiAgICogQHJldHVybiB7YXJyYXl9IEVtcHR5IGxpc3Qgb2Ygb3BlcmF0aW9uIHdyYXAgcHJvY2VlZHVyZXMuXG4gICAqL1xuICBnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVFJBTlNBQ1RJT05fV1JBUFBFUlM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge29iamVjdH0gVGhlIHF1ZXVlIHRvIGNvbGxlY3QgYG9uRE9NUmVhZHlgIGNhbGxiYWNrcyB3aXRoLlxuICAgKi9cbiAgZ2V0UmVhY3RNb3VudFJlYWR5OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFjdE1vdW50UmVhZHk7XG4gIH0sXG5cbiAgZ2V0UHV0TGlzdGVuZXJRdWV1ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHV0TGlzdGVuZXJRdWV1ZTtcbiAgfSxcblxuICAvKipcbiAgICogYFBvb2xlZENsYXNzYCBsb29rcyBmb3IgdGhpcywgYW5kIHdpbGwgaW52b2tlIHRoaXMgYmVmb3JlIGFsbG93aW5nIHRoaXNcbiAgICogaW5zdGFuY2UgdG8gYmUgcmVzdXNlZC5cbiAgICovXG4gIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIENhbGxiYWNrUXVldWUucmVsZWFzZSh0aGlzLnJlYWN0TW91bnRSZWFkeSk7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkgPSBudWxsO1xuXG4gICAgUmVhY3RQdXRMaXN0ZW5lclF1ZXVlLnJlbGVhc2UodGhpcy5wdXRMaXN0ZW5lclF1ZXVlKTtcbiAgICB0aGlzLnB1dExpc3RlbmVyUXVldWUgPSBudWxsO1xuICB9XG59O1xuXG5cbmFzc2lnbihcbiAgUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbi5wcm90b3R5cGUsXG4gIFRyYW5zYWN0aW9uLk1peGluLFxuICBNaXhpblxuKTtcblxuUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb247XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RTdGF0ZVNldHRlcnNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFN0YXRlU2V0dGVycyA9IHtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbGxzIHRoZSBwcm92aWRlZCBmdW5jdGlvbiwgYW5kIHVzZXMgdGhlIHJlc3VsdFxuICAgKiBvZiB0aGF0IHRvIHNldCB0aGUgY29tcG9uZW50J3Mgc3RhdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDb21wb3NpdGVDb21wb25lbnR9IGNvbXBvbmVudFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jUmV0dXJuaW5nU3RhdGUgUmV0dXJuZWQgY2FsbGJhY2sgdXNlcyB0aGlzIHRvXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRlcm1pbmUgaG93IHRvIHVwZGF0ZSBzdGF0ZS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IGNhbGxiYWNrIHRoYXQgd2hlbiBpbnZva2VkIHVzZXMgZnVuY1JldHVybmluZ1N0YXRlIHRvXG4gICAqICAgICAgICAgICAgICAgICAgICBkZXRlcm1pbmVkIHRoZSBvYmplY3QgbGl0ZXJhbCB0byBzZXRTdGF0ZS5cbiAgICovXG4gIGNyZWF0ZVN0YXRlU2V0dGVyOiBmdW5jdGlvbihjb21wb25lbnQsIGZ1bmNSZXR1cm5pbmdTdGF0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICB2YXIgcGFydGlhbFN0YXRlID0gZnVuY1JldHVybmluZ1N0YXRlLmNhbGwoY29tcG9uZW50LCBhLCBiLCBjLCBkLCBlLCBmKTtcbiAgICAgIGlmIChwYXJ0aWFsU3RhdGUpIHtcbiAgICAgICAgY29tcG9uZW50LnNldFN0YXRlKHBhcnRpYWxTdGF0ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhIHNpbmdsZS1hcmd1bWVudCBjYWxsYmFjayB0aGF0IGNhbiBiZSB1c2VkIHRvIHVwZGF0ZSBhIHNpbmdsZVxuICAgKiBrZXkgaW4gdGhlIGNvbXBvbmVudCdzIHN0YXRlLlxuICAgKlxuICAgKiBOb3RlOiB0aGlzIGlzIG1lbW9pemVkIGZ1bmN0aW9uLCB3aGljaCBtYWtlcyBpdCBpbmV4cGVuc2l2ZSB0byBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50fSBjb21wb25lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGluIHRoZSBzdGF0ZSB0aGF0IHlvdSBzaG91bGQgdXBkYXRlLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gY2FsbGJhY2sgb2YgMSBhcmd1bWVudCB3aGljaCBjYWxscyBzZXRTdGF0ZSgpIHdpdGhcbiAgICogICAgICAgICAgICAgICAgICAgIHRoZSBwcm92aWRlZCBrZXlOYW1lIGFuZCBjYWxsYmFjayBhcmd1bWVudC5cbiAgICovXG4gIGNyZWF0ZVN0YXRlS2V5U2V0dGVyOiBmdW5jdGlvbihjb21wb25lbnQsIGtleSkge1xuICAgIC8vIE1lbW9pemUgdGhlIHNldHRlcnMuXG4gICAgdmFyIGNhY2hlID0gY29tcG9uZW50Ll9fa2V5U2V0dGVycyB8fCAoY29tcG9uZW50Ll9fa2V5U2V0dGVycyA9IHt9KTtcbiAgICByZXR1cm4gY2FjaGVba2V5XSB8fCAoY2FjaGVba2V5XSA9IGNyZWF0ZVN0YXRlS2V5U2V0dGVyKGNvbXBvbmVudCwga2V5KSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRlS2V5U2V0dGVyKGNvbXBvbmVudCwga2V5KSB7XG4gIC8vIFBhcnRpYWwgc3RhdGUgaXMgYWxsb2NhdGVkIG91dHNpZGUgb2YgdGhlIGZ1bmN0aW9uIGNsb3N1cmUgc28gaXQgY2FuIGJlXG4gIC8vIHJldXNlZCB3aXRoIGV2ZXJ5IGNhbGwsIGF2b2lkaW5nIG1lbW9yeSBhbGxvY2F0aW9uIHdoZW4gdGhpcyBmdW5jdGlvblxuICAvLyBpcyBjYWxsZWQuXG4gIHZhciBwYXJ0aWFsU3RhdGUgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHN0YXRlS2V5U2V0dGVyKHZhbHVlKSB7XG4gICAgcGFydGlhbFN0YXRlW2tleV0gPSB2YWx1ZTtcbiAgICBjb21wb25lbnQuc2V0U3RhdGUocGFydGlhbFN0YXRlKTtcbiAgfTtcbn1cblxuUmVhY3RTdGF0ZVNldHRlcnMuTWl4aW4gPSB7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjYWxscyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24sIGFuZCB1c2VzIHRoZSByZXN1bHRcbiAgICogb2YgdGhhdCB0byBzZXQgdGhlIGNvbXBvbmVudCdzIHN0YXRlLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSwgdGhlc2Ugc3RhdGVtZW50cyBhcmUgZXF1aXZhbGVudDpcbiAgICpcbiAgICogICB0aGlzLnNldFN0YXRlKHt4OiAxfSk7XG4gICAqICAgdGhpcy5jcmVhdGVTdGF0ZVNldHRlcihmdW5jdGlvbih4VmFsdWUpIHtcbiAgICogICAgIHJldHVybiB7eDogeFZhbHVlfTtcbiAgICogICB9KSgxKTtcbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuY1JldHVybmluZ1N0YXRlIFJldHVybmVkIGNhbGxiYWNrIHVzZXMgdGhpcyB0b1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0ZXJtaW5lIGhvdyB0byB1cGRhdGUgc3RhdGUuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBjYWxsYmFjayB0aGF0IHdoZW4gaW52b2tlZCB1c2VzIGZ1bmNSZXR1cm5pbmdTdGF0ZSB0b1xuICAgKiAgICAgICAgICAgICAgICAgICAgZGV0ZXJtaW5lZCB0aGUgb2JqZWN0IGxpdGVyYWwgdG8gc2V0U3RhdGUuXG4gICAqL1xuICBjcmVhdGVTdGF0ZVNldHRlcjogZnVuY3Rpb24oZnVuY1JldHVybmluZ1N0YXRlKSB7XG4gICAgcmV0dXJuIFJlYWN0U3RhdGVTZXR0ZXJzLmNyZWF0ZVN0YXRlU2V0dGVyKHRoaXMsIGZ1bmNSZXR1cm5pbmdTdGF0ZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzaW5nbGUtYXJndW1lbnQgY2FsbGJhY2sgdGhhdCBjYW4gYmUgdXNlZCB0byB1cGRhdGUgYSBzaW5nbGVcbiAgICoga2V5IGluIHRoZSBjb21wb25lbnQncyBzdGF0ZS5cbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIHRoZXNlIHN0YXRlbWVudHMgYXJlIGVxdWl2YWxlbnQ6XG4gICAqXG4gICAqICAgdGhpcy5zZXRTdGF0ZSh7eDogMX0pO1xuICAgKiAgIHRoaXMuY3JlYXRlU3RhdGVLZXlTZXR0ZXIoJ3gnKSgxKTtcbiAgICpcbiAgICogTm90ZTogdGhpcyBpcyBtZW1vaXplZCBmdW5jdGlvbiwgd2hpY2ggbWFrZXMgaXQgaW5leHBlbnNpdmUgdG8gY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGluIHRoZSBzdGF0ZSB0aGF0IHlvdSBzaG91bGQgdXBkYXRlLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gY2FsbGJhY2sgb2YgMSBhcmd1bWVudCB3aGljaCBjYWxscyBzZXRTdGF0ZSgpIHdpdGhcbiAgICogICAgICAgICAgICAgICAgICAgIHRoZSBwcm92aWRlZCBrZXlOYW1lIGFuZCBjYWxsYmFjayBhcmd1bWVudC5cbiAgICovXG4gIGNyZWF0ZVN0YXRlS2V5U2V0dGVyOiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gUmVhY3RTdGF0ZVNldHRlcnMuY3JlYXRlU3RhdGVLZXlTZXR0ZXIodGhpcywga2V5KTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFN0YXRlU2V0dGVycztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFRlc3RVdGlsc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZShcIi4vRXZlbnRDb25zdGFudHNcIik7XG52YXIgRXZlbnRQbHVnaW5IdWIgPSByZXF1aXJlKFwiLi9FdmVudFBsdWdpbkh1YlwiKTtcbnZhciBFdmVudFByb3BhZ2F0b3JzID0gcmVxdWlyZShcIi4vRXZlbnRQcm9wYWdhdG9yc1wiKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoXCIuL1JlYWN0XCIpO1xudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RWxlbWVudFwiKTtcbnZhciBSZWFjdEVtcHR5Q29tcG9uZW50ID0gcmVxdWlyZShcIi4vUmVhY3RFbXB0eUNvbXBvbmVudFwiKTtcbnZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiLi9SZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXJcIik7XG52YXIgUmVhY3RDb21wb3NpdGVDb21wb25lbnQgPSByZXF1aXJlKFwiLi9SZWFjdENvbXBvc2l0ZUNvbXBvbmVudFwiKTtcbnZhciBSZWFjdEluc3RhbmNlSGFuZGxlcyA9IHJlcXVpcmUoXCIuL1JlYWN0SW5zdGFuY2VIYW5kbGVzXCIpO1xudmFyIFJlYWN0SW5zdGFuY2VNYXAgPSByZXF1aXJlKFwiLi9SZWFjdEluc3RhbmNlTWFwXCIpO1xudmFyIFJlYWN0TW91bnQgPSByZXF1aXJlKFwiLi9SZWFjdE1vdW50XCIpO1xudmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoXCIuL1JlYWN0VXBkYXRlc1wiKTtcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoXCIuL1N5bnRoZXRpY0V2ZW50XCIpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4vT2JqZWN0LmFzc2lnblwiKTtcbnZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoXCIuL2VtcHR5T2JqZWN0XCIpO1xuXG52YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG5cbmZ1bmN0aW9uIEV2ZW50KHN1ZmZpeCkge31cblxuLyoqXG4gKiBAY2xhc3MgUmVhY3RUZXN0VXRpbHNcbiAqL1xuXG4vKipcbiAqIFRvZG86IFN1cHBvcnQgdGhlIGVudGlyZSBET00uc2NyeSBxdWVyeSBzeW50YXguIEZvciBub3csIHRoZXNlIHNpbXBsZVxuICogdXRpbGl0aWVzIHdpbGwgc3VmZmljZSBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAqIEBsZW5kcyBSZWFjdFRlc3RVdGlsc1xuICovXG52YXIgUmVhY3RUZXN0VXRpbHMgPSB7XG4gIHJlbmRlckludG9Eb2N1bWVudDogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgLy8gTm9uZSBvZiBvdXIgdGVzdHMgYWN0dWFsbHkgcmVxdWlyZSBhdHRhY2hpbmcgdGhlIGNvbnRhaW5lciB0byB0aGVcbiAgICAvLyBET00sIGFuZCBkb2luZyBzbyBjcmVhdGVzIGEgbWVzcyB0aGF0IHdlIHJlbHkgb24gdGVzdCBpc29sYXRpb24gdG9cbiAgICAvLyBjbGVhbiB1cCwgc28gd2UncmUgZ29pbmcgdG8gc3RvcCBob25vcmluZyB0aGUgbmFtZSBvZiB0aGlzIG1ldGhvZFxuICAgIC8vIChhbmQgcHJvYmFibHkgcmVuYW1lIGl0IGV2ZW50dWFsbHkpIGlmIG5vIHByb2JsZW1zIGFyaXNlLlxuICAgIC8vIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChkaXYpO1xuICAgIHJldHVybiBSZWFjdC5yZW5kZXIoaW5zdGFuY2UsIGRpdik7XG4gIH0sXG5cbiAgaXNFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChlbGVtZW50KTtcbiAgfSxcblxuICBpc0VsZW1lbnRPZlR5cGU6IGZ1bmN0aW9uKGluc3QsIGNvbnZlbmllbmNlQ29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGluc3QpICYmXG4gICAgICBpbnN0LnR5cGUgPT09IGNvbnZlbmllbmNlQ29uc3RydWN0b3JcbiAgICApO1xuICB9LFxuXG4gIGlzRE9NQ29tcG9uZW50OiBmdW5jdGlvbihpbnN0KSB7XG4gICAgLy8gVE9ETzogRml4IHRoaXMgaGV1cmlzdGljLiBJdCdzIGp1c3QgaGVyZSBiZWNhdXNlIGNvbXBvc2l0ZXMgY2FuIGN1cnJlbnRseVxuICAgIC8vIHByZXRlbmQgdG8gYmUgRE9NIGNvbXBvbmVudHMuXG4gICAgcmV0dXJuICEhKGluc3QgJiYgaW5zdC50YWdOYW1lICYmIGluc3QuZ2V0RE9NTm9kZSk7XG4gIH0sXG5cbiAgaXNET01Db21wb25lbnRFbGVtZW50OiBmdW5jdGlvbihpbnN0KSB7XG4gICAgcmV0dXJuICEhKGluc3QgJiZcbiAgICAgICAgICAgICAgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGluc3QpICYmXG4gICAgICAgICAgICAgICEhaW5zdC50YWdOYW1lKTtcbiAgfSxcblxuICBpc0NvbXBvc2l0ZUNvbXBvbmVudDogZnVuY3Rpb24oaW5zdCkge1xuICAgIHJldHVybiB0eXBlb2YgaW5zdC5yZW5kZXIgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgdHlwZW9mIGluc3Quc2V0U3RhdGUgPT09ICdmdW5jdGlvbic7XG4gIH0sXG5cbiAgaXNDb21wb3NpdGVDb21wb25lbnRXaXRoVHlwZTogZnVuY3Rpb24oaW5zdCwgdHlwZSkge1xuICAgIHJldHVybiAhIShSZWFjdFRlc3RVdGlscy5pc0NvbXBvc2l0ZUNvbXBvbmVudChpbnN0KSAmJlxuICAgICAgICAgICAgIChpbnN0LmNvbnN0cnVjdG9yID09PSB0eXBlKSk7XG4gIH0sXG5cbiAgaXNDb21wb3NpdGVDb21wb25lbnRFbGVtZW50OiBmdW5jdGlvbihpbnN0KSB7XG4gICAgaWYgKCFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoaW5zdCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gV2UgY2hlY2sgdGhlIHByb3RvdHlwZSBvZiB0aGUgdHlwZSB0aGF0IHdpbGwgZ2V0IG1vdW50ZWQsIG5vdCB0aGVcbiAgICAvLyBpbnN0YW5jZSBpdHNlbGYuIFRoaXMgaXMgYSBmdXR1cmUgcHJvb2Ygd2F5IG9mIGR1Y2sgdHlwaW5nLlxuICAgIHZhciBwcm90b3R5cGUgPSBpbnN0LnR5cGUucHJvdG90eXBlO1xuICAgIHJldHVybiAoXG4gICAgICB0eXBlb2YgcHJvdG90eXBlLnJlbmRlciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdHlwZW9mIHByb3RvdHlwZS5zZXRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICk7XG4gIH0sXG5cbiAgaXNDb21wb3NpdGVDb21wb25lbnRFbGVtZW50V2l0aFR5cGU6IGZ1bmN0aW9uKGluc3QsIHR5cGUpIHtcbiAgICByZXR1cm4gISEoUmVhY3RUZXN0VXRpbHMuaXNDb21wb3NpdGVDb21wb25lbnRFbGVtZW50KGluc3QpICYmXG4gICAgICAgICAgICAgKGluc3QuY29uc3RydWN0b3IgPT09IHR5cGUpKTtcbiAgfSxcblxuICBnZXRSZW5kZXJlZENoaWxkT2ZDb21wb3NpdGVDb21wb25lbnQ6IGZ1bmN0aW9uKGluc3QpIHtcbiAgICBpZiAoIVJlYWN0VGVzdFV0aWxzLmlzQ29tcG9zaXRlQ29tcG9uZW50KGluc3QpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBSZWFjdEluc3RhbmNlTWFwLmdldChpbnN0KTtcbiAgICByZXR1cm4gaW50ZXJuYWxJbnN0YW5jZS5fcmVuZGVyZWRDb21wb25lbnQuZ2V0UHVibGljSW5zdGFuY2UoKTtcbiAgfSxcblxuICBmaW5kQWxsSW5SZW5kZXJlZFRyZWU6IGZ1bmN0aW9uKGluc3QsIHRlc3QpIHtcbiAgICBpZiAoIWluc3QpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdmFyIHJldCA9IHRlc3QoaW5zdCkgPyBbaW5zdF0gOiBbXTtcbiAgICBpZiAoUmVhY3RUZXN0VXRpbHMuaXNET01Db21wb25lbnQoaW5zdCkpIHtcbiAgICAgIHZhciBpbnRlcm5hbEluc3RhbmNlID0gUmVhY3RJbnN0YW5jZU1hcC5nZXQoaW5zdCk7XG4gICAgICB2YXIgcmVuZGVyZWRDaGlsZHJlbiA9IGludGVybmFsSW5zdGFuY2VcbiAgICAgICAgLl9yZW5kZXJlZENvbXBvbmVudFxuICAgICAgICAuX3JlbmRlcmVkQ2hpbGRyZW47XG4gICAgICB2YXIga2V5O1xuICAgICAgZm9yIChrZXkgaW4gcmVuZGVyZWRDaGlsZHJlbikge1xuICAgICAgICBpZiAoIXJlbmRlcmVkQ2hpbGRyZW4uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVuZGVyZWRDaGlsZHJlbltrZXldLmdldFB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0ID0gcmV0LmNvbmNhdChcbiAgICAgICAgICBSZWFjdFRlc3RVdGlscy5maW5kQWxsSW5SZW5kZXJlZFRyZWUoXG4gICAgICAgICAgICByZW5kZXJlZENoaWxkcmVuW2tleV0uZ2V0UHVibGljSW5zdGFuY2UoKSxcbiAgICAgICAgICAgIHRlc3RcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChSZWFjdFRlc3RVdGlscy5pc0NvbXBvc2l0ZUNvbXBvbmVudChpbnN0KSkge1xuICAgICAgcmV0ID0gcmV0LmNvbmNhdChcbiAgICAgICAgUmVhY3RUZXN0VXRpbHMuZmluZEFsbEluUmVuZGVyZWRUcmVlKFxuICAgICAgICAgIFJlYWN0VGVzdFV0aWxzLmdldFJlbmRlcmVkQ2hpbGRPZkNvbXBvc2l0ZUNvbXBvbmVudChpbnN0KSxcbiAgICAgICAgICB0ZXN0XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmRzIGFsbCBpbnN0YW5jZSBvZiBjb21wb25lbnRzIGluIHRoZSByZW5kZXJlZCB0cmVlIHRoYXQgYXJlIERPTVxuICAgKiBjb21wb25lbnRzIHdpdGggdGhlIGNsYXNzIG5hbWUgbWF0Y2hpbmcgYGNsYXNzTmFtZWAuXG4gICAqIEByZXR1cm4gYW4gYXJyYXkgb2YgYWxsIHRoZSBtYXRjaGVzLlxuICAgKi9cbiAgc2NyeVJlbmRlcmVkRE9NQ29tcG9uZW50c1dpdGhDbGFzczogZnVuY3Rpb24ocm9vdCwgY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIFJlYWN0VGVzdFV0aWxzLmZpbmRBbGxJblJlbmRlcmVkVHJlZShyb290LCBmdW5jdGlvbihpbnN0KSB7XG4gICAgICB2YXIgaW5zdENsYXNzTmFtZSA9IGluc3QucHJvcHMuY2xhc3NOYW1lO1xuICAgICAgcmV0dXJuIFJlYWN0VGVzdFV0aWxzLmlzRE9NQ29tcG9uZW50KGluc3QpICYmIChcbiAgICAgICAgKGluc3RDbGFzc05hbWUgJiYgKCcgJyArIGluc3RDbGFzc05hbWUgKyAnICcpLmluZGV4T2YoJyAnICsgY2xhc3NOYW1lICsgJyAnKSAhPT0gLTEpXG4gICAgICApO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBMaWtlIHNjcnlSZW5kZXJlZERPTUNvbXBvbmVudHNXaXRoQ2xhc3MgYnV0IGV4cGVjdHMgdGhlcmUgdG8gYmUgb25lIHJlc3VsdCxcbiAgICogYW5kIHJldHVybnMgdGhhdCBvbmUgcmVzdWx0LCBvciB0aHJvd3MgZXhjZXB0aW9uIGlmIHRoZXJlIGlzIGFueSBvdGhlclxuICAgKiBudW1iZXIgb2YgbWF0Y2hlcyBiZXNpZGVzIG9uZS5cbiAgICogQHJldHVybiB7IVJlYWN0RE9NQ29tcG9uZW50fSBUaGUgb25lIG1hdGNoLlxuICAgKi9cbiAgZmluZFJlbmRlcmVkRE9NQ29tcG9uZW50V2l0aENsYXNzOiBmdW5jdGlvbihyb290LCBjbGFzc05hbWUpIHtcbiAgICB2YXIgYWxsID1cbiAgICAgIFJlYWN0VGVzdFV0aWxzLnNjcnlSZW5kZXJlZERPTUNvbXBvbmVudHNXaXRoQ2xhc3Mocm9vdCwgY2xhc3NOYW1lKTtcbiAgICBpZiAoYWxsLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEaWQgbm90IGZpbmQgZXhhY3RseSBvbmUgbWF0Y2ggJyArXG4gICAgICAgICcoZm91bmQ6ICcgKyBhbGwubGVuZ3RoICsgJykgZm9yIGNsYXNzOicgKyBjbGFzc05hbWVcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBhbGxbMF07XG4gIH0sXG5cblxuICAvKipcbiAgICogRmluZHMgYWxsIGluc3RhbmNlIG9mIGNvbXBvbmVudHMgaW4gdGhlIHJlbmRlcmVkIHRyZWUgdGhhdCBhcmUgRE9NXG4gICAqIGNvbXBvbmVudHMgd2l0aCB0aGUgdGFnIG5hbWUgbWF0Y2hpbmcgYHRhZ05hbWVgLlxuICAgKiBAcmV0dXJuIGFuIGFycmF5IG9mIGFsbCB0aGUgbWF0Y2hlcy5cbiAgICovXG4gIHNjcnlSZW5kZXJlZERPTUNvbXBvbmVudHNXaXRoVGFnOiBmdW5jdGlvbihyb290LCB0YWdOYW1lKSB7XG4gICAgcmV0dXJuIFJlYWN0VGVzdFV0aWxzLmZpbmRBbGxJblJlbmRlcmVkVHJlZShyb290LCBmdW5jdGlvbihpbnN0KSB7XG4gICAgICByZXR1cm4gUmVhY3RUZXN0VXRpbHMuaXNET01Db21wb25lbnQoaW5zdCkgJiZcbiAgICAgICAgICAgIGluc3QudGFnTmFtZSA9PT0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBMaWtlIHNjcnlSZW5kZXJlZERPTUNvbXBvbmVudHNXaXRoVGFnIGJ1dCBleHBlY3RzIHRoZXJlIHRvIGJlIG9uZSByZXN1bHQsXG4gICAqIGFuZCByZXR1cm5zIHRoYXQgb25lIHJlc3VsdCwgb3IgdGhyb3dzIGV4Y2VwdGlvbiBpZiB0aGVyZSBpcyBhbnkgb3RoZXJcbiAgICogbnVtYmVyIG9mIG1hdGNoZXMgYmVzaWRlcyBvbmUuXG4gICAqIEByZXR1cm4geyFSZWFjdERPTUNvbXBvbmVudH0gVGhlIG9uZSBtYXRjaC5cbiAgICovXG4gIGZpbmRSZW5kZXJlZERPTUNvbXBvbmVudFdpdGhUYWc6IGZ1bmN0aW9uKHJvb3QsIHRhZ05hbWUpIHtcbiAgICB2YXIgYWxsID0gUmVhY3RUZXN0VXRpbHMuc2NyeVJlbmRlcmVkRE9NQ29tcG9uZW50c1dpdGhUYWcocm9vdCwgdGFnTmFtZSk7XG4gICAgaWYgKGFsbC5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGlkIG5vdCBmaW5kIGV4YWN0bHkgb25lIG1hdGNoIGZvciB0YWc6JyArIHRhZ05hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gYWxsWzBdO1xuICB9LFxuXG5cbiAgLyoqXG4gICAqIEZpbmRzIGFsbCBpbnN0YW5jZXMgb2YgY29tcG9uZW50cyB3aXRoIHR5cGUgZXF1YWwgdG8gYGNvbXBvbmVudFR5cGVgLlxuICAgKiBAcmV0dXJuIGFuIGFycmF5IG9mIGFsbCB0aGUgbWF0Y2hlcy5cbiAgICovXG4gIHNjcnlSZW5kZXJlZENvbXBvbmVudHNXaXRoVHlwZTogZnVuY3Rpb24ocm9vdCwgY29tcG9uZW50VHlwZSkge1xuICAgIHJldHVybiBSZWFjdFRlc3RVdGlscy5maW5kQWxsSW5SZW5kZXJlZFRyZWUocm9vdCwgZnVuY3Rpb24oaW5zdCkge1xuICAgICAgcmV0dXJuIFJlYWN0VGVzdFV0aWxzLmlzQ29tcG9zaXRlQ29tcG9uZW50V2l0aFR5cGUoXG4gICAgICAgIGluc3QsXG4gICAgICAgIGNvbXBvbmVudFR5cGVcbiAgICAgICk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNhbWUgYXMgYHNjcnlSZW5kZXJlZENvbXBvbmVudHNXaXRoVHlwZWAgYnV0IGV4cGVjdHMgdGhlcmUgdG8gYmUgb25lIHJlc3VsdFxuICAgKiBhbmQgcmV0dXJucyB0aGF0IG9uZSByZXN1bHQsIG9yIHRocm93cyBleGNlcHRpb24gaWYgdGhlcmUgaXMgYW55IG90aGVyXG4gICAqIG51bWJlciBvZiBtYXRjaGVzIGJlc2lkZXMgb25lLlxuICAgKiBAcmV0dXJuIHshUmVhY3RDb21wb25lbnR9IFRoZSBvbmUgbWF0Y2guXG4gICAqL1xuICBmaW5kUmVuZGVyZWRDb21wb25lbnRXaXRoVHlwZTogZnVuY3Rpb24ocm9vdCwgY29tcG9uZW50VHlwZSkge1xuICAgIHZhciBhbGwgPSBSZWFjdFRlc3RVdGlscy5zY3J5UmVuZGVyZWRDb21wb25lbnRzV2l0aFR5cGUoXG4gICAgICByb290LFxuICAgICAgY29tcG9uZW50VHlwZVxuICAgICk7XG4gICAgaWYgKGFsbC5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0RpZCBub3QgZmluZCBleGFjdGx5IG9uZSBtYXRjaCBmb3IgY29tcG9uZW50VHlwZTonICsgY29tcG9uZW50VHlwZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGFsbFswXTtcbiAgfSxcblxuICAvKipcbiAgICogUGFzcyBhIG1vY2tlZCBjb21wb25lbnQgbW9kdWxlIHRvIHRoaXMgbWV0aG9kIHRvIGF1Z21lbnQgaXQgd2l0aFxuICAgKiB1c2VmdWwgbWV0aG9kcyB0aGF0IGFsbG93IGl0IHRvIGJlIHVzZWQgYXMgYSBkdW1teSBSZWFjdCBjb21wb25lbnQuXG4gICAqIEluc3RlYWQgb2YgcmVuZGVyaW5nIGFzIHVzdWFsLCB0aGUgY29tcG9uZW50IHdpbGwgYmVjb21lIGEgc2ltcGxlXG4gICAqIDxkaXY+IGNvbnRhaW5pbmcgYW55IHByb3ZpZGVkIGNoaWxkcmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbW9kdWxlIHRoZSBtb2NrIGZ1bmN0aW9uIG9iamVjdCBleHBvcnRlZCBmcm9tIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUgdGhhdCBkZWZpbmVzIHRoZSBjb21wb25lbnQgdG8gYmUgbW9ja2VkXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gbW9ja1RhZ05hbWUgb3B0aW9uYWwgZHVtbXkgcm9vdCB0YWcgbmFtZSB0byByZXR1cm5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tIHJlbmRlciBtZXRob2QgKG92ZXJyaWRlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5tb2NrVGFnTmFtZSBpZiBwcm92aWRlZClcbiAgICogQHJldHVybiB7b2JqZWN0fSB0aGUgUmVhY3RUZXN0VXRpbHMgb2JqZWN0IChmb3IgY2hhaW5pbmcpXG4gICAqL1xuICBtb2NrQ29tcG9uZW50OiBmdW5jdGlvbihtb2R1bGUsIG1vY2tUYWdOYW1lKSB7XG4gICAgbW9ja1RhZ05hbWUgPSBtb2NrVGFnTmFtZSB8fCBtb2R1bGUubW9ja1RhZ05hbWUgfHwgXCJkaXZcIjtcblxuICAgIG1vZHVsZS5wcm90b3R5cGUucmVuZGVyLm1vY2tJbXBsZW1lbnRhdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBtb2NrVGFnTmFtZSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTaW11bGF0ZXMgYSB0b3AgbGV2ZWwgZXZlbnQgYmVpbmcgZGlzcGF0Y2hlZCBmcm9tIGEgcmF3IGV2ZW50IHRoYXQgb2NjdXJlZFxuICAgKiBvbiBhbiBgRWxlbWVudGAgbm9kZS5cbiAgICogQHBhcmFtIHRvcExldmVsVHlwZSB7T2JqZWN0fSBBIHR5cGUgZnJvbSBgRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlc2BcbiAgICogQHBhcmFtIHshRWxlbWVudH0gbm9kZSBUaGUgZG9tIHRvIHNpbXVsYXRlIGFuIGV2ZW50IG9jY3VycmluZyBvbi5cbiAgICogQHBhcmFtIHs/RXZlbnR9IGZha2VOYXRpdmVFdmVudCBGYWtlIG5hdGl2ZSBldmVudCB0byB1c2UgaW4gU3ludGhldGljRXZlbnQuXG4gICAqL1xuICBzaW11bGF0ZU5hdGl2ZUV2ZW50T25Ob2RlOiBmdW5jdGlvbih0b3BMZXZlbFR5cGUsIG5vZGUsIGZha2VOYXRpdmVFdmVudCkge1xuICAgIGZha2VOYXRpdmVFdmVudC50YXJnZXQgPSBub2RlO1xuICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIuZGlzcGF0Y2hFdmVudChcbiAgICAgIHRvcExldmVsVHlwZSxcbiAgICAgIGZha2VOYXRpdmVFdmVudFxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNpbXVsYXRlcyBhIHRvcCBsZXZlbCBldmVudCBiZWluZyBkaXNwYXRjaGVkIGZyb20gYSByYXcgZXZlbnQgdGhhdCBvY2N1cmVkXG4gICAqIG9uIHRoZSBgUmVhY3RET01Db21wb25lbnRgIGBjb21wYC5cbiAgICogQHBhcmFtIHRvcExldmVsVHlwZSB7T2JqZWN0fSBBIHR5cGUgZnJvbSBgRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlc2AuXG4gICAqIEBwYXJhbSBjb21wIHshUmVhY3RET01Db21wb25lbnR9XG4gICAqIEBwYXJhbSB7P0V2ZW50fSBmYWtlTmF0aXZlRXZlbnQgRmFrZSBuYXRpdmUgZXZlbnQgdG8gdXNlIGluIFN5bnRoZXRpY0V2ZW50LlxuICAgKi9cbiAgc2ltdWxhdGVOYXRpdmVFdmVudE9uRE9NQ29tcG9uZW50OiBmdW5jdGlvbihcbiAgICAgIHRvcExldmVsVHlwZSxcbiAgICAgIGNvbXAsXG4gICAgICBmYWtlTmF0aXZlRXZlbnQpIHtcbiAgICBSZWFjdFRlc3RVdGlscy5zaW11bGF0ZU5hdGl2ZUV2ZW50T25Ob2RlKFxuICAgICAgdG9wTGV2ZWxUeXBlLFxuICAgICAgY29tcC5nZXRET01Ob2RlKCksXG4gICAgICBmYWtlTmF0aXZlRXZlbnRcbiAgICApO1xuICB9LFxuXG4gIG5hdGl2ZVRvdWNoRGF0YTogZnVuY3Rpb24oeCwgeSkge1xuICAgIHJldHVybiB7XG4gICAgICB0b3VjaGVzOiBbXG4gICAgICAgIHtwYWdlWDogeCwgcGFnZVk6IHl9XG4gICAgICBdXG4gICAgfTtcbiAgfSxcblxuICBjcmVhdGVSZW5kZXJlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZWFjdFNoYWxsb3dSZW5kZXJlcigpO1xuICB9LFxuXG4gIFNpbXVsYXRlOiBudWxsLFxuICBTaW11bGF0ZU5hdGl2ZToge31cbn07XG5cbi8qKlxuICogQGNsYXNzIFJlYWN0U2hhbGxvd1JlbmRlcmVyXG4gKi9cbnZhciBSZWFjdFNoYWxsb3dSZW5kZXJlciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG59O1xuXG5SZWFjdFNoYWxsb3dSZW5kZXJlci5wcm90b3R5cGUuZ2V0UmVuZGVyT3V0cHV0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoXG4gICAgKHRoaXMuX2luc3RhbmNlICYmIHRoaXMuX2luc3RhbmNlLl9yZW5kZXJlZENvbXBvbmVudCAmJlxuICAgICB0aGlzLl9pbnN0YW5jZS5fcmVuZGVyZWRDb21wb25lbnQuX3JlbmRlcmVkT3V0cHV0KVxuICAgIHx8IG51bGxcbiAgKTtcbn07XG5cbnZhciBOb29wSW50ZXJuYWxDb21wb25lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHRoaXMuX3JlbmRlcmVkT3V0cHV0ID0gZWxlbWVudDtcbiAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IGZhbHNlID9cbiAgICBSZWFjdEVtcHR5Q29tcG9uZW50LmVtcHR5RWxlbWVudCA6XG4gICAgZWxlbWVudDtcbn07XG5cbk5vb3BJbnRlcm5hbENvbXBvbmVudC5wcm90b3R5cGUgPSB7XG5cbiAgbW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uKCkge1xuICB9LFxuXG4gIHJlY2VpdmVDb21wb25lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9yZW5kZXJlZE91dHB1dCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IGZhbHNlID9cbiAgICAgIFJlYWN0RW1wdHlDb21wb25lbnQuZW1wdHlFbGVtZW50IDpcbiAgICAgIGVsZW1lbnQ7XG4gIH0sXG5cbiAgdW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24oKSB7XG4gIH1cblxufTtcblxudmFyIFNoYWxsb3dDb21wb25lbnRXcmFwcGVyID0gZnVuY3Rpb24oKSB7IH07XG5hc3NpZ24oXG4gIFNoYWxsb3dDb21wb25lbnRXcmFwcGVyLnByb3RvdHlwZSxcbiAgUmVhY3RDb21wb3NpdGVDb21wb25lbnQuTWl4aW4sIHtcbiAgICBfaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcmV0dXJuIG5ldyBOb29wSW50ZXJuYWxDb21wb25lbnQoZWxlbWVudCk7XG4gICAgfSxcbiAgICBfcmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRDogZnVuY3Rpb24oKSB7fSxcbiAgICBfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50OlxuICAgICAgUmVhY3RDb21wb3NpdGVDb21wb25lbnQuTWl4aW4uXG4gICAgICAgIF9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnRXaXRob3V0T3duZXJPckNvbnRleHRcbiAgfVxuKTtcblxuUmVhY3RTaGFsbG93UmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRleHQpIHtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGVtcHR5T2JqZWN0O1xuICB9XG4gIHZhciB0cmFuc2FjdGlvbiA9IFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLmdldFBvb2xlZCgpO1xuICB0aGlzLl9yZW5kZXIoZWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5yZWxlYXNlKHRyYW5zYWN0aW9uKTtcbn07XG5cblJlYWN0U2hhbGxvd1JlbmRlcmVyLnByb3RvdHlwZS51bm1vdW50ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9pbnN0YW5jZSkge1xuICAgIHRoaXMuX2luc3RhbmNlLnVubW91bnRDb21wb25lbnQoKTtcbiAgfVxufTtcblxuUmVhY3RTaGFsbG93UmVuZGVyZXIucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbihlbGVtZW50LCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgdmFyIHJvb3RJRCA9IFJlYWN0SW5zdGFuY2VIYW5kbGVzLmNyZWF0ZVJlYWN0Um9vdElEKCk7XG4gICAgdmFyIGluc3RhbmNlID0gbmV3IFNoYWxsb3dDb21wb25lbnRXcmFwcGVyKGVsZW1lbnQudHlwZSk7XG4gICAgaW5zdGFuY2UuY29uc3RydWN0KGVsZW1lbnQpO1xuXG4gICAgaW5zdGFuY2UubW91bnRDb21wb25lbnQocm9vdElELCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG5cbiAgICB0aGlzLl9pbnN0YW5jZSA9IGluc3RhbmNlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2luc3RhbmNlLnJlY2VpdmVDb21wb25lbnQoZWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICB9XG59O1xuXG4vKipcbiAqIEV4cG9ydHM6XG4gKlxuICogLSBgUmVhY3RUZXN0VXRpbHMuU2ltdWxhdGUuY2xpY2soRWxlbWVudC9SZWFjdERPTUNvbXBvbmVudClgXG4gKiAtIGBSZWFjdFRlc3RVdGlscy5TaW11bGF0ZS5tb3VzZU1vdmUoRWxlbWVudC9SZWFjdERPTUNvbXBvbmVudClgXG4gKiAtIGBSZWFjdFRlc3RVdGlscy5TaW11bGF0ZS5jaGFuZ2UoRWxlbWVudC9SZWFjdERPTUNvbXBvbmVudClgXG4gKiAtIC4uLiAoQWxsIGtleXMgZnJvbSBldmVudCBwbHVnaW4gYGV2ZW50VHlwZXNgIG9iamVjdHMpXG4gKi9cbmZ1bmN0aW9uIG1ha2VTaW11bGF0b3IoZXZlbnRUeXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbihkb21Db21wb25lbnRPck5vZGUsIGV2ZW50RGF0YSkge1xuICAgIHZhciBub2RlO1xuICAgIGlmIChSZWFjdFRlc3RVdGlscy5pc0RPTUNvbXBvbmVudChkb21Db21wb25lbnRPck5vZGUpKSB7XG4gICAgICBub2RlID0gZG9tQ29tcG9uZW50T3JOb2RlLmdldERPTU5vZGUoKTtcbiAgICB9IGVsc2UgaWYgKGRvbUNvbXBvbmVudE9yTm9kZS50YWdOYW1lKSB7XG4gICAgICBub2RlID0gZG9tQ29tcG9uZW50T3JOb2RlO1xuICAgIH1cblxuICAgIHZhciBmYWtlTmF0aXZlRXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICBmYWtlTmF0aXZlRXZlbnQudGFyZ2V0ID0gbm9kZTtcbiAgICAvLyBXZSBkb24ndCB1c2UgU3ludGhldGljRXZlbnQuZ2V0UG9vbGVkIGluIG9yZGVyIHRvIG5vdCBoYXZlIHRvIHdvcnJ5IGFib3V0XG4gICAgLy8gcHJvcGVybHkgZGVzdHJveWluZyBhbnkgcHJvcGVydGllcyBhc3NpZ25lZCBmcm9tIGBldmVudERhdGFgIHVwb24gcmVsZWFzZVxuICAgIHZhciBldmVudCA9IG5ldyBTeW50aGV0aWNFdmVudChcbiAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3NbZXZlbnRUeXBlXSxcbiAgICAgIFJlYWN0TW91bnQuZ2V0SUQobm9kZSksXG4gICAgICBmYWtlTmF0aXZlRXZlbnRcbiAgICApO1xuICAgIGFzc2lnbihldmVudCwgZXZlbnREYXRhKTtcbiAgICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuXG4gICAgUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzKGZ1bmN0aW9uKCkge1xuICAgICAgRXZlbnRQbHVnaW5IdWIuZW5xdWV1ZUV2ZW50cyhldmVudCk7XG4gICAgICBFdmVudFBsdWdpbkh1Yi5wcm9jZXNzRXZlbnRRdWV1ZSgpO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBidWlsZFNpbXVsYXRvcnMoKSB7XG4gIFJlYWN0VGVzdFV0aWxzLlNpbXVsYXRlID0ge307XG5cbiAgdmFyIGV2ZW50VHlwZTtcbiAgZm9yIChldmVudFR5cGUgaW4gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmV2ZW50TmFtZURpc3BhdGNoQ29uZmlncykge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUVsZW1lbnQgfHwgUmVhY3RET01Db21wb25lbnR9IGRvbUNvbXBvbmVudE9yTm9kZVxuICAgICAqIEBwYXJhbSB7P29iamVjdH0gZXZlbnREYXRhIEZha2UgZXZlbnQgZGF0YSB0byB1c2UgaW4gU3ludGhldGljRXZlbnQuXG4gICAgICovXG4gICAgUmVhY3RUZXN0VXRpbHMuU2ltdWxhdGVbZXZlbnRUeXBlXSA9IG1ha2VTaW11bGF0b3IoZXZlbnRUeXBlKTtcbiAgfVxufVxuXG4vLyBSZWJ1aWxkIFJlYWN0VGVzdFV0aWxzLlNpbXVsYXRlIHdoZW5ldmVyIGV2ZW50IHBsdWdpbnMgYXJlIGluamVjdGVkXG52YXIgb2xkSW5qZWN0RXZlbnRQbHVnaW5PcmRlciA9IEV2ZW50UGx1Z2luSHViLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbk9yZGVyO1xuRXZlbnRQbHVnaW5IdWIuaW5qZWN0aW9uLmluamVjdEV2ZW50UGx1Z2luT3JkZXIgPSBmdW5jdGlvbigpIHtcbiAgb2xkSW5qZWN0RXZlbnRQbHVnaW5PcmRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICBidWlsZFNpbXVsYXRvcnMoKTtcbn07XG52YXIgb2xkSW5qZWN0RXZlbnRQbHVnaW5zID0gRXZlbnRQbHVnaW5IdWIuaW5qZWN0aW9uLmluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTtcbkV2ZW50UGx1Z2luSHViLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWUgPSBmdW5jdGlvbigpIHtcbiAgb2xkSW5qZWN0RXZlbnRQbHVnaW5zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIGJ1aWxkU2ltdWxhdG9ycygpO1xufTtcblxuYnVpbGRTaW11bGF0b3JzKCk7XG5cbi8qKlxuICogRXhwb3J0czpcbiAqXG4gKiAtIGBSZWFjdFRlc3RVdGlscy5TaW11bGF0ZU5hdGl2ZS5jbGljayhFbGVtZW50L1JlYWN0RE9NQ29tcG9uZW50KWBcbiAqIC0gYFJlYWN0VGVzdFV0aWxzLlNpbXVsYXRlTmF0aXZlLm1vdXNlTW92ZShFbGVtZW50L1JlYWN0RE9NQ29tcG9uZW50KWBcbiAqIC0gYFJlYWN0VGVzdFV0aWxzLlNpbXVsYXRlTmF0aXZlLm1vdXNlSW4vUmVhY3RET01Db21wb25lbnQpYFxuICogLSBgUmVhY3RUZXN0VXRpbHMuU2ltdWxhdGVOYXRpdmUubW91c2VPdXQoRWxlbWVudC9SZWFjdERPTUNvbXBvbmVudClgXG4gKiAtIC4uLiAoQWxsIGtleXMgZnJvbSBgRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlc2ApXG4gKlxuICogTm90ZTogVG9wIGxldmVsIGV2ZW50IHR5cGVzIGFyZSBhIHN1YnNldCBvZiB0aGUgZW50aXJlIHNldCBvZiBoYW5kbGVyIHR5cGVzXG4gKiAod2hpY2ggaW5jbHVkZSBhIGJyb2FkZXIgc2V0IG9mIFwic3ludGhldGljXCIgZXZlbnRzKS4gRm9yIGV4YW1wbGUsIG9uRHJhZ0RvbmVcbiAqIGlzIGEgc3ludGhldGljIGV2ZW50LiBFeGNlcHQgd2hlbiB0ZXN0aW5nIGFuIGV2ZW50IHBsdWdpbiBvciBSZWFjdCdzIGV2ZW50XG4gKiBoYW5kbGluZyBjb2RlIHNwZWNpZmljYWxseSwgeW91IHByb2JhYmx5IHdhbnQgdG8gdXNlIFJlYWN0VGVzdFV0aWxzLlNpbXVsYXRlXG4gKiB0byBkaXNwYXRjaCBzeW50aGV0aWMgZXZlbnRzLlxuICovXG5cbmZ1bmN0aW9uIG1ha2VOYXRpdmVTaW11bGF0b3IoZXZlbnRUeXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbihkb21Db21wb25lbnRPck5vZGUsIG5hdGl2ZUV2ZW50RGF0YSkge1xuICAgIHZhciBmYWtlTmF0aXZlRXZlbnQgPSBuZXcgRXZlbnQoZXZlbnRUeXBlKTtcbiAgICBhc3NpZ24oZmFrZU5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudERhdGEpO1xuICAgIGlmIChSZWFjdFRlc3RVdGlscy5pc0RPTUNvbXBvbmVudChkb21Db21wb25lbnRPck5vZGUpKSB7XG4gICAgICBSZWFjdFRlc3RVdGlscy5zaW11bGF0ZU5hdGl2ZUV2ZW50T25ET01Db21wb25lbnQoXG4gICAgICAgIGV2ZW50VHlwZSxcbiAgICAgICAgZG9tQ29tcG9uZW50T3JOb2RlLFxuICAgICAgICBmYWtlTmF0aXZlRXZlbnRcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICghIWRvbUNvbXBvbmVudE9yTm9kZS50YWdOYW1lKSB7XG4gICAgICAvLyBXaWxsIGFsbG93IG9uIGFjdHVhbCBkb20gbm9kZXMuXG4gICAgICBSZWFjdFRlc3RVdGlscy5zaW11bGF0ZU5hdGl2ZUV2ZW50T25Ob2RlKFxuICAgICAgICBldmVudFR5cGUsXG4gICAgICAgIGRvbUNvbXBvbmVudE9yTm9kZSxcbiAgICAgICAgZmFrZU5hdGl2ZUV2ZW50XG4gICAgICApO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGV2ZW50VHlwZTtcbmZvciAoZXZlbnRUeXBlIGluIHRvcExldmVsVHlwZXMpIHtcbiAgLy8gRXZlbnQgdHlwZSBpcyBzdG9yZWQgYXMgJ3RvcENsaWNrJyAtIHdlIHRyYW5zZm9ybSB0aGF0IHRvICdjbGljaydcbiAgdmFyIGNvbnZlbmllbmNlTmFtZSA9IGV2ZW50VHlwZS5pbmRleE9mKCd0b3AnKSA9PT0gMCA/XG4gICAgZXZlbnRUeXBlLmNoYXJBdCgzKS50b0xvd2VyQ2FzZSgpICsgZXZlbnRUeXBlLnN1YnN0cig0KSA6IGV2ZW50VHlwZTtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnQgfHwgUmVhY3RET01Db21wb25lbnR9IGRvbUNvbXBvbmVudE9yTm9kZVxuICAgKiBAcGFyYW0gez9FdmVudH0gbmF0aXZlRXZlbnREYXRhIEZha2UgbmF0aXZlIGV2ZW50IHRvIHVzZSBpbiBTeW50aGV0aWNFdmVudC5cbiAgICovXG4gIFJlYWN0VGVzdFV0aWxzLlNpbXVsYXRlTmF0aXZlW2NvbnZlbmllbmNlTmFtZV0gPVxuICAgIG1ha2VOYXRpdmVTaW11bGF0b3IoZXZlbnRUeXBlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFRlc3RVdGlscztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RUcmFuc2l0aW9uQ2hpbGRNYXBwaW5nXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RDaGlsZHJlbiA9IHJlcXVpcmUoXCIuL1JlYWN0Q2hpbGRyZW5cIik7XG52YXIgUmVhY3RGcmFnbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RnJhZ21lbnRcIik7XG5cbnZhciBSZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmcgPSB7XG4gIC8qKlxuICAgKiBHaXZlbiBgdGhpcy5wcm9wcy5jaGlsZHJlbmAsIHJldHVybiBhbiBvYmplY3QgbWFwcGluZyBrZXkgdG8gY2hpbGQuIEp1c3RcbiAgICogc2ltcGxlIHN5bnRhY3RpYyBzdWdhciBhcm91bmQgUmVhY3RDaGlsZHJlbi5tYXAoKS5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBjaGlsZHJlbiBgdGhpcy5wcm9wcy5jaGlsZHJlbmBcbiAgICogQHJldHVybiB7b2JqZWN0fSBNYXBwaW5nIG9mIGtleSB0byBjaGlsZFxuICAgKi9cbiAgZ2V0Q2hpbGRNYXBwaW5nOiBmdW5jdGlvbihjaGlsZHJlbikge1xuICAgIGlmICghY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0RnJhZ21lbnQuZXh0cmFjdChSZWFjdENoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9KSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFdoZW4geW91J3JlIGFkZGluZyBvciByZW1vdmluZyBjaGlsZHJlbiBzb21lIG1heSBiZSBhZGRlZCBvciByZW1vdmVkIGluIHRoZVxuICAgKiBzYW1lIHJlbmRlciBwYXNzLiBXZSB3YW50IHRvIHNob3cgKmJvdGgqIHNpbmNlIHdlIHdhbnQgdG8gc2ltdWx0YW5lb3VzbHlcbiAgICogYW5pbWF0ZSBlbGVtZW50cyBpbiBhbmQgb3V0LiBUaGlzIGZ1bmN0aW9uIHRha2VzIGEgcHJldmlvdXMgc2V0IG9mIGtleXNcbiAgICogYW5kIGEgbmV3IHNldCBvZiBrZXlzIGFuZCBtZXJnZXMgdGhlbSB3aXRoIGl0cyBiZXN0IGd1ZXNzIG9mIHRoZSBjb3JyZWN0XG4gICAqIG9yZGVyaW5nLiBJbiB0aGUgZnV0dXJlIHdlIG1heSBleHBvc2Ugc29tZSBvZiB0aGUgdXRpbGl0aWVzIGluXG4gICAqIFJlYWN0TXVsdGlDaGlsZCB0byBtYWtlIHRoaXMgZWFzeSwgYnV0IGZvciBub3cgUmVhY3QgaXRzZWxmIGRvZXMgbm90XG4gICAqIGRpcmVjdGx5IGhhdmUgdGhpcyBjb25jZXB0IG9mIHRoZSB1bmlvbiBvZiBwcmV2Q2hpbGRyZW4gYW5kIG5leHRDaGlsZHJlblxuICAgKiBzbyB3ZSBpbXBsZW1lbnQgaXQgaGVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHByZXYgcHJldiBjaGlsZHJlbiBhcyByZXR1cm5lZCBmcm9tXG4gICAqIGBSZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKClgLlxuICAgKiBAcGFyYW0ge29iamVjdH0gbmV4dCBuZXh0IGNoaWxkcmVuIGFzIHJldHVybmVkIGZyb21cbiAgICogYFJlYWN0VHJhbnNpdGlvbkNoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcoKWAuXG4gICAqIEByZXR1cm4ge29iamVjdH0gYSBrZXkgc2V0IHRoYXQgY29udGFpbnMgYWxsIGtleXMgaW4gYHByZXZgIGFuZCBhbGwga2V5c1xuICAgKiBpbiBgbmV4dGAgaW4gYSByZWFzb25hYmxlIG9yZGVyLlxuICAgKi9cbiAgbWVyZ2VDaGlsZE1hcHBpbmdzOiBmdW5jdGlvbihwcmV2LCBuZXh0KSB7XG4gICAgcHJldiA9IHByZXYgfHwge307XG4gICAgbmV4dCA9IG5leHQgfHwge307XG5cbiAgICBmdW5jdGlvbiBnZXRWYWx1ZUZvcktleShrZXkpIHtcbiAgICAgIGlmIChuZXh0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgcmV0dXJuIG5leHRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwcmV2W2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG4gICAgLy8gdGhlIGNvbWJpbmVkIGxpc3RcbiAgICB2YXIgbmV4dEtleXNQZW5kaW5nID0ge307XG5cbiAgICB2YXIgcGVuZGluZ0tleXMgPSBbXTtcbiAgICBmb3IgKHZhciBwcmV2S2V5IGluIHByZXYpIHtcbiAgICAgIGlmIChuZXh0Lmhhc093blByb3BlcnR5KHByZXZLZXkpKSB7XG4gICAgICAgIGlmIChwZW5kaW5nS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICBuZXh0S2V5c1BlbmRpbmdbcHJldktleV0gPSBwZW5kaW5nS2V5cztcbiAgICAgICAgICBwZW5kaW5nS2V5cyA9IFtdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZW5kaW5nS2V5cy5wdXNoKHByZXZLZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBjaGlsZE1hcHBpbmcgPSB7fTtcbiAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHQpIHtcbiAgICAgIGlmIChuZXh0S2V5c1BlbmRpbmcuaGFzT3duUHJvcGVydHkobmV4dEtleSkpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5leHRLZXlzUGVuZGluZ1tuZXh0S2V5XS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBwZW5kaW5nTmV4dEtleSA9IG5leHRLZXlzUGVuZGluZ1tuZXh0S2V5XVtpXTtcbiAgICAgICAgICBjaGlsZE1hcHBpbmdbbmV4dEtleXNQZW5kaW5nW25leHRLZXldW2ldXSA9IGdldFZhbHVlRm9yS2V5KFxuICAgICAgICAgICAgcGVuZGluZ05leHRLZXlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjaGlsZE1hcHBpbmdbbmV4dEtleV0gPSBnZXRWYWx1ZUZvcktleShuZXh0S2V5KTtcbiAgICB9XG5cbiAgICAvLyBGaW5hbGx5LCBhZGQgdGhlIGtleXMgd2hpY2ggZGlkbid0IGFwcGVhciBiZWZvcmUgYW55IGtleSBpbiBgbmV4dGBcbiAgICBmb3IgKGkgPSAwOyBpIDwgcGVuZGluZ0tleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoaWxkTWFwcGluZ1twZW5kaW5nS2V5c1tpXV0gPSBnZXRWYWx1ZUZvcktleShwZW5kaW5nS2V5c1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkTWFwcGluZztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmc7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RUcmFuc2l0aW9uRXZlbnRzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi9FeGVjdXRpb25FbnZpcm9ubWVudFwiKTtcblxuLyoqXG4gKiBFVkVOVF9OQU1FX01BUCBpcyB1c2VkIHRvIGRldGVybWluZSB3aGljaCBldmVudCBmaXJlZCB3aGVuIGFcbiAqIHRyYW5zaXRpb24vYW5pbWF0aW9uIGVuZHMsIGJhc2VkIG9uIHRoZSBzdHlsZSBwcm9wZXJ0eSB1c2VkIHRvXG4gKiBkZWZpbmUgdGhhdCBldmVudC5cbiAqL1xudmFyIEVWRU5UX05BTUVfTUFQID0ge1xuICB0cmFuc2l0aW9uZW5kOiB7XG4gICAgJ3RyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAnbW96VHJhbnNpdGlvbkVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29UcmFuc2l0aW9uRW5kJyxcbiAgICAnbXNUcmFuc2l0aW9uJzogJ01TVHJhbnNpdGlvbkVuZCdcbiAgfSxcblxuICBhbmltYXRpb25lbmQ6IHtcbiAgICAnYW5pbWF0aW9uJzogJ2FuaW1hdGlvbmVuZCcsXG4gICAgJ1dlYmtpdEFuaW1hdGlvbic6ICd3ZWJraXRBbmltYXRpb25FbmQnLFxuICAgICdNb3pBbmltYXRpb24nOiAnbW96QW5pbWF0aW9uRW5kJyxcbiAgICAnT0FuaW1hdGlvbic6ICdvQW5pbWF0aW9uRW5kJyxcbiAgICAnbXNBbmltYXRpb24nOiAnTVNBbmltYXRpb25FbmQnXG4gIH1cbn07XG5cbnZhciBlbmRFdmVudHMgPSBbXTtcblxuZnVuY3Rpb24gZGV0ZWN0RXZlbnRzKCkge1xuICB2YXIgdGVzdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHZhciBzdHlsZSA9IHRlc3RFbC5zdHlsZTtcblxuICAvLyBPbiBzb21lIHBsYXRmb3JtcywgaW4gcGFydGljdWxhciBzb21lIHJlbGVhc2VzIG9mIEFuZHJvaWQgNC54LFxuICAvLyB0aGUgdW4tcHJlZml4ZWQgXCJhbmltYXRpb25cIiBhbmQgXCJ0cmFuc2l0aW9uXCIgcHJvcGVydGllcyBhcmUgZGVmaW5lZCBvbiB0aGVcbiAgLy8gc3R5bGUgb2JqZWN0IGJ1dCB0aGUgZXZlbnRzIHRoYXQgZmlyZSB3aWxsIHN0aWxsIGJlIHByZWZpeGVkLCBzbyB3ZSBuZWVkXG4gIC8vIHRvIGNoZWNrIGlmIHRoZSB1bi1wcmVmaXhlZCBldmVudHMgYXJlIHVzZWFibGUsIGFuZCBpZiBub3QgcmVtb3ZlIHRoZW1cbiAgLy8gZnJvbSB0aGUgbWFwXG4gIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSBFVkVOVF9OQU1FX01BUC5hbmltYXRpb25lbmQuYW5pbWF0aW9uO1xuICB9XG5cbiAgaWYgKCEoJ1RyYW5zaXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSBFVkVOVF9OQU1FX01BUC50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb247XG4gIH1cblxuICBmb3IgKHZhciBiYXNlRXZlbnROYW1lIGluIEVWRU5UX05BTUVfTUFQKSB7XG4gICAgdmFyIGJhc2VFdmVudHMgPSBFVkVOVF9OQU1FX01BUFtiYXNlRXZlbnROYW1lXTtcbiAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gYmFzZUV2ZW50cykge1xuICAgICAgaWYgKHN0eWxlTmFtZSBpbiBzdHlsZSkge1xuICAgICAgICBlbmRFdmVudHMucHVzaChiYXNlRXZlbnRzW3N0eWxlTmFtZV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICBkZXRlY3RFdmVudHMoKTtcbn1cblxuLy8gV2UgdXNlIHRoZSByYXcge2FkZHxyZW1vdmV9RXZlbnRMaXN0ZW5lcigpIGNhbGwgYmVjYXVzZSBFdmVudExpc3RlbmVyXG4vLyBkb2VzIG5vdCBrbm93IGhvdyB0byByZW1vdmUgZXZlbnQgbGlzdGVuZXJzIGFuZCB3ZSByZWFsbHkgc2hvdWxkXG4vLyBjbGVhbiB1cC4gQWxzbywgdGhlc2UgZXZlbnRzIGFyZSBub3QgdHJpZ2dlcmVkIGluIG9sZGVyIGJyb3dzZXJzXG4vLyBzbyB3ZSBzaG91bGQgYmUgQS1PSyBoZXJlLlxuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lcikge1xuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudExpc3RlbmVyLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnROYW1lLCBldmVudExpc3RlbmVyKSB7XG4gIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbn1cblxudmFyIFJlYWN0VHJhbnNpdGlvbkV2ZW50cyA9IHtcbiAgYWRkRW5kRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24obm9kZSwgZXZlbnRMaXN0ZW5lcikge1xuICAgIGlmIChlbmRFdmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBJZiBDU1MgdHJhbnNpdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQsIHRyaWdnZXIgYW4gXCJlbmQgYW5pbWF0aW9uXCJcbiAgICAgIC8vIGV2ZW50IGltbWVkaWF0ZWx5LlxuICAgICAgd2luZG93LnNldFRpbWVvdXQoZXZlbnRMaXN0ZW5lciwgMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVuZEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVuZEV2ZW50KSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKG5vZGUsIGVuZEV2ZW50LCBldmVudExpc3RlbmVyKTtcbiAgICB9KTtcbiAgfSxcblxuICByZW1vdmVFbmRFdmVudExpc3RlbmVyOiBmdW5jdGlvbihub2RlLCBldmVudExpc3RlbmVyKSB7XG4gICAgaWYgKGVuZEV2ZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZW5kRXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZW5kRXZlbnQpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZW5kRXZlbnQsIGV2ZW50TGlzdGVuZXIpO1xuICAgIH0pO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0VHJhbnNpdGlvbkV2ZW50cztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFRyYW5zaXRpb25Hcm91cFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcIi4vUmVhY3RcIik7XG52YXIgUmVhY3RUcmFuc2l0aW9uQ2hpbGRNYXBwaW5nID0gcmVxdWlyZShcIi4vUmVhY3RUcmFuc2l0aW9uQ2hpbGRNYXBwaW5nXCIpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4vT2JqZWN0LmFzc2lnblwiKTtcbnZhciBjbG9uZVdpdGhQcm9wcyA9IHJlcXVpcmUoXCIuL2Nsb25lV2l0aFByb3BzXCIpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKFwiLi9lbXB0eUZ1bmN0aW9uXCIpO1xuXG52YXIgUmVhY3RUcmFuc2l0aW9uR3JvdXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUmVhY3RUcmFuc2l0aW9uR3JvdXAnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGNvbXBvbmVudDogUmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBjaGlsZEZhY3Rvcnk6IFJlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29tcG9uZW50OiAnc3BhbicsXG4gICAgICBjaGlsZEZhY3Rvcnk6IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudFxuICAgIH07XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2hpbGRyZW46IFJlYWN0VHJhbnNpdGlvbkNoaWxkTWFwcGluZy5nZXRDaGlsZE1hcHBpbmcodGhpcy5wcm9wcy5jaGlsZHJlbilcbiAgICB9O1xuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5cyA9IHt9O1xuICAgIHRoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbml0aWFsQ2hpbGRNYXBwaW5nID0gdGhpcy5zdGF0ZS5jaGlsZHJlbjtcbiAgICBmb3IgKHZhciBrZXkgaW4gaW5pdGlhbENoaWxkTWFwcGluZykge1xuICAgICAgaWYgKGluaXRpYWxDaGlsZE1hcHBpbmdba2V5XSkge1xuICAgICAgICB0aGlzLnBlcmZvcm1BcHBlYXIoa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24obmV4dFByb3BzKSB7XG4gICAgdmFyIG5leHRDaGlsZE1hcHBpbmcgPSBSZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKFxuICAgICAgbmV4dFByb3BzLmNoaWxkcmVuXG4gICAgKTtcbiAgICB2YXIgcHJldkNoaWxkTWFwcGluZyA9IHRoaXMuc3RhdGUuY2hpbGRyZW47XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNoaWxkcmVuOiBSZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmcubWVyZ2VDaGlsZE1hcHBpbmdzKFxuICAgICAgICBwcmV2Q2hpbGRNYXBwaW5nLFxuICAgICAgICBuZXh0Q2hpbGRNYXBwaW5nXG4gICAgICApXG4gICAgfSk7XG5cbiAgICB2YXIga2V5O1xuXG4gICAgZm9yIChrZXkgaW4gbmV4dENoaWxkTWFwcGluZykge1xuICAgICAgdmFyIGhhc1ByZXYgPSBwcmV2Q2hpbGRNYXBwaW5nICYmIHByZXZDaGlsZE1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICAgIGlmIChuZXh0Q2hpbGRNYXBwaW5nW2tleV0gJiYgIWhhc1ByZXYgJiZcbiAgICAgICAgICAhdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldKSB7XG4gICAgICAgIHRoaXMua2V5c1RvRW50ZXIucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoa2V5IGluIHByZXZDaGlsZE1hcHBpbmcpIHtcbiAgICAgIHZhciBoYXNOZXh0ID0gbmV4dENoaWxkTWFwcGluZyAmJiBuZXh0Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBpZiAocHJldkNoaWxkTWFwcGluZ1trZXldICYmICFoYXNOZXh0ICYmXG4gICAgICAgICAgIXRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSkge1xuICAgICAgICB0aGlzLmtleXNUb0xlYXZlLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB3ZSB3YW50IHRvIHNvbWVkYXkgY2hlY2sgZm9yIHJlb3JkZXJpbmcsIHdlIGNvdWxkIGRvIGl0IGhlcmUuXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIga2V5c1RvRW50ZXIgPSB0aGlzLmtleXNUb0VudGVyO1xuICAgIHRoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICBrZXlzVG9FbnRlci5mb3JFYWNoKHRoaXMucGVyZm9ybUVudGVyKTtcblxuICAgIHZhciBrZXlzVG9MZWF2ZSA9IHRoaXMua2V5c1RvTGVhdmU7XG4gICAgdGhpcy5rZXlzVG9MZWF2ZSA9IFtdO1xuICAgIGtleXNUb0xlYXZlLmZvckVhY2godGhpcy5wZXJmb3JtTGVhdmUpO1xuICB9LFxuXG4gIHBlcmZvcm1BcHBlYXI6IGZ1bmN0aW9uKGtleSkge1xuICAgIHRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSA9IHRydWU7XG5cbiAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5yZWZzW2tleV07XG5cbiAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxBcHBlYXIpIHtcbiAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsQXBwZWFyKFxuICAgICAgICB0aGlzLl9oYW5kbGVEb25lQXBwZWFyaW5nLmJpbmQodGhpcywga2V5KVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGFuZGxlRG9uZUFwcGVhcmluZyhrZXkpO1xuICAgIH1cbiAgfSxcblxuICBfaGFuZGxlRG9uZUFwcGVhcmluZzogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGNvbXBvbmVudCA9IHRoaXMucmVmc1trZXldO1xuICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkQXBwZWFyKSB7XG4gICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkQXBwZWFyKCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XTtcblxuICAgIHZhciBjdXJyZW50Q2hpbGRNYXBwaW5nID0gUmVhY3RUcmFuc2l0aW9uQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZyhcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICApO1xuXG4gICAgaWYgKCFjdXJyZW50Q2hpbGRNYXBwaW5nIHx8ICFjdXJyZW50Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIC8vIFRoaXMgd2FzIHJlbW92ZWQgYmVmb3JlIGl0IGhhZCBmdWxseSBhcHBlYXJlZC4gUmVtb3ZlIGl0LlxuICAgICAgdGhpcy5wZXJmb3JtTGVhdmUoa2V5KTtcbiAgICB9XG4gIH0sXG5cbiAgcGVyZm9ybUVudGVyOiBmdW5jdGlvbihrZXkpIHtcbiAgICB0aGlzLmN1cnJlbnRseVRyYW5zaXRpb25pbmdLZXlzW2tleV0gPSB0cnVlO1xuXG4gICAgdmFyIGNvbXBvbmVudCA9IHRoaXMucmVmc1trZXldO1xuXG4gICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsRW50ZXIpIHtcbiAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsRW50ZXIoXG4gICAgICAgIHRoaXMuX2hhbmRsZURvbmVFbnRlcmluZy5iaW5kKHRoaXMsIGtleSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hhbmRsZURvbmVFbnRlcmluZyhrZXkpO1xuICAgIH1cbiAgfSxcblxuICBfaGFuZGxlRG9uZUVudGVyaW5nOiBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5yZWZzW2tleV07XG4gICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRFbnRlcikge1xuICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZEVudGVyKCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XTtcblxuICAgIHZhciBjdXJyZW50Q2hpbGRNYXBwaW5nID0gUmVhY3RUcmFuc2l0aW9uQ2hpbGRNYXBwaW5nLmdldENoaWxkTWFwcGluZyhcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICApO1xuXG4gICAgaWYgKCFjdXJyZW50Q2hpbGRNYXBwaW5nIHx8ICFjdXJyZW50Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIC8vIFRoaXMgd2FzIHJlbW92ZWQgYmVmb3JlIGl0IGhhZCBmdWxseSBlbnRlcmVkLiBSZW1vdmUgaXQuXG4gICAgICB0aGlzLnBlcmZvcm1MZWF2ZShrZXkpO1xuICAgIH1cbiAgfSxcblxuICBwZXJmb3JtTGVhdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgIHRoaXMuY3VycmVudGx5VHJhbnNpdGlvbmluZ0tleXNba2V5XSA9IHRydWU7XG5cbiAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5yZWZzW2tleV07XG4gICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsTGVhdmUpIHtcbiAgICAgIGNvbXBvbmVudC5jb21wb25lbnRXaWxsTGVhdmUodGhpcy5faGFuZGxlRG9uZUxlYXZpbmcuYmluZCh0aGlzLCBrZXkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgaXMgc29tZXdoYXQgZGFuZ2Vyb3VzIGIvYyBpdCBjYWxscyBzZXRTdGF0ZSgpXG4gICAgICAvLyBhZ2FpbiwgZWZmZWN0aXZlbHkgbXV0YXRpbmcgdGhlIGNvbXBvbmVudCBiZWZvcmUgYWxsIHRoZSB3b3JrXG4gICAgICAvLyBpcyBkb25lLlxuICAgICAgdGhpcy5faGFuZGxlRG9uZUxlYXZpbmcoa2V5KTtcbiAgICB9XG4gIH0sXG5cbiAgX2hhbmRsZURvbmVMZWF2aW5nOiBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5yZWZzW2tleV07XG5cbiAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZExlYXZlKSB7XG4gICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkTGVhdmUoKTtcbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy5jdXJyZW50bHlUcmFuc2l0aW9uaW5nS2V5c1trZXldO1xuXG4gICAgdmFyIGN1cnJlbnRDaGlsZE1hcHBpbmcgPSBSZWFjdFRyYW5zaXRpb25DaGlsZE1hcHBpbmcuZ2V0Q2hpbGRNYXBwaW5nKFxuICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICk7XG5cbiAgICBpZiAoY3VycmVudENoaWxkTWFwcGluZyAmJiBjdXJyZW50Q2hpbGRNYXBwaW5nLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIC8vIFRoaXMgZW50ZXJlZCBhZ2FpbiBiZWZvcmUgaXQgZnVsbHkgbGVmdC4gQWRkIGl0IGFnYWluLlxuICAgICAgdGhpcy5wZXJmb3JtRW50ZXIoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG5ld0NoaWxkcmVuID0gYXNzaWduKHt9LCB0aGlzLnN0YXRlLmNoaWxkcmVuKTtcbiAgICAgIGRlbGV0ZSBuZXdDaGlsZHJlbltrZXldO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7Y2hpbGRyZW46IG5ld0NoaWxkcmVufSk7XG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgLy8gVE9ETzogd2UgY291bGQgZ2V0IHJpZCBvZiB0aGUgbmVlZCBmb3IgdGhlIHdyYXBwZXIgbm9kZVxuICAgIC8vIGJ5IGNsb25pbmcgYSBzaW5nbGUgY2hpbGRcbiAgICB2YXIgY2hpbGRyZW5Ub1JlbmRlciA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnN0YXRlLmNoaWxkcmVuKSB7XG4gICAgICB2YXIgY2hpbGQgPSB0aGlzLnN0YXRlLmNoaWxkcmVuW2tleV07XG4gICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgLy8gWW91IG1heSBuZWVkIHRvIGFwcGx5IHJlYWN0aXZlIHVwZGF0ZXMgdG8gYSBjaGlsZCBhcyBpdCBpcyBsZWF2aW5nLlxuICAgICAgICAvLyBUaGUgbm9ybWFsIFJlYWN0IHdheSB0byBkbyBpdCB3b24ndCB3b3JrIHNpbmNlIHRoZSBjaGlsZCB3aWxsIGhhdmVcbiAgICAgICAgLy8gYWxyZWFkeSBiZWVuIHJlbW92ZWQuIEluIGNhc2UgeW91IG5lZWQgdGhpcyBiZWhhdmlvciB5b3UgY2FuIHByb3ZpZGVcbiAgICAgICAgLy8gYSBjaGlsZEZhY3RvcnkgZnVuY3Rpb24gdG8gd3JhcCBldmVyeSBjaGlsZCwgZXZlbiB0aGUgb25lcyB0aGF0IGFyZVxuICAgICAgICAvLyBsZWF2aW5nLlxuICAgICAgICBjaGlsZHJlblRvUmVuZGVyLnB1c2goY2xvbmVXaXRoUHJvcHMoXG4gICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZEZhY3RvcnkoY2hpbGQpLFxuICAgICAgICAgIHtyZWY6IGtleSwga2V5OiBrZXl9XG4gICAgICAgICkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIHRoaXMucHJvcHMuY29tcG9uZW50LFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICAgIGNoaWxkcmVuVG9SZW5kZXJcbiAgICApO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFRyYW5zaXRpb25Hcm91cDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RVcGRhdGVRdWV1ZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0TGlmZUN5Y2xlID0gcmVxdWlyZShcIi4vUmVhY3RMaWZlQ3ljbGVcIik7XG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKFwiLi9SZWFjdEN1cnJlbnRPd25lclwiKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG52YXIgUmVhY3RJbnN0YW5jZU1hcCA9IHJlcXVpcmUoXCIuL1JlYWN0SW5zdGFuY2VNYXBcIik7XG52YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZShcIi4vUmVhY3RVcGRhdGVzXCIpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZShcIi4vT2JqZWN0LmFzc2lnblwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoXCIuL3dhcm5pbmdcIik7XG5cbmZ1bmN0aW9uIGVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSkge1xuICBpZiAoaW50ZXJuYWxJbnN0YW5jZSAhPT0gUmVhY3RMaWZlQ3ljbGUuY3VycmVudGx5TW91bnRpbmdJbnN0YW5jZSkge1xuICAgIC8vIElmIHdlJ3JlIGluIGEgY29tcG9uZW50V2lsbE1vdW50IGhhbmRsZXIsIGRvbid0IGVucXVldWUgYSByZXJlbmRlclxuICAgIC8vIGJlY2F1c2UgUmVhY3RVcGRhdGVzIGFzc3VtZXMgd2UncmUgaW4gYSBicm93c2VyIGNvbnRleHQgKHdoaWNoIGlzXG4gICAgLy8gd3JvbmcgZm9yIHNlcnZlciByZW5kZXJpbmcpIGFuZCB3ZSdyZSBhYm91dCB0byBkbyBhIHJlbmRlciBhbnl3YXkuXG4gICAgLy8gU2VlIGJ1ZyBpbiAjMTc0MC5cbiAgICBSZWFjdFVwZGF0ZXMuZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID09IG51bGwsXG4gICAgJyVzKC4uLik6IENhbm5vdCB1cGRhdGUgZHVyaW5nIGFuIGV4aXN0aW5nIHN0YXRlIHRyYW5zaXRpb24gJyArXG4gICAgJyhzdWNoIGFzIHdpdGhpbiBgcmVuZGVyYCkuIFJlbmRlciBtZXRob2RzIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gJyArXG4gICAgJ29mIHByb3BzIGFuZCBzdGF0ZS4nLFxuICAgIGNhbGxlck5hbWVcbiAgKSA6IGludmFyaWFudChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID09IG51bGwpKTtcblxuICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IFJlYWN0SW5zdGFuY2VNYXAuZ2V0KHB1YmxpY0luc3RhbmNlKTtcbiAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgLy8gT25seSB3YXJuIHdoZW4gd2UgaGF2ZSBhIGNhbGxlck5hbWUuIE90aGVyd2lzZSB3ZSBzaG91bGQgYmUgc2lsZW50LlxuICAgICAgLy8gV2UncmUgcHJvYmFibHkgY2FsbGluZyBmcm9tIGVucXVldWVDYWxsYmFjay4gV2UgZG9uJ3Qgd2FudCB0byB3YXJuXG4gICAgICAvLyB0aGVyZSBiZWNhdXNlIHdlIGFscmVhZHkgd2FybmVkIGZvciB0aGUgY29ycmVzcG9uZGluZyBsaWZlY3ljbGUgbWV0aG9kLlxuICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgICFjYWxsZXJOYW1lLFxuICAgICAgICAnJXMoLi4uKTogQ2FuIG9ubHkgdXBkYXRlIGEgbW91bnRlZCBvciBtb3VudGluZyBjb21wb25lbnQuICcgK1xuICAgICAgICAnVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBjYWxsZWQgJXMoKSBvbiBhbiB1bm1vdW50ZWQgJyArXG4gICAgICAgICdjb21wb25lbnQuIFRoaXMgaXMgYSBuby1vcC4nLFxuICAgICAgICBjYWxsZXJOYW1lLFxuICAgICAgICBjYWxsZXJOYW1lXG4gICAgICApIDogbnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGludGVybmFsSW5zdGFuY2UgPT09IFJlYWN0TGlmZUN5Y2xlLmN1cnJlbnRseVVubW91bnRpbmdJbnN0YW5jZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGludGVybmFsSW5zdGFuY2U7XG59XG5cbi8qKlxuICogUmVhY3RVcGRhdGVRdWV1ZSBhbGxvd3MgZm9yIHN0YXRlIHVwZGF0ZXMgdG8gYmUgc2NoZWR1bGVkIGludG8gYSBsYXRlclxuICogcmVjb25jaWxpYXRpb24gc3RlcC5cbiAqL1xudmFyIFJlYWN0VXBkYXRlUXVldWUgPSB7XG5cbiAgLyoqXG4gICAqIEVucXVldWUgYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYWZ0ZXIgYWxsIHRoZSBwZW5kaW5nIHVwZGF0ZXNcbiAgICogaGF2ZSBwcm9jZXNzZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRvIHVzZSBhcyBgdGhpc2AgY29udGV4dC5cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCBhZnRlciBzdGF0ZSBpcyB1cGRhdGVkLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVDYWxsYmFjazogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIGNhbGxiYWNrKSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAgICdlbnF1ZXVlQ2FsbGJhY2soLi4uKTogWW91IGNhbGxlZCBgc2V0UHJvcHNgLCBgcmVwbGFjZVByb3BzYCwgJyArXG4gICAgICAnYHNldFN0YXRlYCwgYHJlcGxhY2VTdGF0ZWAsIG9yIGBmb3JjZVVwZGF0ZWAgd2l0aCBhIGNhbGxiYWNrIHRoYXQgJyArXG4gICAgICAnaXNuXFwndCBjYWxsYWJsZS4nXG4gICAgKSA6IGludmFyaWFudCh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpKTtcbiAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShwdWJsaWNJbnN0YW5jZSk7XG5cbiAgICAvLyBQcmV2aW91c2x5IHdlIHdvdWxkIHRocm93IGFuIGVycm9yIGlmIHdlIGRpZG4ndCBoYXZlIGFuIGludGVybmFsXG4gICAgLy8gaW5zdGFuY2UuIFNpbmNlIHdlIHdhbnQgdG8gbWFrZSBpdCBhIG5vLW9wIGluc3RlYWQsIHdlIG1pcnJvciB0aGUgc2FtZVxuICAgIC8vIGJlaGF2aW9yIHdlIGhhdmUgaW4gb3RoZXIgZW5xdWV1ZSogbWV0aG9kcy5cbiAgICAvLyBXZSBhbHNvIG5lZWQgdG8gaWdub3JlIGNhbGxiYWNrcyBpbiBjb21wb25lbnRXaWxsTW91bnQuIFNlZVxuICAgIC8vIGVucXVldWVVcGRhdGVzLlxuICAgIGlmICghaW50ZXJuYWxJbnN0YW5jZSB8fFxuICAgICAgICBpbnRlcm5hbEluc3RhbmNlID09PSBSZWFjdExpZmVDeWNsZS5jdXJyZW50bHlNb3VudGluZ0luc3RhbmNlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0NhbGxiYWNrcykge1xuICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0NhbGxiYWNrcyA9IFtjYWxsYmFja107XG4gICAgfVxuICAgIC8vIFRPRE86IFRoZSBjYWxsYmFjayBoZXJlIGlzIGlnbm9yZWQgd2hlbiBzZXRTdGF0ZSBpcyBjYWxsZWQgZnJvbVxuICAgIC8vIGNvbXBvbmVudFdpbGxNb3VudC4gRWl0aGVyIGZpeCBpdCBvciBkaXNhbGxvdyBkb2luZyBzbyBjb21wbGV0ZWx5IGluXG4gICAgLy8gZmF2b3Igb2YgZ2V0SW5pdGlhbFN0YXRlLiBBbHRlcm5hdGl2ZWx5LCB3ZSBjYW4gZGlzYWxsb3dcbiAgICAvLyBjb21wb25lbnRXaWxsTW91bnQgZHVyaW5nIHNlcnZlci1zaWRlIHJlbmRlcmluZy5cbiAgICBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICB9LFxuXG4gIGVucXVldWVDYWxsYmFja0ludGVybmFsOiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCBjYWxsYmFjaykge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicsXG4gICAgICAnZW5xdWV1ZUNhbGxiYWNrKC4uLik6IFlvdSBjYWxsZWQgYHNldFByb3BzYCwgYHJlcGxhY2VQcm9wc2AsICcgK1xuICAgICAgJ2BzZXRTdGF0ZWAsIGByZXBsYWNlU3RhdGVgLCBvciBgZm9yY2VVcGRhdGVgIHdpdGggYSBjYWxsYmFjayB0aGF0ICcgK1xuICAgICAgJ2lzblxcJ3QgY2FsbGFibGUuJ1xuICAgICkgOiBpbnZhcmlhbnQodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSk7XG4gICAgaWYgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MpIHtcbiAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdDYWxsYmFja3MgPSBbY2FsbGJhY2tdO1xuICAgIH1cbiAgICBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGb3JjZXMgYW4gdXBkYXRlLiBUaGlzIHNob3VsZCBvbmx5IGJlIGludm9rZWQgd2hlbiBpdCBpcyBrbm93biB3aXRoXG4gICAqIGNlcnRhaW50eSB0aGF0IHdlIGFyZSAqKm5vdCoqIGluIGEgRE9NIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBZb3UgbWF5IHdhbnQgdG8gY2FsbCB0aGlzIHdoZW4geW91IGtub3cgdGhhdCBzb21lIGRlZXBlciBhc3BlY3Qgb2YgdGhlXG4gICAqIGNvbXBvbmVudCdzIHN0YXRlIGhhcyBjaGFuZ2VkIGJ1dCBgc2V0U3RhdGVgIHdhcyBub3QgY2FsbGVkLlxuICAgKlxuICAgKiBUaGlzIHdpbGwgbm90IGludm9rZSBgc2hvdWxkVXBkYXRlQ29tcG9uZW50YCwgYnV0IGl0IHdpbGwgaW52b2tlXG4gICAqIGBjb21wb25lbnRXaWxsVXBkYXRlYCBhbmQgYGNvbXBvbmVudERpZFVwZGF0ZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UpIHtcbiAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShcbiAgICAgIHB1YmxpY0luc3RhbmNlLFxuICAgICAgJ2ZvcmNlVXBkYXRlJ1xuICAgICk7XG5cbiAgICBpZiAoIWludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nRm9yY2VVcGRhdGUgPSB0cnVlO1xuXG4gICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIG9mIHRoZSBzdGF0ZS4gQWx3YXlzIHVzZSB0aGlzIG9yIGBzZXRTdGF0ZWAgdG8gbXV0YXRlIHN0YXRlLlxuICAgKiBZb3Ugc2hvdWxkIHRyZWF0IGB0aGlzLnN0YXRlYCBhcyBpbW11dGFibGUuXG4gICAqXG4gICAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGB0aGlzLnN0YXRlYCB3aWxsIGJlIGltbWVkaWF0ZWx5IHVwZGF0ZWQsIHNvXG4gICAqIGFjY2Vzc2luZyBgdGhpcy5zdGF0ZWAgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIHRoZSBvbGQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29tcGxldGVTdGF0ZSBOZXh0IHN0YXRlLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uKHB1YmxpY0luc3RhbmNlLCBjb21wbGV0ZVN0YXRlKSB7XG4gICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUoXG4gICAgICBwdWJsaWNJbnN0YW5jZSxcbiAgICAgICdyZXBsYWNlU3RhdGUnXG4gICAgKTtcblxuICAgIGlmICghaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gW2NvbXBsZXRlU3RhdGVdO1xuICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdSZXBsYWNlU3RhdGUgPSB0cnVlO1xuXG4gICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIFRoaXMgb25seSBleGlzdHMgYmVjYXVzZSBfcGVuZGluZ1N0YXRlIGlzXG4gICAqIGludGVybmFsLiBUaGlzIHByb3ZpZGVzIGEgbWVyZ2luZyBzdHJhdGVneSB0aGF0IGlzIG5vdCBhdmFpbGFibGUgdG8gZGVlcFxuICAgKiBwcm9wZXJ0aWVzIHdoaWNoIGlzIGNvbmZ1c2luZy4gVE9ETzogRXhwb3NlIHBlbmRpbmdTdGF0ZSBvciBkb24ndCB1c2UgaXRcbiAgICogZHVyaW5nIHRoZSBtZXJnZS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIHRvIGJlIG1lcmdlZCB3aXRoIHN0YXRlLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24ocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSkge1xuICAgIHZhciBpbnRlcm5hbEluc3RhbmNlID0gZ2V0SW50ZXJuYWxJbnN0YW5jZVJlYWR5Rm9yVXBkYXRlKFxuICAgICAgcHVibGljSW5zdGFuY2UsXG4gICAgICAnc2V0U3RhdGUnXG4gICAgKTtcblxuICAgIGlmICghaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBxdWV1ZSA9XG4gICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nU3RhdGVRdWV1ZSB8fFxuICAgICAgKGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gW10pO1xuICAgIHF1ZXVlLnB1c2gocGFydGlhbFN0YXRlKTtcblxuICAgIGVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgYSBzdWJzZXQgb2YgdGhlIHByb3BzLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB0aGF0IHNob3VsZCByZXJlbmRlci5cbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcnRpYWxQcm9wcyBTdWJzZXQgb2YgdGhlIG5leHQgcHJvcHMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZVNldFByb3BzOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgcGFydGlhbFByb3BzKSB7XG4gICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUoXG4gICAgICBwdWJsaWNJbnN0YW5jZSxcbiAgICAgICdzZXRQcm9wcydcbiAgICApO1xuXG4gICAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIGludGVybmFsSW5zdGFuY2UuX2lzVG9wTGV2ZWwsXG4gICAgICAnc2V0UHJvcHMoLi4uKTogWW91IGNhbGxlZCBgc2V0UHJvcHNgIG9uIGEgJyArXG4gICAgICAnY29tcG9uZW50IHdpdGggYSBwYXJlbnQuIFRoaXMgaXMgYW4gYW50aS1wYXR0ZXJuIHNpbmNlIHByb3BzIHdpbGwgJyArXG4gICAgICAnZ2V0IHJlYWN0aXZlbHkgdXBkYXRlZCB3aGVuIHJlbmRlcmVkLiBJbnN0ZWFkLCBjaGFuZ2UgdGhlIG93bmVyXFwncyAnICtcbiAgICAgICdgcmVuZGVyYCBtZXRob2QgdG8gcGFzcyB0aGUgY29ycmVjdCB2YWx1ZSBhcyBwcm9wcyB0byB0aGUgY29tcG9uZW50ICcgK1xuICAgICAgJ3doZXJlIGl0IGlzIGNyZWF0ZWQuJ1xuICAgICkgOiBpbnZhcmlhbnQoaW50ZXJuYWxJbnN0YW5jZS5faXNUb3BMZXZlbCkpO1xuXG4gICAgLy8gTWVyZ2Ugd2l0aCB0aGUgcGVuZGluZyBlbGVtZW50IGlmIGl0IGV4aXN0cywgb3RoZXJ3aXNlIHdpdGggZXhpc3RpbmdcbiAgICAvLyBlbGVtZW50IHByb3BzLlxuICAgIHZhciBlbGVtZW50ID0gaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0VsZW1lbnQgfHxcbiAgICAgICAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50O1xuICAgIHZhciBwcm9wcyA9IGFzc2lnbih7fSwgZWxlbWVudC5wcm9wcywgcGFydGlhbFByb3BzKTtcbiAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nRWxlbWVudCA9IFJlYWN0RWxlbWVudC5jbG9uZUFuZFJlcGxhY2VQcm9wcyhcbiAgICAgIGVsZW1lbnQsXG4gICAgICBwcm9wc1xuICAgICk7XG5cbiAgICBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgb2YgdGhlIHByb3BzLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB0aGF0IHNob3VsZCByZXJlbmRlci5cbiAgICogQHBhcmFtIHtvYmplY3R9IHByb3BzIE5ldyBwcm9wcy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlUmVwbGFjZVByb3BzOiBmdW5jdGlvbihwdWJsaWNJbnN0YW5jZSwgcHJvcHMpIHtcbiAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShcbiAgICAgIHB1YmxpY0luc3RhbmNlLFxuICAgICAgJ3JlcGxhY2VQcm9wcydcbiAgICApO1xuXG4gICAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIGludGVybmFsSW5zdGFuY2UuX2lzVG9wTGV2ZWwsXG4gICAgICAncmVwbGFjZVByb3BzKC4uLik6IFlvdSBjYWxsZWQgYHJlcGxhY2VQcm9wc2Agb24gYSAnICtcbiAgICAgICdjb21wb25lbnQgd2l0aCBhIHBhcmVudC4gVGhpcyBpcyBhbiBhbnRpLXBhdHRlcm4gc2luY2UgcHJvcHMgd2lsbCAnICtcbiAgICAgICdnZXQgcmVhY3RpdmVseSB1cGRhdGVkIHdoZW4gcmVuZGVyZWQuIEluc3RlYWQsIGNoYW5nZSB0aGUgb3duZXJcXCdzICcgK1xuICAgICAgJ2ByZW5kZXJgIG1ldGhvZCB0byBwYXNzIHRoZSBjb3JyZWN0IHZhbHVlIGFzIHByb3BzIHRvIHRoZSBjb21wb25lbnQgJyArXG4gICAgICAnd2hlcmUgaXQgaXMgY3JlYXRlZC4nXG4gICAgKSA6IGludmFyaWFudChpbnRlcm5hbEluc3RhbmNlLl9pc1RvcExldmVsKSk7XG5cbiAgICAvLyBNZXJnZSB3aXRoIHRoZSBwZW5kaW5nIGVsZW1lbnQgaWYgaXQgZXhpc3RzLCBvdGhlcndpc2Ugd2l0aCBleGlzdGluZ1xuICAgIC8vIGVsZW1lbnQgcHJvcHMuXG4gICAgdmFyIGVsZW1lbnQgPSBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nRWxlbWVudCB8fFxuICAgICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQ7XG4gICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0VsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY2xvbmVBbmRSZXBsYWNlUHJvcHMoXG4gICAgICBlbGVtZW50LFxuICAgICAgcHJvcHNcbiAgICApO1xuXG4gICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgfSxcblxuICBlbnF1ZXVlRWxlbWVudEludGVybmFsOiBmdW5jdGlvbihpbnRlcm5hbEluc3RhbmNlLCBuZXdFbGVtZW50KSB7XG4gICAgaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ0VsZW1lbnQgPSBuZXdFbGVtZW50O1xuICAgIGVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFVwZGF0ZVF1ZXVlO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0VXBkYXRlc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIENhbGxiYWNrUXVldWUgPSByZXF1aXJlKFwiLi9DYWxsYmFja1F1ZXVlXCIpO1xudmFyIFBvb2xlZENsYXNzID0gcmVxdWlyZShcIi4vUG9vbGVkQ2xhc3NcIik7XG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKFwiLi9SZWFjdEN1cnJlbnRPd25lclwiKTtcbnZhciBSZWFjdFBlcmYgPSByZXF1aXJlKFwiLi9SZWFjdFBlcmZcIik7XG52YXIgUmVhY3RSZWNvbmNpbGVyID0gcmVxdWlyZShcIi4vUmVhY3RSZWNvbmNpbGVyXCIpO1xudmFyIFRyYW5zYWN0aW9uID0gcmVxdWlyZShcIi4vVHJhbnNhY3Rpb25cIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZShcIi4vd2FybmluZ1wiKTtcblxudmFyIGRpcnR5Q29tcG9uZW50cyA9IFtdO1xudmFyIGFzYXBDYWxsYmFja1F1ZXVlID0gQ2FsbGJhY2tRdWV1ZS5nZXRQb29sZWQoKTtcbnZhciBhc2FwRW5xdWV1ZWQgPSBmYWxzZTtcblxudmFyIGJhdGNoaW5nU3RyYXRlZ3kgPSBudWxsO1xuXG5mdW5jdGlvbiBlbnN1cmVJbmplY3RlZCgpIHtcbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiAmJiBiYXRjaGluZ1N0cmF0ZWd5LFxuICAgICdSZWFjdFVwZGF0ZXM6IG11c3QgaW5qZWN0IGEgcmVjb25jaWxlIHRyYW5zYWN0aW9uIGNsYXNzIGFuZCBiYXRjaGluZyAnICtcbiAgICAnc3RyYXRlZ3knXG4gICkgOiBpbnZhcmlhbnQoUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24gJiYgYmF0Y2hpbmdTdHJhdGVneSkpO1xufVxuXG52YXIgTkVTVEVEX1VQREFURVMgPSB7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZGlydHlDb21wb25lbnRzTGVuZ3RoID0gZGlydHlDb21wb25lbnRzLmxlbmd0aDtcbiAgfSxcbiAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmRpcnR5Q29tcG9uZW50c0xlbmd0aCAhPT0gZGlydHlDb21wb25lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gQWRkaXRpb25hbCB1cGRhdGVzIHdlcmUgZW5xdWV1ZWQgYnkgY29tcG9uZW50RGlkVXBkYXRlIGhhbmRsZXJzIG9yXG4gICAgICAvLyBzaW1pbGFyOyBiZWZvcmUgb3VyIG93biBVUERBVEVfUVVFVUVJTkcgd3JhcHBlciBjbG9zZXMsIHdlIHdhbnQgdG8gcnVuXG4gICAgICAvLyB0aGVzZSBuZXcgdXBkYXRlcyBzbyB0aGF0IGlmIEEncyBjb21wb25lbnREaWRVcGRhdGUgY2FsbHMgc2V0U3RhdGUgb25cbiAgICAgIC8vIEIsIEIgd2lsbCB1cGRhdGUgYmVmb3JlIHRoZSBjYWxsYmFjayBBJ3MgdXBkYXRlciBwcm92aWRlZCB3aGVuIGNhbGxpbmdcbiAgICAgIC8vIHNldFN0YXRlLlxuICAgICAgZGlydHlDb21wb25lbnRzLnNwbGljZSgwLCB0aGlzLmRpcnR5Q29tcG9uZW50c0xlbmd0aCk7XG4gICAgICBmbHVzaEJhdGNoZWRVcGRhdGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpcnR5Q29tcG9uZW50cy5sZW5ndGggPSAwO1xuICAgIH1cbiAgfVxufTtcblxudmFyIFVQREFURV9RVUVVRUlORyA9IHtcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jYWxsYmFja1F1ZXVlLnJlc2V0KCk7XG4gIH0sXG4gIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNhbGxiYWNrUXVldWUubm90aWZ5QWxsKCk7XG4gIH1cbn07XG5cbnZhciBUUkFOU0FDVElPTl9XUkFQUEVSUyA9IFtORVNURURfVVBEQVRFUywgVVBEQVRFX1FVRVVFSU5HXTtcblxuZnVuY3Rpb24gUmVhY3RVcGRhdGVzRmx1c2hUcmFuc2FjdGlvbigpIHtcbiAgdGhpcy5yZWluaXRpYWxpemVUcmFuc2FjdGlvbigpO1xuICB0aGlzLmRpcnR5Q29tcG9uZW50c0xlbmd0aCA9IG51bGw7XG4gIHRoaXMuY2FsbGJhY2tRdWV1ZSA9IENhbGxiYWNrUXVldWUuZ2V0UG9vbGVkKCk7XG4gIHRoaXMucmVjb25jaWxlVHJhbnNhY3Rpb24gPVxuICAgIFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLmdldFBvb2xlZCgpO1xufVxuXG5hc3NpZ24oXG4gIFJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24ucHJvdG90eXBlLFxuICBUcmFuc2FjdGlvbi5NaXhpbiwge1xuICBnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVFJBTlNBQ1RJT05fV1JBUFBFUlM7XG4gIH0sXG5cbiAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGggPSBudWxsO1xuICAgIENhbGxiYWNrUXVldWUucmVsZWFzZSh0aGlzLmNhbGxiYWNrUXVldWUpO1xuICAgIHRoaXMuY2FsbGJhY2tRdWV1ZSA9IG51bGw7XG4gICAgUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24ucmVsZWFzZSh0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uKTtcbiAgICB0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uID0gbnVsbDtcbiAgfSxcblxuICBwZXJmb3JtOiBmdW5jdGlvbihtZXRob2QsIHNjb3BlLCBhKSB7XG4gICAgLy8gRXNzZW50aWFsbHkgY2FsbHMgYHRoaXMucmVjb25jaWxlVHJhbnNhY3Rpb24ucGVyZm9ybShtZXRob2QsIHNjb3BlLCBhKWBcbiAgICAvLyB3aXRoIHRoaXMgdHJhbnNhY3Rpb24ncyB3cmFwcGVycyBhcm91bmQgaXQuXG4gICAgcmV0dXJuIFRyYW5zYWN0aW9uLk1peGluLnBlcmZvcm0uY2FsbChcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uLnBlcmZvcm0sXG4gICAgICB0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uLFxuICAgICAgbWV0aG9kLFxuICAgICAgc2NvcGUsXG4gICAgICBhXG4gICAgKTtcbiAgfVxufSk7XG5cblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uKTtcblxuZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMoY2FsbGJhY2ssIGEsIGIsIGMsIGQpIHtcbiAgZW5zdXJlSW5qZWN0ZWQoKTtcbiAgYmF0Y2hpbmdTdHJhdGVneS5iYXRjaGVkVXBkYXRlcyhjYWxsYmFjaywgYSwgYiwgYywgZCk7XG59XG5cbi8qKlxuICogQXJyYXkgY29tcGFyYXRvciBmb3IgUmVhY3RDb21wb25lbnRzIGJ5IG1vdW50IG9yZGVyaW5nLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGMxIGZpcnN0IGNvbXBvbmVudCB5b3UncmUgY29tcGFyaW5nXG4gKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBjMiBzZWNvbmQgY29tcG9uZW50IHlvdSdyZSBjb21wYXJpbmdcbiAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJuIHZhbHVlIHVzYWJsZSBieSBBcnJheS5wcm90b3R5cGUuc29ydCgpLlxuICovXG5mdW5jdGlvbiBtb3VudE9yZGVyQ29tcGFyYXRvcihjMSwgYzIpIHtcbiAgcmV0dXJuIGMxLl9tb3VudE9yZGVyIC0gYzIuX21vdW50T3JkZXI7XG59XG5cbmZ1bmN0aW9uIHJ1bkJhdGNoZWRVcGRhdGVzKHRyYW5zYWN0aW9uKSB7XG4gIHZhciBsZW4gPSB0cmFuc2FjdGlvbi5kaXJ0eUNvbXBvbmVudHNMZW5ndGg7XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgbGVuID09PSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoLFxuICAgICdFeHBlY3RlZCBmbHVzaCB0cmFuc2FjdGlvblxcJ3Mgc3RvcmVkIGRpcnR5LWNvbXBvbmVudHMgbGVuZ3RoICglcykgdG8gJyArXG4gICAgJ21hdGNoIGRpcnR5LWNvbXBvbmVudHMgYXJyYXkgbGVuZ3RoICglcykuJyxcbiAgICBsZW4sXG4gICAgZGlydHlDb21wb25lbnRzLmxlbmd0aFxuICApIDogaW52YXJpYW50KGxlbiA9PT0gZGlydHlDb21wb25lbnRzLmxlbmd0aCkpO1xuXG4gIC8vIFNpbmNlIHJlY29uY2lsaW5nIGEgY29tcG9uZW50IGhpZ2hlciBpbiB0aGUgb3duZXIgaGllcmFyY2h5IHVzdWFsbHkgKG5vdFxuICAvLyBhbHdheXMgLS0gc2VlIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpKSB3aWxsIHJlY29uY2lsZSBjaGlsZHJlbiwgcmVjb25jaWxlXG4gIC8vIHRoZW0gYmVmb3JlIHRoZWlyIGNoaWxkcmVuIGJ5IHNvcnRpbmcgdGhlIGFycmF5LlxuICBkaXJ0eUNvbXBvbmVudHMuc29ydChtb3VudE9yZGVyQ29tcGFyYXRvcik7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIC8vIElmIGEgY29tcG9uZW50IGlzIHVubW91bnRlZCBiZWZvcmUgcGVuZGluZyBjaGFuZ2VzIGFwcGx5LCBpdCB3aWxsIHN0aWxsXG4gICAgLy8gYmUgaGVyZSwgYnV0IHdlIGFzc3VtZSB0aGF0IGl0IGhhcyBjbGVhcmVkIGl0cyBfcGVuZGluZ0NhbGxiYWNrcyBhbmRcbiAgICAvLyB0aGF0IHBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeSBpcyBhIG5vb3AuXG4gICAgdmFyIGNvbXBvbmVudCA9IGRpcnR5Q29tcG9uZW50c1tpXTtcblxuICAgIC8vIElmIHBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeSBoYXBwZW5zIHRvIGVucXVldWUgYW55IG5ldyB1cGRhdGVzLCB3ZVxuICAgIC8vIHNob3VsZG4ndCBleGVjdXRlIHRoZSBjYWxsYmFja3MgdW50aWwgdGhlIG5leHQgcmVuZGVyIGhhcHBlbnMsIHNvXG4gICAgLy8gc3Rhc2ggdGhlIGNhbGxiYWNrcyBmaXJzdFxuICAgIHZhciBjYWxsYmFja3MgPSBjb21wb25lbnQuX3BlbmRpbmdDYWxsYmFja3M7XG4gICAgY29tcG9uZW50Ll9wZW5kaW5nQ2FsbGJhY2tzID0gbnVsbDtcblxuICAgIFJlYWN0UmVjb25jaWxlci5wZXJmb3JtVXBkYXRlSWZOZWNlc3NhcnkoXG4gICAgICBjb21wb25lbnQsXG4gICAgICB0cmFuc2FjdGlvbi5yZWNvbmNpbGVUcmFuc2FjdGlvblxuICAgICk7XG5cbiAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNhbGxiYWNrcy5sZW5ndGg7IGorKykge1xuICAgICAgICB0cmFuc2FjdGlvbi5jYWxsYmFja1F1ZXVlLmVucXVldWUoXG4gICAgICAgICAgY2FsbGJhY2tzW2pdLFxuICAgICAgICAgIGNvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbnZhciBmbHVzaEJhdGNoZWRVcGRhdGVzID0gZnVuY3Rpb24oKSB7XG4gIC8vIFJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24ncyB3cmFwcGVycyB3aWxsIGNsZWFyIHRoZSBkaXJ0eUNvbXBvbmVudHNcbiAgLy8gYXJyYXkgYW5kIHBlcmZvcm0gYW55IHVwZGF0ZXMgZW5xdWV1ZWQgYnkgbW91bnQtcmVhZHkgaGFuZGxlcnMgKGkuZS4sXG4gIC8vIGNvbXBvbmVudERpZFVwZGF0ZSkgYnV0IHdlIG5lZWQgdG8gY2hlY2sgaGVyZSB0b28gaW4gb3JkZXIgdG8gY2F0Y2hcbiAgLy8gdXBkYXRlcyBlbnF1ZXVlZCBieSBzZXRTdGF0ZSBjYWxsYmFja3MgYW5kIGFzYXAgY2FsbHMuXG4gIHdoaWxlIChkaXJ0eUNvbXBvbmVudHMubGVuZ3RoIHx8IGFzYXBFbnF1ZXVlZCkge1xuICAgIGlmIChkaXJ0eUNvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICB2YXIgdHJhbnNhY3Rpb24gPSBSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uLmdldFBvb2xlZCgpO1xuICAgICAgdHJhbnNhY3Rpb24ucGVyZm9ybShydW5CYXRjaGVkVXBkYXRlcywgbnVsbCwgdHJhbnNhY3Rpb24pO1xuICAgICAgUmVhY3RVcGRhdGVzRmx1c2hUcmFuc2FjdGlvbi5yZWxlYXNlKHRyYW5zYWN0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoYXNhcEVucXVldWVkKSB7XG4gICAgICBhc2FwRW5xdWV1ZWQgPSBmYWxzZTtcbiAgICAgIHZhciBxdWV1ZSA9IGFzYXBDYWxsYmFja1F1ZXVlO1xuICAgICAgYXNhcENhbGxiYWNrUXVldWUgPSBDYWxsYmFja1F1ZXVlLmdldFBvb2xlZCgpO1xuICAgICAgcXVldWUubm90aWZ5QWxsKCk7XG4gICAgICBDYWxsYmFja1F1ZXVlLnJlbGVhc2UocXVldWUpO1xuICAgIH1cbiAgfVxufTtcbmZsdXNoQmF0Y2hlZFVwZGF0ZXMgPSBSZWFjdFBlcmYubWVhc3VyZShcbiAgJ1JlYWN0VXBkYXRlcycsXG4gICdmbHVzaEJhdGNoZWRVcGRhdGVzJyxcbiAgZmx1c2hCYXRjaGVkVXBkYXRlc1xuKTtcblxuLyoqXG4gKiBNYXJrIGEgY29tcG9uZW50IGFzIG5lZWRpbmcgYSByZXJlbmRlciwgYWRkaW5nIGFuIG9wdGlvbmFsIGNhbGxiYWNrIHRvIGFcbiAqIGxpc3Qgb2YgZnVuY3Rpb25zIHdoaWNoIHdpbGwgYmUgZXhlY3V0ZWQgb25jZSB0aGUgcmVyZW5kZXIgb2NjdXJzLlxuICovXG5mdW5jdGlvbiBlbnF1ZXVlVXBkYXRlKGNvbXBvbmVudCkge1xuICBlbnN1cmVJbmplY3RlZCgpO1xuXG4gIC8vIFZhcmlvdXMgcGFydHMgb2Ygb3VyIGNvZGUgKHN1Y2ggYXMgUmVhY3RDb21wb3NpdGVDb21wb25lbnQnc1xuICAvLyBfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50KSBhc3N1bWUgdGhhdCBjYWxscyB0byByZW5kZXIgYXJlbid0IG5lc3RlZDtcbiAgLy8gdmVyaWZ5IHRoYXQgdGhhdCdzIHRoZSBjYXNlLiAoVGhpcyBpcyBjYWxsZWQgYnkgZWFjaCB0b3AtbGV2ZWwgdXBkYXRlXG4gIC8vIGZ1bmN0aW9uLCBsaWtlIHNldFByb3BzLCBzZXRTdGF0ZSwgZm9yY2VVcGRhdGUsIGV0Yy47IGNyZWF0aW9uIGFuZFxuICAvLyBkZXN0cnVjdGlvbiBvZiB0b3AtbGV2ZWwgY29tcG9uZW50cyBpcyBndWFyZGVkIGluIFJlYWN0TW91bnQuKVxuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID09IG51bGwsXG4gICAgJ2VucXVldWVVcGRhdGUoKTogUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyAnICtcbiAgICAnYW5kIHN0YXRlOyB0cmlnZ2VyaW5nIG5lc3RlZCBjb21wb25lbnQgdXBkYXRlcyBmcm9tIHJlbmRlciBpcyBub3QgJyArXG4gICAgJ2FsbG93ZWQuIElmIG5lY2Vzc2FyeSwgdHJpZ2dlciBuZXN0ZWQgdXBkYXRlcyBpbiAnICtcbiAgICAnY29tcG9uZW50RGlkVXBkYXRlLidcbiAgKSA6IG51bGwpO1xuXG4gIGlmICghYmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcykge1xuICAgIGJhdGNoaW5nU3RyYXRlZ3kuYmF0Y2hlZFVwZGF0ZXMoZW5xdWV1ZVVwZGF0ZSwgY29tcG9uZW50KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBkaXJ0eUNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xufVxuXG4vKipcbiAqIEVucXVldWUgYSBjYWxsYmFjayB0byBiZSBydW4gYXQgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBiYXRjaGluZyBjeWNsZS4gVGhyb3dzXG4gKiBpZiBubyB1cGRhdGVzIGFyZSBjdXJyZW50bHkgYmVpbmcgcGVyZm9ybWVkLlxuICovXG5mdW5jdGlvbiBhc2FwKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgYmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcyxcbiAgICAnUmVhY3RVcGRhdGVzLmFzYXA6IENhblxcJ3QgZW5xdWV1ZSBhbiBhc2FwIGNhbGxiYWNrIGluIGEgY29udGV4dCB3aGVyZScgK1xuICAgICd1cGRhdGVzIGFyZSBub3QgYmVpbmcgYmF0Y2hlZC4nXG4gICkgOiBpbnZhcmlhbnQoYmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcykpO1xuICBhc2FwQ2FsbGJhY2tRdWV1ZS5lbnF1ZXVlKGNhbGxiYWNrLCBjb250ZXh0KTtcbiAgYXNhcEVucXVldWVkID0gdHJ1ZTtcbn1cblxudmFyIFJlYWN0VXBkYXRlc0luamVjdGlvbiA9IHtcbiAgaW5qZWN0UmVjb25jaWxlVHJhbnNhY3Rpb246IGZ1bmN0aW9uKFJlY29uY2lsZVRyYW5zYWN0aW9uKSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIFJlY29uY2lsZVRyYW5zYWN0aW9uLFxuICAgICAgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGEgcmVjb25jaWxlIHRyYW5zYWN0aW9uIGNsYXNzJ1xuICAgICkgOiBpbnZhcmlhbnQoUmVjb25jaWxlVHJhbnNhY3Rpb24pKTtcbiAgICBSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiA9IFJlY29uY2lsZVRyYW5zYWN0aW9uO1xuICB9LFxuXG4gIGluamVjdEJhdGNoaW5nU3RyYXRlZ3k6IGZ1bmN0aW9uKF9iYXRjaGluZ1N0cmF0ZWd5KSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIF9iYXRjaGluZ1N0cmF0ZWd5LFxuICAgICAgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGEgYmF0Y2hpbmcgc3RyYXRlZ3knXG4gICAgKSA6IGludmFyaWFudChfYmF0Y2hpbmdTdHJhdGVneSkpO1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICB0eXBlb2YgX2JhdGNoaW5nU3RyYXRlZ3kuYmF0Y2hlZFVwZGF0ZXMgPT09ICdmdW5jdGlvbicsXG4gICAgICAnUmVhY3RVcGRhdGVzOiBtdXN0IHByb3ZpZGUgYSBiYXRjaGVkVXBkYXRlcygpIGZ1bmN0aW9uJ1xuICAgICkgOiBpbnZhcmlhbnQodHlwZW9mIF9iYXRjaGluZ1N0cmF0ZWd5LmJhdGNoZWRVcGRhdGVzID09PSAnZnVuY3Rpb24nKSk7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIHR5cGVvZiBfYmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcyA9PT0gJ2Jvb2xlYW4nLFxuICAgICAgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGFuIGlzQmF0Y2hpbmdVcGRhdGVzIGJvb2xlYW4gYXR0cmlidXRlJ1xuICAgICkgOiBpbnZhcmlhbnQodHlwZW9mIF9iYXRjaGluZ1N0cmF0ZWd5LmlzQmF0Y2hpbmdVcGRhdGVzID09PSAnYm9vbGVhbicpKTtcbiAgICBiYXRjaGluZ1N0cmF0ZWd5ID0gX2JhdGNoaW5nU3RyYXRlZ3k7XG4gIH1cbn07XG5cbnZhciBSZWFjdFVwZGF0ZXMgPSB7XG4gIC8qKlxuICAgKiBSZWFjdCByZWZlcmVuY2VzIGBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uYCB1c2luZyB0aGlzIHByb3BlcnR5IGluIG9yZGVyXG4gICAqIHRvIGFsbG93IGRlcGVuZGVuY3kgaW5qZWN0aW9uLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb246IG51bGwsXG5cbiAgYmF0Y2hlZFVwZGF0ZXM6IGJhdGNoZWRVcGRhdGVzLFxuICBlbnF1ZXVlVXBkYXRlOiBlbnF1ZXVlVXBkYXRlLFxuICBmbHVzaEJhdGNoZWRVcGRhdGVzOiBmbHVzaEJhdGNoZWRVcGRhdGVzLFxuICBpbmplY3Rpb246IFJlYWN0VXBkYXRlc0luamVjdGlvbixcbiAgYXNhcDogYXNhcFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFVwZGF0ZXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RXaXRoQWRkb25zXG4gKi9cblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBleGlzdHMgcHVyZWx5IGluIHRoZSBvcGVuIHNvdXJjZSBwcm9qZWN0LCBhbmQgaXMgbWVhbnQgYXMgYSB3YXlcbiAqIHRvIGNyZWF0ZSBhIHNlcGFyYXRlIHN0YW5kYWxvbmUgYnVpbGQgb2YgUmVhY3QuIFRoaXMgYnVpbGQgaGFzIFwiYWRkb25zXCIsIG9yXG4gKiBmdW5jdGlvbmFsaXR5IHdlJ3ZlIGJ1aWx0IGFuZCB0aGluayBtaWdodCBiZSB1c2VmdWwgYnV0IGRvZXNuJ3QgaGF2ZSBhIGdvb2RcbiAqIHBsYWNlIHRvIGxpdmUgaW5zaWRlIFJlYWN0IGNvcmUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgTGlua2VkU3RhdGVNaXhpbiA9IHJlcXVpcmUoXCIuL0xpbmtlZFN0YXRlTWl4aW5cIik7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwiLi9SZWFjdFwiKTtcbnZhciBSZWFjdENvbXBvbmVudFdpdGhQdXJlUmVuZGVyTWl4aW4gPVxuICByZXF1aXJlKFwiLi9SZWFjdENvbXBvbmVudFdpdGhQdXJlUmVuZGVyTWl4aW5cIik7XG52YXIgUmVhY3RDU1NUcmFuc2l0aW9uR3JvdXAgPSByZXF1aXJlKFwiLi9SZWFjdENTU1RyYW5zaXRpb25Hcm91cFwiKTtcbnZhciBSZWFjdEZyYWdtZW50ID0gcmVxdWlyZShcIi4vUmVhY3RGcmFnbWVudFwiKTtcbnZhciBSZWFjdFRyYW5zaXRpb25Hcm91cCA9IHJlcXVpcmUoXCIuL1JlYWN0VHJhbnNpdGlvbkdyb3VwXCIpO1xudmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoXCIuL1JlYWN0VXBkYXRlc1wiKTtcblxudmFyIGN4ID0gcmVxdWlyZShcIi4vY3hcIik7XG52YXIgY2xvbmVXaXRoUHJvcHMgPSByZXF1aXJlKFwiLi9jbG9uZVdpdGhQcm9wc1wiKTtcbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiLi91cGRhdGVcIik7XG5cblJlYWN0LmFkZG9ucyA9IHtcbiAgQ1NTVHJhbnNpdGlvbkdyb3VwOiBSZWFjdENTU1RyYW5zaXRpb25Hcm91cCxcbiAgTGlua2VkU3RhdGVNaXhpbjogTGlua2VkU3RhdGVNaXhpbixcbiAgUHVyZVJlbmRlck1peGluOiBSZWFjdENvbXBvbmVudFdpdGhQdXJlUmVuZGVyTWl4aW4sXG4gIFRyYW5zaXRpb25Hcm91cDogUmVhY3RUcmFuc2l0aW9uR3JvdXAsXG5cbiAgYmF0Y2hlZFVwZGF0ZXM6IFJlYWN0VXBkYXRlcy5iYXRjaGVkVXBkYXRlcyxcbiAgY2xhc3NTZXQ6IGN4LFxuICBjbG9uZVdpdGhQcm9wczogY2xvbmVXaXRoUHJvcHMsXG4gIGNyZWF0ZUZyYWdtZW50OiBSZWFjdEZyYWdtZW50LmNyZWF0ZSxcbiAgdXBkYXRlOiB1cGRhdGVcbn07XG5cbmlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgUmVhY3QuYWRkb25zLlBlcmYgPSByZXF1aXJlKFwiLi9SZWFjdERlZmF1bHRQZXJmXCIpO1xuICBSZWFjdC5hZGRvbnMuVGVzdFV0aWxzID0gcmVxdWlyZShcIi4vUmVhY3RUZXN0VXRpbHNcIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgU1ZHRE9NUHJvcGVydHlDb25maWdcbiAqL1xuXG4vKmpzbGludCBiaXR3aXNlOiB0cnVlKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRE9NUHJvcGVydHkgPSByZXF1aXJlKFwiLi9ET01Qcm9wZXJ0eVwiKTtcblxudmFyIE1VU1RfVVNFX0FUVFJJQlVURSA9IERPTVByb3BlcnR5LmluamVjdGlvbi5NVVNUX1VTRV9BVFRSSUJVVEU7XG5cbnZhciBTVkdET01Qcm9wZXJ0eUNvbmZpZyA9IHtcbiAgUHJvcGVydGllczoge1xuICAgIGNsaXBQYXRoOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgY3g6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBjeTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGQ6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBkeDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGR5OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgZmlsbDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGZpbGxPcGFjaXR5OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgZm9udEZhbWlseTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGZvbnRTaXplOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgZng6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBmeTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGdyYWRpZW50VHJhbnNmb3JtOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgZ3JhZGllbnRVbml0czogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIG1hcmtlckVuZDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIG1hcmtlck1pZDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIG1hcmtlclN0YXJ0OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgb2Zmc2V0OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgb3BhY2l0eTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHBhdHRlcm5Db250ZW50VW5pdHM6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBwYXR0ZXJuVW5pdHM6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBwb2ludHM6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgcjogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHJ4OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgcnk6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBzcHJlYWRNZXRob2Q6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBzdG9wQ29sb3I6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBzdG9wT3BhY2l0eTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHN0cm9rZTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHN0cm9rZURhc2hhcnJheTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHN0cm9rZUxpbmVjYXA6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBzdHJva2VPcGFjaXR5OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgc3Ryb2tlV2lkdGg6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB0ZXh0QW5jaG9yOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgdHJhbnNmb3JtOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgdmVyc2lvbjogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHZpZXdCb3g6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB4MTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHgyOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgeDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHkxOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgeTI6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB5OiBNVVNUX1VTRV9BVFRSSUJVVEVcbiAgfSxcbiAgRE9NQXR0cmlidXRlTmFtZXM6IHtcbiAgICBjbGlwUGF0aDogJ2NsaXAtcGF0aCcsXG4gICAgZmlsbE9wYWNpdHk6ICdmaWxsLW9wYWNpdHknLFxuICAgIGZvbnRGYW1pbHk6ICdmb250LWZhbWlseScsXG4gICAgZm9udFNpemU6ICdmb250LXNpemUnLFxuICAgIGdyYWRpZW50VHJhbnNmb3JtOiAnZ3JhZGllbnRUcmFuc2Zvcm0nLFxuICAgIGdyYWRpZW50VW5pdHM6ICdncmFkaWVudFVuaXRzJyxcbiAgICBtYXJrZXJFbmQ6ICdtYXJrZXItZW5kJyxcbiAgICBtYXJrZXJNaWQ6ICdtYXJrZXItbWlkJyxcbiAgICBtYXJrZXJTdGFydDogJ21hcmtlci1zdGFydCcsXG4gICAgcGF0dGVybkNvbnRlbnRVbml0czogJ3BhdHRlcm5Db250ZW50VW5pdHMnLFxuICAgIHBhdHRlcm5Vbml0czogJ3BhdHRlcm5Vbml0cycsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLFxuICAgIHNwcmVhZE1ldGhvZDogJ3NwcmVhZE1ldGhvZCcsXG4gICAgc3RvcENvbG9yOiAnc3RvcC1jb2xvcicsXG4gICAgc3RvcE9wYWNpdHk6ICdzdG9wLW9wYWNpdHknLFxuICAgIHN0cm9rZURhc2hhcnJheTogJ3N0cm9rZS1kYXNoYXJyYXknLFxuICAgIHN0cm9rZUxpbmVjYXA6ICdzdHJva2UtbGluZWNhcCcsXG4gICAgc3Ryb2tlT3BhY2l0eTogJ3N0cm9rZS1vcGFjaXR5JyxcbiAgICBzdHJva2VXaWR0aDogJ3N0cm9rZS13aWR0aCcsXG4gICAgdGV4dEFuY2hvcjogJ3RleHQtYW5jaG9yJyxcbiAgICB2aWV3Qm94OiAndmlld0JveCdcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTVkdET01Qcm9wZXJ0eUNvbmZpZztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTZWxlY3RFdmVudFBsdWdpblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZShcIi4vRXZlbnRDb25zdGFudHNcIik7XG52YXIgRXZlbnRQcm9wYWdhdG9ycyA9IHJlcXVpcmUoXCIuL0V2ZW50UHJvcGFnYXRvcnNcIik7XG52YXIgUmVhY3RJbnB1dFNlbGVjdGlvbiA9IHJlcXVpcmUoXCIuL1JlYWN0SW5wdXRTZWxlY3Rpb25cIik7XG52YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKFwiLi9TeW50aGV0aWNFdmVudFwiKTtcblxudmFyIGdldEFjdGl2ZUVsZW1lbnQgPSByZXF1aXJlKFwiLi9nZXRBY3RpdmVFbGVtZW50XCIpO1xudmFyIGlzVGV4dElucHV0RWxlbWVudCA9IHJlcXVpcmUoXCIuL2lzVGV4dElucHV0RWxlbWVudFwiKTtcbnZhciBrZXlPZiA9IHJlcXVpcmUoXCIuL2tleU9mXCIpO1xudmFyIHNoYWxsb3dFcXVhbCA9IHJlcXVpcmUoXCIuL3NoYWxsb3dFcXVhbFwiKTtcblxudmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuXG52YXIgZXZlbnRUeXBlcyA9IHtcbiAgc2VsZWN0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblNlbGVjdDogbnVsbH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblNlbGVjdENhcHR1cmU6IG51bGx9KVxuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbXG4gICAgICB0b3BMZXZlbFR5cGVzLnRvcEJsdXIsXG4gICAgICB0b3BMZXZlbFR5cGVzLnRvcENvbnRleHRNZW51LFxuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BGb2N1cyxcbiAgICAgIHRvcExldmVsVHlwZXMudG9wS2V5RG93bixcbiAgICAgIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duLFxuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZVVwLFxuICAgICAgdG9wTGV2ZWxUeXBlcy50b3BTZWxlY3Rpb25DaGFuZ2VcbiAgICBdXG4gIH1cbn07XG5cbnZhciBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbnZhciBhY3RpdmVFbGVtZW50SUQgPSBudWxsO1xudmFyIGxhc3RTZWxlY3Rpb24gPSBudWxsO1xudmFyIG1vdXNlRG93biA9IGZhbHNlO1xuXG4vKipcbiAqIEdldCBhbiBvYmplY3Qgd2hpY2ggaXMgYSB1bmlxdWUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICpcbiAqIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBub3QgYmUgY29uc2lzdGVudCBhY3Jvc3Mgbm9kZXMgb3IgYnJvd3NlcnMsIGJ1dFxuICogdHdvIGlkZW50aWNhbCBzZWxlY3Rpb25zIG9uIHRoZSBzYW1lIG5vZGUgd2lsbCByZXR1cm4gaWRlbnRpY2FsIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKG5vZGUpIHtcbiAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gbm9kZSAmJlxuICAgICAgUmVhY3RJbnB1dFNlbGVjdGlvbi5oYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMobm9kZSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IG5vZGUuc2VsZWN0aW9uU3RhcnQsXG4gICAgICBlbmQ6IG5vZGUuc2VsZWN0aW9uRW5kXG4gICAgfTtcbiAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4ge1xuICAgICAgYW5jaG9yTm9kZTogc2VsZWN0aW9uLmFuY2hvck5vZGUsXG4gICAgICBhbmNob3JPZmZzZXQ6IHNlbGVjdGlvbi5hbmNob3JPZmZzZXQsXG4gICAgICBmb2N1c05vZGU6IHNlbGVjdGlvbi5mb2N1c05vZGUsXG4gICAgICBmb2N1c09mZnNldDogc2VsZWN0aW9uLmZvY3VzT2Zmc2V0XG4gICAgfTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcbiAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICByZXR1cm4ge1xuICAgICAgcGFyZW50RWxlbWVudDogcmFuZ2UucGFyZW50RWxlbWVudCgpLFxuICAgICAgdGV4dDogcmFuZ2UudGV4dCxcbiAgICAgIHRvcDogcmFuZ2UuYm91bmRpbmdUb3AsXG4gICAgICBsZWZ0OiByYW5nZS5ib3VuZGluZ0xlZnRcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogUG9sbCBzZWxlY3Rpb24gdG8gc2VlIHdoZXRoZXIgaXQncyBjaGFuZ2VkLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudFxuICogQHJldHVybiB7P1N5bnRoZXRpY0V2ZW50fVxuICovXG5mdW5jdGlvbiBjb25zdHJ1Y3RTZWxlY3RFdmVudChuYXRpdmVFdmVudCkge1xuICAvLyBFbnN1cmUgd2UgaGF2ZSB0aGUgcmlnaHQgZWxlbWVudCwgYW5kIHRoYXQgdGhlIHVzZXIgaXMgbm90IGRyYWdnaW5nIGFcbiAgLy8gc2VsZWN0aW9uICh0aGlzIG1hdGNoZXMgbmF0aXZlIGBzZWxlY3RgIGV2ZW50IGJlaGF2aW9yKS4gSW4gSFRNTDUsIHNlbGVjdFxuICAvLyBmaXJlcyBvbmx5IG9uIGlucHV0IGFuZCB0ZXh0YXJlYSB0aHVzIGlmIHRoZXJlJ3Mgbm8gZm9jdXNlZCBlbGVtZW50IHdlXG4gIC8vIHdvbid0IGRpc3BhdGNoLlxuICBpZiAobW91c2VEb3duIHx8XG4gICAgICBhY3RpdmVFbGVtZW50ID09IG51bGwgfHxcbiAgICAgIGFjdGl2ZUVsZW1lbnQgIT09IGdldEFjdGl2ZUVsZW1lbnQoKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gT25seSBmaXJlIHdoZW4gc2VsZWN0aW9uIGhhcyBhY3R1YWxseSBjaGFuZ2VkLlxuICB2YXIgY3VycmVudFNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbihhY3RpdmVFbGVtZW50KTtcbiAgaWYgKCFsYXN0U2VsZWN0aW9uIHx8ICFzaGFsbG93RXF1YWwobGFzdFNlbGVjdGlvbiwgY3VycmVudFNlbGVjdGlvbikpIHtcbiAgICBsYXN0U2VsZWN0aW9uID0gY3VycmVudFNlbGVjdGlvbjtcblxuICAgIHZhciBzeW50aGV0aWNFdmVudCA9IFN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChcbiAgICAgIGV2ZW50VHlwZXMuc2VsZWN0LFxuICAgICAgYWN0aXZlRWxlbWVudElELFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApO1xuXG4gICAgc3ludGhldGljRXZlbnQudHlwZSA9ICdzZWxlY3QnO1xuICAgIHN5bnRoZXRpY0V2ZW50LnRhcmdldCA9IGFjdGl2ZUVsZW1lbnQ7XG5cbiAgICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoc3ludGhldGljRXZlbnQpO1xuXG4gICAgcmV0dXJuIHN5bnRoZXRpY0V2ZW50O1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBwbHVnaW4gY3JlYXRlcyBhbiBgb25TZWxlY3RgIGV2ZW50IHRoYXQgbm9ybWFsaXplcyBzZWxlY3QgZXZlbnRzXG4gKiBhY3Jvc3MgZm9ybSBlbGVtZW50cy5cbiAqXG4gKiBTdXBwb3J0ZWQgZWxlbWVudHMgYXJlOlxuICogLSBpbnB1dCAoc2VlIGBpc1RleHRJbnB1dEVsZW1lbnRgKVxuICogLSB0ZXh0YXJlYVxuICogLSBjb250ZW50RWRpdGFibGVcbiAqXG4gKiBUaGlzIGRpZmZlcnMgZnJvbSBuYXRpdmUgYnJvd3NlciBpbXBsZW1lbnRhdGlvbnMgaW4gdGhlIGZvbGxvd2luZyB3YXlzOlxuICogLSBGaXJlcyBvbiBjb250ZW50RWRpdGFibGUgZmllbGRzIGFzIHdlbGwgYXMgaW5wdXRzLlxuICogLSBGaXJlcyBmb3IgY29sbGFwc2VkIHNlbGVjdGlvbi5cbiAqIC0gRmlyZXMgYWZ0ZXIgdXNlciBpbnB1dC5cbiAqL1xudmFyIFNlbGVjdEV2ZW50UGx1Z2luID0ge1xuXG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gdG9wTGV2ZWxUYXJnZXQgVGhlIGxpc3RlbmluZyBjb21wb25lbnQgcm9vdCBub2RlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUYXJnZXRJRCBJRCBvZiBgdG9wTGV2ZWxUYXJnZXRgLlxuICAgKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4geyp9IEFuIGFjY3VtdWxhdGlvbiBvZiBzeW50aGV0aWMgZXZlbnRzLlxuICAgKiBAc2VlIHtFdmVudFBsdWdpbkh1Yi5leHRyYWN0RXZlbnRzfVxuICAgKi9cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24oXG4gICAgICB0b3BMZXZlbFR5cGUsXG4gICAgICB0b3BMZXZlbFRhcmdldCxcbiAgICAgIHRvcExldmVsVGFyZ2V0SUQsXG4gICAgICBuYXRpdmVFdmVudCkge1xuXG4gICAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICAgIC8vIFRyYWNrIHRoZSBpbnB1dCBub2RlIHRoYXQgaGFzIGZvY3VzLlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzOlxuICAgICAgICBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KHRvcExldmVsVGFyZ2V0KSB8fFxuICAgICAgICAgICAgdG9wTGV2ZWxUYXJnZXQuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gdG9wTGV2ZWxUYXJnZXQ7XG4gICAgICAgICAgYWN0aXZlRWxlbWVudElEID0gdG9wTGV2ZWxUYXJnZXRJRDtcbiAgICAgICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BCbHVyOlxuICAgICAgICBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgYWN0aXZlRWxlbWVudElEID0gbnVsbDtcbiAgICAgICAgbGFzdFNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBEb24ndCBmaXJlIHRoZSBldmVudCB3aGlsZSB0aGUgdXNlciBpcyBkcmFnZ2luZy4gVGhpcyBtYXRjaGVzIHRoZVxuICAgICAgLy8gc2VtYW50aWNzIG9mIHRoZSBuYXRpdmUgc2VsZWN0IGV2ZW50LlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bjpcbiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29udGV4dE1lbnU6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VVcDpcbiAgICAgICAgbW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RTZWxlY3RFdmVudChuYXRpdmVFdmVudCk7XG5cbiAgICAgIC8vIENocm9tZSBhbmQgSUUgZmlyZSBub24tc3RhbmRhcmQgZXZlbnQgd2hlbiBzZWxlY3Rpb24gaXMgY2hhbmdlZCAoYW5kXG4gICAgICAvLyBzb21ldGltZXMgd2hlbiBpdCBoYXNuJ3QpLlxuICAgICAgLy8gRmlyZWZveCBkb2Vzbid0IHN1cHBvcnQgc2VsZWN0aW9uY2hhbmdlLCBzbyBjaGVjayBzZWxlY3Rpb24gc3RhdHVzXG4gICAgICAvLyBhZnRlciBlYWNoIGtleSBlbnRyeS4gVGhlIHNlbGVjdGlvbiBjaGFuZ2VzIGFmdGVyIGtleWRvd24gYW5kIGJlZm9yZVxuICAgICAgLy8ga2V5dXAsIGJ1dCB3ZSBjaGVjayBvbiBrZXlkb3duIGFzIHdlbGwgaW4gdGhlIGNhc2Ugb2YgaG9sZGluZyBkb3duIGFcbiAgICAgIC8vIGtleSwgd2hlbiBtdWx0aXBsZSBrZXlkb3duIGV2ZW50cyBhcmUgZmlyZWQgYnV0IG9ubHkgb25lIGtleXVwIGlzLlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFNlbGVjdGlvbkNoYW5nZTpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwOlxuICAgICAgICByZXR1cm4gY29uc3RydWN0U2VsZWN0RXZlbnQobmF0aXZlRXZlbnQpO1xuICAgIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZWxlY3RFdmVudFBsdWdpbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTZXJ2ZXJSZWFjdFJvb3RJbmRleFxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU2l6ZSBvZiB0aGUgcmVhY3RSb290IElEIHNwYWNlLiBXZSBnZW5lcmF0ZSByYW5kb20gbnVtYmVycyBmb3IgUmVhY3Qgcm9vdFxuICogSURzIGFuZCBpZiB0aGVyZSdzIGEgY29sbGlzaW9uIHRoZSBldmVudHMgYW5kIERPTSB1cGRhdGUgc3lzdGVtIHdpbGxcbiAqIGdldCBjb25mdXNlZC4gSW4gdGhlIGZ1dHVyZSB3ZSBuZWVkIGEgd2F5IHRvIGdlbmVyYXRlIEdVSURzIGJ1dCBmb3JcbiAqIG5vdyB0aGlzIHdpbGwgd29yayBvbiBhIHNtYWxsZXIgc2NhbGUuXG4gKi9cbnZhciBHTE9CQUxfTU9VTlRfUE9JTlRfTUFYID0gTWF0aC5wb3coMiwgNTMpO1xuXG52YXIgU2VydmVyUmVhY3RSb290SW5kZXggPSB7XG4gIGNyZWF0ZVJlYWN0Um9vdEluZGV4OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiBHTE9CQUxfTU9VTlRfUE9JTlRfTUFYKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZXJ2ZXJSZWFjdFJvb3RJbmRleDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTaW1wbGVFdmVudFBsdWdpblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZShcIi4vRXZlbnRDb25zdGFudHNcIik7XG52YXIgRXZlbnRQbHVnaW5VdGlscyA9IHJlcXVpcmUoXCIuL0V2ZW50UGx1Z2luVXRpbHNcIik7XG52YXIgRXZlbnRQcm9wYWdhdG9ycyA9IHJlcXVpcmUoXCIuL0V2ZW50UHJvcGFnYXRvcnNcIik7XG52YXIgU3ludGhldGljQ2xpcGJvYXJkRXZlbnQgPSByZXF1aXJlKFwiLi9TeW50aGV0aWNDbGlwYm9hcmRFdmVudFwiKTtcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoXCIuL1N5bnRoZXRpY0V2ZW50XCIpO1xudmFyIFN5bnRoZXRpY0ZvY3VzRXZlbnQgPSByZXF1aXJlKFwiLi9TeW50aGV0aWNGb2N1c0V2ZW50XCIpO1xudmFyIFN5bnRoZXRpY0tleWJvYXJkRXZlbnQgPSByZXF1aXJlKFwiLi9TeW50aGV0aWNLZXlib2FyZEV2ZW50XCIpO1xudmFyIFN5bnRoZXRpY01vdXNlRXZlbnQgPSByZXF1aXJlKFwiLi9TeW50aGV0aWNNb3VzZUV2ZW50XCIpO1xudmFyIFN5bnRoZXRpY0RyYWdFdmVudCA9IHJlcXVpcmUoXCIuL1N5bnRoZXRpY0RyYWdFdmVudFwiKTtcbnZhciBTeW50aGV0aWNUb3VjaEV2ZW50ID0gcmVxdWlyZShcIi4vU3ludGhldGljVG91Y2hFdmVudFwiKTtcbnZhciBTeW50aGV0aWNVSUV2ZW50ID0gcmVxdWlyZShcIi4vU3ludGhldGljVUlFdmVudFwiKTtcbnZhciBTeW50aGV0aWNXaGVlbEV2ZW50ID0gcmVxdWlyZShcIi4vU3ludGhldGljV2hlZWxFdmVudFwiKTtcblxudmFyIGdldEV2ZW50Q2hhckNvZGUgPSByZXF1aXJlKFwiLi9nZXRFdmVudENoYXJDb2RlXCIpO1xuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xudmFyIGtleU9mID0gcmVxdWlyZShcIi4va2V5T2ZcIik7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoXCIuL3dhcm5pbmdcIik7XG5cbnZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcblxudmFyIGV2ZW50VHlwZXMgPSB7XG4gIGJsdXI6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uQmx1cjogdHJ1ZX0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkJsdXJDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGNsaWNrOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNsaWNrOiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ2xpY2tDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGNvbnRleHRNZW51OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkNvbnRleHRNZW51OiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uQ29udGV4dE1lbnVDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGNvcHk6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uQ29weTogdHJ1ZX0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkNvcHlDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGN1dDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25DdXQ6IHRydWV9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25DdXRDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGRvdWJsZUNsaWNrOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRvdWJsZUNsaWNrOiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRG91YmxlQ2xpY2tDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGRyYWc6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZzogdHJ1ZX0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGRyYWdFbmQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJhZ0VuZDogdHJ1ZX0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyYWdFbmRDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGRyYWdFbnRlcjoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25EcmFnRW50ZXI6IHRydWV9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EcmFnRW50ZXJDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGRyYWdFeGl0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWdFeGl0OiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJhZ0V4aXRDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGRyYWdMZWF2ZToge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25EcmFnTGVhdmU6IHRydWV9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EcmFnTGVhdmVDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGRyYWdPdmVyOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkRyYWdPdmVyOiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRHJhZ092ZXJDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGRyYWdTdGFydDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25EcmFnU3RhcnQ6IHRydWV9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25EcmFnU3RhcnRDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGRyb3A6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uRHJvcDogdHJ1ZX0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkRyb3BDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGZvY3VzOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkZvY3VzOiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRm9jdXNDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGlucHV0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbklucHV0OiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uSW5wdXRDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGtleURvd246IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uS2V5RG93bjogdHJ1ZX0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbktleURvd25DYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGtleVByZXNzOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbktleVByZXNzOiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uS2V5UHJlc3NDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGtleVVwOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbktleVVwOiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uS2V5VXBDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGxvYWQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uTG9hZDogdHJ1ZX0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbkxvYWRDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIGVycm9yOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbkVycm9yOiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uRXJyb3JDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIC8vIE5vdGU6IFdlIGRvIG5vdCBhbGxvdyBsaXN0ZW5pbmcgdG8gbW91c2VPdmVyIGV2ZW50cy4gSW5zdGVhZCwgdXNlIHRoZVxuICAvLyBvbk1vdXNlRW50ZXIvb25Nb3VzZUxlYXZlIGNyZWF0ZWQgYnkgYEVudGVyTGVhdmVFdmVudFBsdWdpbmAuXG4gIG1vdXNlRG93bjoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25Nb3VzZURvd246IHRydWV9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Nb3VzZURvd25DYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIG1vdXNlTW92ZToge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25Nb3VzZU1vdmU6IHRydWV9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Nb3VzZU1vdmVDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIG1vdXNlT3V0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbk1vdXNlT3V0OiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uTW91c2VPdXRDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIG1vdXNlT3Zlcjoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25Nb3VzZU92ZXI6IHRydWV9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Nb3VzZU92ZXJDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIG1vdXNlVXA6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uTW91c2VVcDogdHJ1ZX0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvbk1vdXNlVXBDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIHBhc3RlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblBhc3RlOiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUGFzdGVDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIHJlc2V0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblJlc2V0OiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uUmVzZXRDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIHNjcm9sbDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25TY3JvbGw6IHRydWV9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25TY3JvbGxDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIHN1Ym1pdDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25TdWJtaXQ6IHRydWV9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25TdWJtaXRDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIHRvdWNoQ2FuY2VsOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRvdWNoQ2FuY2VsOiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVG91Y2hDYW5jZWxDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIHRvdWNoRW5kOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvblRvdWNoRW5kOiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uVG91Y2hFbmRDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIHRvdWNoTW92ZToge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7b25Ub3VjaE1vdmU6IHRydWV9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Ub3VjaE1vdmVDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIHRvdWNoU3RhcnQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uVG91Y2hTdGFydDogdHJ1ZX0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblRvdWNoU3RhcnRDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH0sXG4gIHdoZWVsOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHtvbldoZWVsOiB0cnVlfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2Yoe29uV2hlZWxDYXB0dXJlOiB0cnVlfSlcbiAgICB9XG4gIH1cbn07XG5cbnZhciB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWcgPSB7XG4gIHRvcEJsdXI6ICAgICAgICBldmVudFR5cGVzLmJsdXIsXG4gIHRvcENsaWNrOiAgICAgICBldmVudFR5cGVzLmNsaWNrLFxuICB0b3BDb250ZXh0TWVudTogZXZlbnRUeXBlcy5jb250ZXh0TWVudSxcbiAgdG9wQ29weTogICAgICAgIGV2ZW50VHlwZXMuY29weSxcbiAgdG9wQ3V0OiAgICAgICAgIGV2ZW50VHlwZXMuY3V0LFxuICB0b3BEb3VibGVDbGljazogZXZlbnRUeXBlcy5kb3VibGVDbGljayxcbiAgdG9wRHJhZzogICAgICAgIGV2ZW50VHlwZXMuZHJhZyxcbiAgdG9wRHJhZ0VuZDogICAgIGV2ZW50VHlwZXMuZHJhZ0VuZCxcbiAgdG9wRHJhZ0VudGVyOiAgIGV2ZW50VHlwZXMuZHJhZ0VudGVyLFxuICB0b3BEcmFnRXhpdDogICAgZXZlbnRUeXBlcy5kcmFnRXhpdCxcbiAgdG9wRHJhZ0xlYXZlOiAgIGV2ZW50VHlwZXMuZHJhZ0xlYXZlLFxuICB0b3BEcmFnT3ZlcjogICAgZXZlbnRUeXBlcy5kcmFnT3ZlcixcbiAgdG9wRHJhZ1N0YXJ0OiAgIGV2ZW50VHlwZXMuZHJhZ1N0YXJ0LFxuICB0b3BEcm9wOiAgICAgICAgZXZlbnRUeXBlcy5kcm9wLFxuICB0b3BFcnJvcjogICAgICAgZXZlbnRUeXBlcy5lcnJvcixcbiAgdG9wRm9jdXM6ICAgICAgIGV2ZW50VHlwZXMuZm9jdXMsXG4gIHRvcElucHV0OiAgICAgICBldmVudFR5cGVzLmlucHV0LFxuICB0b3BLZXlEb3duOiAgICAgZXZlbnRUeXBlcy5rZXlEb3duLFxuICB0b3BLZXlQcmVzczogICAgZXZlbnRUeXBlcy5rZXlQcmVzcyxcbiAgdG9wS2V5VXA6ICAgICAgIGV2ZW50VHlwZXMua2V5VXAsXG4gIHRvcExvYWQ6ICAgICAgICBldmVudFR5cGVzLmxvYWQsXG4gIHRvcE1vdXNlRG93bjogICBldmVudFR5cGVzLm1vdXNlRG93bixcbiAgdG9wTW91c2VNb3ZlOiAgIGV2ZW50VHlwZXMubW91c2VNb3ZlLFxuICB0b3BNb3VzZU91dDogICAgZXZlbnRUeXBlcy5tb3VzZU91dCxcbiAgdG9wTW91c2VPdmVyOiAgIGV2ZW50VHlwZXMubW91c2VPdmVyLFxuICB0b3BNb3VzZVVwOiAgICAgZXZlbnRUeXBlcy5tb3VzZVVwLFxuICB0b3BQYXN0ZTogICAgICAgZXZlbnRUeXBlcy5wYXN0ZSxcbiAgdG9wUmVzZXQ6ICAgICAgIGV2ZW50VHlwZXMucmVzZXQsXG4gIHRvcFNjcm9sbDogICAgICBldmVudFR5cGVzLnNjcm9sbCxcbiAgdG9wU3VibWl0OiAgICAgIGV2ZW50VHlwZXMuc3VibWl0LFxuICB0b3BUb3VjaENhbmNlbDogZXZlbnRUeXBlcy50b3VjaENhbmNlbCxcbiAgdG9wVG91Y2hFbmQ6ICAgIGV2ZW50VHlwZXMudG91Y2hFbmQsXG4gIHRvcFRvdWNoTW92ZTogICBldmVudFR5cGVzLnRvdWNoTW92ZSxcbiAgdG9wVG91Y2hTdGFydDogIGV2ZW50VHlwZXMudG91Y2hTdGFydCxcbiAgdG9wV2hlZWw6ICAgICAgIGV2ZW50VHlwZXMud2hlZWxcbn07XG5cbmZvciAodmFyIHR5cGUgaW4gdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnKSB7XG4gIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0eXBlXS5kZXBlbmRlbmNpZXMgPSBbdHlwZV07XG59XG5cbnZhciBTaW1wbGVFdmVudFBsdWdpbiA9IHtcblxuICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uLCBleGNlcHQgY2FuY2VscyB0aGUgZXZlbnQgd2hlbiByZXR1cm5cbiAgICogdmFsdWUgaXMgZmFsc2UuIFRoaXMgYmVoYXZpb3Igd2lsbCBiZSBkaXNhYmxlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gRXZlbnQgdG8gYmUgZGlzcGF0Y2hlZC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gQXBwbGljYXRpb24tbGV2ZWwgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkb21JRCBET00gSUQgdG8gcGFzcyB0byB0aGUgY2FsbGJhY2suXG4gICAqL1xuICBleGVjdXRlRGlzcGF0Y2g6IGZ1bmN0aW9uKGV2ZW50LCBsaXN0ZW5lciwgZG9tSUQpIHtcbiAgICB2YXIgcmV0dXJuVmFsdWUgPSBFdmVudFBsdWdpblV0aWxzLmV4ZWN1dGVEaXNwYXRjaChldmVudCwgbGlzdGVuZXIsIGRvbUlEKTtcblxuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgdHlwZW9mIHJldHVyblZhbHVlICE9PSAnYm9vbGVhbicsXG4gICAgICAnUmV0dXJuaW5nIGBmYWxzZWAgZnJvbSBhbiBldmVudCBoYW5kbGVyIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgJyArXG4gICAgICAnaWdub3JlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLiBJbnN0ZWFkLCBtYW51YWxseSBjYWxsICcgK1xuICAgICAgJ2Uuc3RvcFByb3BhZ2F0aW9uKCkgb3IgZS5wcmV2ZW50RGVmYXVsdCgpLCBhcyBhcHByb3ByaWF0ZS4nXG4gICAgKSA6IG51bGwpO1xuXG4gICAgaWYgKHJldHVyblZhbHVlID09PSBmYWxzZSkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgRXZlbnRDb25zdGFudHNgLlxuICAgKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSB0b3BMZXZlbFRhcmdldCBUaGUgbGlzdGVuaW5nIGNvbXBvbmVudCByb290IG5vZGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFRhcmdldElEIElEIG9mIGB0b3BMZXZlbFRhcmdldGAuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAgICogQHJldHVybiB7Kn0gQW4gYWNjdW11bGF0aW9uIG9mIHN5bnRoZXRpYyBldmVudHMuXG4gICAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmV4dHJhY3RFdmVudHN9XG4gICAqL1xuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbihcbiAgICAgIHRvcExldmVsVHlwZSxcbiAgICAgIHRvcExldmVsVGFyZ2V0LFxuICAgICAgdG9wTGV2ZWxUYXJnZXRJRCxcbiAgICAgIG5hdGl2ZUV2ZW50KSB7XG4gICAgdmFyIGRpc3BhdGNoQ29uZmlnID0gdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnW3RvcExldmVsVHlwZV07XG4gICAgaWYgKCFkaXNwYXRjaENvbmZpZykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBFdmVudENvbnN0cnVjdG9yO1xuICAgIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wSW5wdXQ6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTG9hZDpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BFcnJvcjpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BSZXNldDpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTdWJtaXQ6XG4gICAgICAgIC8vIEhUTUwgRXZlbnRzXG4gICAgICAgIC8vIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5kZXguaHRtbCNldmVudHMtMFxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgICAgICAvLyBGaXJlRm94IGNyZWF0ZXMgYSBrZXlwcmVzcyBldmVudCBmb3IgZnVuY3Rpb24ga2V5cyB0b28uIFRoaXMgcmVtb3Zlc1xuICAgICAgICAvLyB0aGUgdW53YW50ZWQga2V5cHJlc3MgZXZlbnRzLiBFbnRlciBpcyBob3dldmVyIGJvdGggcHJpbnRhYmxlIGFuZFxuICAgICAgICAvLyBub24tcHJpbnRhYmxlLiBPbmUgd291bGQgZXhwZWN0IFRhYiB0byBiZSBhcyB3ZWxsIChidXQgaXQgaXNuJ3QpLlxuICAgICAgICBpZiAoZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5RG93bjpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcDpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0tleWJvYXJkRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEJsdXI6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRm9jdXM6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNGb2N1c0V2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDbGljazpcbiAgICAgICAgLy8gRmlyZWZveCBjcmVhdGVzIGEgY2xpY2sgZXZlbnQgb24gcmlnaHQgbW91c2UgY2xpY2tzLiBUaGlzIHJlbW92ZXMgdGhlXG4gICAgICAgIC8vIHVud2FudGVkIGNsaWNrIGV2ZW50cy5cbiAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmJ1dHRvbiA9PT0gMikge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb250ZXh0TWVudTpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEb3VibGVDbGljazpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd246XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VNb3ZlOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3V0OlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3ZlcjpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZVVwOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJhZzpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnRW5kOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdFbnRlcjpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnRXhpdDpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnTGVhdmU6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJhZ092ZXI6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJhZ1N0YXJ0OlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyb3A6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNEcmFnRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoQ2FuY2VsOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoRW5kOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoTW92ZTpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaFN0YXJ0OlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljVG91Y2hFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU2Nyb2xsOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljVUlFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wV2hlZWw6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNXaGVlbEV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BDb3B5OlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEN1dDpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BQYXN0ZTpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIEV2ZW50Q29uc3RydWN0b3IsXG4gICAgICAnU2ltcGxlRXZlbnRQbHVnaW46IFVuaGFuZGxlZCBldmVudCB0eXBlLCBgJXNgLicsXG4gICAgICB0b3BMZXZlbFR5cGVcbiAgICApIDogaW52YXJpYW50KEV2ZW50Q29uc3RydWN0b3IpKTtcbiAgICB2YXIgZXZlbnQgPSBFdmVudENvbnN0cnVjdG9yLmdldFBvb2xlZChcbiAgICAgIGRpc3BhdGNoQ29uZmlnLFxuICAgICAgdG9wTGV2ZWxUYXJnZXRJRCxcbiAgICAgIG5hdGl2ZUV2ZW50XG4gICAgKTtcbiAgICBFdmVudFByb3BhZ2F0b3JzLmFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNpbXBsZUV2ZW50UGx1Z2luO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFN5bnRoZXRpY0V2ZW50ID0gcmVxdWlyZShcIi4vU3ludGhldGljRXZlbnRcIik7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jbGlwYm9hcmQtYXBpcy9cbiAqL1xudmFyIENsaXBib2FyZEV2ZW50SW50ZXJmYWNlID0ge1xuICBjbGlwYm9hcmREYXRhOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICAnY2xpcGJvYXJkRGF0YScgaW4gZXZlbnQgP1xuICAgICAgICBldmVudC5jbGlwYm9hcmREYXRhIDpcbiAgICAgICAgd2luZG93LmNsaXBib2FyZERhdGFcbiAgICApO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBDb25maWd1cmF0aW9uIHVzZWQgdG8gZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwYXRjaE1hcmtlciBNYXJrZXIgaWRlbnRpZnlpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEBleHRlbmRzIHtTeW50aGV0aWNVSUV2ZW50fVxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNDbGlwYm9hcmRFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50KSB7XG4gIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCk7XG59XG5cblN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNDbGlwYm9hcmRFdmVudCwgQ2xpcGJvYXJkRXZlbnRJbnRlcmZhY2UpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnRcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKFwiLi9TeW50aGV0aWNFdmVudFwiKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWNvbXBvc2l0aW9uZXZlbnRzXG4gKi9cbnZhciBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlID0ge1xuICBkYXRhOiBudWxsXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBDb25maWd1cmF0aW9uIHVzZWQgdG8gZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwYXRjaE1hcmtlciBNYXJrZXIgaWRlbnRpZnlpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEBleHRlbmRzIHtTeW50aGV0aWNVSUV2ZW50fVxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50KFxuICBkaXNwYXRjaENvbmZpZyxcbiAgZGlzcGF0Y2hNYXJrZXIsXG4gIG5hdGl2ZUV2ZW50KSB7XG4gIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCk7XG59XG5cblN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyhcbiAgU3ludGhldGljQ29tcG9zaXRpb25FdmVudCxcbiAgQ29tcG9zaXRpb25FdmVudEludGVyZmFjZVxuKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFN5bnRoZXRpY0RyYWdFdmVudFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gcmVxdWlyZShcIi4vU3ludGhldGljTW91c2VFdmVudFwiKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIERyYWdFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBEcmFnRXZlbnRJbnRlcmZhY2UgPSB7XG4gIGRhdGFUcmFuc2ZlcjogbnVsbFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgQ29uZmlndXJhdGlvbiB1c2VkIHRvIGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGlzcGF0Y2hNYXJrZXIgTWFya2VyIGlkZW50aWZ5aW5nIHRoZSBldmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAZXh0ZW5kcyB7U3ludGhldGljVUlFdmVudH1cbiAqL1xuZnVuY3Rpb24gU3ludGhldGljRHJhZ0V2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQpIHtcbiAgU3ludGhldGljTW91c2VFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQpO1xufVxuXG5TeW50aGV0aWNNb3VzZUV2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNEcmFnRXZlbnQsIERyYWdFdmVudEludGVyZmFjZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljRHJhZ0V2ZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFN5bnRoZXRpY0V2ZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFBvb2xlZENsYXNzID0gcmVxdWlyZShcIi4vUG9vbGVkQ2xhc3NcIik7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKFwiLi9PYmplY3QuYXNzaWduXCIpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKFwiLi9lbXB0eUZ1bmN0aW9uXCIpO1xudmFyIGdldEV2ZW50VGFyZ2V0ID0gcmVxdWlyZShcIi4vZ2V0RXZlbnRUYXJnZXRcIik7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBFdmVudEludGVyZmFjZSA9IHtcbiAgdHlwZTogbnVsbCxcbiAgdGFyZ2V0OiBnZXRFdmVudFRhcmdldCxcbiAgLy8gY3VycmVudFRhcmdldCBpcyBzZXQgd2hlbiBkaXNwYXRjaGluZzsgbm8gdXNlIGluIGNvcHlpbmcgaXQgaGVyZVxuICBjdXJyZW50VGFyZ2V0OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCxcbiAgZXZlbnRQaGFzZTogbnVsbCxcbiAgYnViYmxlczogbnVsbCxcbiAgY2FuY2VsYWJsZTogbnVsbCxcbiAgdGltZVN0YW1wOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBldmVudC50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbiAgfSxcbiAgZGVmYXVsdFByZXZlbnRlZDogbnVsbCxcbiAgaXNUcnVzdGVkOiBudWxsXG59O1xuXG4vKipcbiAqIFN5bnRoZXRpYyBldmVudHMgYXJlIGRpc3BhdGNoZWQgYnkgZXZlbnQgcGx1Z2lucywgdHlwaWNhbGx5IGluIHJlc3BvbnNlIHRvIGFcbiAqIHRvcC1sZXZlbCBldmVudCBkZWxlZ2F0aW9uIGhhbmRsZXIuXG4gKlxuICogVGhlc2Ugc3lzdGVtcyBzaG91bGQgZ2VuZXJhbGx5IHVzZSBwb29saW5nIHRvIHJlZHVjZSB0aGUgZnJlcXVlbmN5IG9mIGdhcmJhZ2VcbiAqIGNvbGxlY3Rpb24uIFRoZSBzeXN0ZW0gc2hvdWxkIGNoZWNrIGBpc1BlcnNpc3RlbnRgIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZVxuICogZXZlbnQgc2hvdWxkIGJlIHJlbGVhc2VkIGludG8gdGhlIHBvb2wgYWZ0ZXIgYmVpbmcgZGlzcGF0Y2hlZC4gVXNlcnMgdGhhdFxuICogbmVlZCBhIHBlcnNpc3RlZCBldmVudCBzaG91bGQgaW52b2tlIGBwZXJzaXN0YC5cbiAqXG4gKiBTeW50aGV0aWMgZXZlbnRzIChhbmQgc3ViY2xhc3NlcykgaW1wbGVtZW50IHRoZSBET00gTGV2ZWwgMyBFdmVudHMgQVBJIGJ5XG4gKiBub3JtYWxpemluZyBicm93c2VyIHF1aXJrcy4gU3ViY2xhc3NlcyBkbyBub3QgbmVjZXNzYXJpbHkgaGF2ZSB0byBpbXBsZW1lbnQgYVxuICogRE9NIGludGVyZmFjZTsgY3VzdG9tIGFwcGxpY2F0aW9uLXNwZWNpZmljIGV2ZW50cyBjYW4gYWxzbyBzdWJjbGFzcyB0aGlzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBDb25maWd1cmF0aW9uIHVzZWQgdG8gZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwYXRjaE1hcmtlciBNYXJrZXIgaWRlbnRpZnlpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqL1xuZnVuY3Rpb24gU3ludGhldGljRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCkge1xuICB0aGlzLmRpc3BhdGNoQ29uZmlnID0gZGlzcGF0Y2hDb25maWc7XG4gIHRoaXMuZGlzcGF0Y2hNYXJrZXIgPSBkaXNwYXRjaE1hcmtlcjtcbiAgdGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuXG4gIHZhciBJbnRlcmZhY2UgPSB0aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtcbiAgZm9yICh2YXIgcHJvcE5hbWUgaW4gSW50ZXJmYWNlKSB7XG4gICAgaWYgKCFJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIG5vcm1hbGl6ZSA9IEludGVyZmFjZVtwcm9wTmFtZV07XG4gICAgaWYgKG5vcm1hbGl6ZSkge1xuICAgICAgdGhpc1twcm9wTmFtZV0gPSBub3JtYWxpemUobmF0aXZlRXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzW3Byb3BOYW1lXSA9IG5hdGl2ZUV2ZW50W3Byb3BOYW1lXTtcbiAgICB9XG4gIH1cblxuICB2YXIgZGVmYXVsdFByZXZlbnRlZCA9IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgIT0gbnVsbCA/XG4gICAgbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCA6XG4gICAgbmF0aXZlRXZlbnQucmV0dXJuVmFsdWUgPT09IGZhbHNlO1xuICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2U7XG4gIH1cbiAgdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZTtcbn1cblxuYXNzaWduKFN5bnRoZXRpY0V2ZW50LnByb3RvdHlwZSwge1xuXG4gIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICB9LFxuXG4gIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBXZSByZWxlYXNlIGFsbCBkaXNwYXRjaGVkIGBTeW50aGV0aWNFdmVudGBzIGFmdGVyIGVhY2ggZXZlbnQgbG9vcCwgYWRkaW5nXG4gICAqIHRoZW0gYmFjayBpbnRvIHRoZSBwb29sLiBUaGlzIGFsbG93cyBhIHdheSB0byBob2xkIG9udG8gYSByZWZlcmVuY2UgdGhhdFxuICAgKiB3b24ndCBiZSBhZGRlZCBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAqL1xuICBwZXJzaXN0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzUGVyc2lzdGVudCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhpcyBldmVudCBzaG91bGQgYmUgcmVsZWFzZWQgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoaXMgc2hvdWxkIG5vdCBiZSByZWxlYXNlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgaXNQZXJzaXN0ZW50OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UsXG5cbiAgLyoqXG4gICAqIGBQb29sZWRDbGFzc2AgbG9va3MgZm9yIGBkZXN0cnVjdG9yYCBvbiBlYWNoIGluc3RhbmNlIGl0IHJlbGVhc2VzLlxuICAgKi9cbiAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIEludGVyZmFjZSA9IHRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlO1xuICAgIGZvciAodmFyIHByb3BOYW1lIGluIEludGVyZmFjZSkge1xuICAgICAgdGhpc1twcm9wTmFtZV0gPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmRpc3BhdGNoQ29uZmlnID0gbnVsbDtcbiAgICB0aGlzLmRpc3BhdGNoTWFya2VyID0gbnVsbDtcbiAgICB0aGlzLm5hdGl2ZUV2ZW50ID0gbnVsbDtcbiAgfVxuXG59KTtcblxuU3ludGhldGljRXZlbnQuSW50ZXJmYWNlID0gRXZlbnRJbnRlcmZhY2U7XG5cbi8qKlxuICogSGVscGVyIHRvIHJlZHVjZSBib2lsZXJwbGF0ZSB3aGVuIGNyZWF0aW5nIHN1YmNsYXNzZXMuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gQ2xhc3NcbiAqIEBwYXJhbSB7P29iamVjdH0gSW50ZXJmYWNlXG4gKi9cblN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyA9IGZ1bmN0aW9uKENsYXNzLCBJbnRlcmZhY2UpIHtcbiAgdmFyIFN1cGVyID0gdGhpcztcblxuICB2YXIgcHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdXBlci5wcm90b3R5cGUpO1xuICBhc3NpZ24ocHJvdG90eXBlLCBDbGFzcy5wcm90b3R5cGUpO1xuICBDbGFzcy5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIENsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENsYXNzO1xuXG4gIENsYXNzLkludGVyZmFjZSA9IGFzc2lnbih7fSwgU3VwZXIuSW50ZXJmYWNlLCBJbnRlcmZhY2UpO1xuICBDbGFzcy5hdWdtZW50Q2xhc3MgPSBTdXBlci5hdWdtZW50Q2xhc3M7XG5cbiAgUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKENsYXNzLCBQb29sZWRDbGFzcy50aHJlZUFyZ3VtZW50UG9vbGVyKTtcbn07XG5cblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhTeW50aGV0aWNFdmVudCwgUG9vbGVkQ2xhc3MudGhyZWVBcmd1bWVudFBvb2xlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljRXZlbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgU3ludGhldGljRm9jdXNFdmVudFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBTeW50aGV0aWNVSUV2ZW50ID0gcmVxdWlyZShcIi4vU3ludGhldGljVUlFdmVudFwiKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEZvY3VzRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG52YXIgRm9jdXNFdmVudEludGVyZmFjZSA9IHtcbiAgcmVsYXRlZFRhcmdldDogbnVsbFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgQ29uZmlndXJhdGlvbiB1c2VkIHRvIGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGlzcGF0Y2hNYXJrZXIgTWFya2VyIGlkZW50aWZ5aW5nIHRoZSBldmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAZXh0ZW5kcyB7U3ludGhldGljVUlFdmVudH1cbiAqL1xuZnVuY3Rpb24gU3ludGhldGljRm9jdXNFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50KSB7XG4gIFN5bnRoZXRpY1VJRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50KTtcbn1cblxuU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljRm9jdXNFdmVudCwgRm9jdXNFdmVudEludGVyZmFjZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljRm9jdXNFdmVudDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTeW50aGV0aWNJbnB1dEV2ZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFN5bnRoZXRpY0V2ZW50ID0gcmVxdWlyZShcIi4vU3ludGhldGljRXZlbnRcIik7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDEzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDEzMTEwNVxuICogICAgICAvI2V2ZW50cy1pbnB1dGV2ZW50c1xuICovXG52YXIgSW5wdXRFdmVudEludGVyZmFjZSA9IHtcbiAgZGF0YTogbnVsbFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgQ29uZmlndXJhdGlvbiB1c2VkIHRvIGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGlzcGF0Y2hNYXJrZXIgTWFya2VyIGlkZW50aWZ5aW5nIHRoZSBldmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAZXh0ZW5kcyB7U3ludGhldGljVUlFdmVudH1cbiAqL1xuZnVuY3Rpb24gU3ludGhldGljSW5wdXRFdmVudChcbiAgZGlzcGF0Y2hDb25maWcsXG4gIGRpc3BhdGNoTWFya2VyLFxuICBuYXRpdmVFdmVudCkge1xuICBTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQpO1xufVxuXG5TeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoXG4gIFN5bnRoZXRpY0lucHV0RXZlbnQsXG4gIElucHV0RXZlbnRJbnRlcmZhY2Vcbik7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljSW5wdXRFdmVudDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTeW50aGV0aWNLZXlib2FyZEV2ZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFN5bnRoZXRpY1VJRXZlbnQgPSByZXF1aXJlKFwiLi9TeW50aGV0aWNVSUV2ZW50XCIpO1xuXG52YXIgZ2V0RXZlbnRDaGFyQ29kZSA9IHJlcXVpcmUoXCIuL2dldEV2ZW50Q2hhckNvZGVcIik7XG52YXIgZ2V0RXZlbnRLZXkgPSByZXF1aXJlKFwiLi9nZXRFdmVudEtleVwiKTtcbnZhciBnZXRFdmVudE1vZGlmaWVyU3RhdGUgPSByZXF1aXJlKFwiLi9nZXRFdmVudE1vZGlmaWVyU3RhdGVcIik7XG5cbi8qKlxuICogQGludGVyZmFjZSBLZXlib2FyZEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIEtleWJvYXJkRXZlbnRJbnRlcmZhY2UgPSB7XG4gIGtleTogZ2V0RXZlbnRLZXksXG4gIGxvY2F0aW9uOiBudWxsLFxuICBjdHJsS2V5OiBudWxsLFxuICBzaGlmdEtleTogbnVsbCxcbiAgYWx0S2V5OiBudWxsLFxuICBtZXRhS2V5OiBudWxsLFxuICByZXBlYXQ6IG51bGwsXG4gIGxvY2FsZTogbnVsbCxcbiAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICAvLyBMZWdhY3kgSW50ZXJmYWNlXG4gIGNoYXJDb2RlOiBmdW5jdGlvbihldmVudCkge1xuICAgIC8vIGBjaGFyQ29kZWAgaXMgdGhlIHJlc3VsdCBvZiBhIEtleVByZXNzIGV2ZW50IGFuZCByZXByZXNlbnRzIHRoZSB2YWx1ZSBvZlxuICAgIC8vIHRoZSBhY3R1YWwgcHJpbnRhYmxlIGNoYXJhY3Rlci5cblxuICAgIC8vIEtleVByZXNzIGlzIGRlcHJlY2F0ZWQsIGJ1dCBpdHMgcmVwbGFjZW1lbnQgaXMgbm90IHlldCBmaW5hbCBhbmQgbm90XG4gICAgLy8gaW1wbGVtZW50ZWQgaW4gYW55IG1ham9yIGJyb3dzZXIuIE9ubHkgS2V5UHJlc3MgaGFzIGNoYXJDb2RlLlxuICAgIGlmIChldmVudC50eXBlID09PSAna2V5cHJlc3MnKSB7XG4gICAgICByZXR1cm4gZ2V0RXZlbnRDaGFyQ29kZShldmVudCk7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9LFxuICBrZXlDb2RlOiBmdW5jdGlvbihldmVudCkge1xuICAgIC8vIGBrZXlDb2RlYCBpcyB0aGUgcmVzdWx0IG9mIGEgS2V5RG93bi9VcCBldmVudCBhbmQgcmVwcmVzZW50cyB0aGUgdmFsdWUgb2ZcbiAgICAvLyBwaHlzaWNhbCBrZXlib2FyZCBrZXkuXG5cbiAgICAvLyBUaGUgYWN0dWFsIG1lYW5pbmcgb2YgdGhlIHZhbHVlIGRlcGVuZHMgb24gdGhlIHVzZXJzJyBrZXlib2FyZCBsYXlvdXRcbiAgICAvLyB3aGljaCBjYW5ub3QgYmUgZGV0ZWN0ZWQuIEFzc3VtaW5nIHRoYXQgaXQgaXMgYSBVUyBrZXlib2FyZCBsYXlvdXRcbiAgICAvLyBwcm92aWRlcyBhIHN1cnByaXNpbmdseSBhY2N1cmF0ZSBtYXBwaW5nIGZvciBVUyBhbmQgRXVyb3BlYW4gdXNlcnMuXG4gICAgLy8gRHVlIHRvIHRoaXMsIGl0IGlzIGxlZnQgdG8gdGhlIHVzZXIgdG8gaW1wbGVtZW50IGF0IHRoaXMgdGltZS5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAgIHJldHVybiBldmVudC5rZXlDb2RlO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgd2hpY2g6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy8gYHdoaWNoYCBpcyBhbiBhbGlhcyBmb3IgZWl0aGVyIGBrZXlDb2RlYCBvciBgY2hhckNvZGVgIGRlcGVuZGluZyBvbiB0aGVcbiAgICAvLyB0eXBlIG9mIHRoZSBldmVudC5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykge1xuICAgICAgcmV0dXJuIGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpO1xuICAgIH1cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAgIHJldHVybiBldmVudC5rZXlDb2RlO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgQ29uZmlndXJhdGlvbiB1c2VkIHRvIGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGlzcGF0Y2hNYXJrZXIgTWFya2VyIGlkZW50aWZ5aW5nIHRoZSBldmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAZXh0ZW5kcyB7U3ludGhldGljVUlFdmVudH1cbiAqL1xuZnVuY3Rpb24gU3ludGhldGljS2V5Ym9hcmRFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50KSB7XG4gIFN5bnRoZXRpY1VJRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50KTtcbn1cblxuU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljS2V5Ym9hcmRFdmVudCwgS2V5Ym9hcmRFdmVudEludGVyZmFjZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljS2V5Ym9hcmRFdmVudDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTeW50aGV0aWNNb3VzZUV2ZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFN5bnRoZXRpY1VJRXZlbnQgPSByZXF1aXJlKFwiLi9TeW50aGV0aWNVSUV2ZW50XCIpO1xudmFyIFZpZXdwb3J0TWV0cmljcyA9IHJlcXVpcmUoXCIuL1ZpZXdwb3J0TWV0cmljc1wiKTtcblxudmFyIGdldEV2ZW50TW9kaWZpZXJTdGF0ZSA9IHJlcXVpcmUoXCIuL2dldEV2ZW50TW9kaWZpZXJTdGF0ZVwiKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIE1vdXNlRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG52YXIgTW91c2VFdmVudEludGVyZmFjZSA9IHtcbiAgc2NyZWVuWDogbnVsbCxcbiAgc2NyZWVuWTogbnVsbCxcbiAgY2xpZW50WDogbnVsbCxcbiAgY2xpZW50WTogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICBidXR0b246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy8gV2Via2l0LCBGaXJlZm94LCBJRTkrXG4gICAgLy8gd2hpY2g6ICAxIDIgM1xuICAgIC8vIGJ1dHRvbjogMCAxIDIgKHN0YW5kYXJkKVxuICAgIHZhciBidXR0b24gPSBldmVudC5idXR0b247XG4gICAgaWYgKCd3aGljaCcgaW4gZXZlbnQpIHtcbiAgICAgIHJldHVybiBidXR0b247XG4gICAgfVxuICAgIC8vIElFPDlcbiAgICAvLyB3aGljaDogIHVuZGVmaW5lZFxuICAgIC8vIGJ1dHRvbjogMCAwIDBcbiAgICAvLyBidXR0b246IDEgNCAyIChvbm1vdXNldXApXG4gICAgcmV0dXJuIGJ1dHRvbiA9PT0gMiA/IDIgOiBidXR0b24gPT09IDQgPyAxIDogMDtcbiAgfSxcbiAgYnV0dG9uczogbnVsbCxcbiAgcmVsYXRlZFRhcmdldDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQucmVsYXRlZFRhcmdldCB8fCAoXG4gICAgICAoKGV2ZW50LmZyb21FbGVtZW50ID09PSBldmVudC5zcmNFbGVtZW50ID8gZXZlbnQudG9FbGVtZW50IDogZXZlbnQuZnJvbUVsZW1lbnQpKVxuICAgICk7XG4gIH0sXG4gIC8vIFwiUHJvcHJpZXRhcnlcIiBJbnRlcmZhY2UuXG4gIHBhZ2VYOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiAncGFnZVgnIGluIGV2ZW50ID9cbiAgICAgIGV2ZW50LnBhZ2VYIDpcbiAgICAgIGV2ZW50LmNsaWVudFggKyBWaWV3cG9ydE1ldHJpY3MuY3VycmVudFNjcm9sbExlZnQ7XG4gIH0sXG4gIHBhZ2VZOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiAncGFnZVknIGluIGV2ZW50ID9cbiAgICAgIGV2ZW50LnBhZ2VZIDpcbiAgICAgIGV2ZW50LmNsaWVudFkgKyBWaWV3cG9ydE1ldHJpY3MuY3VycmVudFNjcm9sbFRvcDtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgQ29uZmlndXJhdGlvbiB1c2VkIHRvIGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGlzcGF0Y2hNYXJrZXIgTWFya2VyIGlkZW50aWZ5aW5nIHRoZSBldmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAZXh0ZW5kcyB7U3ludGhldGljVUlFdmVudH1cbiAqL1xuZnVuY3Rpb24gU3ludGhldGljTW91c2VFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50KSB7XG4gIFN5bnRoZXRpY1VJRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50KTtcbn1cblxuU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljTW91c2VFdmVudCwgTW91c2VFdmVudEludGVyZmFjZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljTW91c2VFdmVudDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTeW50aGV0aWNUb3VjaEV2ZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFN5bnRoZXRpY1VJRXZlbnQgPSByZXF1aXJlKFwiLi9TeW50aGV0aWNVSUV2ZW50XCIpO1xuXG52YXIgZ2V0RXZlbnRNb2RpZmllclN0YXRlID0gcmVxdWlyZShcIi4vZ2V0RXZlbnRNb2RpZmllclN0YXRlXCIpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgVG91Y2hFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi90b3VjaC1ldmVudHMvXG4gKi9cbnZhciBUb3VjaEV2ZW50SW50ZXJmYWNlID0ge1xuICB0b3VjaGVzOiBudWxsLFxuICB0YXJnZXRUb3VjaGVzOiBudWxsLFxuICBjaGFuZ2VkVG91Y2hlczogbnVsbCxcbiAgYWx0S2V5OiBudWxsLFxuICBtZXRhS2V5OiBudWxsLFxuICBjdHJsS2V5OiBudWxsLFxuICBzaGlmdEtleTogbnVsbCxcbiAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBDb25maWd1cmF0aW9uIHVzZWQgdG8gZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwYXRjaE1hcmtlciBNYXJrZXIgaWRlbnRpZnlpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEBleHRlbmRzIHtTeW50aGV0aWNVSUV2ZW50fVxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNUb3VjaEV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQpIHtcbiAgU3ludGhldGljVUlFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQpO1xufVxuXG5TeW50aGV0aWNVSUV2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNUb3VjaEV2ZW50LCBUb3VjaEV2ZW50SW50ZXJmYWNlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNUb3VjaEV2ZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFN5bnRoZXRpY1VJRXZlbnRcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKFwiLi9TeW50aGV0aWNFdmVudFwiKTtcblxudmFyIGdldEV2ZW50VGFyZ2V0ID0gcmVxdWlyZShcIi4vZ2V0RXZlbnRUYXJnZXRcIik7XG5cbi8qKlxuICogQGludGVyZmFjZSBVSUV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIFVJRXZlbnRJbnRlcmZhY2UgPSB7XG4gIHZpZXc6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnZpZXcpIHtcbiAgICAgIHJldHVybiBldmVudC52aWV3O1xuICAgIH1cblxuICAgIHZhciB0YXJnZXQgPSBnZXRFdmVudFRhcmdldChldmVudCk7XG4gICAgaWYgKHRhcmdldCAhPSBudWxsICYmIHRhcmdldC53aW5kb3cgPT09IHRhcmdldCkge1xuICAgICAgLy8gdGFyZ2V0IGlzIGEgd2luZG93IG9iamVjdFxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICB2YXIgZG9jID0gdGFyZ2V0Lm93bmVyRG9jdW1lbnQ7XG4gICAgLy8gVE9ETzogRmlndXJlIG91dCB3aHkgYG93bmVyRG9jdW1lbnRgIGlzIHNvbWV0aW1lcyB1bmRlZmluZWQgaW4gSUU4LlxuICAgIGlmIChkb2MpIHtcbiAgICAgIHJldHVybiBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gIH0sXG4gIGRldGFpbDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQuZGV0YWlsIHx8IDA7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGRpc3BhdGNoQ29uZmlnIENvbmZpZ3VyYXRpb24gdXNlZCB0byBkaXNwYXRjaCB0aGlzIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGRpc3BhdGNoTWFya2VyIE1hcmtlciBpZGVudGlmeWluZyB0aGUgZXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQGV4dGVuZHMge1N5bnRoZXRpY0V2ZW50fVxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNVSUV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQpIHtcbiAgU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50KTtcbn1cblxuU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY1VJRXZlbnQsIFVJRXZlbnRJbnRlcmZhY2UpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY1VJRXZlbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgU3ludGhldGljV2hlZWxFdmVudFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gcmVxdWlyZShcIi4vU3ludGhldGljTW91c2VFdmVudFwiKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFdoZWVsRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG52YXIgV2hlZWxFdmVudEludGVyZmFjZSA9IHtcbiAgZGVsdGFYOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICAnZGVsdGFYJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWCA6XG4gICAgICAvLyBGYWxsYmFjayB0byBgd2hlZWxEZWx0YVhgIGZvciBXZWJraXQgYW5kIG5vcm1hbGl6ZSAocmlnaHQgaXMgcG9zaXRpdmUpLlxuICAgICAgJ3doZWVsRGVsdGFYJyBpbiBldmVudCA/IC1ldmVudC53aGVlbERlbHRhWCA6IDBcbiAgICApO1xuICB9LFxuICBkZWx0YVk6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICdkZWx0YVknIGluIGV2ZW50ID8gZXZlbnQuZGVsdGFZIDpcbiAgICAgIC8vIEZhbGxiYWNrIHRvIGB3aGVlbERlbHRhWWAgZm9yIFdlYmtpdCBhbmQgbm9ybWFsaXplIChkb3duIGlzIHBvc2l0aXZlKS5cbiAgICAgICd3aGVlbERlbHRhWScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YVkgOlxuICAgICAgLy8gRmFsbGJhY2sgdG8gYHdoZWVsRGVsdGFgIGZvciBJRTw5IGFuZCBub3JtYWxpemUgKGRvd24gaXMgcG9zaXRpdmUpLlxuICAgICAgJ3doZWVsRGVsdGEnIGluIGV2ZW50ID8gLWV2ZW50LndoZWVsRGVsdGEgOiAwXG4gICAgKTtcbiAgfSxcbiAgZGVsdGFaOiBudWxsLFxuXG4gIC8vIEJyb3dzZXJzIHdpdGhvdXQgXCJkZWx0YU1vZGVcIiBpcyByZXBvcnRpbmcgaW4gcmF3IHdoZWVsIGRlbHRhIHdoZXJlIG9uZVxuICAvLyBub3RjaCBvbiB0aGUgc2Nyb2xsIGlzIGFsd2F5cyArLy0gMTIwLCByb3VnaGx5IGVxdWl2YWxlbnQgdG8gcGl4ZWxzLlxuICAvLyBBIGdvb2QgYXBwcm94aW1hdGlvbiBvZiBET01fREVMVEFfTElORSAoMSkgaXMgNSUgb2Ygdmlld3BvcnQgc2l6ZSBvclxuICAvLyB+NDAgcGl4ZWxzLCBmb3IgRE9NX0RFTFRBX1NDUkVFTiAoMikgaXQgaXMgODcuNSUgb2Ygdmlld3BvcnQgc2l6ZS5cbiAgZGVsdGFNb2RlOiBudWxsXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBDb25maWd1cmF0aW9uIHVzZWQgdG8gZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwYXRjaE1hcmtlciBNYXJrZXIgaWRlbnRpZnlpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEBleHRlbmRzIHtTeW50aGV0aWNNb3VzZUV2ZW50fVxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNXaGVlbEV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQpIHtcbiAgU3ludGhldGljTW91c2VFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQpO1xufVxuXG5TeW50aGV0aWNNb3VzZUV2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNXaGVlbEV2ZW50LCBXaGVlbEV2ZW50SW50ZXJmYWNlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNXaGVlbEV2ZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFRyYW5zYWN0aW9uXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xuXG4vKipcbiAqIGBUcmFuc2FjdGlvbmAgY3JlYXRlcyBhIGJsYWNrIGJveCB0aGF0IGlzIGFibGUgdG8gd3JhcCBhbnkgbWV0aG9kIHN1Y2ggdGhhdFxuICogY2VydGFpbiBpbnZhcmlhbnRzIGFyZSBtYWludGFpbmVkIGJlZm9yZSBhbmQgYWZ0ZXIgdGhlIG1ldGhvZCBpcyBpbnZva2VkXG4gKiAoRXZlbiBpZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIHdoaWxlIGludm9raW5nIHRoZSB3cmFwcGVkIG1ldGhvZCkuIFdob2V2ZXJcbiAqIGluc3RhbnRpYXRlcyBhIHRyYW5zYWN0aW9uIGNhbiBwcm92aWRlIGVuZm9yY2VycyBvZiB0aGUgaW52YXJpYW50cyBhdFxuICogY3JlYXRpb24gdGltZS4gVGhlIGBUcmFuc2FjdGlvbmAgY2xhc3MgaXRzZWxmIHdpbGwgc3VwcGx5IG9uZSBhZGRpdGlvbmFsXG4gKiBhdXRvbWF0aWMgaW52YXJpYW50IGZvciB5b3UgLSB0aGUgaW52YXJpYW50IHRoYXQgYW55IHRyYW5zYWN0aW9uIGluc3RhbmNlXG4gKiBzaG91bGQgbm90IGJlIHJ1biB3aGlsZSBpdCBpcyBhbHJlYWR5IGJlaW5nIHJ1bi4gWW91IHdvdWxkIHR5cGljYWxseSBjcmVhdGUgYVxuICogc2luZ2xlIGluc3RhbmNlIG9mIGEgYFRyYW5zYWN0aW9uYCBmb3IgcmV1c2UgbXVsdGlwbGUgdGltZXMsIHRoYXQgcG90ZW50aWFsbHlcbiAqIGlzIHVzZWQgdG8gd3JhcCBzZXZlcmFsIGRpZmZlcmVudCBtZXRob2RzLiBXcmFwcGVycyBhcmUgZXh0cmVtZWx5IHNpbXBsZSAtXG4gKiB0aGV5IG9ubHkgcmVxdWlyZSBpbXBsZW1lbnRpbmcgdHdvIG1ldGhvZHMuXG4gKlxuICogPHByZT5cbiAqICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVycyAoaW5qZWN0ZWQgYXQgY3JlYXRpb24gdGltZSlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICAgICAgICArXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLXwtLS0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICB2ICAgICAgICB8ICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICstLS0tLS0tLS0tLS0tLS0rICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgIHwgICArLS18ICAgIHdyYXBwZXIxICAgfC0tLXwtLS0tKyAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICB8ICAgfCAgKy0tLS0tLS0tLS0tLS0tLSsgICB2ICAgIHwgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgfCAgIHwgICAgICAgICAgKy0tLS0tLS0tLS0tLS0rICB8ICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgIHwgICB8ICAgICArLS0tLXwgICB3cmFwcGVyMiAgfC0tLS0tLS0tKyAgIHxcbiAqICAgICAgICAgICAgICAgICAgICB8ICAgfCAgICAgfCAgICArLS0tLS0tLS0tLS0tLSsgIHwgICAgIHwgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgfCAgIHwgICAgIHwgICAgICAgICAgICAgICAgICAgICB8ICAgICB8ICAgfFxuICogICAgICAgICAgICAgICAgICAgIHwgICB2ICAgICB2ICAgICAgICAgICAgICAgICAgICAgdiAgICAgdiAgIHwgd3JhcHBlclxuICogICAgICAgICAgICAgICAgICAgIHwgKy0tLSsgKy0tLSsgICArLS0tLS0tLS0tKyAgICstLS0rICstLS0rIHwgaW52YXJpYW50c1xuICogcGVyZm9ybShhbnlNZXRob2QpIHwgfCAgIHwgfCAgIHwgICB8ICAgICAgICAgfCAgIHwgICB8IHwgICB8IHwgbWFpbnRhaW5lZFxuICogKy0tLS0tLS0tLS0tLS0tLS0tPnwtfC0tLXwtfC0tLXwtLT58YW55TWV0aG9kfC0tLXwtLS18LXwtLS18LXwtLS0tLS0tLT5cbiAqICAgICAgICAgICAgICAgICAgICB8IHwgICB8IHwgICB8ICAgfCAgICAgICAgIHwgICB8ICAgfCB8ICAgfCB8XG4gKiAgICAgICAgICAgICAgICAgICAgfCB8ICAgfCB8ICAgfCAgIHwgICAgICAgICB8ICAgfCAgIHwgfCAgIHwgfFxuICogICAgICAgICAgICAgICAgICAgIHwgfCAgIHwgfCAgIHwgICB8ICAgICAgICAgfCAgIHwgICB8IHwgICB8IHxcbiAqICAgICAgICAgICAgICAgICAgICB8ICstLS0rICstLS0rICAgKy0tLS0tLS0tLSsgICArLS0tKyArLS0tKyB8XG4gKiAgICAgICAgICAgICAgICAgICAgfCAgaW5pdGlhbGl6ZSAgICAgICAgICAgICAgICAgICAgY2xvc2UgICAgfFxuICogICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqIDwvcHJlPlxuICpcbiAqIFVzZSBjYXNlczpcbiAqIC0gUHJlc2VydmluZyB0aGUgaW5wdXQgc2VsZWN0aW9uIHJhbmdlcyBiZWZvcmUvYWZ0ZXIgcmVjb25jaWxpYXRpb24uXG4gKiAgIFJlc3RvcmluZyBzZWxlY3Rpb24gZXZlbiBpbiB0aGUgZXZlbnQgb2YgYW4gdW5leHBlY3RlZCBlcnJvci5cbiAqIC0gRGVhY3RpdmF0aW5nIGV2ZW50cyB3aGlsZSByZWFycmFuZ2luZyB0aGUgRE9NLCBwcmV2ZW50aW5nIGJsdXJzL2ZvY3VzZXMsXG4gKiAgIHdoaWxlIGd1YXJhbnRlZWluZyB0aGF0IGFmdGVyd2FyZHMsIHRoZSBldmVudCBzeXN0ZW0gaXMgcmVhY3RpdmF0ZWQuXG4gKiAtIEZsdXNoaW5nIGEgcXVldWUgb2YgY29sbGVjdGVkIERPTSBtdXRhdGlvbnMgdG8gdGhlIG1haW4gVUkgdGhyZWFkIGFmdGVyIGFcbiAqICAgcmVjb25jaWxpYXRpb24gdGFrZXMgcGxhY2UgaW4gYSB3b3JrZXIgdGhyZWFkLlxuICogLSBJbnZva2luZyBhbnkgY29sbGVjdGVkIGBjb21wb25lbnREaWRVcGRhdGVgIGNhbGxiYWNrcyBhZnRlciByZW5kZXJpbmcgbmV3XG4gKiAgIGNvbnRlbnQuXG4gKiAtIChGdXR1cmUgdXNlIGNhc2UpOiBXcmFwcGluZyBwYXJ0aWN1bGFyIGZsdXNoZXMgb2YgdGhlIGBSZWFjdFdvcmtlcmAgcXVldWVcbiAqICAgdG8gcHJlc2VydmUgdGhlIGBzY3JvbGxUb3BgIChhbiBhdXRvbWF0aWMgc2Nyb2xsIGF3YXJlIERPTSkuXG4gKiAtIChGdXR1cmUgdXNlIGNhc2UpOiBMYXlvdXQgY2FsY3VsYXRpb25zIGJlZm9yZSBhbmQgYWZ0ZXIgRE9NIHVwZGF0ZXMuXG4gKlxuICogVHJhbnNhY3Rpb25hbCBwbHVnaW4gQVBJOlxuICogLSBBIG1vZHVsZSB0aGF0IGhhcyBhbiBgaW5pdGlhbGl6ZWAgbWV0aG9kIHRoYXQgcmV0dXJucyBhbnkgcHJlY29tcHV0YXRpb24uXG4gKiAtIGFuZCBhIGBjbG9zZWAgbWV0aG9kIHRoYXQgYWNjZXB0cyB0aGUgcHJlY29tcHV0YXRpb24uIGBjbG9zZWAgaXMgaW52b2tlZFxuICogICB3aGVuIHRoZSB3cmFwcGVkIHByb2Nlc3MgaXMgY29tcGxldGVkLCBvciBoYXMgZmFpbGVkLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8VHJhbnNhY3Rpb25hbFdyYXBwZXI+fSB0cmFuc2FjdGlvbldyYXBwZXIgV3JhcHBlciBtb2R1bGVzXG4gKiB0aGF0IGltcGxlbWVudCBgaW5pdGlhbGl6ZWAgYW5kIGBjbG9zZWAuXG4gKiBAcmV0dXJuIHtUcmFuc2FjdGlvbn0gU2luZ2xlIHRyYW5zYWN0aW9uIGZvciByZXVzZSBpbiB0aHJlYWQuXG4gKlxuICogQGNsYXNzIFRyYW5zYWN0aW9uXG4gKi9cbnZhciBNaXhpbiA9IHtcbiAgLyoqXG4gICAqIFNldHMgdXAgdGhpcyBpbnN0YW5jZSBzbyB0aGF0IGl0IGlzIHByZXBhcmVkIGZvciBjb2xsZWN0aW5nIG1ldHJpY3MuIERvZXNcbiAgICogc28gc3VjaCB0aGF0IHRoaXMgc2V0dXAgbWV0aG9kIG1heSBiZSB1c2VkIG9uIGFuIGluc3RhbmNlIHRoYXQgaXMgYWxyZWFkeVxuICAgKiBpbml0aWFsaXplZCwgaW4gYSB3YXkgdGhhdCBkb2VzIG5vdCBjb25zdW1lIGFkZGl0aW9uYWwgbWVtb3J5IHVwb24gcmV1c2UuXG4gICAqIFRoYXQgY2FuIGJlIHVzZWZ1bCBpZiB5b3UgZGVjaWRlIHRvIG1ha2UgeW91ciBzdWJjbGFzcyBvZiB0aGlzIG1peGluIGFcbiAgICogXCJQb29sZWRDbGFzc1wiLlxuICAgKi9cbiAgcmVpbml0aWFsaXplVHJhbnNhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudHJhbnNhY3Rpb25XcmFwcGVycyA9IHRoaXMuZ2V0VHJhbnNhY3Rpb25XcmFwcGVycygpO1xuICAgIGlmICghdGhpcy53cmFwcGVySW5pdERhdGEpIHtcbiAgICAgIHRoaXMud3JhcHBlckluaXREYXRhID0gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMud3JhcHBlckluaXREYXRhLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIHRoaXMuX2lzSW5UcmFuc2FjdGlvbiA9IGZhbHNlO1xuICB9LFxuXG4gIF9pc0luVHJhbnNhY3Rpb246IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7QXJyYXk8VHJhbnNhY3Rpb25XcmFwcGVyPn0gQXJyYXkgb2YgdHJhbnNhY3Rpb24gd3JhcHBlcnMuXG4gICAqL1xuICBnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBudWxsLFxuXG4gIGlzSW5UcmFuc2FjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICEhdGhpcy5faXNJblRyYW5zYWN0aW9uO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgZnVuY3Rpb24gd2l0aGluIGEgc2FmZXR5IHdpbmRvdy4gVXNlIHRoaXMgZm9yIHRoZSB0b3AgbGV2ZWxcbiAgICogbWV0aG9kcyB0aGF0IHJlc3VsdCBpbiBsYXJnZSBhbW91bnRzIG9mIGNvbXB1dGF0aW9uL211dGF0aW9ucyB0aGF0IHdvdWxkXG4gICAqIG5lZWQgdG8gYmUgc2FmZXR5IGNoZWNrZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1ldGhvZCBNZW1iZXIgb2Ygc2NvcGUgdG8gY2FsbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IHNjb3BlIFNjb3BlIHRvIGludm9rZSBmcm9tLlxuICAgKiBAcGFyYW0ge09iamVjdD89fSBhcmdzLi4uIEFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBtZXRob2QgKG9wdGlvbmFsKS5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwcyBwcmV2ZW50IG5lZWQgdG8gYmluZCBpbiBtYW55IGNhc2VzLlxuICAgKiBAcmV0dXJuIFJldHVybiB2YWx1ZSBmcm9tIGBtZXRob2RgLlxuICAgKi9cbiAgcGVyZm9ybTogZnVuY3Rpb24obWV0aG9kLCBzY29wZSwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAhdGhpcy5pc0luVHJhbnNhY3Rpb24oKSxcbiAgICAgICdUcmFuc2FjdGlvbi5wZXJmb3JtKC4uLik6IENhbm5vdCBpbml0aWFsaXplIGEgdHJhbnNhY3Rpb24gd2hlbiB0aGVyZSAnICtcbiAgICAgICdpcyBhbHJlYWR5IGFuIG91dHN0YW5kaW5nIHRyYW5zYWN0aW9uLidcbiAgICApIDogaW52YXJpYW50KCF0aGlzLmlzSW5UcmFuc2FjdGlvbigpKSk7XG4gICAgdmFyIGVycm9yVGhyb3duO1xuICAgIHZhciByZXQ7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX2lzSW5UcmFuc2FjdGlvbiA9IHRydWU7XG4gICAgICAvLyBDYXRjaGluZyBlcnJvcnMgbWFrZXMgZGVidWdnaW5nIG1vcmUgZGlmZmljdWx0LCBzbyB3ZSBzdGFydCB3aXRoXG4gICAgICAvLyBlcnJvclRocm93biBzZXQgdG8gdHJ1ZSBiZWZvcmUgc2V0dGluZyBpdCB0byBmYWxzZSBhZnRlciBjYWxsaW5nXG4gICAgICAvLyBjbG9zZSAtLSBpZiBpdCdzIHN0aWxsIHNldCB0byB0cnVlIGluIHRoZSBmaW5hbGx5IGJsb2NrLCBpdCBtZWFuc1xuICAgICAgLy8gb25lIG9mIHRoZXNlIGNhbGxzIHRocmV3LlxuICAgICAgZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgdGhpcy5pbml0aWFsaXplQWxsKDApO1xuICAgICAgcmV0ID0gbWV0aG9kLmNhbGwoc2NvcGUsIGEsIGIsIGMsIGQsIGUsIGYpO1xuICAgICAgZXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgLy8gSWYgYG1ldGhvZGAgdGhyb3dzLCBwcmVmZXIgdG8gc2hvdyB0aGF0IHN0YWNrIHRyYWNlIG92ZXIgYW55IHRocm93blxuICAgICAgICAgIC8vIGJ5IGludm9raW5nIGBjbG9zZUFsbGAuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VBbGwoMCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFNpbmNlIGBtZXRob2RgIGRpZG4ndCB0aHJvdywgd2UgZG9uJ3Qgd2FudCB0byBzaWxlbmNlIHRoZSBleGNlcHRpb25cbiAgICAgICAgICAvLyBoZXJlLlxuICAgICAgICAgIHRoaXMuY2xvc2VBbGwoMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRoaXMuX2lzSW5UcmFuc2FjdGlvbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuXG4gIGluaXRpYWxpemVBbGw6IGZ1bmN0aW9uKHN0YXJ0SW5kZXgpIHtcbiAgICB2YXIgdHJhbnNhY3Rpb25XcmFwcGVycyA9IHRoaXMudHJhbnNhY3Rpb25XcmFwcGVycztcbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IHRyYW5zYWN0aW9uV3JhcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB3cmFwcGVyID0gdHJhbnNhY3Rpb25XcmFwcGVyc1tpXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENhdGNoaW5nIGVycm9ycyBtYWtlcyBkZWJ1Z2dpbmcgbW9yZSBkaWZmaWN1bHQsIHNvIHdlIHN0YXJ0IHdpdGggdGhlXG4gICAgICAgIC8vIE9CU0VSVkVEX0VSUk9SIHN0YXRlIGJlZm9yZSBvdmVyd3JpdGluZyBpdCB3aXRoIHRoZSByZWFsIHJldHVybiB2YWx1ZVxuICAgICAgICAvLyBvZiBpbml0aWFsaXplIC0tIGlmIGl0J3Mgc3RpbGwgc2V0IHRvIE9CU0VSVkVEX0VSUk9SIGluIHRoZSBmaW5hbGx5XG4gICAgICAgIC8vIGJsb2NrLCBpdCBtZWFucyB3cmFwcGVyLmluaXRpYWxpemUgdGhyZXcuXG4gICAgICAgIHRoaXMud3JhcHBlckluaXREYXRhW2ldID0gVHJhbnNhY3Rpb24uT0JTRVJWRURfRVJST1I7XG4gICAgICAgIHRoaXMud3JhcHBlckluaXREYXRhW2ldID0gd3JhcHBlci5pbml0aWFsaXplID9cbiAgICAgICAgICB3cmFwcGVyLmluaXRpYWxpemUuY2FsbCh0aGlzKSA6XG4gICAgICAgICAgbnVsbDtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICh0aGlzLndyYXBwZXJJbml0RGF0YVtpXSA9PT0gVHJhbnNhY3Rpb24uT0JTRVJWRURfRVJST1IpIHtcbiAgICAgICAgICAvLyBUaGUgaW5pdGlhbGl6ZXIgZm9yIHdyYXBwZXIgaSB0aHJldyBhbiBlcnJvcjsgaW5pdGlhbGl6ZSB0aGVcbiAgICAgICAgICAvLyByZW1haW5pbmcgd3JhcHBlcnMgYnV0IHNpbGVuY2UgYW55IGV4Y2VwdGlvbnMgZnJvbSB0aGVtIHRvIGVuc3VyZVxuICAgICAgICAgIC8vIHRoYXQgdGhlIGZpcnN0IGVycm9yIGlzIHRoZSBvbmUgdG8gYnViYmxlIHVwLlxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVBbGwoaSArIDEpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlcyBlYWNoIG9mIGB0aGlzLnRyYW5zYWN0aW9uV3JhcHBlcnMuY2xvc2VbaV1gIGZ1bmN0aW9ucywgcGFzc2luZyBpbnRvXG4gICAqIHRoZW0gdGhlIHJlc3BlY3RpdmUgcmV0dXJuIHZhbHVlcyBvZiBgdGhpcy50cmFuc2FjdGlvbldyYXBwZXJzLmluaXRbaV1gXG4gICAqIChgY2xvc2VgcnMgdGhhdCBjb3JyZXNwb25kIHRvIGluaXRpYWxpemVycyB0aGF0IGZhaWxlZCB3aWxsIG5vdCBiZVxuICAgKiBpbnZva2VkKS5cbiAgICovXG4gIGNsb3NlQWxsOiBmdW5jdGlvbihzdGFydEluZGV4KSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIHRoaXMuaXNJblRyYW5zYWN0aW9uKCksXG4gICAgICAnVHJhbnNhY3Rpb24uY2xvc2VBbGwoKTogQ2Fubm90IGNsb3NlIHRyYW5zYWN0aW9uIHdoZW4gbm9uZSBhcmUgb3Blbi4nXG4gICAgKSA6IGludmFyaWFudCh0aGlzLmlzSW5UcmFuc2FjdGlvbigpKSk7XG4gICAgdmFyIHRyYW5zYWN0aW9uV3JhcHBlcnMgPSB0aGlzLnRyYW5zYWN0aW9uV3JhcHBlcnM7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCB0cmFuc2FjdGlvbldyYXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgd3JhcHBlciA9IHRyYW5zYWN0aW9uV3JhcHBlcnNbaV07XG4gICAgICB2YXIgaW5pdERhdGEgPSB0aGlzLndyYXBwZXJJbml0RGF0YVtpXTtcbiAgICAgIHZhciBlcnJvclRocm93bjtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENhdGNoaW5nIGVycm9ycyBtYWtlcyBkZWJ1Z2dpbmcgbW9yZSBkaWZmaWN1bHQsIHNvIHdlIHN0YXJ0IHdpdGhcbiAgICAgICAgLy8gZXJyb3JUaHJvd24gc2V0IHRvIHRydWUgYmVmb3JlIHNldHRpbmcgaXQgdG8gZmFsc2UgYWZ0ZXIgY2FsbGluZ1xuICAgICAgICAvLyBjbG9zZSAtLSBpZiBpdCdzIHN0aWxsIHNldCB0byB0cnVlIGluIHRoZSBmaW5hbGx5IGJsb2NrLCBpdCBtZWFuc1xuICAgICAgICAvLyB3cmFwcGVyLmNsb3NlIHRocmV3LlxuICAgICAgICBlcnJvclRocm93biA9IHRydWU7XG4gICAgICAgIGlmIChpbml0RGF0YSAhPT0gVHJhbnNhY3Rpb24uT0JTRVJWRURfRVJST1IgJiYgd3JhcHBlci5jbG9zZSkge1xuICAgICAgICAgIHdyYXBwZXIuY2xvc2UuY2FsbCh0aGlzLCBpbml0RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICAgIC8vIFRoZSBjbG9zZXIgZm9yIHdyYXBwZXIgaSB0aHJldyBhbiBlcnJvcjsgY2xvc2UgdGhlIHJlbWFpbmluZ1xuICAgICAgICAgIC8vIHdyYXBwZXJzIGJ1dCBzaWxlbmNlIGFueSBleGNlcHRpb25zIGZyb20gdGhlbSB0byBlbnN1cmUgdGhhdCB0aGVcbiAgICAgICAgICAvLyBmaXJzdCBlcnJvciBpcyB0aGUgb25lIHRvIGJ1YmJsZSB1cC5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZUFsbChpICsgMSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLndyYXBwZXJJbml0RGF0YS5sZW5ndGggPSAwO1xuICB9XG59O1xuXG52YXIgVHJhbnNhY3Rpb24gPSB7XG5cbiAgTWl4aW46IE1peGluLFxuXG4gIC8qKlxuICAgKiBUb2tlbiB0byBsb29rIGZvciB0byBkZXRlcm1pbmUgaWYgYW4gZXJyb3Igb2NjdXJlZC5cbiAgICovXG4gIE9CU0VSVkVEX0VSUk9SOiB7fVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYW5zYWN0aW9uO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFZpZXdwb3J0TWV0cmljc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFZpZXdwb3J0TWV0cmljcyA9IHtcblxuICBjdXJyZW50U2Nyb2xsTGVmdDogMCxcblxuICBjdXJyZW50U2Nyb2xsVG9wOiAwLFxuXG4gIHJlZnJlc2hTY3JvbGxWYWx1ZXM6IGZ1bmN0aW9uKHNjcm9sbFBvc2l0aW9uKSB7XG4gICAgVmlld3BvcnRNZXRyaWNzLmN1cnJlbnRTY3JvbGxMZWZ0ID0gc2Nyb2xsUG9zaXRpb24ueDtcbiAgICBWaWV3cG9ydE1ldHJpY3MuY3VycmVudFNjcm9sbFRvcCA9IHNjcm9sbFBvc2l0aW9uLnk7XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBWaWV3cG9ydE1ldHJpY3M7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgYWNjdW11bGF0ZUludG9cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG5cbi8qKlxuICpcbiAqIEFjY3VtdWxhdGVzIGl0ZW1zIHRoYXQgbXVzdCBub3QgYmUgbnVsbCBvciB1bmRlZmluZWQgaW50byB0aGUgZmlyc3Qgb25lLiBUaGlzXG4gKiBpcyB1c2VkIHRvIGNvbnNlcnZlIG1lbW9yeSBieSBhdm9pZGluZyBhcnJheSBhbGxvY2F0aW9ucywgYW5kIHRodXMgc2FjcmlmaWNlc1xuICogQVBJIGNsZWFubmVzcy4gU2luY2UgYGN1cnJlbnRgIGNhbiBiZSBudWxsIGJlZm9yZSBiZWluZyBwYXNzZWQgaW4gYW5kIG5vdFxuICogbnVsbCBhZnRlciB0aGlzIGZ1bmN0aW9uLCBtYWtlIHN1cmUgdG8gYXNzaWduIGl0IGJhY2sgdG8gYGN1cnJlbnRgOlxuICpcbiAqIGBhID0gYWNjdW11bGF0ZUludG8oYSwgYik7YFxuICpcbiAqIFRoaXMgQVBJIHNob3VsZCBiZSBzcGFyaW5nbHkgdXNlZC4gVHJ5IGBhY2N1bXVsYXRlYCBmb3Igc29tZXRoaW5nIGNsZWFuZXIuXG4gKlxuICogQHJldHVybiB7KnxhcnJheTwqPn0gQW4gYWNjdW11bGF0aW9uIG9mIGl0ZW1zLlxuICovXG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVJbnRvKGN1cnJlbnQsIG5leHQpIHtcbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICBuZXh0ICE9IG51bGwsXG4gICAgJ2FjY3VtdWxhdGVJbnRvKC4uLik6IEFjY3VtdWxhdGVkIGl0ZW1zIG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLidcbiAgKSA6IGludmFyaWFudChuZXh0ICE9IG51bGwpKTtcbiAgaWYgKGN1cnJlbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgLy8gQm90aCBhcmUgbm90IGVtcHR5LiBXYXJuaW5nOiBOZXZlciBjYWxsIHguY29uY2F0KHkpIHdoZW4geW91IGFyZSBub3RcbiAgLy8gY2VydGFpbiB0aGF0IHggaXMgYW4gQXJyYXkgKHggY291bGQgYmUgYSBzdHJpbmcgd2l0aCBjb25jYXQgbWV0aG9kKS5cbiAgdmFyIGN1cnJlbnRJc0FycmF5ID0gQXJyYXkuaXNBcnJheShjdXJyZW50KTtcbiAgdmFyIG5leHRJc0FycmF5ID0gQXJyYXkuaXNBcnJheShuZXh0KTtcblxuICBpZiAoY3VycmVudElzQXJyYXkgJiYgbmV4dElzQXJyYXkpIHtcbiAgICBjdXJyZW50LnB1c2guYXBwbHkoY3VycmVudCwgbmV4dCk7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH1cblxuICBpZiAoY3VycmVudElzQXJyYXkpIHtcbiAgICBjdXJyZW50LnB1c2gobmV4dCk7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH1cblxuICBpZiAobmV4dElzQXJyYXkpIHtcbiAgICAvLyBBIGJpdCB0b28gZGFuZ2Vyb3VzIHRvIG11dGF0ZSBgbmV4dGAuXG4gICAgcmV0dXJuIFtjdXJyZW50XS5jb25jYXQobmV4dCk7XG4gIH1cblxuICByZXR1cm4gW2N1cnJlbnQsIG5leHRdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFjY3VtdWxhdGVJbnRvO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGFkbGVyMzJcbiAqL1xuXG4vKiBqc2xpbnQgYml0d2lzZTp0cnVlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIE1PRCA9IDY1NTIxO1xuXG4vLyBUaGlzIGlzIGEgY2xlYW4tcm9vbSBpbXBsZW1lbnRhdGlvbiBvZiBhZGxlcjMyIGRlc2lnbmVkIGZvciBkZXRlY3Rpbmdcbi8vIGlmIG1hcmt1cCBpcyBub3Qgd2hhdCB3ZSBleHBlY3QgaXQgdG8gYmUuIEl0IGRvZXMgbm90IG5lZWQgdG8gYmVcbi8vIGNyeXB0b2dyYXBoaWNhbGx5IHN0cm9uZywgb25seSByZWFzb25hYmx5IGdvb2QgYXQgZGV0ZWN0aW5nIGlmIG1hcmt1cFxuLy8gZ2VuZXJhdGVkIG9uIHRoZSBzZXJ2ZXIgaXMgZGlmZmVyZW50IHRoYW4gdGhhdCBvbiB0aGUgY2xpZW50LlxuZnVuY3Rpb24gYWRsZXIzMihkYXRhKSB7XG4gIHZhciBhID0gMTtcbiAgdmFyIGIgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBhID0gKGEgKyBkYXRhLmNoYXJDb2RlQXQoaSkpICUgTU9EO1xuICAgIGIgPSAoYiArIGEpICUgTU9EO1xuICB9XG4gIHJldHVybiBhIHwgKGIgPDwgMTYpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFkbGVyMzI7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgY2FtZWxpemVcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIF9oeXBoZW5QYXR0ZXJuID0gLy0oLikvZztcblxuLyoqXG4gKiBDYW1lbGNhc2VzIGEgaHlwaGVuYXRlZCBzdHJpbmcsIGZvciBleGFtcGxlOlxuICpcbiAqICAgPiBjYW1lbGl6ZSgnYmFja2dyb3VuZC1jb2xvcicpXG4gKiAgIDwgXCJiYWNrZ3JvdW5kQ29sb3JcIlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY2FtZWxpemUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShfaHlwaGVuUGF0dGVybiwgZnVuY3Rpb24oXywgY2hhcmFjdGVyKSB7XG4gICAgcmV0dXJuIGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYW1lbGl6ZTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBjYW1lbGl6ZVN0eWxlTmFtZVxuICogQHR5cGVjaGVja3NcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGNhbWVsaXplID0gcmVxdWlyZShcIi4vY2FtZWxpemVcIik7XG5cbnZhciBtc1BhdHRlcm4gPSAvXi1tcy0vO1xuXG4vKipcbiAqIENhbWVsY2FzZXMgYSBoeXBoZW5hdGVkIENTUyBwcm9wZXJ0eSBuYW1lLCBmb3IgZXhhbXBsZTpcbiAqXG4gKiAgID4gY2FtZWxpemVTdHlsZU5hbWUoJ2JhY2tncm91bmQtY29sb3InKVxuICogICA8IFwiYmFja2dyb3VuZENvbG9yXCJcbiAqICAgPiBjYW1lbGl6ZVN0eWxlTmFtZSgnLW1vei10cmFuc2l0aW9uJylcbiAqICAgPCBcIk1velRyYW5zaXRpb25cIlxuICogICA+IGNhbWVsaXplU3R5bGVOYW1lKCctbXMtdHJhbnNpdGlvbicpXG4gKiAgIDwgXCJtc1RyYW5zaXRpb25cIlxuICpcbiAqIEFzIEFuZGkgU21pdGggc3VnZ2VzdHNcbiAqIChodHRwOi8vd3d3LmFuZGlzbWl0aC5jb20vYmxvZy8yMDEyLzAyL21vZGVybml6ci1wcmVmaXhlZC8pLCBhbiBgLW1zYCBwcmVmaXhcbiAqIGlzIGNvbnZlcnRlZCB0byBsb3dlcmNhc2UgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGNhbWVsaXplU3R5bGVOYW1lKHN0cmluZykge1xuICByZXR1cm4gY2FtZWxpemUoc3RyaW5nLnJlcGxhY2UobXNQYXR0ZXJuLCAnbXMtJykpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNhbWVsaXplU3R5bGVOYW1lO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqIEBwcm92aWRlc01vZHVsZSBjbG9uZVdpdGhQcm9wc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RWxlbWVudFwiKTtcbnZhciBSZWFjdFByb3BUcmFuc2ZlcmVyID0gcmVxdWlyZShcIi4vUmVhY3RQcm9wVHJhbnNmZXJlclwiKTtcblxudmFyIGtleU9mID0gcmVxdWlyZShcIi4va2V5T2ZcIik7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoXCIuL3dhcm5pbmdcIik7XG5cbnZhciBDSElMRFJFTl9QUk9QID0ga2V5T2Yoe2NoaWxkcmVuOiBudWxsfSk7XG5cbi8qKlxuICogU29tZXRpbWVzIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgcHJvcHMgb2YgYSBjaGlsZCBwYXNzZWQgdG8geW91LiBVc3VhbGx5XG4gKiB0aGlzIGlzIHRvIGFkZCBhIENTUyBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gY2hpbGQgY2hpbGQgZWxlbWVudCB5b3UnZCBsaWtlIHRvIGNsb25lXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgcHJvcHMgeW91J2QgbGlrZSB0byBtb2RpZnkuIGNsYXNzTmFtZSBhbmQgc3R5bGUgd2lsbCBiZVxuICogbWVyZ2VkIGF1dG9tYXRpY2FsbHkuXG4gKiBAcmV0dXJuIHtSZWFjdEVsZW1lbnR9IGEgY2xvbmUgb2YgY2hpbGQgd2l0aCBwcm9wcyBtZXJnZWQgaW4uXG4gKi9cbmZ1bmN0aW9uIGNsb25lV2l0aFByb3BzKGNoaWxkLCBwcm9wcykge1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAhY2hpbGQucmVmLFxuICAgICAgJ1lvdSBhcmUgY2FsbGluZyBjbG9uZVdpdGhQcm9wcygpIG9uIGEgY2hpbGQgd2l0aCBhIHJlZi4gVGhpcyBpcyAnICtcbiAgICAgICdkYW5nZXJvdXMgYmVjYXVzZSB5b3VcXCdyZSBjcmVhdGluZyBhIG5ldyBjaGlsZCB3aGljaCB3aWxsIG5vdCBiZSAnICtcbiAgICAgICdhZGRlZCBhcyBhIHJlZiB0byBpdHMgcGFyZW50LidcbiAgICApIDogbnVsbCk7XG4gIH1cblxuICB2YXIgbmV3UHJvcHMgPSBSZWFjdFByb3BUcmFuc2ZlcmVyLm1lcmdlUHJvcHMocHJvcHMsIGNoaWxkLnByb3BzKTtcblxuICAvLyBVc2UgYGNoaWxkLnByb3BzLmNoaWxkcmVuYCBpZiBpdCBpcyBwcm92aWRlZC5cbiAgaWYgKCFuZXdQcm9wcy5oYXNPd25Qcm9wZXJ0eShDSElMRFJFTl9QUk9QKSAmJlxuICAgICAgY2hpbGQucHJvcHMuaGFzT3duUHJvcGVydHkoQ0hJTERSRU5fUFJPUCkpIHtcbiAgICBuZXdQcm9wcy5jaGlsZHJlbiA9IGNoaWxkLnByb3BzLmNoaWxkcmVuO1xuICB9XG5cbiAgLy8gVGhlIGN1cnJlbnQgQVBJIGRvZXNuJ3QgcmV0YWluIF9vd25lciBhbmQgX2NvbnRleHQsIHdoaWNoIGlzIHdoeSB0aGlzXG4gIC8vIGRvZXNuJ3QgdXNlIFJlYWN0RWxlbWVudC5jbG9uZUFuZFJlcGxhY2VQcm9wcy5cbiAgcmV0dXJuIFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50KGNoaWxkLnR5cGUsIG5ld1Byb3BzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9uZVdpdGhQcm9wcztcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBjb250YWluc05vZGVcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIGlzVGV4dE5vZGUgPSByZXF1aXJlKFwiLi9pc1RleHROb2RlXCIpO1xuXG4vKmpzbGludCBiaXR3aXNlOnRydWUgKi9cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBET00gbm9kZSBjb250YWlucyBvciBpcyBhbm90aGVyIERPTSBub2RlLlxuICpcbiAqIEBwYXJhbSB7P0RPTU5vZGV9IG91dGVyTm9kZSBPdXRlciBET00gbm9kZS5cbiAqIEBwYXJhbSB7P0RPTU5vZGV9IGlubmVyTm9kZSBJbm5lciBET00gbm9kZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYG91dGVyTm9kZWAgY29udGFpbnMgb3IgaXMgYGlubmVyTm9kZWAuXG4gKi9cbmZ1bmN0aW9uIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZSkge1xuICBpZiAoIW91dGVyTm9kZSB8fCAhaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKG91dGVyTm9kZSA9PT0gaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShvdXRlck5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGlzVGV4dE5vZGUoaW5uZXJOb2RlKSkge1xuICAgIHJldHVybiBjb250YWluc05vZGUob3V0ZXJOb2RlLCBpbm5lck5vZGUucGFyZW50Tm9kZSk7XG4gIH0gZWxzZSBpZiAob3V0ZXJOb2RlLmNvbnRhaW5zKSB7XG4gICAgcmV0dXJuIG91dGVyTm9kZS5jb250YWlucyhpbm5lck5vZGUpO1xuICB9IGVsc2UgaWYgKG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikge1xuICAgIHJldHVybiAhIShvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oaW5uZXJOb2RlKSAmIDE2KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb250YWluc05vZGU7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgY3JlYXRlQXJyYXlGcm9tTWl4ZWRcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIHRvQXJyYXkgPSByZXF1aXJlKFwiLi90b0FycmF5XCIpO1xuXG4vKipcbiAqIFBlcmZvcm0gYSBoZXVyaXN0aWMgdGVzdCB0byBkZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIFwiYXJyYXktbGlrZVwiLlxuICpcbiAqICAgQSBtb25rIGFza2VkIEpvc2h1LCBhIFplbiBtYXN0ZXIsIFwiSGFzIGEgZG9nIEJ1ZGRoYSBuYXR1cmU/XCJcbiAqICAgSm9zaHUgcmVwbGllZDogXCJNdS5cIlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZGV0ZXJtaW5lcyBpZiBpdHMgYXJndW1lbnQgaGFzIFwiYXJyYXkgbmF0dXJlXCI6IGl0IHJldHVybnNcbiAqIHRydWUgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIGFjdHVhbCBhcnJheSwgYW4gYGFyZ3VtZW50cycgb2JqZWN0LCBvciBhblxuICogSFRNTENvbGxlY3Rpb24gKGUuZy4gbm9kZS5jaGlsZE5vZGVzIG9yIG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoKSkuXG4gKlxuICogSXQgd2lsbCByZXR1cm4gZmFsc2UgZm9yIG90aGVyIGFycmF5LWxpa2Ugb2JqZWN0cyBsaWtlIEZpbGVsaXN0LlxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBoYXNBcnJheU5hdHVyZShvYmopIHtcbiAgcmV0dXJuIChcbiAgICAvLyBub3QgbnVsbC9mYWxzZVxuICAgICEhb2JqICYmXG4gICAgLy8gYXJyYXlzIGFyZSBvYmplY3RzLCBOb2RlTGlzdHMgYXJlIGZ1bmN0aW9ucyBpbiBTYWZhcmlcbiAgICAodHlwZW9mIG9iaiA9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicpICYmXG4gICAgLy8gcXVhY2tzIGxpa2UgYW4gYXJyYXlcbiAgICAoJ2xlbmd0aCcgaW4gb2JqKSAmJlxuICAgIC8vIG5vdCB3aW5kb3dcbiAgICAhKCdzZXRJbnRlcnZhbCcgaW4gb2JqKSAmJlxuICAgIC8vIG5vIERPTSBub2RlIHNob3VsZCBiZSBjb25zaWRlcmVkIGFuIGFycmF5LWxpa2VcbiAgICAvLyBhICdzZWxlY3QnIGVsZW1lbnQgaGFzICdsZW5ndGgnIGFuZCAnaXRlbScgcHJvcGVydGllcyBvbiBJRThcbiAgICAodHlwZW9mIG9iai5ub2RlVHlwZSAhPSAnbnVtYmVyJykgJiZcbiAgICAoXG4gICAgICAvLyBhIHJlYWwgYXJyYXlcbiAgICAgICgvLyBIVE1MQ29sbGVjdGlvbi9Ob2RlTGlzdFxuICAgICAgKEFycmF5LmlzQXJyYXkob2JqKSB8fFxuICAgICAgLy8gYXJndW1lbnRzXG4gICAgICAoJ2NhbGxlZScgaW4gb2JqKSB8fCAnaXRlbScgaW4gb2JqKSlcbiAgICApXG4gICk7XG59XG5cbi8qKlxuICogRW5zdXJlIHRoYXQgdGhlIGFyZ3VtZW50IGlzIGFuIGFycmF5IGJ5IHdyYXBwaW5nIGl0IGluIGFuIGFycmF5IGlmIGl0IGlzIG5vdC5cbiAqIENyZWF0ZXMgYSBjb3B5IG9mIHRoZSBhcmd1bWVudCBpZiBpdCBpcyBhbHJlYWR5IGFuIGFycmF5LlxuICpcbiAqIFRoaXMgaXMgbW9zdGx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5OlxuICpcbiAqICAgdmFyIGNyZWF0ZUFycmF5RnJvbU1peGVkID0gcmVxdWlyZSgnY3JlYXRlQXJyYXlGcm9tTWl4ZWQnKTtcbiAqXG4gKiAgIGZ1bmN0aW9uIHRha2VzT25lT3JNb3JlVGhpbmdzKHRoaW5ncykge1xuICogICAgIHRoaW5ncyA9IGNyZWF0ZUFycmF5RnJvbU1peGVkKHRoaW5ncyk7XG4gKiAgICAgLi4uXG4gKiAgIH1cbiAqXG4gKiBUaGlzIGFsbG93cyB5b3UgdG8gdHJlYXQgYHRoaW5ncycgYXMgYW4gYXJyYXksIGJ1dCBhY2NlcHQgc2NhbGFycyBpbiB0aGUgQVBJLlxuICpcbiAqIElmIHlvdSBuZWVkIHRvIGNvbnZlcnQgYW4gYXJyYXktbGlrZSBvYmplY3QsIGxpa2UgYGFyZ3VtZW50c2AsIGludG8gYW4gYXJyYXlcbiAqIHVzZSB0b0FycmF5IGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHsqfSBvYmpcbiAqIEByZXR1cm4ge2FycmF5fVxuICovXG5mdW5jdGlvbiBjcmVhdGVBcnJheUZyb21NaXhlZChvYmopIHtcbiAgaWYgKCFoYXNBcnJheU5hdHVyZShvYmopKSB7XG4gICAgcmV0dXJuIFtvYmpdO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBvYmouc2xpY2UoKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdG9BcnJheShvYmopO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQXJyYXlGcm9tTWl4ZWQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgY3JlYXRlRnVsbFBhZ2VDb21wb25lbnRcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBEZWZlYXQgY2lyY3VsYXIgcmVmZXJlbmNlcyBieSByZXF1aXJpbmcgdGhpcyBkaXJlY3RseS5cbnZhciBSZWFjdENsYXNzID0gcmVxdWlyZShcIi4vUmVhY3RDbGFzc1wiKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG5cbi8qKlxuICogQ3JlYXRlIGEgY29tcG9uZW50IHRoYXQgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gd2hlbiB1bm1vdW50ZWQuXG4gKlxuICogQ29tcG9uZW50cyBsaWtlIDxodG1sPiA8aGVhZD4gYW5kIDxib2R5PiBjYW4ndCBiZSByZW1vdmVkIG9yIGFkZGVkXG4gKiBlYXNpbHkgaW4gYSBjcm9zcy1icm93c2VyIHdheSwgaG93ZXZlciBpdCdzIHZhbHVhYmxlIHRvIGJlIGFibGUgdG9cbiAqIHRha2UgYWR2YW50YWdlIG9mIFJlYWN0J3MgcmVjb25jaWxpYXRpb24gZm9yIHN0eWxpbmcgYW5kIDx0aXRsZT5cbiAqIG1hbmFnZW1lbnQuIFNvIHdlIGp1c3QgZG9jdW1lbnQgaXQgYW5kIHRocm93IGluIGRhbmdlcm91cyBjYXNlcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSB0YWcgdG8gd3JhcFxuICogQHJldHVybiB7ZnVuY3Rpb259IGNvbnZlbmllbmNlIGNvbnN0cnVjdG9yIG9mIG5ldyBjb21wb25lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRnVsbFBhZ2VDb21wb25lbnQodGFnKSB7XG4gIHZhciBlbGVtZW50RmFjdG9yeSA9IFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5KHRhZyk7XG5cbiAgdmFyIEZ1bGxQYWdlQ29tcG9uZW50ID0gUmVhY3RDbGFzcy5jcmVhdGVDbGFzcyh7XG4gICAgdGFnTmFtZTogdGFnLnRvVXBwZXJDYXNlKCksXG4gICAgZGlzcGxheU5hbWU6ICdSZWFjdEZ1bGxQYWdlQ29tcG9uZW50JyArIHRhZyxcblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcbiAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAnJXMgdHJpZWQgdG8gdW5tb3VudC4gQmVjYXVzZSBvZiBjcm9zcy1icm93c2VyIHF1aXJrcyBpdCBpcyAnICtcbiAgICAgICAgJ2ltcG9zc2libGUgdG8gdW5tb3VudCBzb21lIHRvcC1sZXZlbCBjb21wb25lbnRzIChlZyA8aHRtbD4sIDxoZWFkPiwgJyArXG4gICAgICAgICdhbmQgPGJvZHk+KSByZWxpYWJseSBhbmQgZWZmaWNpZW50bHkuIFRvIGZpeCB0aGlzLCBoYXZlIGEgc2luZ2xlICcgK1xuICAgICAgICAndG9wLWxldmVsIGNvbXBvbmVudCB0aGF0IG5ldmVyIHVubW91bnRzIHJlbmRlciB0aGVzZSBlbGVtZW50cy4nLFxuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lXG4gICAgICApIDogaW52YXJpYW50KGZhbHNlKSk7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZWxlbWVudEZhY3RvcnkodGhpcy5wcm9wcyk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gRnVsbFBhZ2VDb21wb25lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlRnVsbFBhZ2VDb21wb25lbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgY3JlYXRlTm9kZXNGcm9tTWFya3VwXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbi8qanNsaW50IGV2aWw6IHRydWUsIHN1YjogdHJ1ZSAqL1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi9FeGVjdXRpb25FbnZpcm9ubWVudFwiKTtcblxudmFyIGNyZWF0ZUFycmF5RnJvbU1peGVkID0gcmVxdWlyZShcIi4vY3JlYXRlQXJyYXlGcm9tTWl4ZWRcIik7XG52YXIgZ2V0TWFya3VwV3JhcCA9IHJlcXVpcmUoXCIuL2dldE1hcmt1cFdyYXBcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xuXG4vKipcbiAqIER1bW15IGNvbnRhaW5lciB1c2VkIHRvIHJlbmRlciBhbGwgbWFya3VwLlxuICovXG52YXIgZHVtbXlOb2RlID1cbiAgRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgOiBudWxsO1xuXG4vKipcbiAqIFBhdHRlcm4gdXNlZCBieSBgZ2V0Tm9kZU5hbWVgLlxuICovXG52YXIgbm9kZU5hbWVQYXR0ZXJuID0gL15cXHMqPChcXHcrKS87XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIGBub2RlTmFtZWAgb2YgdGhlIGZpcnN0IGVsZW1lbnQgaW4gYSBzdHJpbmcgb2YgbWFya3VwLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrdXAgU3RyaW5nIG9mIG1hcmt1cC5cbiAqIEByZXR1cm4gez9zdHJpbmd9IE5vZGUgbmFtZSBvZiB0aGUgc3VwcGxpZWQgbWFya3VwLlxuICovXG5mdW5jdGlvbiBnZXROb2RlTmFtZShtYXJrdXApIHtcbiAgdmFyIG5vZGVOYW1lTWF0Y2ggPSBtYXJrdXAubWF0Y2gobm9kZU5hbWVQYXR0ZXJuKTtcbiAgcmV0dXJuIG5vZGVOYW1lTWF0Y2ggJiYgbm9kZU5hbWVNYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbm9kZXMgcmVuZGVyZWQgZnJvbSB0aGUgc3VwcGxpZWQgbWFya3VwLiBUaGVcbiAqIG9wdGlvbmFsbHkgc3VwcGxpZWQgYGhhbmRsZVNjcmlwdGAgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIG9uY2UgZm9yIGVhY2hcbiAqIDxzY3JpcHQ+IGVsZW1lbnQgdGhhdCBpcyByZW5kZXJlZC4gSWYgbm8gYGhhbmRsZVNjcmlwdGAgZnVuY3Rpb24gaXMgc3VwcGxpZWQsXG4gKiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGlmIGFueSA8c2NyaXB0PiBlbGVtZW50cyBhcmUgcmVuZGVyZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hcmt1cCBBIHN0cmluZyBvZiB2YWxpZCBIVE1MIG1hcmt1cC5cbiAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBoYW5kbGVTY3JpcHQgSW52b2tlZCBvbmNlIGZvciBlYWNoIHJlbmRlcmVkIDxzY3JpcHQ+LlxuICogQHJldHVybiB7YXJyYXk8RE9NRWxlbWVudHxET01UZXh0Tm9kZT59IEFuIGFycmF5IG9mIHJlbmRlcmVkIG5vZGVzLlxuICovXG5mdW5jdGlvbiBjcmVhdGVOb2Rlc0Zyb21NYXJrdXAobWFya3VwLCBoYW5kbGVTY3JpcHQpIHtcbiAgdmFyIG5vZGUgPSBkdW1teU5vZGU7XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoISFkdW1teU5vZGUsICdjcmVhdGVOb2Rlc0Zyb21NYXJrdXAgZHVtbXkgbm90IGluaXRpYWxpemVkJykgOiBpbnZhcmlhbnQoISFkdW1teU5vZGUpKTtcbiAgdmFyIG5vZGVOYW1lID0gZ2V0Tm9kZU5hbWUobWFya3VwKTtcblxuICB2YXIgd3JhcCA9IG5vZGVOYW1lICYmIGdldE1hcmt1cFdyYXAobm9kZU5hbWUpO1xuICBpZiAod3JhcCkge1xuICAgIG5vZGUuaW5uZXJIVE1MID0gd3JhcFsxXSArIG1hcmt1cCArIHdyYXBbMl07XG5cbiAgICB2YXIgd3JhcERlcHRoID0gd3JhcFswXTtcbiAgICB3aGlsZSAod3JhcERlcHRoLS0pIHtcbiAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbm9kZS5pbm5lckhUTUwgPSBtYXJrdXA7XG4gIH1cblxuICB2YXIgc2NyaXB0cyA9IG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuICBpZiAoc2NyaXB0cy5sZW5ndGgpIHtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgaGFuZGxlU2NyaXB0LFxuICAgICAgJ2NyZWF0ZU5vZGVzRnJvbU1hcmt1cCguLi4pOiBVbmV4cGVjdGVkIDxzY3JpcHQ+IGVsZW1lbnQgcmVuZGVyZWQuJ1xuICAgICkgOiBpbnZhcmlhbnQoaGFuZGxlU2NyaXB0KSk7XG4gICAgY3JlYXRlQXJyYXlGcm9tTWl4ZWQoc2NyaXB0cykuZm9yRWFjaChoYW5kbGVTY3JpcHQpO1xuICB9XG5cbiAgdmFyIG5vZGVzID0gY3JlYXRlQXJyYXlGcm9tTWl4ZWQobm9kZS5jaGlsZE5vZGVzKTtcbiAgd2hpbGUgKG5vZGUubGFzdENoaWxkKSB7XG4gICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmxhc3RDaGlsZCk7XG4gIH1cbiAgcmV0dXJuIG5vZGVzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZU5vZGVzRnJvbU1hcmt1cDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBjeFxuICovXG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIG1hcmsgc3RyaW5nIGxpdGVyYWxzIHJlcHJlc2VudGluZyBDU1MgY2xhc3MgbmFtZXNcbiAqIHNvIHRoYXQgdGhleSBjYW4gYmUgdHJhbnNmb3JtZWQgc3RhdGljYWxseS4gVGhpcyBhbGxvd3MgZm9yIG1vZHVsYXJpemF0aW9uXG4gKiBhbmQgbWluaWZpY2F0aW9uIG9mIENTUyBjbGFzcyBuYW1lcy5cbiAqXG4gKiBJbiBzdGF0aWNfdXBzdHJlYW0sIHRoaXMgZnVuY3Rpb24gaXMgYWN0dWFsbHkgaW1wbGVtZW50ZWQsIGJ1dCBpdCBzaG91bGRcbiAqIGV2ZW50dWFsbHkgYmUgcmVwbGFjZWQgd2l0aCBzb21ldGhpbmcgbW9yZSBkZXNjcmlwdGl2ZSwgYW5kIHRoZSB0cmFuc2Zvcm1cbiAqIHRoYXQgaXMgdXNlZCBpbiB0aGUgbWFpbiBzdGFjayBzaG91bGQgYmUgcG9ydGVkIGZvciB1c2UgZWxzZXdoZXJlLlxuICpcbiAqIEBwYXJhbSBzdHJpbmd8b2JqZWN0IGNsYXNzTmFtZSB0byBtb2R1bGFyaXplLCBvciBhbiBvYmplY3Qgb2Yga2V5L3ZhbHVlcy5cbiAqICAgICAgICAgICAgICAgICAgICAgIEluIHRoZSBvYmplY3QgY2FzZSwgdGhlIHZhbHVlcyBhcmUgY29uZGl0aW9ucyB0aGF0XG4gKiAgICAgICAgICAgICAgICAgICAgICBkZXRlcm1pbmUgaWYgdGhlIGNsYXNzTmFtZSBrZXlzIHNob3VsZCBiZSBpbmNsdWRlZC5cbiAqIEBwYXJhbSBbc3RyaW5nIC4uLl0gIFZhcmlhYmxlIGxpc3Qgb2YgY2xhc3NOYW1lcyBpbiB0aGUgc3RyaW5nIGNhc2UuXG4gKiBAcmV0dXJuIHN0cmluZyAgICAgICBSZW5kZXJhYmxlIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NOYW1lLlxuICovXG5cbid1c2Ugc3RyaWN0JztcbnZhciB3YXJuaW5nID0gcmVxdWlyZShcIi4vd2FybmluZ1wiKTtcblxudmFyIHdhcm5lZCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBjeChjbGFzc05hbWVzKSB7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgIHdhcm5lZCxcbiAgICAgICdSZWFjdC5hZGRvbnMuY2xhc3NTZXQgd2lsbCBiZSBkZXByZWNhdGVkIGluIGEgZnV0dXJlIHZlcnNpb24uIFNlZSAnICtcbiAgICAgICdodHRwOi8vZmIubWUvcmVhY3QtYWRkb25zLWNsYXNzc2V0J1xuICAgICkgOiBudWxsKTtcbiAgICB3YXJuZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBjbGFzc05hbWVzID09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGNsYXNzTmFtZXMpLmZpbHRlcihmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgIHJldHVybiBjbGFzc05hbWVzW2NsYXNzTmFtZV07XG4gICAgfSkuam9pbignICcpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuam9pbi5jYWxsKGFyZ3VtZW50cywgJyAnKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGN4O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGRhbmdlcm91c1N0eWxlVmFsdWVcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ1NTUHJvcGVydHkgPSByZXF1aXJlKFwiLi9DU1NQcm9wZXJ0eVwiKTtcblxudmFyIGlzVW5pdGxlc3NOdW1iZXIgPSBDU1NQcm9wZXJ0eS5pc1VuaXRsZXNzTnVtYmVyO1xuXG4vKipcbiAqIENvbnZlcnQgYSB2YWx1ZSBpbnRvIHRoZSBwcm9wZXIgY3NzIHdyaXRhYmxlIHZhbHVlLiBUaGUgc3R5bGUgbmFtZSBgbmFtZWBcbiAqIHNob3VsZCBiZSBsb2dpY2FsIChubyBoeXBoZW5zKSwgYXMgc3BlY2lmaWVkXG4gKiBpbiBgQ1NTUHJvcGVydHkuaXNVbml0bGVzc051bWJlcmAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQ1NTIHByb3BlcnR5IG5hbWUgc3VjaCBhcyBgdG9wTWFyZ2luYC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQ1NTIHByb3BlcnR5IHZhbHVlIHN1Y2ggYXMgYDEwcHhgLlxuICogQHJldHVybiB7c3RyaW5nfSBOb3JtYWxpemVkIHN0eWxlIHZhbHVlIHdpdGggZGltZW5zaW9ucyBhcHBsaWVkLlxuICovXG5mdW5jdGlvbiBkYW5nZXJvdXNTdHlsZVZhbHVlKG5hbWUsIHZhbHVlKSB7XG4gIC8vIE5vdGUgdGhhdCB3ZSd2ZSByZW1vdmVkIGVzY2FwZVRleHRGb3JCcm93c2VyKCkgY2FsbHMgaGVyZSBzaW5jZSB0aGVcbiAgLy8gd2hvbGUgc3RyaW5nIHdpbGwgYmUgZXNjYXBlZCB3aGVuIHRoZSBhdHRyaWJ1dGUgaXMgaW5qZWN0ZWQgaW50b1xuICAvLyB0aGUgbWFya3VwLiBJZiB5b3UgcHJvdmlkZSB1bnNhZmUgdXNlciBkYXRhIGhlcmUgdGhleSBjYW4gaW5qZWN0XG4gIC8vIGFyYml0cmFyeSBDU1Mgd2hpY2ggbWF5IGJlIHByb2JsZW1hdGljIChJIGNvdWxkbid0IHJlcHJvIHRoaXMpOlxuICAvLyBodHRwczovL3d3dy5vd2FzcC5vcmcvaW5kZXgucGhwL1hTU19GaWx0ZXJfRXZhc2lvbl9DaGVhdF9TaGVldFxuICAvLyBodHRwOi8vd3d3LnRoZXNwYW5uZXIuY28udWsvMjAwNy8xMS8yNi91bHRpbWF0ZS14c3MtY3NzLWluamVjdGlvbi9cbiAgLy8gVGhpcyBpcyBub3QgYW4gWFNTIGhvbGUgYnV0IGluc3RlYWQgYSBwb3RlbnRpYWwgQ1NTIGluamVjdGlvbiBpc3N1ZVxuICAvLyB3aGljaCBoYXMgbGVhZCB0byBhIGdyZWF0ZXIgZGlzY3Vzc2lvbiBhYm91dCBob3cgd2UncmUgZ29pbmcgdG9cbiAgLy8gdHJ1c3QgVVJMcyBtb3ZpbmcgZm9yd2FyZC4gU2VlICMyMTE1OTAxXG5cbiAgdmFyIGlzRW1wdHkgPSB2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHZhbHVlID09PSAnJztcbiAgaWYgKGlzRW1wdHkpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICB2YXIgaXNOb25OdW1lcmljID0gaXNOYU4odmFsdWUpO1xuICBpZiAoaXNOb25OdW1lcmljIHx8IHZhbHVlID09PSAwIHx8XG4gICAgICBpc1VuaXRsZXNzTnVtYmVyLmhhc093blByb3BlcnR5KG5hbWUpICYmIGlzVW5pdGxlc3NOdW1iZXJbbmFtZV0pIHtcbiAgICByZXR1cm4gJycgKyB2YWx1ZTsgLy8gY2FzdCB0byBzdHJpbmdcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlICsgJ3B4Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkYW5nZXJvdXNTdHlsZVZhbHVlO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGVtcHR5RnVuY3Rpb25cbiAqL1xuXG5mdW5jdGlvbiBtYWtlRW1wdHlGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBhcmc7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhY2NlcHRzIGFuZCBkaXNjYXJkcyBpbnB1dHM7IGl0IGhhcyBubyBzaWRlIGVmZmVjdHMuIFRoaXMgaXNcbiAqIHByaW1hcmlseSB1c2VmdWwgaWRpb21hdGljYWxseSBmb3Igb3ZlcnJpZGFibGUgZnVuY3Rpb24gZW5kcG9pbnRzIHdoaWNoXG4gKiBhbHdheXMgbmVlZCB0byBiZSBjYWxsYWJsZSwgc2luY2UgSlMgbGFja3MgYSBudWxsLWNhbGwgaWRpb20gYWxhIENvY29hLlxuICovXG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge31cblxuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJucyA9IG1ha2VFbXB0eUZ1bmN0aW9uO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlID0gbWFrZUVtcHR5RnVuY3Rpb24oZmFsc2UpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWUgPSBtYWtlRW1wdHlGdW5jdGlvbih0cnVlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsID0gbWFrZUVtcHR5RnVuY3Rpb24obnVsbCk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVGhpcyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uKGFyZykgeyByZXR1cm4gYXJnOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZW1wdHlPYmplY3RcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGVtcHR5T2JqZWN0ID0ge307XG5cbmlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgT2JqZWN0LmZyZWV6ZShlbXB0eU9iamVjdCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZW1wdHlPYmplY3Q7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRVNDQVBFX0xPT0tVUCA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJzwnOiAnJmx0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICAnXFwnJzogJyYjeDI3Oydcbn07XG5cbnZhciBFU0NBUEVfUkVHRVggPSAvWyY+PFwiJ10vZztcblxuZnVuY3Rpb24gZXNjYXBlcihtYXRjaCkge1xuICByZXR1cm4gRVNDQVBFX0xPT0tVUFttYXRjaF07XG59XG5cbi8qKlxuICogRXNjYXBlcyB0ZXh0IHRvIHByZXZlbnQgc2NyaXB0aW5nIGF0dGFja3MuXG4gKlxuICogQHBhcmFtIHsqfSB0ZXh0IFRleHQgdmFsdWUgdG8gZXNjYXBlLlxuICogQHJldHVybiB7c3RyaW5nfSBBbiBlc2NhcGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyKHRleHQpIHtcbiAgcmV0dXJuICgnJyArIHRleHQpLnJlcGxhY2UoRVNDQVBFX1JFR0VYLCBlc2NhcGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXI7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZmluZERPTU5vZGVcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKFwiLi9SZWFjdEN1cnJlbnRPd25lclwiKTtcbnZhciBSZWFjdEluc3RhbmNlTWFwID0gcmVxdWlyZShcIi4vUmVhY3RJbnN0YW5jZU1hcFwiKTtcbnZhciBSZWFjdE1vdW50ID0gcmVxdWlyZShcIi4vUmVhY3RNb3VudFwiKTtcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcbnZhciBpc05vZGUgPSByZXF1aXJlKFwiLi9pc05vZGVcIik7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoXCIuL3dhcm5pbmdcIik7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgRE9NIG5vZGUgcmVuZGVyZWQgYnkgdGhpcyBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR8RE9NRWxlbWVudH0gY29tcG9uZW50T3JFbGVtZW50XG4gKiBAcmV0dXJuIHtET01FbGVtZW50fSBUaGUgcm9vdCBub2RlIG9mIHRoaXMgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gZmluZERPTU5vZGUoY29tcG9uZW50T3JFbGVtZW50KSB7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICB2YXIgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgIGlmIChvd25lciAhPT0gbnVsbCkge1xuICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IHdhcm5pbmcoXG4gICAgICAgIG93bmVyLl93YXJuZWRBYm91dFJlZnNJblJlbmRlcixcbiAgICAgICAgJyVzIGlzIGFjY2Vzc2luZyBnZXRET01Ob2RlIG9yIGZpbmRET01Ob2RlIGluc2lkZSBpdHMgcmVuZGVyKCkuICcgK1xuICAgICAgICAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICtcbiAgICAgICAgJ25ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzICcgK1xuICAgICAgICAncmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgJyArXG4gICAgICAgICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLFxuICAgICAgICBvd25lci5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50J1xuICAgICAgKSA6IG51bGwpO1xuICAgICAgb3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGNvbXBvbmVudE9yRWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGlzTm9kZShjb21wb25lbnRPckVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudE9yRWxlbWVudDtcbiAgfVxuICBpZiAoUmVhY3RJbnN0YW5jZU1hcC5oYXMoY29tcG9uZW50T3JFbGVtZW50KSkge1xuICAgIHJldHVybiBSZWFjdE1vdW50LmdldE5vZGVGcm9tSW5zdGFuY2UoY29tcG9uZW50T3JFbGVtZW50KTtcbiAgfVxuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgIGNvbXBvbmVudE9yRWxlbWVudC5yZW5kZXIgPT0gbnVsbCB8fFxuICAgIHR5cGVvZiBjb21wb25lbnRPckVsZW1lbnQucmVuZGVyICE9PSAnZnVuY3Rpb24nLFxuICAgICdDb21wb25lbnQgKHdpdGgga2V5czogJXMpIGNvbnRhaW5zIGByZW5kZXJgIG1ldGhvZCAnICtcbiAgICAnYnV0IGlzIG5vdCBtb3VudGVkIGluIHRoZSBET00nLFxuICAgIE9iamVjdC5rZXlzKGNvbXBvbmVudE9yRWxlbWVudClcbiAgKSA6IGludmFyaWFudChjb21wb25lbnRPckVsZW1lbnQucmVuZGVyID09IG51bGwgfHxcbiAgdHlwZW9mIGNvbXBvbmVudE9yRWxlbWVudC5yZW5kZXIgIT09ICdmdW5jdGlvbicpKTtcbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICBmYWxzZSxcbiAgICAnRWxlbWVudCBhcHBlYXJzIHRvIGJlIG5laXRoZXIgUmVhY3RDb21wb25lbnQgbm9yIERPTU5vZGUgKGtleXM6ICVzKScsXG4gICAgT2JqZWN0LmtleXMoY29tcG9uZW50T3JFbGVtZW50KVxuICApIDogaW52YXJpYW50KGZhbHNlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmluZERPTU5vZGU7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZmxhdHRlbkNoaWxkcmVuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdHJhdmVyc2VBbGxDaGlsZHJlbiA9IHJlcXVpcmUoXCIuL3RyYXZlcnNlQWxsQ2hpbGRyZW5cIik7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoXCIuL3dhcm5pbmdcIik7XG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gdHJhdmVyc2VDb250ZXh0IENvbnRleHQgcGFzc2VkIHRocm91Z2ggdHJhdmVyc2FsLlxuICogQHBhcmFtIHs/UmVhY3RDb21wb25lbnR9IGNoaWxkIFJlYWN0IGNoaWxkIGNvbXBvbmVudC5cbiAqIEBwYXJhbSB7IXN0cmluZ30gbmFtZSBTdHJpbmcgbmFtZSBvZiBrZXkgcGF0aCB0byBjaGlsZC5cbiAqL1xuZnVuY3Rpb24gZmxhdHRlblNpbmdsZUNoaWxkSW50b0NvbnRleHQodHJhdmVyc2VDb250ZXh0LCBjaGlsZCwgbmFtZSkge1xuICAvLyBXZSBmb3VuZCBhIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgdmFyIHJlc3VsdCA9IHRyYXZlcnNlQ29udGV4dDtcbiAgdmFyIGtleVVuaXF1ZSA9ICFyZXN1bHQuaGFzT3duUHJvcGVydHkobmFtZSk7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgIGtleVVuaXF1ZSxcbiAgICAgICdmbGF0dGVuQ2hpbGRyZW4oLi4uKTogRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUga2V5LCAnICtcbiAgICAgICdgJXNgLiBDaGlsZCBrZXlzIG11c3QgYmUgdW5pcXVlOyB3aGVuIHR3byBjaGlsZHJlbiBzaGFyZSBhIGtleSwgb25seSAnICtcbiAgICAgICd0aGUgZmlyc3QgY2hpbGQgd2lsbCBiZSB1c2VkLicsXG4gICAgICBuYW1lXG4gICAgKSA6IG51bGwpO1xuICB9XG4gIGlmIChrZXlVbmlxdWUgJiYgY2hpbGQgIT0gbnVsbCkge1xuICAgIHJlc3VsdFtuYW1lXSA9IGNoaWxkO1xuICB9XG59XG5cbi8qKlxuICogRmxhdHRlbnMgY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLiBBbnkgbnVsbFxuICogY2hpbGRyZW4gd2lsbCBub3QgYmUgaW5jbHVkZWQgaW4gdGhlIHJlc3VsdGluZyBvYmplY3QuXG4gKiBAcmV0dXJuIHshb2JqZWN0fSBmbGF0dGVuZWQgY2hpbGRyZW4ga2V5ZWQgYnkgbmFtZS5cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbkNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZmxhdHRlblNpbmdsZUNoaWxkSW50b0NvbnRleHQsIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmxhdHRlbkNoaWxkcmVuO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGZvY3VzTm9kZVxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZSBpbnB1dC90ZXh0YXJlYSB0byBmb2N1c1xuICovXG5mdW5jdGlvbiBmb2N1c05vZGUobm9kZSkge1xuICAvLyBJRTggY2FuIHRocm93IFwiQ2FuJ3QgbW92ZSBmb2N1cyB0byB0aGUgY29udHJvbCBiZWNhdXNlIGl0IGlzIGludmlzaWJsZSxcbiAgLy8gbm90IGVuYWJsZWQsIG9yIG9mIGEgdHlwZSB0aGF0IGRvZXMgbm90IGFjY2VwdCB0aGUgZm9jdXMuXCIgZm9yIGFsbCBraW5kcyBvZlxuICAvLyByZWFzb25zIHRoYXQgYXJlIHRvbyBleHBlbnNpdmUgYW5kIGZyYWdpbGUgdG8gdGVzdC5cbiAgdHJ5IHtcbiAgICBub2RlLmZvY3VzKCk7XG4gIH0gY2F0Y2goZSkge1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZm9jdXNOb2RlO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGZvckVhY2hBY2N1bXVsYXRlZFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAcGFyYW0ge2FycmF5fSBhbiBcImFjY3VtdWxhdGlvblwiIG9mIGl0ZW1zIHdoaWNoIGlzIGVpdGhlciBhbiBBcnJheSBvclxuICogYSBzaW5nbGUgaXRlbS4gVXNlZnVsIHdoZW4gcGFpcmVkIHdpdGggdGhlIGBhY2N1bXVsYXRlYCBtb2R1bGUuIFRoaXMgaXMgYVxuICogc2ltcGxlIHV0aWxpdHkgdGhhdCBhbGxvd3MgdXMgdG8gcmVhc29uIGFib3V0IGEgY29sbGVjdGlvbiBvZiBpdGVtcywgYnV0XG4gKiBoYW5kbGluZyB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGV4YWN0bHkgb25lIGl0ZW0gKGFuZCB3ZSBkbyBub3QgbmVlZCB0b1xuICogYWxsb2NhdGUgYW4gYXJyYXkpLlxuICovXG52YXIgZm9yRWFjaEFjY3VtdWxhdGVkID0gZnVuY3Rpb24oYXJyLCBjYiwgc2NvcGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGFyci5mb3JFYWNoKGNiLCBzY29wZSk7XG4gIH0gZWxzZSBpZiAoYXJyKSB7XG4gICAgY2IuY2FsbChzY29wZSwgYXJyKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmb3JFYWNoQWNjdW11bGF0ZWQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZ2V0QWN0aXZlRWxlbWVudFxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4vKipcbiAqIFNhbWUgYXMgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBidXQgd3JhcHMgaW4gYSB0cnktY2F0Y2ggYmxvY2suIEluIElFIGl0IGlzXG4gKiBub3Qgc2FmZSB0byBjYWxsIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaWYgdGhlcmUgaXMgbm90aGluZyBmb2N1c2VkLlxuICpcbiAqIFRoZSBhY3RpdmVFbGVtZW50IHdpbGwgYmUgbnVsbCBvbmx5IGlmIHRoZSBkb2N1bWVudCBib2R5IGlzIG5vdCB5ZXQgZGVmaW5lZC5cbiAqL1xuZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudCgpIC8qP0RPTUVsZW1lbnQqLyB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5ib2R5O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0QWN0aXZlRWxlbWVudDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRFdmVudENoYXJDb2RlXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBgY2hhckNvZGVgIHJlcHJlc2VudHMgdGhlIGFjdHVhbCBcImNoYXJhY3RlciBjb2RlXCIgYW5kIGlzIHNhZmUgdG8gdXNlIHdpdGhcbiAqIGBTdHJpbmcuZnJvbUNoYXJDb2RlYC4gQXMgc3VjaCwgb25seSBrZXlzIHRoYXQgY29ycmVzcG9uZCB0byBwcmludGFibGVcbiAqIGNoYXJhY3RlcnMgcHJvZHVjZSBhIHZhbGlkIGBjaGFyQ29kZWAsIHRoZSBvbmx5IGV4Y2VwdGlvbiB0byB0aGlzIGlzIEVudGVyLlxuICogVGhlIFRhYi1rZXkgaXMgY29uc2lkZXJlZCBub24tcHJpbnRhYmxlIGFuZCBkb2VzIG5vdCBoYXZlIGEgYGNoYXJDb2RlYCxcbiAqIHByZXN1bWFibHkgYmVjYXVzZSBpdCBkb2VzIG5vdCBwcm9kdWNlIGEgdGFiLWNoYXJhY3RlciBpbiBicm93c2Vycy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5vcm1hbGl6ZWQgYGNoYXJDb2RlYCBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkge1xuICB2YXIgY2hhckNvZGU7XG4gIHZhciBrZXlDb2RlID0gbmF0aXZlRXZlbnQua2V5Q29kZTtcblxuICBpZiAoJ2NoYXJDb2RlJyBpbiBuYXRpdmVFdmVudCkge1xuICAgIGNoYXJDb2RlID0gbmF0aXZlRXZlbnQuY2hhckNvZGU7XG5cbiAgICAvLyBGRiBkb2VzIG5vdCBzZXQgYGNoYXJDb2RlYCBmb3IgdGhlIEVudGVyLWtleSwgY2hlY2sgYWdhaW5zdCBga2V5Q29kZWAuXG4gICAgaWYgKGNoYXJDb2RlID09PSAwICYmIGtleUNvZGUgPT09IDEzKSB7XG4gICAgICBjaGFyQ29kZSA9IDEzO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJRTggZG9lcyBub3QgaW1wbGVtZW50IGBjaGFyQ29kZWAsIGJ1dCBga2V5Q29kZWAgaGFzIHRoZSBjb3JyZWN0IHZhbHVlLlxuICAgIGNoYXJDb2RlID0ga2V5Q29kZTtcbiAgfVxuXG4gIC8vIFNvbWUgbm9uLXByaW50YWJsZSBrZXlzIGFyZSByZXBvcnRlZCBpbiBgY2hhckNvZGVgL2BrZXlDb2RlYCwgZGlzY2FyZCB0aGVtLlxuICAvLyBNdXN0IG5vdCBkaXNjYXJkIHRoZSAobm9uLSlwcmludGFibGUgRW50ZXIta2V5LlxuICBpZiAoY2hhckNvZGUgPj0gMzIgfHwgY2hhckNvZGUgPT09IDEzKSB7XG4gICAgcmV0dXJuIGNoYXJDb2RlO1xuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0RXZlbnRDaGFyQ29kZTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRFdmVudEtleVxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBnZXRFdmVudENoYXJDb2RlID0gcmVxdWlyZShcIi4vZ2V0RXZlbnRDaGFyQ29kZVwiKTtcblxuLyoqXG4gKiBOb3JtYWxpemF0aW9uIG9mIGRlcHJlY2F0ZWQgSFRNTDUgYGtleWAgdmFsdWVzXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50I0tleV9uYW1lc1xuICovXG52YXIgbm9ybWFsaXplS2V5ID0ge1xuICAnRXNjJzogJ0VzY2FwZScsXG4gICdTcGFjZWJhcic6ICcgJyxcbiAgJ0xlZnQnOiAnQXJyb3dMZWZ0JyxcbiAgJ1VwJzogJ0Fycm93VXAnLFxuICAnUmlnaHQnOiAnQXJyb3dSaWdodCcsXG4gICdEb3duJzogJ0Fycm93RG93bicsXG4gICdEZWwnOiAnRGVsZXRlJyxcbiAgJ1dpbic6ICdPUycsXG4gICdNZW51JzogJ0NvbnRleHRNZW51JyxcbiAgJ0FwcHMnOiAnQ29udGV4dE1lbnUnLFxuICAnU2Nyb2xsJzogJ1Njcm9sbExvY2snLFxuICAnTW96UHJpbnRhYmxlS2V5JzogJ1VuaWRlbnRpZmllZCdcbn07XG5cbi8qKlxuICogVHJhbnNsYXRpb24gZnJvbSBsZWdhY3kgYGtleUNvZGVgIHRvIEhUTUw1IGBrZXlgXG4gKiBPbmx5IHNwZWNpYWwga2V5cyBzdXBwb3J0ZWQsIGFsbCBvdGhlcnMgZGVwZW5kIG9uIGtleWJvYXJkIGxheW91dCBvciBicm93c2VyXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50I0tleV9uYW1lc1xuICovXG52YXIgdHJhbnNsYXRlVG9LZXkgPSB7XG4gIDg6ICdCYWNrc3BhY2UnLFxuICA5OiAnVGFiJyxcbiAgMTI6ICdDbGVhcicsXG4gIDEzOiAnRW50ZXInLFxuICAxNjogJ1NoaWZ0JyxcbiAgMTc6ICdDb250cm9sJyxcbiAgMTg6ICdBbHQnLFxuICAxOTogJ1BhdXNlJyxcbiAgMjA6ICdDYXBzTG9jaycsXG4gIDI3OiAnRXNjYXBlJyxcbiAgMzI6ICcgJyxcbiAgMzM6ICdQYWdlVXAnLFxuICAzNDogJ1BhZ2VEb3duJyxcbiAgMzU6ICdFbmQnLFxuICAzNjogJ0hvbWUnLFxuICAzNzogJ0Fycm93TGVmdCcsXG4gIDM4OiAnQXJyb3dVcCcsXG4gIDM5OiAnQXJyb3dSaWdodCcsXG4gIDQwOiAnQXJyb3dEb3duJyxcbiAgNDU6ICdJbnNlcnQnLFxuICA0NjogJ0RlbGV0ZScsXG4gIDExMjogJ0YxJywgMTEzOiAnRjInLCAxMTQ6ICdGMycsIDExNTogJ0Y0JywgMTE2OiAnRjUnLCAxMTc6ICdGNicsXG4gIDExODogJ0Y3JywgMTE5OiAnRjgnLCAxMjA6ICdGOScsIDEyMTogJ0YxMCcsIDEyMjogJ0YxMScsIDEyMzogJ0YxMicsXG4gIDE0NDogJ051bUxvY2snLFxuICAxNDU6ICdTY3JvbGxMb2NrJyxcbiAgMjI0OiAnTWV0YSdcbn07XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7c3RyaW5nfSBOb3JtYWxpemVkIGBrZXlgIHByb3BlcnR5LlxuICovXG5mdW5jdGlvbiBnZXRFdmVudEtleShuYXRpdmVFdmVudCkge1xuICBpZiAobmF0aXZlRXZlbnQua2V5KSB7XG4gICAgLy8gTm9ybWFsaXplIGluY29uc2lzdGVudCB2YWx1ZXMgcmVwb3J0ZWQgYnkgYnJvd3NlcnMgZHVlIHRvXG4gICAgLy8gaW1wbGVtZW50YXRpb25zIG9mIGEgd29ya2luZyBkcmFmdCBzcGVjaWZpY2F0aW9uLlxuXG4gICAgLy8gRmlyZUZveCBpbXBsZW1lbnRzIGBrZXlgIGJ1dCByZXR1cm5zIGBNb3pQcmludGFibGVLZXlgIGZvciBhbGxcbiAgICAvLyBwcmludGFibGUgY2hhcmFjdGVycyAobm9ybWFsaXplZCB0byBgVW5pZGVudGlmaWVkYCksIGlnbm9yZSBpdC5cbiAgICB2YXIga2V5ID0gbm9ybWFsaXplS2V5W25hdGl2ZUV2ZW50LmtleV0gfHwgbmF0aXZlRXZlbnQua2V5O1xuICAgIGlmIChrZXkgIT09ICdVbmlkZW50aWZpZWQnKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxuXG4gIC8vIEJyb3dzZXIgZG9lcyBub3QgaW1wbGVtZW50IGBrZXlgLCBwb2x5ZmlsbCBhcyBtdWNoIG9mIGl0IGFzIHdlIGNhbi5cbiAgaWYgKG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICB2YXIgY2hhckNvZGUgPSBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KTtcblxuICAgIC8vIFRoZSBlbnRlci1rZXkgaXMgdGVjaG5pY2FsbHkgYm90aCBwcmludGFibGUgYW5kIG5vbi1wcmludGFibGUgYW5kIGNhblxuICAgIC8vIHRodXMgYmUgY2FwdHVyZWQgYnkgYGtleXByZXNzYCwgbm8gb3RoZXIgbm9uLXByaW50YWJsZSBrZXkgc2hvdWxkLlxuICAgIHJldHVybiBjaGFyQ29kZSA9PT0gMTMgPyAnRW50ZXInIDogU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7XG4gIH1cbiAgaWYgKG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBuYXRpdmVFdmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgLy8gV2hpbGUgdXNlciBrZXlib2FyZCBsYXlvdXQgZGV0ZXJtaW5lcyB0aGUgYWN0dWFsIG1lYW5pbmcgb2YgZWFjaFxuICAgIC8vIGBrZXlDb2RlYCB2YWx1ZSwgYWxtb3N0IGFsbCBmdW5jdGlvbiBrZXlzIGhhdmUgYSB1bml2ZXJzYWwgdmFsdWUuXG4gICAgcmV0dXJuIHRyYW5zbGF0ZVRvS2V5W25hdGl2ZUV2ZW50LmtleUNvZGVdIHx8ICdVbmlkZW50aWZpZWQnO1xuICB9XG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRFdmVudEtleTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRFdmVudE1vZGlmaWVyU3RhdGVcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFRyYW5zbGF0aW9uIGZyb20gbW9kaWZpZXIga2V5IHRvIHRoZSBhc3NvY2lhdGVkIHByb3BlcnR5IGluIHRoZSBldmVudC5cbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNrZXlzLU1vZGlmaWVyc1xuICovXG5cbnZhciBtb2RpZmllcktleVRvUHJvcCA9IHtcbiAgJ0FsdCc6ICdhbHRLZXknLFxuICAnQ29udHJvbCc6ICdjdHJsS2V5JyxcbiAgJ01ldGEnOiAnbWV0YUtleScsXG4gICdTaGlmdCc6ICdzaGlmdEtleSdcbn07XG5cbi8vIElFOCBkb2VzIG5vdCBpbXBsZW1lbnQgZ2V0TW9kaWZpZXJTdGF0ZSBzbyB3ZSBzaW1wbHkgbWFwIGl0IHRvIHRoZSBvbmx5XG4vLyBtb2RpZmllciBrZXlzIGV4cG9zZWQgYnkgdGhlIGV2ZW50IGl0c2VsZiwgZG9lcyBub3Qgc3VwcG9ydCBMb2NrLWtleXMuXG4vLyBDdXJyZW50bHksIGFsbCBtYWpvciBicm93c2VycyBleGNlcHQgQ2hyb21lIHNlZW1zIHRvIHN1cHBvcnQgTG9jay1rZXlzLlxuZnVuY3Rpb24gbW9kaWZpZXJTdGF0ZUdldHRlcihrZXlBcmcpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIHN5bnRoZXRpY0V2ZW50ID0gdGhpcztcbiAgdmFyIG5hdGl2ZUV2ZW50ID0gc3ludGhldGljRXZlbnQubmF0aXZlRXZlbnQ7XG4gIGlmIChuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmdldE1vZGlmaWVyU3RhdGUoa2V5QXJnKTtcbiAgfVxuICB2YXIga2V5UHJvcCA9IG1vZGlmaWVyS2V5VG9Qcm9wW2tleUFyZ107XG4gIHJldHVybiBrZXlQcm9wID8gISFuYXRpdmVFdmVudFtrZXlQcm9wXSA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRFdmVudE1vZGlmaWVyU3RhdGUobmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIG1vZGlmaWVyU3RhdGVHZXR0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0RXZlbnRNb2RpZmllclN0YXRlO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldEV2ZW50VGFyZ2V0XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBHZXRzIHRoZSB0YXJnZXQgbm9kZSBmcm9tIGEgbmF0aXZlIGJyb3dzZXIgZXZlbnQgYnkgYWNjb3VudGluZyBmb3JcbiAqIGluY29uc2lzdGVuY2llcyBpbiBicm93c2VyIERPTSBBUElzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge0RPTUV2ZW50VGFyZ2V0fSBUYXJnZXQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIHRhcmdldCA9IG5hdGl2ZUV2ZW50LnRhcmdldCB8fCBuYXRpdmVFdmVudC5zcmNFbGVtZW50IHx8IHdpbmRvdztcbiAgLy8gU2FmYXJpIG1heSBmaXJlIGV2ZW50cyBvbiB0ZXh0IG5vZGVzIChOb2RlLlRFWFRfTk9ERSBpcyAzKS5cbiAgLy8gQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19wcm9wZXJ0aWVzLmh0bWxcbiAgcmV0dXJuIHRhcmdldC5ub2RlVHlwZSA9PT0gMyA/IHRhcmdldC5wYXJlbnROb2RlIDogdGFyZ2V0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEV2ZW50VGFyZ2V0O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldEl0ZXJhdG9yRm5cbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKiBnbG9iYWwgU3ltYm9sICovXG52YXIgSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG4gKlxuICogQmUgc3VyZSB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGl0ZXJhYmxlIGFzIGNvbnRleHQ6XG4gKlxuICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAqICAgICBpZiAoaXRlcmF0b3JGbikge1xuICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuICogICAgICAgLi4uXG4gKiAgICAgfVxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICogQHJldHVybiB7P2Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChcbiAgICAoSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXSlcbiAgKTtcbiAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRJdGVyYXRvckZuO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldE1hcmt1cFdyYXBcbiAqL1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi9FeGVjdXRpb25FbnZpcm9ubWVudFwiKTtcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcblxuLyoqXG4gKiBEdW1teSBjb250YWluZXIgdXNlZCB0byBkZXRlY3Qgd2hpY2ggd3JhcHMgYXJlIG5lY2Vzc2FyeS5cbiAqL1xudmFyIGR1bW15Tm9kZSA9XG4gIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIDogbnVsbDtcblxuLyoqXG4gKiBTb21lIGJyb3dzZXJzIGNhbm5vdCB1c2UgYGlubmVySFRNTGAgdG8gcmVuZGVyIGNlcnRhaW4gZWxlbWVudHMgc3RhbmRhbG9uZSxcbiAqIHNvIHdlIHdyYXAgdGhlbSwgcmVuZGVyIHRoZSB3cmFwcGVkIG5vZGVzLCB0aGVuIGV4dHJhY3QgdGhlIGRlc2lyZWQgbm9kZS5cbiAqXG4gKiBJbiBJRTgsIGNlcnRhaW4gZWxlbWVudHMgY2Fubm90IHJlbmRlciBhbG9uZSwgc28gd3JhcCBhbGwgZWxlbWVudHMgKCcqJykuXG4gKi9cbnZhciBzaG91bGRXcmFwID0ge1xuICAvLyBGb3JjZSB3cmFwcGluZyBmb3IgU1ZHIGVsZW1lbnRzIGJlY2F1c2UgaWYgdGhleSBnZXQgY3JlYXRlZCBpbnNpZGUgYSA8ZGl2PixcbiAgLy8gdGhleSB3aWxsIGJlIGluaXRpYWxpemVkIGluIHRoZSB3cm9uZyBuYW1lc3BhY2UgKGFuZCB3aWxsIG5vdCBkaXNwbGF5KS5cbiAgJ2NpcmNsZSc6IHRydWUsXG4gICdjbGlwUGF0aCc6IHRydWUsXG4gICdkZWZzJzogdHJ1ZSxcbiAgJ2VsbGlwc2UnOiB0cnVlLFxuICAnZyc6IHRydWUsXG4gICdsaW5lJzogdHJ1ZSxcbiAgJ2xpbmVhckdyYWRpZW50JzogdHJ1ZSxcbiAgJ3BhdGgnOiB0cnVlLFxuICAncG9seWdvbic6IHRydWUsXG4gICdwb2x5bGluZSc6IHRydWUsXG4gICdyYWRpYWxHcmFkaWVudCc6IHRydWUsXG4gICdyZWN0JzogdHJ1ZSxcbiAgJ3N0b3AnOiB0cnVlLFxuICAndGV4dCc6IHRydWVcbn07XG5cbnZhciBzZWxlY3RXcmFwID0gWzEsICc8c2VsZWN0IG11bHRpcGxlPVwidHJ1ZVwiPicsICc8L3NlbGVjdD4nXTtcbnZhciB0YWJsZVdyYXAgPSBbMSwgJzx0YWJsZT4nLCAnPC90YWJsZT4nXTtcbnZhciB0cldyYXAgPSBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXTtcblxudmFyIHN2Z1dyYXAgPSBbMSwgJzxzdmc+JywgJzwvc3ZnPiddO1xuXG52YXIgbWFya3VwV3JhcCA9IHtcbiAgJyonOiBbMSwgJz88ZGl2PicsICc8L2Rpdj4nXSxcblxuICAnYXJlYSc6IFsxLCAnPG1hcD4nLCAnPC9tYXA+J10sXG4gICdjb2wnOiBbMiwgJzx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+JywgJzwvY29sZ3JvdXA+PC90YWJsZT4nXSxcbiAgJ2xlZ2VuZCc6IFsxLCAnPGZpZWxkc2V0PicsICc8L2ZpZWxkc2V0PiddLFxuICAncGFyYW0nOiBbMSwgJzxvYmplY3Q+JywgJzwvb2JqZWN0PiddLFxuICAndHInOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcblxuICAnb3B0Z3JvdXAnOiBzZWxlY3RXcmFwLFxuICAnb3B0aW9uJzogc2VsZWN0V3JhcCxcblxuICAnY2FwdGlvbic6IHRhYmxlV3JhcCxcbiAgJ2NvbGdyb3VwJzogdGFibGVXcmFwLFxuICAndGJvZHknOiB0YWJsZVdyYXAsXG4gICd0Zm9vdCc6IHRhYmxlV3JhcCxcbiAgJ3RoZWFkJzogdGFibGVXcmFwLFxuXG4gICd0ZCc6IHRyV3JhcCxcbiAgJ3RoJzogdHJXcmFwLFxuXG4gICdjaXJjbGUnOiBzdmdXcmFwLFxuICAnY2xpcFBhdGgnOiBzdmdXcmFwLFxuICAnZGVmcyc6IHN2Z1dyYXAsXG4gICdlbGxpcHNlJzogc3ZnV3JhcCxcbiAgJ2cnOiBzdmdXcmFwLFxuICAnbGluZSc6IHN2Z1dyYXAsXG4gICdsaW5lYXJHcmFkaWVudCc6IHN2Z1dyYXAsXG4gICdwYXRoJzogc3ZnV3JhcCxcbiAgJ3BvbHlnb24nOiBzdmdXcmFwLFxuICAncG9seWxpbmUnOiBzdmdXcmFwLFxuICAncmFkaWFsR3JhZGllbnQnOiBzdmdXcmFwLFxuICAncmVjdCc6IHN2Z1dyYXAsXG4gICdzdG9wJzogc3ZnV3JhcCxcbiAgJ3RleHQnOiBzdmdXcmFwXG59O1xuXG4vKipcbiAqIEdldHMgdGhlIG1hcmt1cCB3cmFwIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBzdXBwbGllZCBgbm9kZU5hbWVgLlxuICpcbiAqIE5PVEU6IFRoaXMgbGF6aWx5IGRldGVjdHMgd2hpY2ggd3JhcHMgYXJlIG5lY2Vzc2FyeSBmb3IgdGhlIGN1cnJlbnQgYnJvd3Nlci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbm9kZU5hbWUgTG93ZXJjYXNlIGBub2RlTmFtZWAuXG4gKiBAcmV0dXJuIHs/YXJyYXl9IE1hcmt1cCB3cmFwIGNvbmZpZ3VyYXRpb24sIGlmIGFwcGxpY2FibGUuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcmt1cFdyYXAobm9kZU5hbWUpIHtcbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudCghIWR1bW15Tm9kZSwgJ01hcmt1cCB3cmFwcGluZyBub2RlIG5vdCBpbml0aWFsaXplZCcpIDogaW52YXJpYW50KCEhZHVtbXlOb2RlKSk7XG4gIGlmICghbWFya3VwV3JhcC5oYXNPd25Qcm9wZXJ0eShub2RlTmFtZSkpIHtcbiAgICBub2RlTmFtZSA9ICcqJztcbiAgfVxuICBpZiAoIXNob3VsZFdyYXAuaGFzT3duUHJvcGVydHkobm9kZU5hbWUpKSB7XG4gICAgaWYgKG5vZGVOYW1lID09PSAnKicpIHtcbiAgICAgIGR1bW15Tm9kZS5pbm5lckhUTUwgPSAnPGxpbmsgLz4nO1xuICAgIH0gZWxzZSB7XG4gICAgICBkdW1teU5vZGUuaW5uZXJIVE1MID0gJzwnICsgbm9kZU5hbWUgKyAnPjwvJyArIG5vZGVOYW1lICsgJz4nO1xuICAgIH1cbiAgICBzaG91bGRXcmFwW25vZGVOYW1lXSA9ICFkdW1teU5vZGUuZmlyc3RDaGlsZDtcbiAgfVxuICByZXR1cm4gc2hvdWxkV3JhcFtub2RlTmFtZV0gPyBtYXJrdXBXcmFwW25vZGVOYW1lXSA6IG51bGw7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRNYXJrdXBXcmFwO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogR2l2ZW4gYW55IG5vZGUgcmV0dXJuIHRoZSBmaXJzdCBsZWFmIG5vZGUgd2l0aG91dCBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9XG4gKi9cbmZ1bmN0aW9uIGdldExlYWZOb2RlKG5vZGUpIHtcbiAgd2hpbGUgKG5vZGUgJiYgbm9kZS5maXJzdENoaWxkKSB7XG4gICAgbm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgfVxuICByZXR1cm4gbm9kZTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG5leHQgc2libGluZyB3aXRoaW4gYSBjb250YWluZXIuIFRoaXMgd2lsbCB3YWxrIHVwIHRoZVxuICogRE9NIGlmIGEgbm9kZSdzIHNpYmxpbmdzIGhhdmUgYmVlbiBleGhhdXN0ZWQuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fERPTVRleHROb2RlfSBub2RlXG4gKiBAcmV0dXJuIHs/RE9NRWxlbWVudHxET01UZXh0Tm9kZX1cbiAqL1xuZnVuY3Rpb24gZ2V0U2libGluZ05vZGUobm9kZSkge1xuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBvYmplY3QgZGVzY3JpYmluZyB0aGUgbm9kZXMgd2hpY2ggY29udGFpbiBjaGFyYWN0ZXJzIGF0IG9mZnNldC5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IHJvb3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAqIEByZXR1cm4gez9vYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQocm9vdCwgb2Zmc2V0KSB7XG4gIHZhciBub2RlID0gZ2V0TGVhZk5vZGUocm9vdCk7XG4gIHZhciBub2RlU3RhcnQgPSAwO1xuICB2YXIgbm9kZUVuZCA9IDA7XG5cbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgbm9kZUVuZCA9IG5vZGVTdGFydCArIG5vZGUudGV4dENvbnRlbnQubGVuZ3RoO1xuXG4gICAgICBpZiAobm9kZVN0YXJ0IDw9IG9mZnNldCAmJiBub2RlRW5kID49IG9mZnNldCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgICAgb2Zmc2V0OiBvZmZzZXQgLSBub2RlU3RhcnRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgbm9kZVN0YXJ0ID0gbm9kZUVuZDtcbiAgICB9XG5cbiAgICBub2RlID0gZ2V0TGVhZk5vZGUoZ2V0U2libGluZ05vZGUobm9kZSkpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXJcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBET0NfTk9ERV9UWVBFID0gOTtcblxuLyoqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NRG9jdW1lbnR9IGNvbnRhaW5lciBET00gZWxlbWVudCB0aGF0IG1heSBjb250YWluXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIFJlYWN0IGNvbXBvbmVudFxuICogQHJldHVybiB7Pyp9IERPTSBlbGVtZW50IHRoYXQgbWF5IGhhdmUgdGhlIHJlYWN0Um9vdCBJRCwgb3IgbnVsbC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSkge1xuICAgIHJldHVybiBjb250YWluZXIuZG9jdW1lbnRFbGVtZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb250YWluZXIuZmlyc3RDaGlsZDtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRUZXh0Q29udGVudEFjY2Vzc29yXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi9FeGVjdXRpb25FbnZpcm9ubWVudFwiKTtcblxudmFyIGNvbnRlbnRLZXkgPSBudWxsO1xuXG4vKipcbiAqIEdldHMgdGhlIGtleSB1c2VkIHRvIGFjY2VzcyB0ZXh0IGNvbnRlbnQgb24gYSBET00gbm9kZS5cbiAqXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBLZXkgdXNlZCB0byBhY2Nlc3MgdGV4dCBjb250ZW50LlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGdldFRleHRDb250ZW50QWNjZXNzb3IoKSB7XG4gIGlmICghY29udGVudEtleSAmJiBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICAvLyBQcmVmZXIgdGV4dENvbnRlbnQgdG8gaW5uZXJUZXh0IGJlY2F1c2UgbWFueSBicm93c2VycyBzdXBwb3J0IGJvdGggYnV0XG4gICAgLy8gU1ZHIDx0ZXh0PiBlbGVtZW50cyBkb24ndCBzdXBwb3J0IGlubmVyVGV4dCBldmVuIHdoZW4gPGRpdj4gZG9lcy5cbiAgICBjb250ZW50S2V5ID0gJ3RleHRDb250ZW50JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgP1xuICAgICAgJ3RleHRDb250ZW50JyA6XG4gICAgICAnaW5uZXJUZXh0JztcbiAgfVxuICByZXR1cm4gY29udGVudEtleTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRUZXh0Q29udGVudEFjY2Vzc29yO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldFVuYm91bmRlZFNjcm9sbFBvc2l0aW9uXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEdldHMgdGhlIHNjcm9sbCBwb3NpdGlvbiBvZiB0aGUgc3VwcGxpZWQgZWxlbWVudCBvciB3aW5kb3cuXG4gKlxuICogVGhlIHJldHVybiB2YWx1ZXMgYXJlIHVuYm91bmRlZCwgdW5saWtlIGBnZXRTY3JvbGxQb3NpdGlvbmAuIFRoaXMgbWVhbnMgdGhleVxuICogbWF5IGJlIG5lZ2F0aXZlIG9yIGV4Y2VlZCB0aGUgZWxlbWVudCBib3VuZGFyaWVzICh3aGljaCBpcyBwb3NzaWJsZSB1c2luZ1xuICogaW5lcnRpYWwgc2Nyb2xsaW5nKS5cbiAqXG4gKiBAcGFyYW0ge0RPTVdpbmRvd3xET01FbGVtZW50fSBzY3JvbGxhYmxlXG4gKiBAcmV0dXJuIHtvYmplY3R9IE1hcCB3aXRoIGB4YCBhbmQgYHlgIGtleXMuXG4gKi9cbmZ1bmN0aW9uIGdldFVuYm91bmRlZFNjcm9sbFBvc2l0aW9uKHNjcm9sbGFibGUpIHtcbiAgaWYgKHNjcm9sbGFibGUgPT09IHdpbmRvdykge1xuICAgIHJldHVybiB7XG4gICAgICB4OiB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsXG4gICAgICB5OiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiBzY3JvbGxhYmxlLnNjcm9sbExlZnQsXG4gICAgeTogc2Nyb2xsYWJsZS5zY3JvbGxUb3BcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBoeXBoZW5hdGVcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIF91cHBlcmNhc2VQYXR0ZXJuID0gLyhbQS1aXSkvZztcblxuLyoqXG4gKiBIeXBoZW5hdGVzIGEgY2FtZWxjYXNlZCBzdHJpbmcsIGZvciBleGFtcGxlOlxuICpcbiAqICAgPiBoeXBoZW5hdGUoJ2JhY2tncm91bmRDb2xvcicpXG4gKiAgIDwgXCJiYWNrZ3JvdW5kLWNvbG9yXCJcbiAqXG4gKiBGb3IgQ1NTIHN0eWxlIG5hbWVzLCB1c2UgYGh5cGhlbmF0ZVN0eWxlTmFtZWAgaW5zdGVhZCB3aGljaCB3b3JrcyBwcm9wZXJseVxuICogd2l0aCBhbGwgdmVuZG9yIHByZWZpeGVzLCBpbmNsdWRpbmcgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGh5cGhlbmF0ZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKF91cHBlcmNhc2VQYXR0ZXJuLCAnLSQxJykudG9Mb3dlckNhc2UoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoeXBoZW5hdGU7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaHlwaGVuYXRlU3R5bGVOYW1lXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgaHlwaGVuYXRlID0gcmVxdWlyZShcIi4vaHlwaGVuYXRlXCIpO1xuXG52YXIgbXNQYXR0ZXJuID0gL15tcy0vO1xuXG4vKipcbiAqIEh5cGhlbmF0ZXMgYSBjYW1lbGNhc2VkIENTUyBwcm9wZXJ0eSBuYW1lLCBmb3IgZXhhbXBsZTpcbiAqXG4gKiAgID4gaHlwaGVuYXRlU3R5bGVOYW1lKCdiYWNrZ3JvdW5kQ29sb3InKVxuICogICA8IFwiYmFja2dyb3VuZC1jb2xvclwiXG4gKiAgID4gaHlwaGVuYXRlU3R5bGVOYW1lKCdNb3pUcmFuc2l0aW9uJylcbiAqICAgPCBcIi1tb3otdHJhbnNpdGlvblwiXG4gKiAgID4gaHlwaGVuYXRlU3R5bGVOYW1lKCdtc1RyYW5zaXRpb24nKVxuICogICA8IFwiLW1zLXRyYW5zaXRpb25cIlxuICpcbiAqIEFzIE1vZGVybml6ciBzdWdnZXN0cyAoaHR0cDovL21vZGVybml6ci5jb20vZG9jcy8jcHJlZml4ZWQpLCBhbiBgbXNgIHByZWZpeFxuICogaXMgY29udmVydGVkIHRvIGAtbXMtYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGh5cGhlbmF0ZVN0eWxlTmFtZShzdHJpbmcpIHtcbiAgcmV0dXJuIGh5cGhlbmF0ZShzdHJpbmcpLnJlcGxhY2UobXNQYXR0ZXJuLCAnLW1zLScpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGh5cGhlbmF0ZVN0eWxlTmFtZTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50ID0gcmVxdWlyZShcIi4vUmVhY3RDb21wb3NpdGVDb21wb25lbnRcIik7XG52YXIgUmVhY3RFbXB0eUNvbXBvbmVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RW1wdHlDb21wb25lbnRcIik7XG52YXIgUmVhY3ROYXRpdmVDb21wb25lbnQgPSByZXF1aXJlKFwiLi9SZWFjdE5hdGl2ZUNvbXBvbmVudFwiKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoXCIuL09iamVjdC5hc3NpZ25cIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKFwiLi93YXJuaW5nXCIpO1xuXG4vLyBUbyBhdm9pZCBhIGN5Y2xpYyBkZXBlbmRlbmN5LCB3ZSBjcmVhdGUgdGhlIGZpbmFsIGNsYXNzIGluIHRoaXMgbW9kdWxlXG52YXIgUmVhY3RDb21wb3NpdGVDb21wb25lbnRXcmFwcGVyID0gZnVuY3Rpb24oKSB7IH07XG5hc3NpZ24oXG4gIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50V3JhcHBlci5wcm90b3R5cGUsXG4gIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50Lk1peGluLFxuICB7XG4gICAgX2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQ6IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnRcbiAgfVxuKTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgdHlwZSByZWZlcmVuY2UgaXMgYSBrbm93biBpbnRlcm5hbCB0eXBlLiBJLmUuIG5vdCBhIHVzZXJcbiAqIHByb3ZpZGVkIGNvbXBvc2l0ZSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHR5cGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGlzIGlzIGEgdmFsaWQgaW50ZXJuYWwgdHlwZS5cbiAqL1xuZnVuY3Rpb24gaXNJbnRlcm5hbENvbXBvbmVudFR5cGUodHlwZSkge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIHR5cGUucHJvdG90eXBlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB0eXBlLnByb3RvdHlwZS5tb3VudENvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiB0eXBlLnByb3RvdHlwZS5yZWNlaXZlQ29tcG9uZW50ID09PSAnZnVuY3Rpb24nXG4gICk7XG59XG5cbi8qKlxuICogR2l2ZW4gYSBSZWFjdE5vZGUsIGNyZWF0ZSBhbiBpbnN0YW5jZSB0aGF0IHdpbGwgYWN0dWFsbHkgYmUgbW91bnRlZC5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0Tm9kZX0gbm9kZVxuICogQHBhcmFtIHsqfSBwYXJlbnRDb21wb3NpdGVUeXBlIFRoZSBjb21wb3NpdGUgdHlwZSB0aGF0IHJlc29sdmVkIHRoaXMuXG4gKiBAcmV0dXJuIHtvYmplY3R9IEEgbmV3IGluc3RhbmNlIG9mIHRoZSBlbGVtZW50J3MgY29uc3RydWN0b3IuXG4gKiBAcHJvdGVjdGVkXG4gKi9cbmZ1bmN0aW9uIGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQobm9kZSwgcGFyZW50Q29tcG9zaXRlVHlwZSkge1xuICB2YXIgaW5zdGFuY2U7XG5cbiAgaWYgKG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gZmFsc2UpIHtcbiAgICBub2RlID0gUmVhY3RFbXB0eUNvbXBvbmVudC5lbXB0eUVsZW1lbnQ7XG4gIH1cblxuICBpZiAodHlwZW9mIG5vZGUgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBub2RlO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICBlbGVtZW50ICYmICh0eXBlb2YgZWxlbWVudC50eXBlID09PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSxcbiAgICAgICAgJ09ubHkgZnVuY3Rpb25zIG9yIHN0cmluZ3MgY2FuIGJlIG1vdW50ZWQgYXMgUmVhY3QgY29tcG9uZW50cy4nXG4gICAgICApIDogbnVsbCk7XG4gICAgfVxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHN0cmluZyB2YWx1ZXNcbiAgICBpZiAocGFyZW50Q29tcG9zaXRlVHlwZSA9PT0gZWxlbWVudC50eXBlICYmXG4gICAgICAgIHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBBdm9pZCByZWN1cnNpb24gaWYgdGhlIHdyYXBwZXIgcmVuZGVycyBpdHNlbGYuXG4gICAgICBpbnN0YW5jZSA9IFJlYWN0TmF0aXZlQ29tcG9uZW50LmNyZWF0ZUludGVybmFsQ29tcG9uZW50KGVsZW1lbnQpO1xuICAgICAgLy8gQWxsIG5hdGl2ZSBjb21wb25lbnRzIGFyZSBjdXJyZW50bHkgd3JhcHBlZCBpbiBhIGNvbXBvc2l0ZSBzbyB3ZSdyZVxuICAgICAgLy8gc2FmZSB0byBhc3N1bWUgdGhhdCB0aGlzIGlzIHdoYXQgd2Ugc2hvdWxkIGluc3RhbnRpYXRlLlxuICAgIH0gZWxzZSBpZiAoaXNJbnRlcm5hbENvbXBvbmVudFR5cGUoZWxlbWVudC50eXBlKSkge1xuICAgICAgLy8gVGhpcyBpcyB0ZW1wb3JhcmlseSBhdmFpbGFibGUgZm9yIGN1c3RvbSBjb21wb25lbnRzIHRoYXQgYXJlIG5vdCBzdHJpbmdcbiAgICAgIC8vIHJlcHJlc2VuYXRpb25zLiBJLmUuIEFSVC4gT25jZSB0aG9zZSBhcmUgdXBkYXRlZCB0byB1c2UgdGhlIHN0cmluZ1xuICAgICAgLy8gcmVwcmVzZW50YXRpb24sIHdlIGNhbiBkcm9wIHRoaXMgY29kZSBwYXRoLlxuICAgICAgaW5zdGFuY2UgPSBuZXcgZWxlbWVudC50eXBlKGVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZSA9IG5ldyBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudFdyYXBwZXIoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBub2RlID09PSAnbnVtYmVyJykge1xuICAgIGluc3RhbmNlID0gUmVhY3ROYXRpdmVDb21wb25lbnQuY3JlYXRlSW5zdGFuY2VGb3JUZXh0KG5vZGUpO1xuICB9IGVsc2Uge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgICdFbmNvdW50ZXJlZCBpbnZhbGlkIFJlYWN0IG5vZGUgb2YgdHlwZSAlcycsXG4gICAgICB0eXBlb2Ygbm9kZVxuICAgICkgOiBpbnZhcmlhbnQoZmFsc2UpKTtcbiAgfVxuXG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybmluZyhcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb25zdHJ1Y3QgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS5tb3VudENvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdHlwZW9mIGluc3RhbmNlLnJlY2VpdmVDb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS51bm1vdW50Q29tcG9uZW50ID09PSAnZnVuY3Rpb24nLFxuICAgICAgJ09ubHkgUmVhY3QgQ29tcG9uZW50cyBjYW4gYmUgbW91bnRlZC4nXG4gICAgKSA6IG51bGwpO1xuICB9XG5cbiAgLy8gU2V0cyB1cCB0aGUgaW5zdGFuY2UuIFRoaXMgY2FuIHByb2JhYmx5IGp1c3QgbW92ZSBpbnRvIHRoZSBjb25zdHJ1Y3RvciBub3cuXG4gIGluc3RhbmNlLmNvbnN0cnVjdChub2RlKTtcblxuICAvLyBUaGVzZSB0d28gZmllbGRzIGFyZSB1c2VkIGJ5IHRoZSBET00gYW5kIEFSVCBkaWZmaW5nIGFsZ29yaXRobXNcbiAgLy8gcmVzcGVjdGl2ZWx5LiBJbnN0ZWFkIG9mIHVzaW5nIGV4cGFuZG9zIG9uIGNvbXBvbmVudHMsIHdlIHNob3VsZCBiZVxuICAvLyBzdG9yaW5nIHRoZSBzdGF0ZSBuZWVkZWQgYnkgdGhlIGRpZmZpbmcgYWxnb3JpdGhtcyBlbHNld2hlcmUuXG4gIGluc3RhbmNlLl9tb3VudEluZGV4ID0gMDtcbiAgaW5zdGFuY2UuX21vdW50SW1hZ2UgPSBudWxsO1xuXG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBpbnN0YW5jZS5faXNPd25lck5lY2Vzc2FyeSA9IGZhbHNlO1xuICAgIGluc3RhbmNlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IGZhbHNlO1xuICB9XG5cbiAgLy8gSW50ZXJuYWwgaW5zdGFuY2VzIHNob3VsZCBmdWxseSBjb25zdHJ1Y3RlZCBhdCB0aGlzIHBvaW50LCBzbyB0aGV5IHNob3VsZFxuICAvLyBub3QgZ2V0IGFueSBuZXcgZmllbGRzIGFkZGVkIHRvIHRoZW0gYXQgdGhpcyBwb2ludC5cbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIGlmIChPYmplY3QucHJldmVudEV4dGVuc2lvbnMpIHtcbiAgICAgIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyhpbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaW52YXJpYW50XG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ0ludmFyaWFudCBWaW9sYXRpb246ICcgK1xuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7IHJldHVybiBhcmdzW2FyZ0luZGV4KytdOyB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGlzRXZlbnRTdXBwb3J0ZWRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoXCIuL0V4ZWN1dGlvbkVudmlyb25tZW50XCIpO1xuXG52YXIgdXNlSGFzRmVhdHVyZTtcbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgdXNlSGFzRmVhdHVyZSA9XG4gICAgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24gJiZcbiAgICBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlICYmXG4gICAgLy8gYWx3YXlzIHJldHVybnMgdHJ1ZSBpbiBuZXdlciBicm93c2VycyBhcyBwZXIgdGhlIHN0YW5kYXJkLlxuICAgIC8vIEBzZWUgaHR0cDovL2RvbS5zcGVjLndoYXR3Zy5vcmcvI2RvbS1kb21pbXBsZW1lbnRhdGlvbi1oYXNmZWF0dXJlXG4gICAgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgnJywgJycpICE9PSB0cnVlO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhbiBldmVudCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgZXhlY3V0aW9uIGVudmlyb25tZW50LlxuICpcbiAqIE5PVEU6IFRoaXMgd2lsbCBub3Qgd29yayBjb3JyZWN0bHkgZm9yIG5vbi1nZW5lcmljIGV2ZW50cyBzdWNoIGFzIGBjaGFuZ2VgLFxuICogYHJlc2V0YCwgYGxvYWRgLCBgZXJyb3JgLCBhbmQgYHNlbGVjdGAuXG4gKlxuICogQm9ycm93cyBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lU3VmZml4IEV2ZW50IG5hbWUsIGUuZy4gXCJjbGlja1wiLlxuICogQHBhcmFtIHs/Ym9vbGVhbn0gY2FwdHVyZSBDaGVjayBpZiB0aGUgY2FwdHVyZSBwaGFzZSBpcyBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBzdXBwb3J0ZWQuXG4gKiBAaW50ZXJuYWxcbiAqIEBsaWNlbnNlIE1vZGVybml6ciAzLjAuMHByZSAoQ3VzdG9tIEJ1aWxkKSB8IE1JVFxuICovXG5mdW5jdGlvbiBpc0V2ZW50U3VwcG9ydGVkKGV2ZW50TmFtZVN1ZmZpeCwgY2FwdHVyZSkge1xuICBpZiAoIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSB8fFxuICAgICAgY2FwdHVyZSAmJiAhKCdhZGRFdmVudExpc3RlbmVyJyBpbiBkb2N1bWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgZXZlbnROYW1lID0gJ29uJyArIGV2ZW50TmFtZVN1ZmZpeDtcbiAgdmFyIGlzU3VwcG9ydGVkID0gZXZlbnROYW1lIGluIGRvY3VtZW50O1xuXG4gIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGV2ZW50TmFtZSwgJ3JldHVybjsnKTtcbiAgICBpc1N1cHBvcnRlZCA9IHR5cGVvZiBlbGVtZW50W2V2ZW50TmFtZV0gPT09ICdmdW5jdGlvbic7XG4gIH1cblxuICBpZiAoIWlzU3VwcG9ydGVkICYmIHVzZUhhc0ZlYXR1cmUgJiYgZXZlbnROYW1lU3VmZml4ID09PSAnd2hlZWwnKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgb25seSB3YXkgdG8gdGVzdCBzdXBwb3J0IGZvciB0aGUgYHdoZWVsYCBldmVudCBpbiBJRTkrLlxuICAgIGlzU3VwcG9ydGVkID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgnRXZlbnRzLndoZWVsJywgJzMuMCcpO1xuICB9XG5cbiAgcmV0dXJuIGlzU3VwcG9ydGVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRXZlbnRTdXBwb3J0ZWQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaXNOb2RlXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbi8qKlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBvYmplY3QgaXMgYSBET00gbm9kZS5cbiAqL1xuZnVuY3Rpb24gaXNOb2RlKG9iamVjdCkge1xuICByZXR1cm4gISEob2JqZWN0ICYmIChcbiAgICAoKHR5cGVvZiBOb2RlID09PSAnZnVuY3Rpb24nID8gb2JqZWN0IGluc3RhbmNlb2YgTm9kZSA6IHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIG9iamVjdC5ub2RlVHlwZSA9PT0gJ251bWJlcicgJiZcbiAgICB0eXBlb2Ygb2JqZWN0Lm5vZGVOYW1lID09PSAnc3RyaW5nJykpXG4gICkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTm9kZTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBpc1RleHRJbnB1dEVsZW1lbnRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHNlZSBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtaW5wdXQtZWxlbWVudC5odG1sI2lucHV0LXR5cGUtYXR0ci1zdW1tYXJ5XG4gKi9cbnZhciBzdXBwb3J0ZWRJbnB1dFR5cGVzID0ge1xuICAnY29sb3InOiB0cnVlLFxuICAnZGF0ZSc6IHRydWUsXG4gICdkYXRldGltZSc6IHRydWUsXG4gICdkYXRldGltZS1sb2NhbCc6IHRydWUsXG4gICdlbWFpbCc6IHRydWUsXG4gICdtb250aCc6IHRydWUsXG4gICdudW1iZXInOiB0cnVlLFxuICAncGFzc3dvcmQnOiB0cnVlLFxuICAncmFuZ2UnOiB0cnVlLFxuICAnc2VhcmNoJzogdHJ1ZSxcbiAgJ3RlbCc6IHRydWUsXG4gICd0ZXh0JzogdHJ1ZSxcbiAgJ3RpbWUnOiB0cnVlLFxuICAndXJsJzogdHJ1ZSxcbiAgJ3dlZWsnOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBpc1RleHRJbnB1dEVsZW1lbnQoZWxlbSkge1xuICByZXR1cm4gZWxlbSAmJiAoXG4gICAgKGVsZW0ubm9kZU5hbWUgPT09ICdJTlBVVCcgJiYgc3VwcG9ydGVkSW5wdXRUeXBlc1tlbGVtLnR5cGVdIHx8IGVsZW0ubm9kZU5hbWUgPT09ICdURVhUQVJFQScpXG4gICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNUZXh0SW5wdXRFbGVtZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGlzVGV4dE5vZGVcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIGlzTm9kZSA9IHJlcXVpcmUoXCIuL2lzTm9kZVwiKTtcblxuLyoqXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIG9iamVjdCBpcyBhIERPTSB0ZXh0IG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGlzVGV4dE5vZGUob2JqZWN0KSB7XG4gIHJldHVybiBpc05vZGUob2JqZWN0KSAmJiBvYmplY3Qubm9kZVR5cGUgPT0gMztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1RleHROb2RlO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGpvaW5DbGFzc2VzXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb21iaW5lcyBtdWx0aXBsZSBjbGFzc05hbWUgc3RyaW5ncyBpbnRvIG9uZS5cbiAqIGh0dHA6Ly9qc3BlcmYuY29tL2pvaW5jbGFzc2VzLWFyZ3MtdnMtYXJyYXlcbiAqXG4gKiBAcGFyYW0gey4uLj9zdHJpbmd9IGNsYXNzZXNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gam9pbkNsYXNzZXMoY2xhc3NOYW1lLyosIC4uLiAqLykge1xuICBpZiAoIWNsYXNzTmFtZSkge1xuICAgIGNsYXNzTmFtZSA9ICcnO1xuICB9XG4gIHZhciBuZXh0Q2xhc3M7XG4gIHZhciBhcmdMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAoYXJnTGVuZ3RoID4gMSkge1xuICAgIGZvciAodmFyIGlpID0gMTsgaWkgPCBhcmdMZW5ndGg7IGlpKyspIHtcbiAgICAgIG5leHRDbGFzcyA9IGFyZ3VtZW50c1tpaV07XG4gICAgICBpZiAobmV4dENsYXNzKSB7XG4gICAgICAgIGNsYXNzTmFtZSA9IChjbGFzc05hbWUgPyBjbGFzc05hbWUgKyAnICcgOiAnJykgKyBuZXh0Q2xhc3M7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjbGFzc05hbWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gam9pbkNsYXNzZXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUga2V5TWlycm9yXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGFuIGVudW1lcmF0aW9uIHdpdGgga2V5cyBlcXVhbCB0byB0aGVpciB2YWx1ZS5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgIHZhciBDT0xPUlMgPSBrZXlNaXJyb3Ioe2JsdWU6IG51bGwsIHJlZDogbnVsbH0pO1xuICogICB2YXIgbXlDb2xvciA9IENPTE9SUy5ibHVlO1xuICogICB2YXIgaXNDb2xvclZhbGlkID0gISFDT0xPUlNbbXlDb2xvcl07XG4gKlxuICogVGhlIGxhc3QgbGluZSBjb3VsZCBub3QgYmUgcGVyZm9ybWVkIGlmIHRoZSB2YWx1ZXMgb2YgdGhlIGdlbmVyYXRlZCBlbnVtIHdlcmVcbiAqIG5vdCBlcXVhbCB0byB0aGVpciBrZXlzLlxuICpcbiAqICAgSW5wdXQ6ICB7a2V5MTogdmFsMSwga2V5MjogdmFsMn1cbiAqICAgT3V0cHV0OiB7a2V5MToga2V5MSwga2V5Mjoga2V5Mn1cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbnZhciBrZXlNaXJyb3IgPSBmdW5jdGlvbihvYmopIHtcbiAgdmFyIHJldCA9IHt9O1xuICB2YXIga2V5O1xuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgIG9iaiBpbnN0YW5jZW9mIE9iamVjdCAmJiAhQXJyYXkuaXNBcnJheShvYmopLFxuICAgICdrZXlNaXJyb3IoLi4uKTogQXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuJ1xuICApIDogaW52YXJpYW50KG9iaiBpbnN0YW5jZW9mIE9iamVjdCAmJiAhQXJyYXkuaXNBcnJheShvYmopKSk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICByZXRba2V5XSA9IGtleTtcbiAgfVxuICByZXR1cm4gcmV0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlNaXJyb3I7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUga2V5T2ZcbiAqL1xuXG4vKipcbiAqIEFsbG93cyBleHRyYWN0aW9uIG9mIGEgbWluaWZpZWQga2V5LiBMZXQncyB0aGUgYnVpbGQgc3lzdGVtIG1pbmlmeSBrZXlzXG4gKiB3aXRob3V0IGxvb3NpbmcgdGhlIGFiaWxpdHkgdG8gZHluYW1pY2FsbHkgdXNlIGtleSBzdHJpbmdzIGFzIHZhbHVlc1xuICogdGhlbXNlbHZlcy4gUGFzcyBpbiBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBrZXkvdmFsIHBhaXIgYW5kIGl0IHdpbGwgcmV0dXJuXG4gKiB5b3UgdGhlIHN0cmluZyBrZXkgb2YgdGhhdCBzaW5nbGUgcmVjb3JkLiBTdXBwb3NlIHlvdSB3YW50IHRvIGdyYWIgdGhlXG4gKiB2YWx1ZSBmb3IgYSBrZXkgJ2NsYXNzTmFtZScgaW5zaWRlIG9mIGFuIG9iamVjdC4gS2V5L3ZhbCBtaW5pZmljYXRpb24gbWF5XG4gKiBoYXZlIGFsaWFzZWQgdGhhdCBrZXkgdG8gYmUgJ3hhMTInLiBrZXlPZih7Y2xhc3NOYW1lOiBudWxsfSkgd2lsbCByZXR1cm5cbiAqICd4YTEyJyBpbiB0aGF0IGNhc2UuIFJlc29sdmUga2V5cyB5b3Ugd2FudCB0byB1c2Ugb25jZSBhdCBzdGFydHVwIHRpbWUsIHRoZW5cbiAqIHJldXNlIHRob3NlIHJlc29sdXRpb25zLlxuICovXG52YXIga2V5T2YgPSBmdW5jdGlvbihvbmVLZXlPYmopIHtcbiAgdmFyIGtleTtcbiAgZm9yIChrZXkgaW4gb25lS2V5T2JqKSB7XG4gICAgaWYgKCFvbmVLZXlPYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0ga2V5T2Y7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgbWFwT2JqZWN0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBwcm92aWRlZCBgY2FsbGJhY2tgIG9uY2UgZm9yIGVhY2ggZW51bWVyYWJsZSBvd24gcHJvcGVydHkgaW4gdGhlXG4gKiBvYmplY3QgYW5kIGNvbnN0cnVjdHMgYSBuZXcgb2JqZWN0IGZyb20gdGhlIHJlc3VsdHMuIFRoZSBgY2FsbGJhY2tgIGlzXG4gKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICpcbiAqICAtIHRoZSBwcm9wZXJ0eSB2YWx1ZVxuICogIC0gdGhlIHByb3BlcnR5IG5hbWVcbiAqICAtIHRoZSBvYmplY3QgYmVpbmcgdHJhdmVyc2VkXG4gKlxuICogUHJvcGVydGllcyB0aGF0IGFyZSBhZGRlZCBhZnRlciB0aGUgY2FsbCB0byBgbWFwT2JqZWN0YCB3aWxsIG5vdCBiZSB2aXNpdGVkXG4gKiBieSBgY2FsbGJhY2tgLiBJZiB0aGUgdmFsdWVzIG9mIGV4aXN0aW5nIHByb3BlcnRpZXMgYXJlIGNoYW5nZWQsIHRoZSB2YWx1ZVxuICogcGFzc2VkIHRvIGBjYWxsYmFja2Agd2lsbCBiZSB0aGUgdmFsdWUgYXQgdGhlIHRpbWUgYG1hcE9iamVjdGAgdmlzaXRzIHRoZW0uXG4gKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGRlbGV0ZWQgYmVmb3JlIGJlaW5nIHZpc2l0ZWQgYXJlIG5vdCB2aXNpdGVkLlxuICpcbiAqIEBncmVwIGZ1bmN0aW9uIG9iamVjdE1hcCgpXG4gKiBAZ3JlcCBmdW5jdGlvbiBvYmpNYXAoKVxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHBhcmFtIHsqfSBjb250ZXh0XG4gKiBAcmV0dXJuIHs/b2JqZWN0fVxuICovXG5mdW5jdGlvbiBtYXBPYmplY3Qob2JqZWN0LCBjYWxsYmFjaywgY29udGV4dCkge1xuICBpZiAoIW9iamVjdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZm9yICh2YXIgbmFtZSBpbiBvYmplY3QpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIG5hbWUpKSB7XG4gICAgICByZXN1bHRbbmFtZV0gPSBjYWxsYmFjay5jYWxsKGNvbnRleHQsIG9iamVjdFtuYW1lXSwgbmFtZSwgb2JqZWN0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBPYmplY3Q7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgbWVtb2l6ZVN0cmluZ09ubHlcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1lbW9pemVzIHRoZSByZXR1cm4gdmFsdWUgb2YgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgb25lIHN0cmluZyBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7ZnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIG1lbW9pemVTdHJpbmdPbmx5KGNhbGxiYWNrKSB7XG4gIHZhciBjYWNoZSA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgaWYgKCFjYWNoZS5oYXNPd25Qcm9wZXJ0eShzdHJpbmcpKSB7XG4gICAgICBjYWNoZVtzdHJpbmddID0gY2FsbGJhY2suY2FsbCh0aGlzLCBzdHJpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVbc3RyaW5nXTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtZW1vaXplU3RyaW5nT25seTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBvbmx5Q2hpbGRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZShcIi4vUmVhY3RFbGVtZW50XCIpO1xuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZShcIi4vaW52YXJpYW50XCIpO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IGNoaWxkIGluIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiBhbmQgdmVyaWZpZXMgdGhhdCB0aGVyZVxuICogaXMgb25seSBvbmUgY2hpbGQgaW4gdGhlIGNvbGxlY3Rpb24uIFRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIHRoaXNcbiAqIGZ1bmN0aW9uIGFzc3VtZXMgdGhhdCBhIHNpbmdsZSBjaGlsZCBnZXRzIHBhc3NlZCB3aXRob3V0IGEgd3JhcHBlciwgYnV0IHRoZVxuICogcHVycG9zZSBvZiB0aGlzIGhlbHBlciBmdW5jdGlvbiBpcyB0byBhYnN0cmFjdCBhd2F5IHRoZSBwYXJ0aWN1bGFyIHN0cnVjdHVyZVxuICogb2YgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHs/b2JqZWN0fSBjaGlsZHJlbiBDaGlsZCBjb2xsZWN0aW9uIHN0cnVjdHVyZS5cbiAqIEByZXR1cm4ge1JlYWN0Q29tcG9uZW50fSBUaGUgZmlyc3QgYW5kIG9ubHkgYFJlYWN0Q29tcG9uZW50YCBjb250YWluZWQgaW4gdGhlXG4gKiBzdHJ1Y3R1cmUuXG4gKi9cbmZ1bmN0aW9uIG9ubHlDaGlsZChjaGlsZHJlbikge1xuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgIFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbiksXG4gICAgJ29ubHlDaGlsZCBtdXN0IGJlIHBhc3NlZCBhIGNoaWxkcmVuIHdpdGggZXhhY3RseSBvbmUgY2hpbGQuJ1xuICApIDogaW52YXJpYW50KFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpKTtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9ubHlDaGlsZDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBwZXJmb3JtYW5jZVxuICogQHR5cGVjaGVja3NcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZShcIi4vRXhlY3V0aW9uRW52aXJvbm1lbnRcIik7XG5cbnZhciBwZXJmb3JtYW5jZTtcblxuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICBwZXJmb3JtYW5jZSA9XG4gICAgd2luZG93LnBlcmZvcm1hbmNlIHx8XG4gICAgd2luZG93Lm1zUGVyZm9ybWFuY2UgfHxcbiAgICB3aW5kb3cud2Via2l0UGVyZm9ybWFuY2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGVyZm9ybWFuY2UgfHwge307XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgcGVyZm9ybWFuY2VOb3dcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIHBlcmZvcm1hbmNlID0gcmVxdWlyZShcIi4vcGVyZm9ybWFuY2VcIik7XG5cbi8qKlxuICogRGV0ZWN0IGlmIHdlIGNhbiB1c2UgYHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKWAgYW5kIGdyYWNlZnVsbHkgZmFsbGJhY2sgdG9cbiAqIGBEYXRlLm5vdygpYCBpZiBpdCBkb2Vzbid0IGV4aXN0LiBXZSBuZWVkIHRvIHN1cHBvcnQgRmlyZWZveCA8IDE1IGZvciBub3dcbiAqIGJlY2F1c2Ugb2YgRmFjZWJvb2sncyB0ZXN0aW5nIGluZnJhc3RydWN0dXJlLlxuICovXG5pZiAoIXBlcmZvcm1hbmNlIHx8ICFwZXJmb3JtYW5jZS5ub3cpIHtcbiAgcGVyZm9ybWFuY2UgPSBEYXRlO1xufVxuXG52YXIgcGVyZm9ybWFuY2VOb3cgPSBwZXJmb3JtYW5jZS5ub3cuYmluZChwZXJmb3JtYW5jZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGVyZm9ybWFuY2VOb3c7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXJcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIgPSByZXF1aXJlKFwiLi9lc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXJcIik7XG5cbi8qKlxuICogRXNjYXBlcyBhdHRyaWJ1dGUgdmFsdWUgdG8gcHJldmVudCBzY3JpcHRpbmcgYXR0YWNrcy5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIGVzY2FwZS5cbiAqIEByZXR1cm4ge3N0cmluZ30gQW4gZXNjYXBlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHF1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyKHZhbHVlKSB7XG4gIHJldHVybiAnXCInICsgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyKHZhbHVlKSArICdcIic7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXI7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgc2V0SW5uZXJIVE1MXG4gKi9cblxuLyogZ2xvYmFscyBNU0FwcCAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoXCIuL0V4ZWN1dGlvbkVudmlyb25tZW50XCIpO1xuXG52YXIgV0hJVEVTUEFDRV9URVNUID0gL15bIFxcclxcblxcdFxcZl0vO1xudmFyIE5PTlZJU0lCTEVfVEVTVCA9IC88KCEtLXxsaW5rfG5vc2NyaXB0fG1ldGF8c2NyaXB0fHN0eWxlKVsgXFxyXFxuXFx0XFxmXFwvPl0vO1xuXG4vKipcbiAqIFNldCB0aGUgaW5uZXJIVE1MIHByb3BlcnR5IG9mIGEgbm9kZSwgZW5zdXJpbmcgdGhhdCB3aGl0ZXNwYWNlIGlzIHByZXNlcnZlZFxuICogZXZlbiBpbiBJRTguXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuICogQGludGVybmFsXG4gKi9cbnZhciBzZXRJbm5lckhUTUwgPSBmdW5jdGlvbihub2RlLCBodG1sKSB7XG4gIG5vZGUuaW5uZXJIVE1MID0gaHRtbDtcbn07XG5cbi8vIFdpbjggYXBwczogQWxsb3cgYWxsIGh0bWwgdG8gYmUgaW5zZXJ0ZWRcbmlmICh0eXBlb2YgTVNBcHAgIT09ICd1bmRlZmluZWQnICYmIE1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKSB7XG4gIHNldElubmVySFRNTCA9IGZ1bmN0aW9uKG5vZGUsIGh0bWwpIHtcbiAgICBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIG5vZGUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICB9KTtcbiAgfTtcbn1cblxuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAvLyBJRTg6IFdoZW4gdXBkYXRpbmcgYSBqdXN0IGNyZWF0ZWQgbm9kZSB3aXRoIGlubmVySFRNTCBvbmx5IGxlYWRpbmdcbiAgLy8gd2hpdGVzcGFjZSBpcyByZW1vdmVkLiBXaGVuIHVwZGF0aW5nIGFuIGV4aXN0aW5nIG5vZGUgd2l0aCBpbm5lckhUTUxcbiAgLy8gd2hpdGVzcGFjZSBpbiByb290IFRleHROb2RlcyBpcyBhbHNvIGNvbGxhcHNlZC5cbiAgLy8gQHNlZSBxdWlya3Ntb2RlLm9yZy9idWdyZXBvcnRzL2FyY2hpdmVzLzIwMDQvMTEvaW5uZXJodG1sX2FuZF90Lmh0bWxcblxuICAvLyBGZWF0dXJlIGRldGVjdGlvbjsgb25seSBJRTggaXMga25vd24gdG8gYmVoYXZlIGltcHJvcGVybHkgbGlrZSB0aGlzLlxuICB2YXIgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGVzdEVsZW1lbnQuaW5uZXJIVE1MID0gJyAnO1xuICBpZiAodGVzdEVsZW1lbnQuaW5uZXJIVE1MID09PSAnJykge1xuICAgIHNldElubmVySFRNTCA9IGZ1bmN0aW9uKG5vZGUsIGh0bWwpIHtcbiAgICAgIC8vIE1hZ2ljIHRoZW9yeTogSUU4IHN1cHBvc2VkbHkgZGlmZmVyZW50aWF0ZXMgYmV0d2VlbiBhZGRlZCBhbmQgdXBkYXRlZFxuICAgICAgLy8gbm9kZXMgd2hlbiBwcm9jZXNzaW5nIGlubmVySFRNTCwgaW5uZXJIVE1MIG9uIHVwZGF0ZWQgbm9kZXMgc3VmZmVyc1xuICAgICAgLy8gZnJvbSB3b3JzZSB3aGl0ZXNwYWNlIGJlaGF2aW9yLiBSZS1hZGRpbmcgYSBub2RlIGxpa2UgdGhpcyB0cmlnZ2Vyc1xuICAgICAgLy8gdGhlIGluaXRpYWwgYW5kIG1vcmUgZmF2b3JhYmxlIHdoaXRlc3BhY2UgYmVoYXZpb3IuXG4gICAgICAvLyBUT0RPOiBXaGF0IHRvIGRvIG9uIGEgZGV0YWNoZWQgbm9kZT9cbiAgICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChub2RlLCBub2RlKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2UgYWxzbyBpbXBsZW1lbnQgYSB3b3JrYXJvdW5kIGZvciBub24tdmlzaWJsZSB0YWdzIGRpc2FwcGVhcmluZyBpbnRvXG4gICAgICAvLyB0aGluIGFpciBvbiBJRTgsIHRoaXMgb25seSBoYXBwZW5zIGlmIHRoZXJlIGlzIG5vIHZpc2libGUgdGV4dFxuICAgICAgLy8gaW4tZnJvbnQgb2YgdGhlIG5vbi12aXNpYmxlIHRhZ3MuIFBpZ2d5YmFjayBvbiB0aGUgd2hpdGVzcGFjZSBmaXhcbiAgICAgIC8vIGFuZCBzaW1wbHkgY2hlY2sgaWYgYW55IG5vbi12aXNpYmxlIHRhZ3MgYXBwZWFyIGluIHRoZSBzb3VyY2UuXG4gICAgICBpZiAoV0hJVEVTUEFDRV9URVNULnRlc3QoaHRtbCkgfHxcbiAgICAgICAgICBodG1sWzBdID09PSAnPCcgJiYgTk9OVklTSUJMRV9URVNULnRlc3QoaHRtbCkpIHtcbiAgICAgICAgLy8gUmVjb3ZlciBsZWFkaW5nIHdoaXRlc3BhY2UgYnkgdGVtcG9yYXJpbHkgcHJlcGVuZGluZyBhbnkgY2hhcmFjdGVyLlxuICAgICAgICAvLyBcXHVGRUZGIGhhcyB0aGUgcG90ZW50aWFsIGFkdmFudGFnZSBvZiBiZWluZyB6ZXJvLXdpZHRoL2ludmlzaWJsZS5cbiAgICAgICAgbm9kZS5pbm5lckhUTUwgPSAnXFx1RkVGRicgKyBodG1sO1xuXG4gICAgICAgIC8vIGRlbGV0ZURhdGEgbGVhdmVzIGFuIGVtcHR5IGBUZXh0Tm9kZWAgd2hpY2ggb2Zmc2V0cyB0aGUgaW5kZXggb2YgYWxsXG4gICAgICAgIC8vIGNoaWxkcmVuLiBEZWZpbml0ZWx5IHdhbnQgdG8gYXZvaWQgdGhpcy5cbiAgICAgICAgdmFyIHRleHROb2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICBpZiAodGV4dE5vZGUuZGF0YS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBub2RlLnJlbW92ZUNoaWxkKHRleHROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0Tm9kZS5kZWxldGVEYXRhKDAsIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldElubmVySFRNTDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBzZXRUZXh0Q29udGVudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZShcIi4vRXhlY3V0aW9uRW52aXJvbm1lbnRcIik7XG52YXIgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyID0gcmVxdWlyZShcIi4vZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyXCIpO1xudmFyIHNldElubmVySFRNTCA9IHJlcXVpcmUoXCIuL3NldElubmVySFRNTFwiKTtcblxuLyoqXG4gKiBTZXQgdGhlIHRleHRDb250ZW50IHByb3BlcnR5IG9mIGEgbm9kZSwgZW5zdXJpbmcgdGhhdCB3aGl0ZXNwYWNlIGlzIHByZXNlcnZlZFxuICogZXZlbiBpbiBJRTguIGlubmVyVGV4dCBpcyBhIHBvb3Igc3Vic3RpdHV0ZSBmb3IgdGV4dENvbnRlbnQgYW5kLCBhbW9uZyBtYW55XG4gKiBpc3N1ZXMsIGluc2VydHMgPGJyPiBpbnN0ZWFkIG9mIHRoZSBsaXRlcmFsIG5ld2xpbmUgY2hhcnMuIGlubmVySFRNTCBiZWhhdmVzXG4gKiBhcyBpdCBzaG91bGQuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQGludGVybmFsXG4gKi9cbnZhciBzZXRUZXh0Q29udGVudCA9IGZ1bmN0aW9uKG5vZGUsIHRleHQpIHtcbiAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG59O1xuXG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIGlmICghKCd0ZXh0Q29udGVudCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSkge1xuICAgIHNldFRleHRDb250ZW50ID0gZnVuY3Rpb24obm9kZSwgdGV4dCkge1xuICAgICAgc2V0SW5uZXJIVE1MKG5vZGUsIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3Nlcih0ZXh0KSk7XG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldFRleHRDb250ZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIHNoYWxsb3dFcXVhbFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBQZXJmb3JtcyBlcXVhbGl0eSBieSBpdGVyYXRpbmcgdGhyb3VnaCBrZXlzIG9uIGFuIG9iamVjdCBhbmQgcmV0dXJuaW5nXG4gKiBmYWxzZSB3aGVuIGFueSBrZXkgaGFzIHZhbHVlcyB3aGljaCBhcmUgbm90IHN0cmljdGx5IGVxdWFsIGJldHdlZW5cbiAqIG9iakEgYW5kIG9iakIuIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSB2YWx1ZXMgb2YgYWxsIGtleXMgYXJlIHN0cmljdGx5IGVxdWFsLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChvYmpBID09PSBvYmpCKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIGtleTtcbiAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgZm9yIChrZXkgaW4gb2JqQSkge1xuICAgIGlmIChvYmpBLmhhc093blByb3BlcnR5KGtleSkgJiZcbiAgICAgICAgKCFvYmpCLmhhc093blByb3BlcnR5KGtleSkgfHwgb2JqQVtrZXldICE9PSBvYmpCW2tleV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIFRlc3QgZm9yIEIncyBrZXlzIG1pc3NpbmcgZnJvbSBBLlxuICBmb3IgKGtleSBpbiBvYmpCKSB7XG4gICAgaWYgKG9iakIuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhb2JqQS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoYWxsb3dFcXVhbDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciB3YXJuaW5nID0gcmVxdWlyZShcIi4vd2FybmluZ1wiKTtcblxuLyoqXG4gKiBHaXZlbiBhIGBwcmV2RWxlbWVudGAgYW5kIGBuZXh0RWxlbWVudGAsIGRldGVybWluZXMgaWYgdGhlIGV4aXN0aW5nXG4gKiBpbnN0YW5jZSBzaG91bGQgYmUgdXBkYXRlZCBhcyBvcHBvc2VkIHRvIGJlaW5nIGRlc3Ryb3llZCBvciByZXBsYWNlZCBieSBhIG5ld1xuICogaW5zdGFuY2UuIEJvdGggYXJndW1lbnRzIGFyZSBlbGVtZW50cy4gVGhpcyBlbnN1cmVzIHRoYXQgdGhpcyBsb2dpYyBjYW5cbiAqIG9wZXJhdGUgb24gc3RhdGVsZXNzIHRyZWVzIHdpdGhvdXQgYW55IGJhY2tpbmcgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHs/b2JqZWN0fSBwcmV2RWxlbWVudFxuICogQHBhcmFtIHs/b2JqZWN0fSBuZXh0RWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXhpc3RpbmcgaW5zdGFuY2Ugc2hvdWxkIGJlIHVwZGF0ZWQuXG4gKiBAcHJvdGVjdGVkXG4gKi9cbmZ1bmN0aW9uIHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50KHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCkge1xuICBpZiAocHJldkVsZW1lbnQgIT0gbnVsbCAmJiBuZXh0RWxlbWVudCAhPSBudWxsKSB7XG4gICAgdmFyIHByZXZUeXBlID0gdHlwZW9mIHByZXZFbGVtZW50O1xuICAgIHZhciBuZXh0VHlwZSA9IHR5cGVvZiBuZXh0RWxlbWVudDtcbiAgICBpZiAocHJldlR5cGUgPT09ICdzdHJpbmcnIHx8IHByZXZUeXBlID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIChuZXh0VHlwZSA9PT0gJ3N0cmluZycgfHwgbmV4dFR5cGUgPT09ICdudW1iZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5leHRUeXBlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgIHByZXZFbGVtZW50LnR5cGUgPT09IG5leHRFbGVtZW50LnR5cGUgJiZcbiAgICAgICAgICBwcmV2RWxlbWVudC5rZXkgPT09IG5leHRFbGVtZW50LmtleSkge1xuICAgICAgICB2YXIgb3duZXJzTWF0Y2ggPSBwcmV2RWxlbWVudC5fb3duZXIgPT09IG5leHRFbGVtZW50Ll9vd25lcjtcbiAgICAgICAgdmFyIHByZXZOYW1lID0gbnVsbDtcbiAgICAgICAgdmFyIG5leHROYW1lID0gbnVsbDtcbiAgICAgICAgdmFyIG5leHREaXNwbGF5TmFtZSA9IG51bGw7XG4gICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgICBpZiAoIW93bmVyc01hdGNoKSB7XG4gICAgICAgICAgICBpZiAocHJldkVsZW1lbnQuX293bmVyICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBwcmV2RWxlbWVudC5fb3duZXIuZ2V0UHVibGljSW5zdGFuY2UoKSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgcHJldkVsZW1lbnQuX293bmVyLmdldFB1YmxpY0luc3RhbmNlKCkuY29uc3RydWN0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBwcmV2TmFtZSA9XG4gICAgICAgICAgICAgICAgcHJldkVsZW1lbnQuX293bmVyLmdldFB1YmxpY0luc3RhbmNlKCkuY29uc3RydWN0b3IuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dEVsZW1lbnQuX293bmVyICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBuZXh0RWxlbWVudC5fb3duZXIuZ2V0UHVibGljSW5zdGFuY2UoKSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgbmV4dEVsZW1lbnQuX293bmVyLmdldFB1YmxpY0luc3RhbmNlKCkuY29uc3RydWN0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBuZXh0TmFtZSA9XG4gICAgICAgICAgICAgICAgbmV4dEVsZW1lbnQuX293bmVyLmdldFB1YmxpY0luc3RhbmNlKCkuY29uc3RydWN0b3IuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dEVsZW1lbnQudHlwZSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgbmV4dEVsZW1lbnQudHlwZS5kaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIG5leHREaXNwbGF5TmFtZSA9IG5leHRFbGVtZW50LnR5cGUuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dEVsZW1lbnQudHlwZSAhPSBudWxsICYmIHR5cGVvZiBuZXh0RWxlbWVudC50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBuZXh0RGlzcGxheU5hbWUgPSBuZXh0RWxlbWVudC50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXh0RWxlbWVudC50eXBlICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgICAgIG5leHRFbGVtZW50LnR5cGUgPT09ICdpbnB1dCcgfHxcbiAgICAgICAgICAgICAgICBuZXh0RWxlbWVudC50eXBlID09PSAndGV4dGFyZWEnKSB7XG4gICAgICAgICAgICAgIGlmICgocHJldkVsZW1lbnQuX293bmVyICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgIHByZXZFbGVtZW50Ll9vd25lci5faXNPd25lck5lY2Vzc2FyeSA9PT0gZmFsc2UpIHx8XG4gICAgICAgICAgICAgICAgICAobmV4dEVsZW1lbnQuX293bmVyICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgIG5leHRFbGVtZW50Ll9vd25lci5faXNPd25lck5lY2Vzc2FyeSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZFbGVtZW50Ll9vd25lciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBwcmV2RWxlbWVudC5fb3duZXIuX2lzT3duZXJOZWNlc3NhcnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV4dEVsZW1lbnQuX293bmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIG5leHRFbGVtZW50Ll9vd25lci5faXNPd25lck5lY2Vzc2FyeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAnPCVzIC8+IGlzIGJlaW5nIHJlbmRlcmVkIGJ5IGJvdGggJXMgYW5kICVzIHVzaW5nIHRoZSBzYW1lICcgK1xuICAgICAgICAgICAgICAgICAgJ2tleSAoJXMpIGluIHRoZSBzYW1lIHBsYWNlLiBDdXJyZW50bHksIHRoaXMgbWVhbnMgdGhhdCAnICtcbiAgICAgICAgICAgICAgICAgICd0aGV5IGRvblxcJ3QgcHJlc2VydmUgc3RhdGUuIFRoaXMgYmVoYXZpb3Igc2hvdWxkIGJlIHZlcnkgJyArXG4gICAgICAgICAgICAgICAgICAncmFyZSBzbyB3ZVxcJ3JlIGNvbnNpZGVyaW5nIGRlcHJlY2F0aW5nIGl0LiBQbGVhc2UgY29udGFjdCAnICtcbiAgICAgICAgICAgICAgICAgICd0aGUgUmVhY3QgdGVhbSBhbmQgZXhwbGFpbiB5b3VyIHVzZSBjYXNlIHNvIHRoYXQgd2UgY2FuICcgK1xuICAgICAgICAgICAgICAgICAgJ3Rha2UgdGhhdCBpbnRvIGNvbnNpZGVyYXRpb24uJyxcbiAgICAgICAgICAgICAgICAgIG5leHREaXNwbGF5TmFtZSB8fCAnVW5rbm93biBDb21wb25lbnQnLFxuICAgICAgICAgICAgICAgICAgcHJldk5hbWUgfHwgJ1tVbmtub3duXScsXG4gICAgICAgICAgICAgICAgICBuZXh0TmFtZSB8fCAnW1Vua25vd25dJyxcbiAgICAgICAgICAgICAgICAgIHByZXZFbGVtZW50LmtleVxuICAgICAgICAgICAgICAgICkgOiBudWxsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3duZXJzTWF0Y2g7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSB0b0FycmF5XG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG5cbi8qKlxuICogQ29udmVydCBhcnJheS1saWtlIG9iamVjdHMgdG8gYXJyYXlzLlxuICpcbiAqIFRoaXMgQVBJIGFzc3VtZXMgdGhlIGNhbGxlciBrbm93cyB0aGUgY29udGVudHMgb2YgdGhlIGRhdGEgdHlwZS4gRm9yIGxlc3NcbiAqIHdlbGwgZGVmaW5lZCBpbnB1dHMgdXNlIGNyZWF0ZUFycmF5RnJvbU1peGVkLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fGZ1bmN0aW9ufGZpbGVsaXN0fSBvYmpcbiAqIEByZXR1cm4ge2FycmF5fVxuICovXG5mdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICB2YXIgbGVuZ3RoID0gb2JqLmxlbmd0aDtcblxuICAvLyBTb21lIGJyb3dzZSBidWlsdGluIG9iamVjdHMgY2FuIHJlcG9ydCB0eXBlb2YgJ2Z1bmN0aW9uJyAoZS5nLiBOb2RlTGlzdCBpblxuICAvLyBvbGQgdmVyc2lvbnMgb2YgU2FmYXJpKS5cbiAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAhQXJyYXkuaXNBcnJheShvYmopICYmXG4gICAgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnIHx8IHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpLFxuICAgICd0b0FycmF5OiBBcnJheS1saWtlIG9iamVjdCBleHBlY3RlZCdcbiAgKSA6IGludmFyaWFudCghQXJyYXkuaXNBcnJheShvYmopICYmXG4gICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSkpO1xuXG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgdHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicsXG4gICAgJ3RvQXJyYXk6IE9iamVjdCBuZWVkcyBhIGxlbmd0aCBwcm9wZXJ0eSdcbiAgKSA6IGludmFyaWFudCh0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJykpO1xuXG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgbGVuZ3RoID09PSAwIHx8XG4gICAgKGxlbmd0aCAtIDEpIGluIG9iaixcbiAgICAndG9BcnJheTogT2JqZWN0IHNob3VsZCBoYXZlIGtleXMgZm9yIGluZGljZXMnXG4gICkgOiBpbnZhcmlhbnQobGVuZ3RoID09PSAwIHx8XG4gIChsZW5ndGggLSAxKSBpbiBvYmopKTtcblxuICAvLyBPbGQgSUUgZG9lc24ndCBnaXZlIGNvbGxlY3Rpb25zIGFjY2VzcyB0byBoYXNPd25Qcm9wZXJ0eS4gQXNzdW1lIGlucHV0c1xuICAvLyB3aXRob3V0IG1ldGhvZCB3aWxsIHRocm93IGR1cmluZyB0aGUgc2xpY2UgY2FsbCBhbmQgc2tpcCBzdHJhaWdodCB0byB0aGVcbiAgLy8gZmFsbGJhY2suXG4gIGlmIChvYmouaGFzT3duUHJvcGVydHkpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSUUgPCA5IGRvZXMgbm90IHN1cHBvcnQgQXJyYXkjc2xpY2Ugb24gY29sbGVjdGlvbnMgb2JqZWN0c1xuICAgIH1cbiAgfVxuXG4gIC8vIEZhbGwgYmFjayB0byBjb3B5aW5nIGtleSBieSBrZXkuIFRoaXMgYXNzdW1lcyBhbGwga2V5cyBoYXZlIGEgdmFsdWUsXG4gIC8vIHNvIHdpbGwgbm90IHByZXNlcnZlIHNwYXJzZWx5IHBvcHVsYXRlZCBpbnB1dHMuXG4gIHZhciByZXQgPSBBcnJheShsZW5ndGgpO1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbGVuZ3RoOyBpaSsrKSB7XG4gICAgcmV0W2lpXSA9IG9ialtpaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b0FycmF5O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIHRyYXZlcnNlQWxsQ2hpbGRyZW5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKFwiLi9SZWFjdEVsZW1lbnRcIik7XG52YXIgUmVhY3RGcmFnbWVudCA9IHJlcXVpcmUoXCIuL1JlYWN0RnJhZ21lbnRcIik7XG52YXIgUmVhY3RJbnN0YW5jZUhhbmRsZXMgPSByZXF1aXJlKFwiLi9SZWFjdEluc3RhbmNlSGFuZGxlc1wiKTtcblxudmFyIGdldEl0ZXJhdG9yRm4gPSByZXF1aXJlKFwiLi9nZXRJdGVyYXRvckZuXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCIuL2ludmFyaWFudFwiKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZShcIi4vd2FybmluZ1wiKTtcblxudmFyIFNFUEFSQVRPUiA9IFJlYWN0SW5zdGFuY2VIYW5kbGVzLlNFUEFSQVRPUjtcbnZhciBTVUJTRVBBUkFUT1IgPSAnOic7XG5cbi8qKlxuICogVE9ETzogVGVzdCB0aGF0IGEgc2luZ2xlIGNoaWxkIGFuZCBhbiBhcnJheSB3aXRoIG9uZSBpdGVtIGhhdmUgdGhlIHNhbWUga2V5XG4gKiBwYXR0ZXJuLlxuICovXG5cbnZhciB1c2VyUHJvdmlkZWRLZXlFc2NhcGVyTG9va3VwID0ge1xuICAnPSc6ICc9MCcsXG4gICcuJzogJz0xJyxcbiAgJzonOiAnPTInXG59O1xuXG52YXIgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXggPSAvWz0uOl0vZztcblxudmFyIGRpZFdhcm5BYm91dE1hcHMgPSBmYWxzZTtcblxuZnVuY3Rpb24gdXNlclByb3ZpZGVkS2V5RXNjYXBlcihtYXRjaCkge1xuICByZXR1cm4gdXNlclByb3ZpZGVkS2V5RXNjYXBlckxvb2t1cFttYXRjaF07XG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSBrZXkgc3RyaW5nIHRoYXQgaWRlbnRpZmllcyBhIGNvbXBvbmVudCB3aXRoaW4gYSBzZXQuXG4gKlxuICogQHBhcmFtIHsqfSBjb21wb25lbnQgQSBjb21wb25lbnQgdGhhdCBjb3VsZCBjb250YWluIGEgbWFudWFsIGtleS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleCB0aGF0IGlzIHVzZWQgaWYgYSBtYW51YWwga2V5IGlzIG5vdCBwcm92aWRlZC5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50S2V5KGNvbXBvbmVudCwgaW5kZXgpIHtcbiAgaWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnQua2V5ICE9IG51bGwpIHtcbiAgICAvLyBFeHBsaWNpdCBrZXlcbiAgICByZXR1cm4gd3JhcFVzZXJQcm92aWRlZEtleShjb21wb25lbnQua2V5KTtcbiAgfVxuICAvLyBJbXBsaWNpdCBrZXkgZGV0ZXJtaW5lZCBieSB0aGUgaW5kZXggaW4gdGhlIHNldFxuICByZXR1cm4gaW5kZXgudG9TdHJpbmcoMzYpO1xufVxuXG4vKipcbiAqIEVzY2FwZSBhIGNvbXBvbmVudCBrZXkgc28gdGhhdCBpdCBpcyBzYWZlIHRvIHVzZSBpbiBhIHJlYWN0aWQuXG4gKlxuICogQHBhcmFtIHsqfSBrZXkgQ29tcG9uZW50IGtleSB0byBiZSBlc2NhcGVkLlxuICogQHJldHVybiB7c3RyaW5nfSBBbiBlc2NhcGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlVXNlclByb3ZpZGVkS2V5KHRleHQpIHtcbiAgcmV0dXJuICgnJyArIHRleHQpLnJlcGxhY2UoXG4gICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsXG4gICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlclxuICApO1xufVxuXG4vKipcbiAqIFdyYXAgYSBga2V5YCB2YWx1ZSBleHBsaWNpdGx5IHByb3ZpZGVkIGJ5IHRoZSB1c2VyIHRvIGRpc3Rpbmd1aXNoIGl0IGZyb21cbiAqIGltcGxpY2l0bHktZ2VuZXJhdGVkIGtleXMgZ2VuZXJhdGVkIGJ5IGEgY29tcG9uZW50J3MgaW5kZXggaW4gaXRzIHBhcmVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFZhbHVlIG9mIGEgdXNlci1wcm92aWRlZCBga2V5YCBhdHRyaWJ1dGVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gd3JhcFVzZXJQcm92aWRlZEtleShrZXkpIHtcbiAgcmV0dXJuICckJyArIGVzY2FwZVVzZXJQcm92aWRlZEtleShrZXkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHBhcmFtIHshc3RyaW5nfSBuYW1lU29GYXIgTmFtZSBvZiB0aGUga2V5IHBhdGggc28gZmFyLlxuICogQHBhcmFtIHshbnVtYmVyfSBpbmRleFNvRmFyIE51bWJlciBvZiBjaGlsZHJlbiBlbmNvdW50ZXJlZCB1bnRpbCB0aGlzIHBvaW50LlxuICogQHBhcmFtIHshZnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aXRoIGVhY2ggY2hpbGQgZm91bmQuXG4gKiBAcGFyYW0gez8qfSB0cmF2ZXJzZUNvbnRleHQgVXNlZCB0byBwYXNzIGluZm9ybWF0aW9uIHRocm91Z2hvdXQgdGhlIHRyYXZlcnNhbFxuICogcHJvY2Vzcy5cbiAqIEByZXR1cm4geyFudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4gaW4gdGhpcyBzdWJ0cmVlLlxuICovXG5mdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChcbiAgY2hpbGRyZW4sXG4gIG5hbWVTb0ZhcixcbiAgaW5kZXhTb0ZhcixcbiAgY2FsbGJhY2ssXG4gIHRyYXZlcnNlQ29udGV4dFxuKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkcmVuO1xuXG4gIGlmICh0eXBlID09PSAndW5kZWZpbmVkJyB8fCB0eXBlID09PSAnYm9vbGVhbicpIHtcbiAgICAvLyBBbGwgb2YgdGhlIGFib3ZlIGFyZSBwZXJjZWl2ZWQgYXMgbnVsbC5cbiAgICBjaGlsZHJlbiA9IG51bGw7XG4gIH1cblxuICBpZiAoY2hpbGRyZW4gPT09IG51bGwgfHxcbiAgICAgIHR5cGUgPT09ICdzdHJpbmcnIHx8XG4gICAgICB0eXBlID09PSAnbnVtYmVyJyB8fFxuICAgICAgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgIGNhbGxiYWNrKFxuICAgICAgdHJhdmVyc2VDb250ZXh0LFxuICAgICAgY2hpbGRyZW4sXG4gICAgICAvLyBJZiBpdCdzIHRoZSBvbmx5IGNoaWxkLCB0cmVhdCB0aGUgbmFtZSBhcyBpZiBpdCB3YXMgd3JhcHBlZCBpbiBhbiBhcnJheVxuICAgICAgLy8gc28gdGhhdCBpdCdzIGNvbnNpc3RlbnQgaWYgdGhlIG51bWJlciBvZiBjaGlsZHJlbiBncm93cy5cbiAgICAgIG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgKyBnZXRDb21wb25lbnRLZXkoY2hpbGRyZW4sIDApIDogbmFtZVNvRmFyLFxuICAgICAgaW5kZXhTb0ZhclxuICAgICk7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICB2YXIgY2hpbGQsIG5leHROYW1lLCBuZXh0SW5kZXg7XG4gIHZhciBzdWJ0cmVlQ291bnQgPSAwOyAvLyBDb3VudCBvZiBjaGlsZHJlbiBmb3VuZCBpbiB0aGUgY3VycmVudCBzdWJ0cmVlLlxuXG4gIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICBuZXh0TmFtZSA9IChcbiAgICAgICAgKG5hbWVTb0ZhciAhPT0gJycgPyBuYW1lU29GYXIgKyBTVUJTRVBBUkFUT1IgOiBTRVBBUkFUT1IpICtcbiAgICAgICAgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpKVxuICAgICAgKTtcbiAgICAgIG5leHRJbmRleCA9IGluZGV4U29GYXIgKyBzdWJ0cmVlQ291bnQ7XG4gICAgICBzdWJ0cmVlQ291bnQgKz0gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoXG4gICAgICAgIGNoaWxkLFxuICAgICAgICBuZXh0TmFtZSxcbiAgICAgICAgbmV4dEluZGV4LFxuICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgdHJhdmVyc2VDb250ZXh0XG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pO1xuICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwoY2hpbGRyZW4pO1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gY2hpbGRyZW4uZW50cmllcykge1xuICAgICAgICB2YXIgaWkgPSAwO1xuICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgY2hpbGQgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgIG5leHROYW1lID0gKFxuICAgICAgICAgICAgKG5hbWVTb0ZhciAhPT0gJycgPyBuYW1lU29GYXIgKyBTVUJTRVBBUkFUT1IgOiBTRVBBUkFUT1IpICtcbiAgICAgICAgICAgIGdldENvbXBvbmVudEtleShjaGlsZCwgaWkrKylcbiAgICAgICAgICApO1xuICAgICAgICAgIG5leHRJbmRleCA9IGluZGV4U29GYXIgKyBzdWJ0cmVlQ291bnQ7XG4gICAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKFxuICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICBuZXh0TmFtZSxcbiAgICAgICAgICAgIG5leHRJbmRleCxcbiAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgdHJhdmVyc2VDb250ZXh0XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyB3YXJuaW5nKFxuICAgICAgICAgICAgZGlkV2FybkFib3V0TWFwcyxcbiAgICAgICAgICAgICdVc2luZyBNYXBzIGFzIGNoaWxkcmVuIGlzIG5vdCB5ZXQgZnVsbHkgc3VwcG9ydGVkLiBJdCBpcyBhbiAnICtcbiAgICAgICAgICAgICdleHBlcmltZW50YWwgZmVhdHVyZSB0aGF0IG1pZ2h0IGJlIHJlbW92ZWQuIENvbnZlcnQgaXQgdG8gYSAnICtcbiAgICAgICAgICAgICdzZXF1ZW5jZSAvIGl0ZXJhYmxlIG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC4nXG4gICAgICAgICAgKSA6IG51bGwpO1xuICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIGNoaWxkID0gZW50cnlbMV07XG4gICAgICAgICAgICBuZXh0TmFtZSA9IChcbiAgICAgICAgICAgICAgKG5hbWVTb0ZhciAhPT0gJycgPyBuYW1lU29GYXIgKyBTVUJTRVBBUkFUT1IgOiBTRVBBUkFUT1IpICtcbiAgICAgICAgICAgICAgd3JhcFVzZXJQcm92aWRlZEtleShlbnRyeVswXSkgKyBTVUJTRVBBUkFUT1IgK1xuICAgICAgICAgICAgICBnZXRDb21wb25lbnRLZXkoY2hpbGQsIDApXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbmV4dEluZGV4ID0gaW5kZXhTb0ZhciArIHN1YnRyZWVDb3VudDtcbiAgICAgICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChcbiAgICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICAgIG5leHROYW1lLFxuICAgICAgICAgICAgICBuZXh0SW5kZXgsXG4gICAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgICB0cmF2ZXJzZUNvbnRleHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgICAgY2hpbGRyZW4ubm9kZVR5cGUgIT09IDEsXG4gICAgICAgICd0cmF2ZXJzZUFsbENoaWxkcmVuKC4uLik6IEVuY291bnRlcmVkIGFuIGludmFsaWQgY2hpbGQ7IERPTSAnICtcbiAgICAgICAgJ2VsZW1lbnRzIGFyZSBub3QgdmFsaWQgY2hpbGRyZW4gb2YgUmVhY3QgY29tcG9uZW50cy4nXG4gICAgICApIDogaW52YXJpYW50KGNoaWxkcmVuLm5vZGVUeXBlICE9PSAxKSk7XG4gICAgICB2YXIgZnJhZ21lbnQgPSBSZWFjdEZyYWdtZW50LmV4dHJhY3QoY2hpbGRyZW4pO1xuICAgICAgZm9yICh2YXIga2V5IGluIGZyYWdtZW50KSB7XG4gICAgICAgIGlmIChmcmFnbWVudC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgY2hpbGQgPSBmcmFnbWVudFtrZXldO1xuICAgICAgICAgIG5leHROYW1lID0gKFxuICAgICAgICAgICAgKG5hbWVTb0ZhciAhPT0gJycgPyBuYW1lU29GYXIgKyBTVUJTRVBBUkFUT1IgOiBTRVBBUkFUT1IpICtcbiAgICAgICAgICAgIHdyYXBVc2VyUHJvdmlkZWRLZXkoa2V5KSArIFNVQlNFUEFSQVRPUiArXG4gICAgICAgICAgICBnZXRDb21wb25lbnRLZXkoY2hpbGQsIDApXG4gICAgICAgICAgKTtcbiAgICAgICAgICBuZXh0SW5kZXggPSBpbmRleFNvRmFyICsgc3VidHJlZUNvdW50O1xuICAgICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChcbiAgICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgICAgbmV4dE5hbWUsXG4gICAgICAgICAgICBuZXh0SW5kZXgsXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIHRyYXZlcnNlQ29udGV4dFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3VidHJlZUNvdW50O1xufVxuXG4vKipcbiAqIFRyYXZlcnNlcyBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmAsIGJ1dFxuICogbWlnaHQgYWxzbyBiZSBzcGVjaWZpZWQgdGhyb3VnaCBhdHRyaWJ1dGVzOlxuICpcbiAqIC0gYHRyYXZlcnNlQWxsQ2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbiwgLi4uKWBcbiAqIC0gYHRyYXZlcnNlQWxsQ2hpbGRyZW4odGhpcy5wcm9wcy5sZWZ0UGFuZWxDaGlsZHJlbiwgLi4uKWBcbiAqXG4gKiBUaGUgYHRyYXZlcnNlQ29udGV4dGAgaXMgYW4gb3B0aW9uYWwgYXJndW1lbnQgdGhhdCBpcyBwYXNzZWQgdGhyb3VnaCB0aGVcbiAqIGVudGlyZSB0cmF2ZXJzYWwuIEl0IGNhbiBiZSB1c2VkIHRvIHN0b3JlIGFjY3VtdWxhdGlvbnMgb3IgYW55dGhpbmcgZWxzZSB0aGF0XG4gKiB0aGUgY2FsbGJhY2sgbWlnaHQgZmluZCByZWxldmFudC5cbiAqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIG9iamVjdC5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9ufSBjYWxsYmFjayBUbyBpbnZva2UgdXBvbiB0cmF2ZXJzaW5nIGVhY2ggY2hpbGQuXG4gKiBAcGFyYW0gez8qfSB0cmF2ZXJzZUNvbnRleHQgQ29udGV4dCBmb3IgdHJhdmVyc2FsLlxuICogQHJldHVybiB7IW51bWJlcn0gVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiB0aGlzIHN1YnRyZWUuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgJycsIDAsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRyYXZlcnNlQWxsQ2hpbGRyZW47XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgdXBkYXRlXG4gKi9cblxuIC8qIGdsb2JhbCBoYXNPd25Qcm9wZXJ0eTp0cnVlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoXCIuL09iamVjdC5hc3NpZ25cIik7XG52YXIga2V5T2YgPSByZXF1aXJlKFwiLi9rZXlPZlwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiLi9pbnZhcmlhbnRcIik7XG52YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gc2hhbGxvd0NvcHkoeCkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgIHJldHVybiB4LmNvbmNhdCgpO1xuICB9IGVsc2UgaWYgKHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGFzc2lnbihuZXcgeC5jb25zdHJ1Y3RvcigpLCB4KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geDtcbiAgfVxufVxuXG52YXIgQ09NTUFORF9QVVNIID0ga2V5T2YoeyRwdXNoOiBudWxsfSk7XG52YXIgQ09NTUFORF9VTlNISUZUID0ga2V5T2YoeyR1bnNoaWZ0OiBudWxsfSk7XG52YXIgQ09NTUFORF9TUExJQ0UgPSBrZXlPZih7JHNwbGljZTogbnVsbH0pO1xudmFyIENPTU1BTkRfU0VUID0ga2V5T2YoeyRzZXQ6IG51bGx9KTtcbnZhciBDT01NQU5EX01FUkdFID0ga2V5T2YoeyRtZXJnZTogbnVsbH0pO1xudmFyIENPTU1BTkRfQVBQTFkgPSBrZXlPZih7JGFwcGx5OiBudWxsfSk7XG5cbnZhciBBTExfQ09NTUFORFNfTElTVCA9IFtcbiAgQ09NTUFORF9QVVNILFxuICBDT01NQU5EX1VOU0hJRlQsXG4gIENPTU1BTkRfU1BMSUNFLFxuICBDT01NQU5EX1NFVCxcbiAgQ09NTUFORF9NRVJHRSxcbiAgQ09NTUFORF9BUFBMWVxuXTtcblxudmFyIEFMTF9DT01NQU5EU19TRVQgPSB7fTtcblxuQUxMX0NPTU1BTkRTX0xJU1QuZm9yRWFjaChmdW5jdGlvbihjb21tYW5kKSB7XG4gIEFMTF9DT01NQU5EU19TRVRbY29tbWFuZF0gPSB0cnVlO1xufSk7XG5cbmZ1bmN0aW9uIGludmFyaWFudEFycmF5Q2FzZSh2YWx1ZSwgc3BlYywgY29tbWFuZCkge1xuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgIEFycmF5LmlzQXJyYXkodmFsdWUpLFxuICAgICd1cGRhdGUoKTogZXhwZWN0ZWQgdGFyZ2V0IG9mICVzIHRvIGJlIGFuIGFycmF5OyBnb3QgJXMuJyxcbiAgICBjb21tYW5kLFxuICAgIHZhbHVlXG4gICkgOiBpbnZhcmlhbnQoQXJyYXkuaXNBcnJheSh2YWx1ZSkpKTtcbiAgdmFyIHNwZWNWYWx1ZSA9IHNwZWNbY29tbWFuZF07XG4gIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgQXJyYXkuaXNBcnJheShzcGVjVmFsdWUpLFxuICAgICd1cGRhdGUoKTogZXhwZWN0ZWQgc3BlYyBvZiAlcyB0byBiZSBhbiBhcnJheTsgZ290ICVzLiAnICtcbiAgICAnRGlkIHlvdSBmb3JnZXQgdG8gd3JhcCB5b3VyIHBhcmFtZXRlciBpbiBhbiBhcnJheT8nLFxuICAgIGNvbW1hbmQsXG4gICAgc3BlY1ZhbHVlXG4gICkgOiBpbnZhcmlhbnQoQXJyYXkuaXNBcnJheShzcGVjVmFsdWUpKSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZSh2YWx1ZSwgc3BlYykge1xuICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgIHR5cGVvZiBzcGVjID09PSAnb2JqZWN0JyxcbiAgICAndXBkYXRlKCk6IFlvdSBwcm92aWRlZCBhIGtleSBwYXRoIHRvIHVwZGF0ZSgpIHRoYXQgZGlkIG5vdCBjb250YWluIG9uZSAnICtcbiAgICAnb2YgJXMuIERpZCB5b3UgZm9yZ2V0IHRvIGluY2x1ZGUgeyVzOiAuLi59PycsXG4gICAgQUxMX0NPTU1BTkRTX0xJU1Quam9pbignLCAnKSxcbiAgICBDT01NQU5EX1NFVFxuICApIDogaW52YXJpYW50KHR5cGVvZiBzcGVjID09PSAnb2JqZWN0JykpO1xuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfU0VUKSkge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICBPYmplY3Qua2V5cyhzcGVjKS5sZW5ndGggPT09IDEsXG4gICAgICAnQ2Fubm90IGhhdmUgbW9yZSB0aGFuIG9uZSBrZXkgaW4gYW4gb2JqZWN0IHdpdGggJXMnLFxuICAgICAgQ09NTUFORF9TRVRcbiAgICApIDogaW52YXJpYW50KE9iamVjdC5rZXlzKHNwZWMpLmxlbmd0aCA9PT0gMSkpO1xuXG4gICAgcmV0dXJuIHNwZWNbQ09NTUFORF9TRVRdO1xuICB9XG5cbiAgdmFyIG5leHRWYWx1ZSA9IHNoYWxsb3dDb3B5KHZhbHVlKTtcblxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX01FUkdFKSkge1xuICAgIHZhciBtZXJnZU9iaiA9IHNwZWNbQ09NTUFORF9NRVJHRV07XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIG1lcmdlT2JqICYmIHR5cGVvZiBtZXJnZU9iaiA9PT0gJ29iamVjdCcsXG4gICAgICAndXBkYXRlKCk6ICVzIGV4cGVjdHMgYSBzcGVjIG9mIHR5cGUgXFwnb2JqZWN0XFwnOyBnb3QgJXMnLFxuICAgICAgQ09NTUFORF9NRVJHRSxcbiAgICAgIG1lcmdlT2JqXG4gICAgKSA6IGludmFyaWFudChtZXJnZU9iaiAmJiB0eXBlb2YgbWVyZ2VPYmogPT09ICdvYmplY3QnKSk7XG4gICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgIG5leHRWYWx1ZSAmJiB0eXBlb2YgbmV4dFZhbHVlID09PSAnb2JqZWN0JyxcbiAgICAgICd1cGRhdGUoKTogJXMgZXhwZWN0cyBhIHRhcmdldCBvZiB0eXBlIFxcJ29iamVjdFxcJzsgZ290ICVzJyxcbiAgICAgIENPTU1BTkRfTUVSR0UsXG4gICAgICBuZXh0VmFsdWVcbiAgICApIDogaW52YXJpYW50KG5leHRWYWx1ZSAmJiB0eXBlb2YgbmV4dFZhbHVlID09PSAnb2JqZWN0JykpO1xuICAgIGFzc2lnbihuZXh0VmFsdWUsIHNwZWNbQ09NTUFORF9NRVJHRV0pO1xuICB9XG5cbiAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3BlYywgQ09NTUFORF9QVVNIKSkge1xuICAgIGludmFyaWFudEFycmF5Q2FzZSh2YWx1ZSwgc3BlYywgQ09NTUFORF9QVVNIKTtcbiAgICBzcGVjW0NPTU1BTkRfUFVTSF0uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBuZXh0VmFsdWUucHVzaChpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNwZWMsIENPTU1BTkRfVU5TSElGVCkpIHtcbiAgICBpbnZhcmlhbnRBcnJheUNhc2UodmFsdWUsIHNwZWMsIENPTU1BTkRfVU5TSElGVCk7XG4gICAgc3BlY1tDT01NQU5EX1VOU0hJRlRdLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgbmV4dFZhbHVlLnVuc2hpZnQoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX1NQTElDRSkpIHtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgQXJyYXkuaXNBcnJheSh2YWx1ZSksXG4gICAgICAnRXhwZWN0ZWQgJXMgdGFyZ2V0IHRvIGJlIGFuIGFycmF5OyBnb3QgJXMnLFxuICAgICAgQ09NTUFORF9TUExJQ0UsXG4gICAgICB2YWx1ZVxuICAgICkgOiBpbnZhcmlhbnQoQXJyYXkuaXNBcnJheSh2YWx1ZSkpKTtcbiAgICAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gaW52YXJpYW50KFxuICAgICAgQXJyYXkuaXNBcnJheShzcGVjW0NPTU1BTkRfU1BMSUNFXSksXG4gICAgICAndXBkYXRlKCk6IGV4cGVjdGVkIHNwZWMgb2YgJXMgdG8gYmUgYW4gYXJyYXkgb2YgYXJyYXlzOyBnb3QgJXMuICcgK1xuICAgICAgJ0RpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBwYXJhbWV0ZXJzIGluIGFuIGFycmF5PycsXG4gICAgICBDT01NQU5EX1NQTElDRSxcbiAgICAgIHNwZWNbQ09NTUFORF9TUExJQ0VdXG4gICAgKSA6IGludmFyaWFudChBcnJheS5pc0FycmF5KHNwZWNbQ09NTUFORF9TUExJQ0VdKSkpO1xuICAgIHNwZWNbQ09NTUFORF9TUExJQ0VdLmZvckVhY2goZnVuY3Rpb24oYXJncykge1xuICAgICAgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IGludmFyaWFudChcbiAgICAgICAgQXJyYXkuaXNBcnJheShhcmdzKSxcbiAgICAgICAgJ3VwZGF0ZSgpOiBleHBlY3RlZCBzcGVjIG9mICVzIHRvIGJlIGFuIGFycmF5IG9mIGFycmF5czsgZ290ICVzLiAnICtcbiAgICAgICAgJ0RpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBwYXJhbWV0ZXJzIGluIGFuIGFycmF5PycsXG4gICAgICAgIENPTU1BTkRfU1BMSUNFLFxuICAgICAgICBzcGVjW0NPTU1BTkRfU1BMSUNFXVxuICAgICAgKSA6IGludmFyaWFudChBcnJheS5pc0FycmF5KGFyZ3MpKSk7XG4gICAgICBuZXh0VmFsdWUuc3BsaWNlLmFwcGx5KG5leHRWYWx1ZSwgYXJncyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzcGVjLCBDT01NQU5EX0FQUExZKSkge1xuICAgIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBpbnZhcmlhbnQoXG4gICAgICB0eXBlb2Ygc3BlY1tDT01NQU5EX0FQUExZXSA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAgICd1cGRhdGUoKTogZXhwZWN0ZWQgc3BlYyBvZiAlcyB0byBiZSBhIGZ1bmN0aW9uOyBnb3QgJXMuJyxcbiAgICAgIENPTU1BTkRfQVBQTFksXG4gICAgICBzcGVjW0NPTU1BTkRfQVBQTFldXG4gICAgKSA6IGludmFyaWFudCh0eXBlb2Ygc3BlY1tDT01NQU5EX0FQUExZXSA9PT0gJ2Z1bmN0aW9uJykpO1xuICAgIG5leHRWYWx1ZSA9IHNwZWNbQ09NTUFORF9BUFBMWV0obmV4dFZhbHVlKTtcbiAgfVxuXG4gIGZvciAodmFyIGsgaW4gc3BlYykge1xuICAgIGlmICghKEFMTF9DT01NQU5EU19TRVQuaGFzT3duUHJvcGVydHkoaykgJiYgQUxMX0NPTU1BTkRTX1NFVFtrXSkpIHtcbiAgICAgIG5leHRWYWx1ZVtrXSA9IHVwZGF0ZSh2YWx1ZVtrXSwgc3BlY1trXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5leHRWYWx1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB1cGRhdGU7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgd2FybmluZ1xuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoXCIuL2VtcHR5RnVuY3Rpb25cIik7XG5cbi8qKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG5cbnZhciB3YXJuaW5nID0gZW1wdHlGdW5jdGlvbjtcblxuaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQgKSB7Zm9yICh2YXIgYXJncz1bXSwkX18wPTIsJF9fMT1hcmd1bWVudHMubGVuZ3RoOyRfXzA8JF9fMTskX18wKyspIGFyZ3MucHVzaChhcmd1bWVudHNbJF9fMF0pO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArXG4gICAgICAgICdtZXNzYWdlIGFyZ3VtZW50J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0Lmxlbmd0aCA8IDEwIHx8IC9eW3NcXFddKiQvLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5pbmRleE9mKCdGYWlsZWQgQ29tcG9zaXRlIHByb3BUeXBlOiAnKSA9PT0gMCkge1xuICAgICAgcmV0dXJuOyAvLyBJZ25vcmUgQ29tcG9zaXRlQ29tcG9uZW50IHByb3B0eXBlIGNoZWNrLlxuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpICB7cmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107fSk7XG4gICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgICB0cnkge1xuICAgICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9SZWFjdCcpO1xuIiwidmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbnZhciBVc2VyID0gcmVxdWlyZSgnLi91c2VyJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcbnZhciBmb3JtYXQgPSB1dGlsLmZvcm1hdDtcbnZhciBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJyk7XG52YXIgdXJsID0gcmVxdWlyZSgndXJsJyk7XG52YXIgUHJvbWlzZSA9IHJlcXVpcmUoJ3Byb21pc2UnKTtcbnZhciBhcmdsb2NrID0gcmVxdWlyZSgnLi91dGlsL2ZuJykuYXJnbG9jaztcblxudmFyIFVSTCA9IFwiaHR0cHM6Ly9hdXRoLnNpbXBlcml1bS5jb20vMVwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF1dGg7XG5cbmZ1bmN0aW9uIEF1dGgoYXBwSWQsIGFwcFNlY3JldCl7XG4gIHRoaXMuYXBwSWQgPSBhcHBJZDtcbiAgdGhpcy5hcHBTZWNyZXQgPSBhcHBTZWNyZXQ7XG59XG5cbnV0aWwuaW5oZXJpdHMoQXV0aCwgRXZlbnRFbWl0dGVyKTtcblxuQXV0aC5wcm90b3R5cGUuYXV0aG9yaXplID0gZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKXtcblxuICB2YXIgYm9keSA9IEpTT04uc3RyaW5naWZ5KHt1c2VybmFtZTp1c2VybmFtZSwgcGFzc3dvcmQ6cGFzc3dvcmR9KVxuICAgICwgcHJvbWlzZSA9IHRoaXMucmVxdWVzdChcImF1dGhvcml6ZS9cIiwgYm9keSk7XG5cbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbkF1dGgucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCl7XG5cbn1cblxuQXV0aC5wcm90b3R5cGUuZ2V0VXJsT3B0aW9ucyA9IGZ1bmN0aW9uKHBhdGgpe1xuICB2YXIgb3B0aW9ucyA9IHVybC5wYXJzZShmb3JtYXQoXCIlcy8lcy8lc1wiLCBVUkwsIHRoaXMuYXBwSWQsIHBhdGgpKTtcbiAgb3B0aW9ucy5tZXRob2QgPSBcIlBPU1RcIjtcbiAgb3B0aW9ucy5oZWFkZXJzID0geyBcIlgtU2ltcGVyaXVtLUFQSS1LZXlcIiA6IHRoaXMuYXBwU2VjcmV0IH07XG4gIHJldHVybiBvcHRpb25zO1xufVxuXG5BdXRoLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24oZW5kcG9pbnQsIGRhdGEpe1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciByZXEgPSBodHRwcy5yZXF1ZXN0KHNlbGYuZ2V0VXJsT3B0aW9ucyhlbmRwb2ludCksIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VEYXRhID0gXCJcIjtcblxuICAgICAgICAgICAgICByZXMub24oJ2RhdGEnLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgKz0gZGF0YS50b1N0cmluZygpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICByZXMub24oJ2VuZCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBVc2VyLmZyb21KU09OKHJlc3BvbnNlRGF0YSk7XG4gICAgICAgICAgICAgICAgc2VsZi5lbWl0KCdhdXRob3JpemUnLCB1c2VyKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHVzZXIpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHJlcS5vbignZXJyb3InLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcS5lbmQoZGF0YSk7XG4gICAgXG4gICAgICB9KTtcblxuICByZXR1cm4gcHJvbWlzZTs7XG59IiwidmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIGZvcm1hdCA9IHV0aWwuZm9ybWF0O1xudmFyIHV1aWQgPSByZXF1aXJlKCdub2RlLXV1aWQnKTtcblxudmFyIGFyZ2xvY2sgPSByZXF1aXJlKCcuL3V0aWwvZm4nKS5hcmdsb2NrO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJ1Y2tldDtcblxuZnVuY3Rpb24gQnVja2V0KG5hbWUsIHN0b3JlUHJvdmlkZXIpIHtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gIHRoaXMubmFtZSA9IG5hbWU7XG4gIHRoaXMuc3RvcmUgPSBzdG9yZVByb3ZpZGVyKHRoaXMpO1xufVxuXG51dGlsLmluaGVyaXRzKEJ1Y2tldCwgRXZlbnRFbWl0dGVyKTtcblxuQnVja2V0LnByb3RvdHlwZS5yZWxvYWQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbWl0KCdyZWxvYWQnKTtcbn07XG5cbkJ1Y2tldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjayl7XG4gIHZhciBpZCA9IHV1aWQudjQoKTtcbiAgcmV0dXJuIHRoaXMudXBkYXRlKGlkLCBvYmplY3QsIGNhbGxiYWNrKTtcbn07XG5cbkJ1Y2tldC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaWQsIGNhbGxiYWNrKSB7XG4gIHJldHVybiB0aGlzLnN0b3JlLmdldChpZCwgY2FsbGJhY2spO1xufTtcblxuQnVja2V0LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihpZCwgb2JqZWN0LCBjYWxsYmFjayl7XG4gIC8vIG5lZWRzIHRvIGJlIHVwZGF0ZWRcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICByZXR1cm4gdGhpcy5zdG9yZS51cGRhdGUoaWQsIG9iamVjdCwgY2FsbGJhY2spO1xufTtcblxuQnVja2V0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihpZCwgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICByZXR1cm4gdGhpcy5zdG9yZS5yZW1vdmUoaWQsIGNhbGxiYWNrKTtcbn07XG5cbkJ1Y2tldC5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKHF1ZXJ5LCBjYWxsYmFjaykge1xuICByZXR1cm4gdGhpcy5zdG9yZS5maW5kKHF1ZXJ5LCBjYWxsYmFjayk7XG59O1xuXG5CdWNrZXQucHJvdG90eXBlLmdldFJldmlzaW9ucyA9IGZ1bmN0aW9uKGlkLCBjYWxsYmFjaykge1xuICAvLyBPdmVycmlkZGVuIGluIENoYW5uZWxcbn1cbiIsInZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xudmFyIGZvcm1hdCA9IHV0aWwuZm9ybWF0O1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbnZhciBzaW1wZXJpdW1VdGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG52YXIgYXJnbG9jayA9IHNpbXBlcml1bVV0aWwuZm4uYXJnbG9jaztcbnZhciBwYXJzZU1lc3NhZ2UgPSBzaW1wZXJpdW1VdGlsLnBhcnNlTWVzc2FnZTtcbnZhciBwYXJzZVZlcnNpb25NZXNzYWdlID0gc2ltcGVyaXVtVXRpbC5wYXJzZVZlcnNpb25NZXNzYWdlO1xudmFyIGpzb25kaWZmID0gcmVxdWlyZSgnLi9qc29uZGlmZicpKHtsaXN0X2RpZmY6IGZhbHNlfSk7XG52YXIgY2hhbmdlX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwvY2hhbmdlJyk7XG52YXIgdXVpZCA9IHJlcXVpcmUoJ25vZGUtdXVpZCcpO1xuXG5mdW5jdGlvbiBsb2dfZXJyb3IoZSkge1xuICBjb25zb2xlLmVycm9yKGUpO1xufVxuXG5pZiAodGhpcyAmJiAhdGhpcy5zZXRJbW1lZGlhdGUpIHtcbiAgdmFyIHNldEltbWVkaWF0ZSA9IHRoaXMuc2V0SW1tZWRpYXRlID0gZnVuY3Rpb24oY2IpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChjYiwgMSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2hhbm5lbDtcblxudmFyIG9wZXJhdGlvbiA9IHtcbiAgTU9ESUZZIDogJ00nLFxuICBSRU1PVkUgOiAnLSdcbn07XG5cbmZ1bmN0aW9uIENoYW5uZWwoYXBwaWQsIGFjY2Vzc190b2tlbiwgYnVja2V0LCBzdG9yZSl7XG5cbiAgdmFyIGNoYW5uZWwgPSB0aGlzO1xuXG4gIHRoaXMuYXBwaWQgPSBhcHBpZDtcbiAgdGhpcy5idWNrZXQgPSBidWNrZXQ7XG4gIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgdGhpcy5hY2Nlc3NfdG9rZW4gPSBhY2Nlc3NfdG9rZW47XG5cbiAgdGhpcy5zZXNzaW9uX2lkID0gJ25vZGUtJyArIHV1aWQudjQoKTtcblxuICB2YXIgbWVzc2FnZSA9IHRoaXMubWVzc2FnZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBtZXNzYWdlLm9uKCdhdXRoJywgdGhpcy5vbkF1dGguYmluZCh0aGlzKSk7XG4gIG1lc3NhZ2Uub24oJ2knLCB0aGlzLm9uSW5kZXguYmluZCh0aGlzKSk7XG4gIG1lc3NhZ2Uub24oJ2MnLCB0aGlzLm9uQ2hhbmdlcy5iaW5kKHRoaXMpKTtcbiAgbWVzc2FnZS5vbignZScsIHRoaXMub25WZXJzaW9uLmJpbmQodGhpcykpO1xuICBtZXNzYWdlLm9uKCdvJywgZnVuY3Rpb24oKSB7fSk7XG5cbiAgdGhpcy5uZXR3b3JrUXVldWUgPSBuZXcgTmV0d29ya1F1ZXVlKCk7XG4gIHRoaXMubG9jYWxRdWV1ZSA9IG5ldyBMb2NhbFF1ZXVlKHRoaXMuc3RvcmUpO1xuXG4gIHRoaXMubG9jYWxRdWV1ZS5vbignc2VuZCcsIGludGVybmFsLnNlbmRDaGFuZ2UuYmluZCh0aGlzKSk7XG4gIHRoaXMubG9jYWxRdWV1ZS5vbignZXJyb3InLCBpbnRlcm5hbC5oYW5kbGVDaGFuZ2VFcnJvci5iaW5kKHRoaXMpKTtcblxuICB0aGlzLm9uKCdpbmRleCcsIGZ1bmN0aW9uKGN2KXtcbiAgICBpbnRlcm5hbC51cGRhdGVDaGFuZ2VWZXJzaW9uLmNhbGwoY2hhbm5lbCwgY3YpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBjaGFubmVsLmxvY2FsUXVldWUuc3RhcnQoKTtcbiAgICB9LCBsb2dfZXJyb3IpO1xuICAgIGJ1Y2tldC5lbWl0KCdpbmRleCcpO1xuICB9KTtcblxuICB2YXIgYnVja2V0RXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpLFxuICAgICAgdXBkYXRlID0gYnVja2V0LnVwZGF0ZSxcbiAgICAgIHJlbW92ZSA9IGJ1Y2tldC5yZW1vdmU7XG5cbiAgYnVja2V0LnVwZGF0ZSA9IGZ1bmN0aW9uKGlkLCBvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHVwZGF0ZS5jYWxsKGJ1Y2tldCwgaWQsIG9iamVjdCwgZnVuY3Rpb24oZXJyLCBvYmplY3QpIHtcbiAgICAgIGlmICghZXJyKSBidWNrZXRFdmVudHMuZW1pdCgndXBkYXRlJywgaWQsIG9iamVjdCk7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfSk7XG4gIH07XG5cbiAgYnVja2V0LnJlbW92ZSA9IGZ1bmN0aW9uKGlkLCBjYWxsYmFjaykge1xuICAgIHJldHVybiByZW1vdmUuY2FsbChidWNrZXQsIGlkLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgIGlmICghZXJyKSBidWNrZXRFdmVudHMuZW1pdCgncmVtb3ZlJywgaWQpO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0pO1xuICB9O1xuXG4gIGJ1Y2tldC5nZXRSZXZpc2lvbnMgPSBmdW5jdGlvbihpZCwgY2FsbGJhY2spIHtcbiAgICAgIG5ldyBSZXZpc2lvbnNDb2xsZWN0b3IoY2hhbm5lbCwgaWQsIGNhbGxiYWNrKTtcbiAgfTtcblxuICBidWNrZXRFdmVudHNcbiAgICAub24oJ3VwZGF0ZScsIGludGVybmFsLmRpZmZBbmRTZW5kLmJpbmQodGhpcykpXG4gICAgLm9uKCdyZW1vdmUnLCBpbnRlcm5hbC5yZW1vdmVBbmRTZW5kLmJpbmQodGhpcykpO1xuXG4gIC8vIHdoZW4gdGhlIG5ldHdvcmsgc2VuZHMgaW4gYW4gdXBkYXRlIG9yIHJlbW92ZSwgdXBkYXRlIHRoZSBidWNrZXQgZGF0YVxuICB0aGlzXG4gICAgLm9uKCd1cGRhdGUnLCBmdW5jdGlvbihpZCwgZGF0YSkge1xuICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICB1cGRhdGUuY2FsbChidWNrZXQsIGlkLCBkYXRhLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgYnVja2V0LmVtaXQuYXBwbHkoYnVja2V0LCBbJ3VwZGF0ZSddLmNvbmNhdChhcmdzKSk7XG4gICAgICB9KTtcbiAgICB9KVxuICAgIC5vbigncmVtb3ZlJywgZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJlbW92ZS5jYWxsKGJ1Y2tldCwgaWQsIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBidWNrZXQuZW1pdCgncmVtb3ZlJywgaWQpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgYnVja2V0Lm9uKCdyZWxvYWQnLCB0aGlzLm9uUmVsb2FkLmJpbmQodGhpcykpO1xuXG4gIHRoaXMub24oJ2NoYW5nZS12ZXJzaW9uJywgaW50ZXJuYWwudXBkYXRlQ2hhbmdlVmVyc2lvbi5iaW5kKHRoaXMpKTtcblxufVxuXG51dGlsLmluaGVyaXRzKENoYW5uZWwsIEV2ZW50RW1pdHRlcik7XG5cbkNoYW5uZWwucHJvdG90eXBlLmhhbmRsZU1lc3NhZ2UgPSBmdW5jdGlvbihkYXRhKXtcblxuICB2YXIgbWVzc2FnZSA9IHBhcnNlTWVzc2FnZShkYXRhKTtcblxuICB0aGlzLm1lc3NhZ2UuZW1pdChtZXNzYWdlLmNvbW1hbmQsIG1lc3NhZ2UuZGF0YSk7XG59O1xuXG5DaGFubmVsLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oZGF0YSl7XG4gIHRoaXMuZW1pdCgnc2VuZCcsIGRhdGEpO1xufTtcblxuQ2hhbm5lbC5wcm90b3R5cGUub25SZWxvYWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGVtaXQgPSBhcmdsb2NrKHRoaXMuZW1pdCwgJ3VwZGF0ZScpLmJpbmQodGhpcyk7XG4gIHRoaXMuc3RvcmUuZWFjaEdob3N0KGZ1bmN0aW9uKGdob3N0KSB7XG4gICAgZW1pdChnaG9zdC5rZXksIGdob3N0LmRhdGEpO1xuICB9KTtcbn07XG5cbkNoYW5uZWwucHJvdG90eXBlLm9uQXV0aCA9IGZ1bmN0aW9uKGRhdGEpe1xuICB0cnkge1xuICAgIHZhciBhdXRoID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICB0aGlzLmVtaXQoJ3VuYXV0aG9yaXplZCcsIGF1dGgpO1xuICAgIHJldHVybjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgIC8vIHJlcXVlc3QgY3YgYW5kIHRoZW4gc2VuZCBtZXRob2RcbiAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uKGN2KSB7XG4gICAgICBpZiAoY3YpIHtcbiAgICAgICAgdGhpcy5sb2NhbFF1ZXVlLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMuc2VuZENoYW5nZVZlcnNpb25SZXF1ZXN0KGN2KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VuZEluZGV4UmVxdWVzdCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnN0b3JlLmdldENoYW5nZVZlcnNpb24oKS50aGVuKGluaXQuYmluZCh0aGlzKSwgbG9nX2Vycm9yKTtcblxuICAgIHJldHVybjtcbiAgfVxufTtcblxuQ2hhbm5lbC5wcm90b3R5cGUub25Db25uZWN0ID0gZnVuY3Rpb24oKXtcblxuICB2YXIgaW5pdCA9IHtcbiAgICAgICAgbmFtZTogdGhpcy5idWNrZXQubmFtZSxcbiAgICAgICAgY2xpZW50aWQ6IHRoaXMuc2Vzc2lvbl9pZCxcbiAgICAgICAgYXBpOiBcIjEuMVwiLFxuICAgICAgICB0b2tlbjogdGhpcy5hY2Nlc3NfdG9rZW4sXG4gICAgICAgIGFwcF9pZDogdGhpcy5hcHBpZCxcbiAgICAgICAgbGlicmFyeTogJ25vZGUtc2ltcGVyaXVtJyxcbiAgICAgICAgdmVyc2lvbjogXCIwLjAuMVwiXG4gICAgICB9O1xuXG4gIHRoaXMuc2VuZChmb3JtYXQoXCJpbml0OiVzXCIsIEpTT04uc3RyaW5naWZ5KGluaXQpKSk7XG59O1xuXG5DaGFubmVsLnByb3RvdHlwZS5vbkluZGV4ID0gZnVuY3Rpb24oZGF0YSl7XG5cbiAgdmFyIHBhZ2UgICAgPSBKU09OLnBhcnNlKGRhdGEpLFxuICAgICAgb2JqZWN0cyA9IHBhZ2UuaW5kZXgsXG4gICAgICBtYXJrICAgID0gcGFnZS5tYXJrLFxuICAgICAgY3YgICAgICA9IHBhZ2UuY3VycmVudCxcbiAgICAgIHVwZGF0ZSAgPSBpbnRlcm5hbC51cGRhdGVPYmplY3RWZXJzaW9uLmJpbmQodGhpcyk7XG5cbiAgb2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uKG9iamVjdCwgaSl7XG4gICAgdXBkYXRlKG9iamVjdC5pZCwgb2JqZWN0LnYsIG9iamVjdC5kKTtcbiAgfSk7XG5cbiAgaWYgKCFtYXJrKSB7XG4gICAgdGhpcy5lbWl0KCdpbmRleCcsIHBhZ2UuY3VycmVudCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zZW5kSW5kZXhSZXF1ZXN0KG1hcmspO1xuICB9XG5cbn07XG5cbkNoYW5uZWwucHJvdG90eXBlLnNlbmRJbmRleFJlcXVlc3QgPSBmdW5jdGlvbihtYXJrKXtcbiAgdGhpcy5zZW5kKGZvcm1hdChcImk6MTolczo6MTBcIiwgbWFyayA/IG1hcmsgOiAnJykpO1xufTtcblxuQ2hhbm5lbC5wcm90b3R5cGUuc2VuZENoYW5nZVZlcnNpb25SZXF1ZXN0ID0gZnVuY3Rpb24oY3YpIHtcbiAgdGhpcy5zZW5kKGZvcm1hdChcImN2OiVzXCIsIGN2KSk7XG59O1xuXG5DaGFubmVsLnByb3RvdHlwZS5vbkNoYW5nZXMgPSBmdW5jdGlvbihkYXRhKXtcblxuICB2YXIgY2hhbmdlcyA9IEpTT04ucGFyc2UoZGF0YSksXG4gICAgICBvbkNoYW5nZSA9IGludGVybmFsLmNoYW5nZU9iamVjdC5iaW5kKHRoaXMpO1xuXG4gIGNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbihjaGFuZ2Upe1xuICAgIG9uQ2hhbmdlKGNoYW5nZS5pZCwgY2hhbmdlKTtcbiAgfSk7XG5cbn07XG5cbkNoYW5uZWwucHJvdG90eXBlLm9uVmVyc2lvbiA9IGZ1bmN0aW9uKGRhdGEpe1xuICB2YXIgZ2hvc3QgPSBwYXJzZVZlcnNpb25NZXNzYWdlKGRhdGEpO1xuXG4gIHRoaXMuZW1pdCgndmVyc2lvbicsIGdob3N0LmlkLCBnaG9zdC52ZXJzaW9uLCBnaG9zdC5kYXRhKTtcbiAgdGhpcy5lbWl0KCd2ZXJzaW9uLicgKyBnaG9zdC5pZCwgZ2hvc3QuaWQsIGdob3N0LnZlcnNpb24sIGdob3N0LmRhdGEpO1xufTtcblxuXG5mdW5jdGlvbiBOZXR3b3JrUXVldWUoKXtcbiAgdGhpcy5xdWV1ZXMgPSB7fTtcbn1cblxuTmV0d29ya1F1ZXVlLnByb3RvdHlwZS5xdWV1ZUZvciA9IGZ1bmN0aW9uKGlkKXtcbiAgdmFyIHF1ZXVlcyA9IHRoaXMucXVldWVzLFxuICAgICAgcXVldWUgPSBxdWV1ZXNbaWRdO1xuXG4gIGlmICghcXVldWUpIHtcbiAgICBxdWV1ZSA9IG5ldyBRdWV1ZSgpO1xuICAgIHF1ZXVlLm9uKCdmaW5pc2gnLCBmdW5jdGlvbigpe1xuICAgICAgZGVsZXRlIHF1ZXVlc1tpZF07XG4gICAgfSk7XG4gICAgcXVldWVzW2lkXSA9IHF1ZXVlO1xuICB9XG5cbiAgcmV0dXJuIHF1ZXVlO1xufTtcblxuZnVuY3Rpb24gUXVldWUoKXtcblxuICB0aGlzLnF1ZXVlID0gW107XG4gIHRoaXMucnVubmluZyA9IGZhbHNlO1xufVxuXG51dGlsLmluaGVyaXRzKFF1ZXVlLCBFdmVudEVtaXR0ZXIpO1xuXG4vLyBBZGQgYSBmdW5jdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBxdWV1ZVxuUXVldWUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGZuKXtcbiAgdGhpcy5xdWV1ZS5wdXNoKGZuKTtcbiAgdGhpcy5zdGFydCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cblF1ZXVlLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCl7XG4gIGlmICh0aGlzLnJ1bm5pbmcpIHJldHVybjtcbiAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcbiAgdGhpcy5lbWl0KCdzdGFydCcpO1xuICBzZXRJbW1lZGlhdGUodGhpcy5ydW4uYmluZCh0aGlzKSk7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcblxuXG4gIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdCgnZmluaXNoJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGZuID0gdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICBmbih0aGlzLnJ1bi5iaW5kKHRoaXMpKTtcblxufTtcblxuZnVuY3Rpb24gTG9jYWxRdWV1ZShzdG9yZSl7XG4gIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgdGhpcy5zZW50ID0ge307XG4gIHRoaXMucXVldWVzID0ge307XG4gIHRoaXMucmVhZHkgPSBmYWxzZTtcbn1cblxudXRpbC5pbmhlcml0cyhMb2NhbFF1ZXVlLCBFdmVudEVtaXR0ZXIpO1xuXG5Mb2NhbFF1ZXVlLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnJlYWR5ID0gdHJ1ZTtcbiAgZm9yICh2YXIgcXVldWVJZCBpbiB0aGlzLnF1ZXVlcykge1xuICAgIHRoaXMucHJvY2Vzc1F1ZXVlKHF1ZXVlSWQpO1xuICB9XG59O1xuXG5Mb2NhbFF1ZXVlLnByb3RvdHlwZS5hY2tub3dsZWRnZSA9IGZ1bmN0aW9uKGNoYW5nZSl7XG4gIGlmICh0aGlzLnNlbnRbY2hhbmdlLmlkXSA9PSBjaGFuZ2UpIHtcbiAgICBkZWxldGUgdGhpcy5zZW50W2NoYW5nZS5pZF07XG4gIH1cblxuICB0aGlzLnByb2Nlc3NRdWV1ZShjaGFuZ2UuaWQpO1xuXG59O1xuXG5Mb2NhbFF1ZXVlLnByb3RvdHlwZS5xdWV1ZSA9IGZ1bmN0aW9uKGNoYW5nZSl7XG4gIHZhciBxdWV1ZSA9IHRoaXMucXVldWVzW2NoYW5nZS5pZF07XG5cbiAgaWYgKCFxdWV1ZSkge1xuICAgIHF1ZXVlID0gW107XG4gICAgdGhpcy5xdWV1ZXNbY2hhbmdlLmlkXSA9IHF1ZXVlO1xuICB9XG5cbiAgcXVldWUucHVzaChjaGFuZ2UpO1xuXG4gIHRoaXMuZW1pdCgncXVldWVkJywgY2hhbmdlLmlkLCBjaGFuZ2UsIHF1ZXVlKTtcblxuICBpZiAoIXRoaXMucmVhZHkpIHJldHVybjtcblxuICB0aGlzLnByb2Nlc3NRdWV1ZShjaGFuZ2UuaWQpO1xuXG59O1xuXG5Mb2NhbFF1ZXVlLnByb3RvdHlwZS5kZXF1ZXVlQ2hhbmdlc0ZvciA9IGZ1bmN0aW9uKGlkKSB7XG4gIHZhciBjaGFuZ2VzID0gW10sIHNlbnQgPSB0aGlzLnNlbnRbaWRdLCBxdWV1ZSA9IHRoaXMucXVldWVzW2lkXTtcblxuICBpZiAoc2VudCkge1xuICAgIGRlbGV0ZSB0aGlzLnNlbnRbaWRdO1xuICAgIGNoYW5nZXMucHVzaChzZW50KTtcbiAgfVxuXG4gIGlmIChxdWV1ZSkge1xuICAgIGRlbGV0ZSB0aGlzLnF1ZXVlc1tpZF07XG4gICAgY2hhbmdlcyA9IGNoYW5nZXMuY29uY2F0KHF1ZXVlKTtcbiAgfVxuXG4gIHJldHVybiBjaGFuZ2VzO1xufTtcblxuTG9jYWxRdWV1ZS5wcm90b3R5cGUucHJvY2Vzc1F1ZXVlID0gZnVuY3Rpb24oaWQpIHtcbiAgdmFyIHF1ZXVlID0gdGhpcy5xdWV1ZXNbaWRdLFxuICAgICAgc2VudCA9IHRoaXMuc2VudDtcblxuICAvLyB0aGVyZSBpcyBubyBxdWV1ZSwgZG9uJ3QgZG8gYW55dGhpbmdcbiAgaWYgKCFxdWV1ZSkgcmV0dXJuO1xuXG4gIC8vIHF1ZXVlIGlzIGVtcHR5LCBkZWxldGUgaXQgZnJvbSBtZW1vcnlcbiAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgIGRlbGV0ZSB0aGlzLnF1ZXVlc1tpZF07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gd2FpdGluZyBmb3IgYSBwcmV2aW91cyBzZW50IGNoYW5nZSB0byBnZXQgYWNrbm93bGVkZ2VkXG4gIGlmICh0aGlzLnNlbnRbaWRdKSB7XG4gICAgdGhpcy5lbWl0KCd3YWl0JywgaWQpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHJlYWR5IHRvIHNlbmQgb3V0IGEgY2hhbmdlLCB0aW1lIHRvIGNvbXByZXNzIHRoZXNlIGNoYW5nZXNcbiAgdmFyIGNoYW5nZXMgPSBxdWV1ZTtcblxuICB2YXIgY29tcHJlc3NBbmRTZW5kID0gYXJnbG9jayh0aGlzLmNvbXByZXNzQW5kU2VuZCwgaWQsIGNoYW5nZXMpLmJpbmQodGhpcyk7XG4gIHRoaXMuc3RvcmUuZ2V0KGlkKS50aGVuKGNvbXByZXNzQW5kU2VuZCwgbG9nX2Vycm9yKTtcblxufTtcblxuTG9jYWxRdWV1ZS5wcm90b3R5cGUuY29tcHJlc3NBbmRTZW5kID0gZnVuY3Rpb24oaWQsIGNoYW5nZXMsIGdob3N0KXtcblxuICB2YXIgY2hhbmdlO1xuXG4gIC8vIGEgY2hhbmdlIHdhcyBzZW50IGJlZm9yZSB3ZSBjb3VsZCBjb21wcmVzcyBhbmQgc2VuZFxuICBpZiAodGhpcy5zZW50W2lkXSl7XG4gICAgdGhpcy5lbWl0KCd3YWl0JywgaWQpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjaGFuZ2VzLmxlbmd0aCA9PSAxKSB7XG4gICAgY2hhbmdlID0gY2hhbmdlcy5zaGlmdCgpO1xuICAgIHRoaXMuc2VudFtpZF0gPSBjaGFuZ2U7XG4gICAgdGhpcy5lbWl0KCdzZW5kJywgY2hhbmdlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY2hhbmdlcy5sZW5ndGggPiAxICYmIGNoYW5nZXNbMF0udHlwZSA9PSBjaGFuZ2VfdXRpbC50eXBlLlJFTU9WRSkge1xuICAgIGNoYW5nZSA9IGNoYW5nZXMuc2hpZnQoKTtcbiAgICB0aGlzLnNlbnRbaWRdID0gY2hhbmdlO1xuICAgIHRoaXMuZW1pdCgnc2VuZCcsIGNoYW5nZSk7XG4gIH1cblxuICB2YXIgdGFyZ2V0ID0gZ2hvc3QuZGF0YTtcbiAgd2hpbGUgKGNoYW5nZXMubGVuZ3RoID4gMCkge1xuICAgIHZhciBjID0gY2hhbmdlcy5zaGlmdCgpO1xuXG4gICAgaWYgKGMubyA9PSBjaGFuZ2VfdXRpbC50eXBlLlJFTU9WRSkge1xuICAgICAgY2hhbmdlcy51bnNoaWZ0KGMpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGFyZ2V0ID0ganNvbmRpZmYuYXBwbHlfb2JqZWN0X2RpZmYodGFyZ2V0LCBjLnYpO1xuICB9XG5cbiAgdmFyIHR5cGUgPSB0YXJnZXQgPT09IG51bGwgPyBjaGFuZ2VfdXRpbC50eXBlLlJFTU9WRSA6IGNoYW5nZV91dGlsLnR5cGUuTU9ESUZZO1xuXG4gIGNoYW5nZSA9IGNoYW5nZV91dGlsLmJ1aWxkQ2hhbmdlKHR5cGUsIGlkLCB0YXJnZXQsIGdob3N0KTtcblxuICB0aGlzLnNlbnRbaWRdID0gY2hhbmdlO1xuICB0aGlzLmVtaXQoJ3NlbmQnLCBjaGFuZ2UpO1xuXG59O1xuXG5cbnZhciBpbnRlcm5hbCA9IHt9O1xuXG5pbnRlcm5hbC51cGRhdGVDaGFuZ2VWZXJzaW9uID0gZnVuY3Rpb24oY3YsIGNoYW5nZSkge1xuICByZXR1cm4gdGhpcy5zdG9yZS5zZXRDaGFuZ2VWZXJzaW9uKGN2KTtcbn07XG5cbi8vIENhbGxlZCB3aGVuIHJlY2VpdmUgYSBjaGFuZ2UgZnJvbSB0aGUgbmV0d29yay4gQXR0ZW1wdCB0byBhcHBseSB0aGUgY2hhbmdlXG4vLyB0byB0aGUgZ2hvc3Qgb2JqZWN0IGFuZCBub3RpZnkuXG5pbnRlcm5hbC5jaGFuZ2VPYmplY3QgPSBmdW5jdGlvbihpZCwgY2hhbmdlKXtcbiAgLy8gcHVsbCBvdXQgdGhlIG9iamVjdCBmcm9tIHRoZSBzdG9yZSBhbmQgYXBwbHkgdGhlIGNoYW5nZSBkZWx0YVxuICB2YXIgYXBwbHlDaGFuZ2UgPSBhcmdsb2NrKGludGVybmFsLnBlcmZvcm1DaGFuZ2UsIGNoYW5nZSkuYmluZCh0aGlzKTtcblxuICB0aGlzLm5ldHdvcmtRdWV1ZS5xdWV1ZUZvcihpZCkuYWRkKGZ1bmN0aW9uKGRvbmUpe1xuICAgIGFwcGx5Q2hhbmdlKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIGRvbmUuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9LCBsb2dfZXJyb3IpO1xuICB9KTtcblxufTtcblxuaW50ZXJuYWwuYnVpbGRNb2RpZnlDaGFuZ2UgPSBmdW5jdGlvbihpZCwgb2JqZWN0LCBnaG9zdCl7XG4gIHZhciBwYXlsb2FkID0gY2hhbmdlX3V0aWwuYnVpbGRDaGFuZ2UoY2hhbmdlX3V0aWwudHlwZS5NT0RJRlksIGlkLCBvYmplY3QsIGdob3N0KSxcbiAgICAgIGVtcHR5ID0gdHJ1ZTtcblxuICBmb3IoIHZhciBrZXkgaW4gcGF5bG9hZC52ICkge1xuICAgIGlmIChrZXkpIHtcbiAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZW1wdHkpIHJldHVybiB0aGlzLmVtaXQoJ3VubW9kaWZpZWQnLCBpZCwgb2JqZWN0LCBnaG9zdCk7XG5cbiAgLy8gaWYgdGhlIGNoYW5nZSB2IGlzIGFuIGVtcHR5IG9iamVjdCwgZG8gbm90IHNlbmQsIG5vdGlmeT9cbiAgdGhpcy5sb2NhbFF1ZXVlLnF1ZXVlKHBheWxvYWQpO1xufTtcblxuaW50ZXJuYWwuYnVpbGRSZW1vdmVDaGFuZ2UgPSBmdW5jdGlvbihpZCwgb2JqZWN0LCBnaG9zdCl7XG4gIHZhciBwYXlsb2FkID0gY2hhbmdlX3V0aWwuYnVpbGRDaGFuZ2UoY2hhbmdlX3V0aWwudHlwZS5SRU1PVkUsIGlkLCBvYmplY3QsIGdob3N0KTtcbiAgdGhpcy5sb2NhbFF1ZXVlLnF1ZXVlKHBheWxvYWQpO1xufTtcblxuXG5pbnRlcm5hbC5zZW5kQ2hhbmdlID0gZnVuY3Rpb24oZGF0YSl7XG4gIHRoaXMuZW1pdCgnc2VuZCcsIGZvcm1hdChcImM6JXNcIiwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpKTtcbn07XG5cbmludGVybmFsLmRpZmZBbmRTZW5kID0gZnVuY3Rpb24oaWQsIG9iamVjdCl7XG5cbiAgdmFyIG1vZGlmeSA9IGFyZ2xvY2soaW50ZXJuYWwuYnVpbGRNb2RpZnlDaGFuZ2UsIGlkLCBvYmplY3QpLmJpbmQodGhpcyk7XG4gIHJldHVybiB0aGlzLnN0b3JlLmdldChpZCkudGhlbihtb2RpZnksIGxvZ19lcnJvcik7XG5cbn07XG5cbmludGVybmFsLnJlbW92ZUFuZFNlbmQgPSBmdW5jdGlvbihpZCwgb2JqZWN0KSB7XG4gIHZhciByZW1vdmUgPSBhcmdsb2NrKGludGVybmFsLmJ1aWxkUmVtb3ZlQ2hhbmdlLCBpZCwgb2JqZWN0KS5iaW5kKHRoaXMpO1xuICByZXR1cm4gdGhpcy5zdG9yZS5nZXQoaWQpLnRoZW4ocmVtb3ZlLCBsb2dfZXJyb3IpO1xufTtcblxuLy8gV2UndmUgcmVjZWl2ZSBhIGZ1bGwgb2JqZWN0IGZyb20gdGhlIG5ldHdvcmsuIFVwZGF0ZSB0aGUgbG9jYWwgaW5zdGFuY2UgYW5kXG4vLyBub3RpZnkgb2YgdGhlIG5ldyBvYmplY3QgdmVyc2lvblxuaW50ZXJuYWwudXBkYXRlT2JqZWN0VmVyc2lvbiA9IGZ1bmN0aW9uKGlkLCB2ZXJzaW9uLCBkYXRhLCBvcmlnaW5hbCwgcGF0Y2gsIGFja25vd2xlZGdlZCl7XG5cbiAgdmFyIG5vdGlmeTtcbiAgLy8gSWYgaXQncyBub3QgYW4gYWNrLCBpdCdzIGEgY2hhbmdlIGluaXRpYXRlZCBvbiBhIGRpZmZlcmVudCBjbGllbnRcbiAgLy8gd2UgbmVlZCB0byBwcm92aWRlIGEgd2F5IGZvciB0aGUgY3VycmVudCBjbGllbnQgdG8gcmVzcG9uZCB0b1xuICAvLyBhIHBvdGVudGlhbCBjb25mbGljdCBpZiBpdCBoYXMgbW9kaWZpY2F0aW9ucyB0aGF0IGhhdmUgbm90IGJlZW4gc3luY2VkXG4gIGlmICghYWNrbm93bGVkZ2VkKSB7XG5cbiAgICB2YXIgY2hhbmdlcyA9IHRoaXMubG9jYWxRdWV1ZS5kZXF1ZXVlQ2hhbmdlc0ZvcihpZCksXG4gICAgICAgIGxvY2FsTW9kaWZpY2F0aW9ucyA9IGNoYW5nZV91dGlsLmNvbXByZXNzQ2hhbmdlcyhjaGFuZ2VzLCBvcmlnaW5hbCksXG4gICAgICAgIHJlbW90ZU1vZGlmaWNhdGlvbnMgPSBwYXRjaCxcbiAgICAgICAgdHJhbnNmb3JtZWQgPSBjaGFuZ2VfdXRpbC50cmFuc2Zvcm0obG9jYWxNb2RpZmljYXRpb25zLCByZW1vdGVNb2RpZmljYXRpb25zLCBvcmlnaW5hbCksXG4gICAgICAgIHVwZGF0ZSA9IGRhdGE7XG5cblxuICAgIC8vIGFwcGx5IHRoZSB0cmFuc2Zvcm1lZCBwYXRjaCBhbmQgZW1pdCB0aGUgdXBkYXRlXG4gICAgaWYgKHRyYW5zZm9ybWVkKSB7XG4gICAgICBwYXRjaCA9IHRyYW5zZm9ybWVkO1xuICAgICAgdXBkYXRlID0ganNvbmRpZmYuYXBwbHlfb2JqZWN0X2RpZmYoZGF0YSwgdHJhbnNmb3JtZWQpO1xuICAgICAgLy8gcXVldWUgdXAgdGhlIG5ldyBjaGFuZ2VcbiAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VfdXRpbC5tb2RpZnkoaWQsIHZlcnNpb24sIHBhdGNoKTtcbiAgICAgIHRoaXMubG9jYWxRdWV1ZS5xdWV1ZShjaGFuZ2UpO1xuICAgIH1cblxuICAgIG5vdGlmeSA9IGFyZ2xvY2sodGhpcy5lbWl0LCAndXBkYXRlJywgaWQsIHVwZGF0ZSwgb3JpZ2luYWwsIHBhdGNoKS5iaW5kKHRoaXMpO1xuICB9IGVsc2Uge1xuICAgIG5vdGlmeSA9IGFyZ2xvY2soaW50ZXJuYWwudXBkYXRlQWNrbm93bGVkZ2VkLCBhY2tub3dsZWRnZWQpLmJpbmQodGhpcyk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5zdG9yZS5wdXQoaWQsIHZlcnNpb24sIGRhdGEpLnRoZW4obm90aWZ5LCBsb2dfZXJyb3IpO1xuXG59O1xuXG5pbnRlcm5hbC5yZW1vdmVPYmplY3QgPSBmdW5jdGlvbihpZCwgYWNrbm93bGVkZ2VkKSB7XG4gIHZhciBub3RpZnk7XG4gIGlmICghYWNrbm93bGVkZ2VkKSB7XG4gICAgbm90aWZ5ID0gYXJnbG9jayh0aGlzLmVtaXQsICdyZW1vdmUnLCBpZCkuYmluZCh0aGlzKTtcbiAgfSBlbHNlIHtcbiAgICBub3RpZnkgPSBhcmdsb2NrKGludGVybmFsLnVwZGF0ZUFja25vd2xlZGdlZCwgYWNrbm93bGVkZ2VkKS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuc3RvcmUucmVtb3ZlKGlkKS50aGVuKG5vdGlmeSwgbG9nX2Vycm9yKTtcbn07XG5cbmludGVybmFsLnVwZGF0ZUFja25vd2xlZGdlZCA9IGZ1bmN0aW9uKGNoYW5nZSl7XG4gIHZhciBpZCA9IGNoYW5nZS5pZDtcbiAgaWYgKHRoaXMubG9jYWxRdWV1ZS5zZW50W2lkXSA9PSBjaGFuZ2UpIHtcbiAgICB0aGlzLmxvY2FsUXVldWUuYWNrbm93bGVkZ2UoY2hhbmdlKTtcbiAgICB0aGlzLmVtaXQoJ2Fja25vd2xlZGdlJywgaWQsIGNoYW5nZSk7XG4gIH1cbn07XG5cbmludGVybmFsLnBlcmZvcm1DaGFuZ2UgPSBmdW5jdGlvbihjaGFuZ2Upe1xuICB2YXIgc3VjY2VzcyA9IGFyZ2xvY2soaW50ZXJuYWwuYXBwbHlDaGFuZ2UsIGNoYW5nZSkuYmluZCh0aGlzKTtcbiAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0KGNoYW5nZS5pZCkudGhlbihcbiAgICBmdW5jdGlvbigpIHtcbiAgICAgIHN1Y2Nlc3MuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9LCBsb2dfZXJyb3IpO1xufTtcblxuaW50ZXJuYWwuZmluZEFja25vd2xlZGdlZENoYW5nZSA9IGZ1bmN0aW9uKGNoYW5nZSl7XG4gIHZhciBwb3NzaWJsZUNoYW5nZSA9IHRoaXMubG9jYWxRdWV1ZS5zZW50W2NoYW5nZS5pZF07XG4gIGlmIChwb3NzaWJsZUNoYW5nZSkge1xuICAgIGlmICgoY2hhbmdlLmNjaWRzIHx8IFtdKS5pbmRleE9mKHBvc3NpYmxlQ2hhbmdlLmNjaWQpID4gLTEpe1xuICAgICAgcmV0dXJuIHBvc3NpYmxlQ2hhbmdlO1xuICAgIH1cbiAgfVxufTtcblxuaW50ZXJuYWwuYXBwbHlDaGFuZ2UgPSBmdW5jdGlvbihjaGFuZ2UsIGdob3N0KXtcblxuICB2YXIgYWNrbm93bGVkZ2VkID0gaW50ZXJuYWwuZmluZEFja25vd2xlZGdlZENoYW5nZS5iaW5kKHRoaXMpKGNoYW5nZSk7XG4gIC8vIGF0dGVtcHQgdG8gYXBwbHkgdGhlIGNoYW5nZVxuXG4gIC8vIFRPRE86IEhhbmRsZSBlcnJvcnMgYXMgc3BlY2lmaWVkIGluXG5cbiAgLy8gICAwOmM6W3tcImNjaWRzXCI6IFtcIjA0MzVlZGY0LTNmMDctNGNjNi1iZjg2LWY2OGU2ZGI4Nzc5Y1wiXSwgXCJpZFwiOiBcIjllOWE5NjE2LTgxNzQtNDJcbiAgLy8geyBjY2lkczogWyAnMDQzNWVkZjQtM2YwNy00Y2M2LWJmODYtZjY4ZTZkYjg3NzljJyBdLFxuICAvLyAgIGlkOiAnOWU5YTk2MTYtODE3NC00MjVhLWExYjAtOWVkNTQxMGYxZWRjJyxcbiAgLy8gICBjbGllbnRpZDogJ25vZGUtYjk3NzZlOTYtYzA2OC00MmFlLTg5M2EtMDNmNTA4MzNiZGRiJyxcbiAgLy8gICBlcnJvcjogNDAwIH1cblxuXG4gIGlmIChjaGFuZ2UuZXJyb3IpIHtcbiAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoXCJDb3VsZCBub3QgYXBwbHkgY2hhbmdlIHRvIFwiICsgZ2hvc3Qua2V5KTtcbiAgICBlcnJvci5jb2RlID0gY2hhbmdlLmVycm9yO1xuICAgIGVycm9yLmNoYW5nZSA9IGNoYW5nZTtcbiAgICBlcnJvci5naG9zdCA9IGdob3N0O1xuICAgIGludGVybmFsLmhhbmRsZUNoYW5nZUVycm9yLmNhbGwodGhpcywgZXJyb3IsIGNoYW5nZSwgYWNrbm93bGVkZ2VkKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZW1pdCA9IGFyZ2xvY2sodGhpcy5lbWl0LCAnY2hhbmdlLXZlcnNpb24nLCBjaGFuZ2UuY3YsIGNoYW5nZSkuYmluZCh0aGlzKTtcblxuICBpZiAoY2hhbmdlLm8gPT0gb3BlcmF0aW9uLk1PRElGWSkge1xuXG4gICAgaWYgKGdob3N0ICYmIChnaG9zdC52ZXJzaW9uICE9PSBjaGFuZ2Uuc3YpKSB7XG4gICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJTb3VyY2UgdmVyc2lvbiBhbmQgZ2hvc3QgdmVyc2lvbiBkbyBub3QgbWF0Y2hcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG9yaWdpbmFsID0gZ2hvc3QuZGF0YTtcbiAgICB2YXIgcGF0Y2ggPSBjaGFuZ2UudjtcblxuICAgIHZhciBtb2RpZmllZCA9IGpzb25kaWZmLmFwcGx5X29iamVjdF9kaWZmKG9yaWdpbmFsLCBwYXRjaCk7XG5cbiAgICByZXR1cm4gaW50ZXJuYWwudXBkYXRlT2JqZWN0VmVyc2lvbi5iaW5kKHRoaXMpKGNoYW5nZS5pZCwgY2hhbmdlLmV2LCBtb2RpZmllZCwgb3JpZ2luYWwsIHBhdGNoLCBhY2tub3dsZWRnZWQpXG4gICAgICAudGhlbihlbWl0LCBsb2dfZXJyb3IpO1xuXG4gIH0gZWxzZSBpZiAoY2hhbmdlLm8gPT0gb3BlcmF0aW9uLlJFTU9WRSkge1xuICAgIHJldHVybiBpbnRlcm5hbC5yZW1vdmVPYmplY3QuYmluZCh0aGlzKShjaGFuZ2UuaWQsIGFja25vd2xlZGdlZCkudGhlbihlbWl0LCBsb2dfZXJyb3IpO1xuICB9XG5cbn07XG5cbmludGVybmFsLmhhbmRsZUNoYW5nZUVycm9yID0gZnVuY3Rpb24oZXJyLCBjaGFuZ2UsIGFja25vd2xlZGdlZCkge1xuXG4gIHN3aXRjaChlcnIuY29kZSkge1xuICBjYXNlIDQxMjogLy8gQ2hhbmdlIGNhdXNlcyBubyBjaGFuZ2UsIGp1c3QgYWNrbm93bGVkZ2UgaXRcbiAgICBpbnRlcm5hbC51cGRhdGVBY2tub3dsZWRnZWQuY2FsbCh0aGlzLCBhY2tub3dsZWRnZWQpO1xuICAgIGJyZWFrO1xuICBkZWZhdWx0OlxuICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIsIGNoYW5nZSk7XG4gIH1cblxufTtcblxuZnVuY3Rpb24gUmV2aXNpb25zQ29sbGVjdG9yKGNoYW5uZWwsIGlkLCBjYWxsYmFjaykge1xuICB2YXIgZXhwZWN0ZWRWZXJzaW9ucyA9IC0xO1xuICB2YXIgb25HaG9zdFJldHJpZXZlZCA9IGZ1bmN0aW9uKGdob3N0KSB7XG4gICAgdmFyIHZlcnNpb24gPSBNYXRoLm1pbihnaG9zdC52ZXJzaW9uLCAzMCk7XG4gICAgZXhwZWN0ZWRWZXJzaW9ucyA9IHZlcnNpb247XG5cbiAgICAvLyBMb29wIHRocm91Z2ggcmVxdWVzdGVkIHJldmlzaW9uIGNvdW50IGFuZCByZXF1ZXN0IGVhY2ggdmVyc2lvblxuICAgIGZvciAodmFyIGk9MDsgaSA8IHZlcnNpb247IGkrKykge1xuICAgICAgY2hhbm5lbC5zZW5kKCdlOicgKyBpZCArICcuJyArIChnaG9zdC52ZXJzaW9uIC0gaSkpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdmVyc2lvbnMgPSBbXTtcbiAgdmFyIG9uVmVyc2lvbiA9IGZ1bmN0aW9uKGlkLCB2ZXJzaW9uLCBkYXRhKSB7XG4gICAgdmVyc2lvbnMucHVzaCh7J2lkJzogaWQsICd2ZXJzaW9uJzogdmVyc2lvbiwgJ2RhdGEnOiBkYXRhfSk7XG5cbiAgICAvLyBDaGVjayBpZiBhbGwgdmVyc2lvbnMgaGF2ZSBiZWVuIGNvbGxlY3RlZFxuICAgIGlmIChleHBlY3RlZFZlcnNpb25zID09IHZlcnNpb25zLmxlbmd0aCkge1xuICAgICAgY2hhbm5lbC5yZW1vdmVMaXN0ZW5lcigndmVyc2lvbi4nICsgaWQsIG9uVmVyc2lvbik7XG4gICAgICBjYWxsYmFjayhudWxsLCB2ZXJzaW9ucy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEudmVyc2lvbiA+IGIudmVyc2lvbiA/IC0xIDogMTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG5cbiAgY2hhbm5lbC5vbigndmVyc2lvbi4nICsgaWQsIG9uVmVyc2lvbik7XG5cbiAgY2hhbm5lbC5zdG9yZS5nZXQoaWQpLnRoZW4ob25HaG9zdFJldHJpZXZlZCwgZnVuY3Rpb24oZSkge1xuICAgIGNhbGxiYWNrKGUpO1xuICB9KTtcblxufVxuIiwidmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG52YXIgZm9ybWF0ID0gdXRpbC5mb3JtYXQ7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIEJ1Y2tldCA9IHJlcXVpcmUoJy4vYnVja2V0Jyk7XG52YXIgQ2hhbm5lbCA9IHJlcXVpcmUoJy4vY2hhbm5lbCcpO1xudmFyIHNpbXBlcml1bVV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbnZhciBhcmdsb2NrID0gc2ltcGVyaXVtVXRpbC5mbi5hcmdsb2NrO1xuXG52YXIgZGVmYXVsdEdob3N0U3RvcmVQcm92aWRlciA9IHJlcXVpcmUoJy4vZ2hvc3QvZGVmYXVsdCcpO1xudmFyIGRlZmF1bHRPYmplY3RTdG9yZVByb3ZpZGVyID0gcmVxdWlyZSgnLi9zdG9yYWdlL2RlZmF1bHQnKTtcblxudmFyIFdlYlNvY2tldENsaWVudDtcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuV2ViU29ja2V0KSB7XG4gIFdlYlNvY2tldENsaWVudCA9IHdpbmRvdy5XZWJTb2NrZXQ7XG59IGVsc2Uge1xuICBXZWJTb2NrZXRDbGllbnQgPSByZXF1aXJlKCd3ZWJzb2NrZXQnKS53M2N3ZWJzb2NrZXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2xpZW50O1xubW9kdWxlLmV4cG9ydHMuQnVja2V0ID0gQnVja2V0O1xubW9kdWxlLmV4cG9ydHMuQ2hhbm5lbCA9IENoYW5uZWw7XG5cbmZ1bmN0aW9uIENsaWVudChhcHBJZCwgYWNjZXNzVG9rZW4sIG9wdGlvbnMpe1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIG9wdGlvbnMuZ2hvc3RTdG9yZVByb3ZpZGVyID0gb3B0aW9ucy5naG9zdFN0b3JlUHJvdmlkZXIgfHwgZGVmYXVsdEdob3N0U3RvcmVQcm92aWRlcjtcbiAgb3B0aW9ucy5vYmplY3RTdG9yZVByb3ZpZGVyID0gb3B0aW9ucy5vYmplY3RTdG9yZVByb3ZpZGVyIHx8IGRlZmF1bHRPYmplY3RTdG9yZVByb3ZpZGVyO1xuICBvcHRpb25zLmhlYXJiZWF0SW50ZXJ2YWwgPSBvcHRpb25zLmhlYXJ0YmVhdEludGVydmFsIHx8IDQ7XG5cbiAgdGhpcy5hY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuO1xuICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICB0aGlzLmhlYXJ0YmVhdCA9IG5ldyBIZWFydGJlYXQob3B0aW9ucy5oZWFyYmVhdEludGVydmFsLCB0aGlzLnNlbmRIZWFydGJlYXQuYmluZCh0aGlzKSk7XG5cbiAgdGhpcy5oZWFydGJlYXQub24oJ3RpbWVvdXQnLCB0aGlzLm9uQ29ubmVjdGlvblRpbWVvdXQuYmluZCh0aGlzKSk7XG5cbiAgdGhpcy5yZWNvbm5lY3Rpb25UaW1lciA9IG5ldyBSZWNvbm5lY3Rpb25UaW1lcihmdW5jdGlvbihhdHRlbXB0KSB7XG4gICAgdmFyIHRpbWUgPSAoYXR0ZW1wdCA+PSAzID8gKGF0dGVtcHQtMykgKiAzMDAwIDogMCkgKyAzMDAwO1xuICAgIHJldHVybiB0aW1lO1xuICB9LCB0aGlzLm9uUmVjb25uZWN0LmJpbmQodGhpcykpO1xuXG4gIHRoaXMuYXBwSWQgPSBhcHBJZDtcblxuICBvcHRpb25zLnVybCA9IG9wdGlvbnMudXJsIHx8IGZvcm1hdChcIndzczovL2FwaS5zaW1wZXJpdW0uY29tL3NvY2svMS8lcy93ZWJzb2NrZXRcIiwgdGhpcy5hcHBJZCk7XG5cbiAgdGhpcy5yZWNvbm5lY3QgPSB0cnVlO1xuICAvLyB0aGlzLnNvY2tldC5vbmNsb3NlID0gdGhpcy5vbkNsb3NlLmJpbmQodGhpcyk7XG5cbiAgdGhpcy5vbignbWVzc2FnZTpoJywgdGhpcy5vbkhlYXJ0YmVhdC5iaW5kKHRoaXMpKTtcblxuICB0aGlzLmJ1Y2tldHMgPSBbXTtcblxuICB0aGlzLmNvbm5lY3QoKTtcblxufVxuXG51dGlsLmluaGVyaXRzKENsaWVudCwgRXZlbnRFbWl0dGVyKTtcblxuQ2xpZW50LnByb3RvdHlwZS5idWNrZXQgPSBmdW5jdGlvbihuYW1lKXtcblxuICB2YXIgY2hhbm5lbElkID0gdGhpcy5idWNrZXRzLmxlbmd0aCxcbiAgICAgIGJ1Y2tldCAgICA9IG5ldyBCdWNrZXQobmFtZSwgdGhpcy5vcHRpb25zLm9iamVjdFN0b3JlUHJvdmlkZXIpLFxuICAgICAgY2hhbm5lbCAgID0gbmV3IENoYW5uZWwodGhpcy5hcHBJZCwgdGhpcy5hY2Nlc3NUb2tlbiwgYnVja2V0LCB0aGlzLm9wdGlvbnMuZ2hvc3RTdG9yZVByb3ZpZGVyKGJ1Y2tldCkpLFxuICAgICAgc2VuZCAgICAgID0gYXJnbG9jayh0aGlzLnNlbmRDaGFubmVsTWVzc2FnZSwgY2hhbm5lbElkKS5iaW5kKHRoaXMpLFxuICAgICAgcmVjZWl2ZSAgID0gY2hhbm5lbC5oYW5kbGVNZXNzYWdlLmJpbmQoY2hhbm5lbCk7XG5cbiAgdGhpcy5idWNrZXRzLnB1c2goYnVja2V0KTtcblxuICBjaGFubmVsLm9uKCd1bmF1dGhvcml6ZWQnLCB0aGlzLm9uVW5hdXRob3JpemVkLmJpbmQodGhpcykpO1xuICBjaGFubmVsLm9uKCdzZW5kJywgc2VuZCk7XG5cbiAgdGhpcy5vbignY29ubmVjdCcsIGNoYW5uZWwub25Db25uZWN0LmJpbmQoY2hhbm5lbCkpO1xuICB0aGlzLm9uKGZvcm1hdCgnY2hhbm5lbDolZCcsIGNoYW5uZWxJZCksIHJlY2VpdmUpO1xuICB0aGlzLm9uKCdhY2Nlc3MtdG9rZW4nLCBmdW5jdGlvbih0b2tlbikge1xuICAgIGNoYW5uZWwuYWNjZXNzX3Rva2VuID0gdG9rZW47XG4gIH0pO1xuXG4gIGlmICh0aGlzLm9wZW4pIGNoYW5uZWwub25Db25uZWN0KCk7XG5cbiAgcmV0dXJuIGJ1Y2tldDtcbn07XG5cbkNsaWVudC5wcm90b3R5cGUub25IZWFydGJlYXQgPSBmdW5jdGlvbihtZXNzYWdlKXtcbiAgdmFyIGNvdW50ZXIgPSBwYXJzZUludChtZXNzYWdlKTtcbiAgdGhpcy5oZWFydGJlYXQudGljayhjb3VudGVyKTtcbn07XG5cbkNsaWVudC5wcm90b3R5cGUub25Db25uZWN0ID0gZnVuY3Rpb24oZXZlbnQpe1xuICB0aGlzLm9wZW4gPSB0cnVlO1xuXG4gIHRoaXMuZW1pdCgnY29ubmVjdCcpO1xuXG4gIHRoaXMuaGVhcnRiZWF0LnN0YXJ0KCk7XG4gIHRoaXMucmVjb25uZWN0aW9uVGltZXIucmVzZXQoKTtcbn07XG5cbkNsaWVudC5wcm90b3R5cGUub25SZWNvbm5lY3QgPSBmdW5jdGlvbihhdHRlbXB0KSB7XG4gIHRoaXMuZW1pdCgncmVjb25uZWN0JywgYXR0ZW1wdCk7XG4gIHRoaXMuY29ubmVjdCgpO1xufTtcblxuQ2xpZW50LnByb3RvdHlwZS5vbkNvbm5lY3Rpb25UaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGlzY29ubmVjdCgpO1xufTtcblxuQ2xpZW50LnByb3RvdHlwZS5vbkNvbm5lY3Rpb25GYWlsZWQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbWl0KCdkaXNjb25uZWN0Jyk7XG4gIGlmICh0aGlzLnJlY29ubmVjdCkgdGhpcy5yZWNvbm5lY3Rpb25UaW1lci5zdGFydCgpO1xufTtcblxuQ2xpZW50LnByb3RvdHlwZS5vbk1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlKXtcbiAgdGhpcy5wYXJzZU1lc3NhZ2UobWVzc2FnZSk7XG4gIHRoaXMuaGVhcnRiZWF0LnRpY2soKTtcbn07XG5cbkNsaWVudC5wcm90b3R5cGUub25VbmF1dGhvcml6ZWQgPSBmdW5jdGlvbihkZXRhaWxzKSB7XG4gIHRoaXMucmVjb25uZWN0ID0gZmFsc2U7XG4gIHRoaXMuZW1pdCgndW5hdXRob3JpemVkJywgZGV0YWlscyk7XG59O1xuXG5DbGllbnQucHJvdG90eXBlLnBhcnNlTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KXtcblxuICB2YXIgZGF0YSA9IGV2ZW50LmRhdGEsXG4gICAgICBtYXJrZXIgPSBkYXRhLmluZGV4T2YoXCI6XCIpLFxuICAgICAgcHJlZml4ID0gZGF0YS5zbGljZSgwLCBtYXJrZXIpLFxuICAgICAgY2hhbm5lbElkID0gcGFyc2VJbnQocHJlZml4KSxcbiAgICAgIGNoYW5uZWxNZXNzYWdlID0gZGF0YS5zbGljZShtYXJrZXIrMSk7XG5cbiAgdGhpcy5lbWl0KCdtZXNzYWdlJywgZGF0YSk7XG5cbiAgaWYgKGlzTmFOKGNoYW5uZWxJZCkpIHtcbiAgICB0aGlzLmVtaXQoZm9ybWF0KFwibWVzc2FnZTolc1wiLCBwcmVmaXgpLCBjaGFubmVsTWVzc2FnZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5lbWl0KGZvcm1hdChcImNoYW5uZWw6JWRcIiwgY2hhbm5lbElkKSwgY2hhbm5lbE1lc3NhZ2UpO1xuICB9XG5cbn07XG5cbkNsaWVudC5wcm90b3R5cGUuc2VuZEhlYXJ0YmVhdCA9IGZ1bmN0aW9uKGNvdW50KXtcbiAgdGhpcy5zZW5kKGZvcm1hdChcImg6JWRcIiwgY291bnQpKTtcbn07XG5cbkNsaWVudC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKGRhdGEpe1xuICB0aGlzLmVtaXQoJ3NlbmQnLCBkYXRhKTtcbiAgdHJ5IHtcbiAgICB0aGlzLnNvY2tldC5zZW5kKGRhdGEpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gZmFpbGVkIHRvIHNlbmQsIHByb2JhYmx5IG5vdCBjb25uZWN0ZWRcbiAgfVxufTtcblxuQ2xpZW50LnByb3RvdHlwZS5zZW5kQ2hhbm5lbE1lc3NhZ2UgPSBmdW5jdGlvbihpZCwgbWVzc2FnZSl7XG4gIHRoaXMuc2VuZChmb3JtYXQoXCIlZDolc1wiLCBpZCwgbWVzc2FnZSkpO1xufTtcblxuQ2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24oKXtcblxuICB0aGlzLnJlY29ubmVjdCA9IHRydWU7XG4gIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldENsaWVudCh0aGlzLm9wdGlvbnMudXJsKTtcblxuICB0aGlzLnNvY2tldC5vbm9wZW4gPSB0aGlzLm9uQ29ubmVjdC5iaW5kKHRoaXMpO1xuICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSB0aGlzLm9uTWVzc2FnZS5iaW5kKHRoaXMpO1xuICB0aGlzLnNvY2tldC5vbmNsb3NlID0gdGhpcy5vbkNvbm5lY3Rpb25GYWlsZWQuYmluZCh0aGlzKTtcbn07XG5cbkNsaWVudC5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5vcGVuKSB7XG4gICAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgfVxufTtcblxuQ2xpZW50LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZWNvbm5lY3QgPSBmYWxzZTtcbiAgdGhpcy5yZWNvbm5lY3Rpb25UaW1lci5zdG9wKCk7XG4gIHRoaXMuZGlzY29ubmVjdCgpO1xufTtcblxuQ2xpZW50LnByb3RvdHlwZS5vbkNsb3NlID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgdGhpcy5oZWFydGJlYXQuc3RvcCgpO1xuICBpZiAodGhpcy5yZWNvbm5lY3QgIT09IGZhbHNlKSB0aGlzLnJlY29ubmVjdGlvblRpbWVyLnN0YXJ0KCk7XG4gIHRoaXMuZW1pdCgnY2xvc2UnKTtcbn07XG5cbkNsaWVudC5wcm90b3R5cGUuc2V0QWNjZXNzVG9rZW4gPSBmdW5jdGlvbih0b2tlbikge1xuICB0aGlzLmFjY2Vzc1Rva2VuID0gdG9rZW47XG4gIHRoaXMuZW1pdCgnYWNjZXNzLXRva2VuJywgdG9rZW4pO1xuICB0aGlzLmNvbm5lY3QoKTtcbn07XG5cbmZ1bmN0aW9uIEhlYXJ0YmVhdChzZWNvbmRzLCBvbkJlYXQpIHtcbiAgdGhpcy5jb3VudCA9IDA7XG4gIHRoaXMuc2Vjb25kcyA9IHNlY29uZHM7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gIGlmIChvbkJlYXQpIHRoaXMub24oJ2JlYXQnLCBvbkJlYXQpO1xufVxuXG51dGlsLmluaGVyaXRzKEhlYXJ0YmVhdCwgRXZlbnRFbWl0dGVyKTtcblxuSGVhcnRiZWF0LnByb3RvdHlwZS5vbkJlYXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jb3VudCArKztcblxuICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMub25UaW1lb3V0LmJpbmQodGhpcyksIHRoaXMuc2Vjb25kcyAqIDEwMDAgKiAyKTtcbiAgdGhpcy5lbWl0KCdiZWF0JywgdGhpcy5jb3VudCk7XG59O1xuXG5IZWFydGJlYXQucHJvdG90eXBlLm9uVGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVtaXQoJ3RpbWVvdXQnKTtcbiAgdGhpcy5zdG9wKCk7XG59O1xuXG5IZWFydGJlYXQucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbihjb3VudCkge1xuICBpZiAoY291bnQgPiAwICYmIHR5cGVvZiBjb3VudCA9PSAnbnVtYmVyJykge1xuICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgfVxuICB0aGlzLnN0YXJ0KCk7XG59O1xuXG5IZWFydGJlYXQucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuc3RvcCgpO1xuICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCh0aGlzLm9uQmVhdC5iaW5kKHRoaXMpLCB0aGlzLnNlY29uZHMgKiAxMDAwKTtcbn07XG5cbkhlYXJ0YmVhdC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xufTtcblxuZnVuY3Rpb24gUmVjb25uZWN0aW9uVGltZXIoaW50ZXJ2YWwsIG9uVHJpcHBlZCkge1xuXG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXG4gIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbCB8fCBmdW5jdGlvbihhdHRlbXB0KSB7XG4gICAgcmV0dXJuIDEwMDA7XG4gIH07XG5cbiAgaWYgKG9uVHJpcHBlZCkgdGhpcy5vbigndHJpcHBlZCcsIG9uVHJpcHBlZCk7XG5cbiAgdGhpcy5yZXNldCgpO1xufVxuXG51dGlsLmluaGVyaXRzKFJlY29ubmVjdGlvblRpbWVyLCBFdmVudEVtaXR0ZXIpO1xuXG5SZWNvbm5lY3Rpb25UaW1lci5wcm90b3R5cGUub25JbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVtaXQoJ3RyaXBwZWQnLCB0aGlzLmF0dGVtcHQpO1xuICB0aGlzLmF0dGVtcHQgKys7XG59O1xuXG5SZWNvbm5lY3Rpb25UaW1lci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQodGhpcy5vbkludGVydmFsLmJpbmQodGhpcyksIHRoaXMuaW50ZXJ2YWwodGhpcy5hdHRlbXB0KSk7XG59O1xuXG5SZWNvbm5lY3Rpb25UaW1lci5wcm90b3R5cGUucmVzdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5yZXNldCgpO1xuICB0aGlzLnN0YXJ0KCk7XG59O1xuXG5SZWNvbm5lY3Rpb25UaW1lci5wcm90b3R5cGUucmVzZXQgPSBSZWNvbm5lY3Rpb25UaW1lci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmF0dGVtcHQgPSAwO1xuICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xufTtcbiIsIlxudmFyIFN0b3JlID0gcmVxdWlyZSgnLi9zdG9yZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJ1Y2tldCl7XG4gIHJldHVybiBuZXcgU3RvcmUoYnVja2V0KTtcbn1cblxuIiwidmFyIFByb21pc2UgPSByZXF1aXJlKFwicHJvbWlzZVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTdG9yZTtcblxuZnVuY3Rpb24gbG9nX2Vycm9yKCkge1xuICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFN0b3JlKGJ1Y2tldCl7XG4gIHRoaXMuYnVja2V0ID0gYnVja2V0O1xuICB0aGlzLmluZGV4ID0ge307XG59XG5cblN0b3JlLnByb3RvdHlwZS5nZXRDaGFuZ2VWZXJzaW9uID0gZnVuY3Rpb24oKXtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJlc29sdmUoc2VsZi5jdik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgcmV0dXJuIHByb21pc2UuY2F0Y2gobG9nX2Vycm9yKTtcbn07XG5cblN0b3JlLnByb3RvdHlwZS5zZXRDaGFuZ2VWZXJzaW9uID0gZnVuY3Rpb24oY3Ype1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5jdiA9IGN2O1xuICAgICAgICAgIHJlc29sdmUoY3YpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gIHJldHVybiBwcm9taXNlLmNhdGNoKGxvZ19lcnJvcik7XG59O1xuXG5TdG9yZS5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24oaWQsIHZlcnNpb24sIGRhdGEpe1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICBzZWxmLmluZGV4W2lkXSA9IEpTT04uc3RyaW5naWZ5KHt2ZXJzaW9uOnZlcnNpb24sIGRhdGE6ZGF0YX0pO1xuICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIHJldHVybiBwcm9taXNlLmNhdGNoKGxvZ19lcnJvcik7XG59O1xuXG5TdG9yZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaWQpe1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGdob3N0ID0gc2VsZi5pbmRleFtpZF07XG4gICAgICAgICAgaWYgKCFnaG9zdCl7XG4gICAgICAgICAgICBnaG9zdCA9IHtkYXRhOnt9fTtcbiAgICAgICAgICAgIHNlbGYuaW5kZXhbaWRdID0gSlNPTi5zdHJpbmdpZnkoZ2hvc3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnaG9zdCA9IEpTT04ucGFyc2UoZ2hvc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlKGdob3N0KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICByZXR1cm4gcHJvbWlzZS5jYXRjaChsb2dfZXJyb3IpO1xufTtcblxuU3RvcmUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGlkKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICBkZWxldGUgc2VsZi5pbmRleFtpZF07XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gIHJldHVybiBwcm9taXNlLmNhdGNoKGxvZ19lcnJvcik7XG5cbn07IiwidmFyIFVzZXIgPSByZXF1aXJlKCcuL3VzZXInKTtcbnZhciBDbGllbnQgPSByZXF1aXJlKCcuL2NsaWVudCcpO1xudmFyIEF1dGggPSByZXF1aXJlKCcuL2F1dGgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcHBJZCwgdG9rZW4sIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBDbGllbnQoYXBwSWQsIHRva2VuLCBvcHRpb25zKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLkF1dGggPSBBdXRoO1xubW9kdWxlLmV4cG9ydHMuVXNlciA9IFVzZXI7XG5tb2R1bGUuZXhwb3J0cy5DbGllbnQgPSBDbGllbnQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGRpZmZfbWF0Y2hfcGF0Y2g7XG5cbi8qKlxuICogRGlmZiBNYXRjaCBhbmQgUGF0Y2hcbiAqXG4gKiBDb3B5cmlnaHQgMjAwNiBHb29nbGUgSW5jLlxuICogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2dvb2dsZS1kaWZmLW1hdGNoLXBhdGNoL1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENvbXB1dGVzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdHdvIHRleHRzIHRvIGNyZWF0ZSBhIHBhdGNoLlxuICogQXBwbGllcyB0aGUgcGF0Y2ggb250byBhbm90aGVyIHRleHQsIGFsbG93aW5nIGZvciBlcnJvcnMuXG4gKiBAYXV0aG9yIGZyYXNlckBnb29nbGUuY29tIChOZWlsIEZyYXNlcilcbiAqL1xuXG4vKipcbiAqIENsYXNzIGNvbnRhaW5pbmcgdGhlIGRpZmYsIG1hdGNoIGFuZCBwYXRjaCBtZXRob2RzLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIGRpZmZfbWF0Y2hfcGF0Y2goKSB7XG5cbiAgLy8gRGVmYXVsdHMuXG4gIC8vIFJlZGVmaW5lIHRoZXNlIGluIHlvdXIgcHJvZ3JhbSB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG5cbiAgLy8gTnVtYmVyIG9mIHNlY29uZHMgdG8gbWFwIGEgZGlmZiBiZWZvcmUgZ2l2aW5nIHVwICgwIGZvciBpbmZpbml0eSkuXG4gIHRoaXMuRGlmZl9UaW1lb3V0ID0gMS4wO1xuICAvLyBDb3N0IG9mIGFuIGVtcHR5IGVkaXQgb3BlcmF0aW9uIGluIHRlcm1zIG9mIGVkaXQgY2hhcmFjdGVycy5cbiAgdGhpcy5EaWZmX0VkaXRDb3N0ID0gNDtcbiAgLy8gQXQgd2hhdCBwb2ludCBpcyBubyBtYXRjaCBkZWNsYXJlZCAoMC4wID0gcGVyZmVjdGlvbiwgMS4wID0gdmVyeSBsb29zZSkuXG4gIHRoaXMuTWF0Y2hfVGhyZXNob2xkID0gMC41O1xuICAvLyBIb3cgZmFyIHRvIHNlYXJjaCBmb3IgYSBtYXRjaCAoMCA9IGV4YWN0IGxvY2F0aW9uLCAxMDAwKyA9IGJyb2FkIG1hdGNoKS5cbiAgLy8gQSBtYXRjaCB0aGlzIG1hbnkgY2hhcmFjdGVycyBhd2F5IGZyb20gdGhlIGV4cGVjdGVkIGxvY2F0aW9uIHdpbGwgYWRkXG4gIC8vIDEuMCB0byB0aGUgc2NvcmUgKDAuMCBpcyBhIHBlcmZlY3QgbWF0Y2gpLlxuICB0aGlzLk1hdGNoX0Rpc3RhbmNlID0gMTAwMDtcbiAgLy8gV2hlbiBkZWxldGluZyBhIGxhcmdlIGJsb2NrIG9mIHRleHQgKG92ZXIgfjY0IGNoYXJhY3RlcnMpLCBob3cgY2xvc2UgZG9cbiAgLy8gdGhlIGNvbnRlbnRzIGhhdmUgdG8gYmUgdG8gbWF0Y2ggdGhlIGV4cGVjdGVkIGNvbnRlbnRzLiAoMC4wID0gcGVyZmVjdGlvbixcbiAgLy8gMS4wID0gdmVyeSBsb29zZSkuICBOb3RlIHRoYXQgTWF0Y2hfVGhyZXNob2xkIGNvbnRyb2xzIGhvdyBjbG9zZWx5IHRoZVxuICAvLyBlbmQgcG9pbnRzIG9mIGEgZGVsZXRlIG5lZWQgdG8gbWF0Y2guXG4gIHRoaXMuUGF0Y2hfRGVsZXRlVGhyZXNob2xkID0gMC41O1xuICAvLyBDaHVuayBzaXplIGZvciBjb250ZXh0IGxlbmd0aC5cbiAgdGhpcy5QYXRjaF9NYXJnaW4gPSA0O1xuXG4gIC8vIFRoZSBudW1iZXIgb2YgYml0cyBpbiBhbiBpbnQuXG4gIHRoaXMuTWF0Y2hfTWF4Qml0cyA9IDMyO1xufVxuXG5cbi8vICBESUZGIEZVTkNUSU9OU1xuXG5cbi8qKlxuICogVGhlIGRhdGEgc3RydWN0dXJlIHJlcHJlc2VudGluZyBhIGRpZmYgaXMgYW4gYXJyYXkgb2YgdHVwbGVzOlxuICogW1tESUZGX0RFTEVURSwgJ0hlbGxvJ10sIFtESUZGX0lOU0VSVCwgJ0dvb2RieWUnXSwgW0RJRkZfRVFVQUwsICcgd29ybGQuJ11dXG4gKiB3aGljaCBtZWFuczogZGVsZXRlICdIZWxsbycsIGFkZCAnR29vZGJ5ZScgYW5kIGtlZXAgJyB3b3JsZC4nXG4gKi9cbnZhciBESUZGX0RFTEVURSA9IC0xO1xudmFyIERJRkZfSU5TRVJUID0gMTtcbnZhciBESUZGX0VRVUFMID0gMDtcblxuLyoqIEB0eXBlZGVmIHt7MDogbnVtYmVyLCAxOiBzdHJpbmd9fSAqL1xuZGlmZl9tYXRjaF9wYXRjaC5EaWZmO1xuXG5cbi8qKlxuICogRmluZCB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0d28gdGV4dHMuICBTaW1wbGlmaWVzIHRoZSBwcm9ibGVtIGJ5IHN0cmlwcGluZ1xuICogYW55IGNvbW1vbiBwcmVmaXggb3Igc3VmZml4IG9mZiB0aGUgdGV4dHMgYmVmb3JlIGRpZmZpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgT2xkIHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgTmV3IHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfY2hlY2tsaW5lcyBPcHRpb25hbCBzcGVlZHVwIGZsYWcuIElmIHByZXNlbnQgYW5kIGZhbHNlLFxuICogICAgIHRoZW4gZG9uJ3QgcnVuIGEgbGluZS1sZXZlbCBkaWZmIGZpcnN0IHRvIGlkZW50aWZ5IHRoZSBjaGFuZ2VkIGFyZWFzLlxuICogICAgIERlZmF1bHRzIHRvIHRydWUsIHdoaWNoIGRvZXMgYSBmYXN0ZXIsIHNsaWdodGx5IGxlc3Mgb3B0aW1hbCBkaWZmLlxuICogQHBhcmFtIHtudW1iZXJ9IG9wdF9kZWFkbGluZSBPcHRpb25hbCB0aW1lIHdoZW4gdGhlIGRpZmYgc2hvdWxkIGJlIGNvbXBsZXRlXG4gKiAgICAgYnkuICBVc2VkIGludGVybmFsbHkgZm9yIHJlY3Vyc2l2ZSBjYWxscy4gIFVzZXJzIHNob3VsZCBzZXQgRGlmZlRpbWVvdXRcbiAqICAgICBpbnN0ZWFkLlxuICogQHJldHVybiB7IUFycmF5LjwhZGlmZl9tYXRjaF9wYXRjaC5EaWZmPn0gQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKi9cbmRpZmZfbWF0Y2hfcGF0Y2gucHJvdG90eXBlLmRpZmZfbWFpbiA9IGZ1bmN0aW9uKHRleHQxLCB0ZXh0Miwgb3B0X2NoZWNrbGluZXMsXG4gICAgb3B0X2RlYWRsaW5lKSB7XG4gIC8vIFNldCBhIGRlYWRsaW5lIGJ5IHdoaWNoIHRpbWUgdGhlIGRpZmYgbXVzdCBiZSBjb21wbGV0ZS5cbiAgaWYgKHR5cGVvZiBvcHRfZGVhZGxpbmUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodGhpcy5EaWZmX1RpbWVvdXQgPD0gMCkge1xuICAgICAgb3B0X2RlYWRsaW5lID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0X2RlYWRsaW5lID0gKG5ldyBEYXRlKS5nZXRUaW1lKCkgKyB0aGlzLkRpZmZfVGltZW91dCAqIDEwMDA7XG4gICAgfVxuICB9XG4gIHZhciBkZWFkbGluZSA9IG9wdF9kZWFkbGluZTtcblxuICAvLyBDaGVjayBmb3IgbnVsbCBpbnB1dHMuXG4gIGlmICh0ZXh0MSA9PSBudWxsIHx8IHRleHQyID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ051bGwgaW5wdXQuIChkaWZmX21haW4pJyk7XG4gIH1cblxuICAvLyBDaGVjayBmb3IgZXF1YWxpdHkgKHNwZWVkdXApLlxuICBpZiAodGV4dDEgPT0gdGV4dDIpIHtcbiAgICBpZiAodGV4dDEpIHtcbiAgICAgIHJldHVybiBbW0RJRkZfRVFVQUwsIHRleHQxXV07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0X2NoZWNrbGluZXMgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRfY2hlY2tsaW5lcyA9IHRydWU7XG4gIH1cbiAgdmFyIGNoZWNrbGluZXMgPSBvcHRfY2hlY2tsaW5lcztcblxuICAvLyBUcmltIG9mZiBjb21tb24gcHJlZml4IChzcGVlZHVwKS5cbiAgdmFyIGNvbW1vbmxlbmd0aCA9IHRoaXMuZGlmZl9jb21tb25QcmVmaXgodGV4dDEsIHRleHQyKTtcbiAgdmFyIGNvbW1vbnByZWZpeCA9IHRleHQxLnN1YnN0cmluZygwLCBjb21tb25sZW5ndGgpO1xuICB0ZXh0MSA9IHRleHQxLnN1YnN0cmluZyhjb21tb25sZW5ndGgpO1xuICB0ZXh0MiA9IHRleHQyLnN1YnN0cmluZyhjb21tb25sZW5ndGgpO1xuXG4gIC8vIFRyaW0gb2ZmIGNvbW1vbiBzdWZmaXggKHNwZWVkdXApLlxuICBjb21tb25sZW5ndGggPSB0aGlzLmRpZmZfY29tbW9uU3VmZml4KHRleHQxLCB0ZXh0Mik7XG4gIHZhciBjb21tb25zdWZmaXggPSB0ZXh0MS5zdWJzdHJpbmcodGV4dDEubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDEgPSB0ZXh0MS5zdWJzdHJpbmcoMCwgdGV4dDEubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDIgPSB0ZXh0Mi5zdWJzdHJpbmcoMCwgdGV4dDIubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcblxuICAvLyBDb21wdXRlIHRoZSBkaWZmIG9uIHRoZSBtaWRkbGUgYmxvY2suXG4gIHZhciBkaWZmcyA9IHRoaXMuZGlmZl9jb21wdXRlXyh0ZXh0MSwgdGV4dDIsIGNoZWNrbGluZXMsIGRlYWRsaW5lKTtcblxuICAvLyBSZXN0b3JlIHRoZSBwcmVmaXggYW5kIHN1ZmZpeC5cbiAgaWYgKGNvbW1vbnByZWZpeCkge1xuICAgIGRpZmZzLnVuc2hpZnQoW0RJRkZfRVFVQUwsIGNvbW1vbnByZWZpeF0pO1xuICB9XG4gIGlmIChjb21tb25zdWZmaXgpIHtcbiAgICBkaWZmcy5wdXNoKFtESUZGX0VRVUFMLCBjb21tb25zdWZmaXhdKTtcbiAgfVxuICB0aGlzLmRpZmZfY2xlYW51cE1lcmdlKGRpZmZzKTtcbiAgcmV0dXJuIGRpZmZzO1xufTtcblxuXG4vKipcbiAqIEZpbmQgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdHdvIHRleHRzLiAgQXNzdW1lcyB0aGF0IHRoZSB0ZXh0cyBkbyBub3RcbiAqIGhhdmUgYW55IGNvbW1vbiBwcmVmaXggb3Igc3VmZml4LlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtib29sZWFufSBjaGVja2xpbmVzIFNwZWVkdXAgZmxhZy4gIElmIGZhbHNlLCB0aGVuIGRvbid0IHJ1biBhXG4gKiAgICAgbGluZS1sZXZlbCBkaWZmIGZpcnN0IHRvIGlkZW50aWZ5IHRoZSBjaGFuZ2VkIGFyZWFzLlxuICogICAgIElmIHRydWUsIHRoZW4gcnVuIGEgZmFzdGVyLCBzbGlnaHRseSBsZXNzIG9wdGltYWwgZGlmZi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWFkbGluZSBUaW1lIHdoZW4gdGhlIGRpZmYgc2hvdWxkIGJlIGNvbXBsZXRlIGJ5LlxuICogQHJldHVybiB7IUFycmF5LjwhZGlmZl9tYXRjaF9wYXRjaC5EaWZmPn0gQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5kaWZmX2NvbXB1dGVfID0gZnVuY3Rpb24odGV4dDEsIHRleHQyLCBjaGVja2xpbmVzLFxuICAgIGRlYWRsaW5lKSB7XG4gIHZhciBkaWZmcztcblxuICBpZiAoIXRleHQxKSB7XG4gICAgLy8gSnVzdCBhZGQgc29tZSB0ZXh0IChzcGVlZHVwKS5cbiAgICByZXR1cm4gW1tESUZGX0lOU0VSVCwgdGV4dDJdXTtcbiAgfVxuXG4gIGlmICghdGV4dDIpIHtcbiAgICAvLyBKdXN0IGRlbGV0ZSBzb21lIHRleHQgKHNwZWVkdXApLlxuICAgIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV1dO1xuICB9XG5cbiAgdmFyIGxvbmd0ZXh0ID0gdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoID8gdGV4dDEgOiB0ZXh0MjtcbiAgdmFyIHNob3J0dGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQyIDogdGV4dDE7XG4gIHZhciBpID0gbG9uZ3RleHQuaW5kZXhPZihzaG9ydHRleHQpO1xuICBpZiAoaSAhPSAtMSkge1xuICAgIC8vIFNob3J0ZXIgdGV4dCBpcyBpbnNpZGUgdGhlIGxvbmdlciB0ZXh0IChzcGVlZHVwKS5cbiAgICBkaWZmcyA9IFtbRElGRl9JTlNFUlQsIGxvbmd0ZXh0LnN1YnN0cmluZygwLCBpKV0sXG4gICAgICAgICAgICAgW0RJRkZfRVFVQUwsIHNob3J0dGV4dF0sXG4gICAgICAgICAgICAgW0RJRkZfSU5TRVJULCBsb25ndGV4dC5zdWJzdHJpbmcoaSArIHNob3J0dGV4dC5sZW5ndGgpXV07XG4gICAgLy8gU3dhcCBpbnNlcnRpb25zIGZvciBkZWxldGlvbnMgaWYgZGlmZiBpcyByZXZlcnNlZC5cbiAgICBpZiAodGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoKSB7XG4gICAgICBkaWZmc1swXVswXSA9IGRpZmZzWzJdWzBdID0gRElGRl9ERUxFVEU7XG4gICAgfVxuICAgIHJldHVybiBkaWZmcztcbiAgfVxuXG4gIGlmIChzaG9ydHRleHQubGVuZ3RoID09IDEpIHtcbiAgICAvLyBTaW5nbGUgY2hhcmFjdGVyIHN0cmluZy5cbiAgICAvLyBBZnRlciB0aGUgcHJldmlvdXMgc3BlZWR1cCwgdGhlIGNoYXJhY3RlciBjYW4ndCBiZSBhbiBlcXVhbGl0eS5cbiAgICByZXR1cm4gW1tESUZGX0RFTEVURSwgdGV4dDFdLCBbRElGRl9JTlNFUlQsIHRleHQyXV07XG4gIH1cblxuICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIHByb2JsZW0gY2FuIGJlIHNwbGl0IGluIHR3by5cbiAgdmFyIGhtID0gdGhpcy5kaWZmX2hhbGZNYXRjaF8odGV4dDEsIHRleHQyKTtcbiAgaWYgKGhtKSB7XG4gICAgLy8gQSBoYWxmLW1hdGNoIHdhcyBmb3VuZCwgc29ydCBvdXQgdGhlIHJldHVybiBkYXRhLlxuICAgIHZhciB0ZXh0MV9hID0gaG1bMF07XG4gICAgdmFyIHRleHQxX2IgPSBobVsxXTtcbiAgICB2YXIgdGV4dDJfYSA9IGhtWzJdO1xuICAgIHZhciB0ZXh0Ml9iID0gaG1bM107XG4gICAgdmFyIG1pZF9jb21tb24gPSBobVs0XTtcbiAgICAvLyBTZW5kIGJvdGggcGFpcnMgb2ZmIGZvciBzZXBhcmF0ZSBwcm9jZXNzaW5nLlxuICAgIHZhciBkaWZmc19hID0gdGhpcy5kaWZmX21haW4odGV4dDFfYSwgdGV4dDJfYSwgY2hlY2tsaW5lcywgZGVhZGxpbmUpO1xuICAgIHZhciBkaWZmc19iID0gdGhpcy5kaWZmX21haW4odGV4dDFfYiwgdGV4dDJfYiwgY2hlY2tsaW5lcywgZGVhZGxpbmUpO1xuICAgIC8vIE1lcmdlIHRoZSByZXN1bHRzLlxuICAgIHJldHVybiBkaWZmc19hLmNvbmNhdChbW0RJRkZfRVFVQUwsIG1pZF9jb21tb25dXSwgZGlmZnNfYik7XG4gIH1cblxuICBpZiAoY2hlY2tsaW5lcyAmJiB0ZXh0MS5sZW5ndGggPiAxMDAgJiYgdGV4dDIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlmZl9saW5lTW9kZV8odGV4dDEsIHRleHQyLCBkZWFkbGluZSk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5kaWZmX2Jpc2VjdF8odGV4dDEsIHRleHQyLCBkZWFkbGluZSk7XG59O1xuXG5cbi8qKlxuICogRG8gYSBxdWljayBsaW5lLWxldmVsIGRpZmYgb24gYm90aCBzdHJpbmdzLCB0aGVuIHJlZGlmZiB0aGUgcGFydHMgZm9yXG4gKiBncmVhdGVyIGFjY3VyYWN5LlxuICogVGhpcyBzcGVlZHVwIGNhbiBwcm9kdWNlIG5vbi1taW5pbWFsIGRpZmZzLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlYWRsaW5lIFRpbWUgd2hlbiB0aGUgZGlmZiBzaG91bGQgYmUgY29tcGxldGUgYnkuXG4gKiBAcmV0dXJuIHshQXJyYXkuPCFkaWZmX21hdGNoX3BhdGNoLkRpZmY+fSBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqIEBwcml2YXRlXG4gKi9cbmRpZmZfbWF0Y2hfcGF0Y2gucHJvdG90eXBlLmRpZmZfbGluZU1vZGVfID0gZnVuY3Rpb24odGV4dDEsIHRleHQyLCBkZWFkbGluZSkge1xuICAvLyBTY2FuIHRoZSB0ZXh0IG9uIGEgbGluZS1ieS1saW5lIGJhc2lzIGZpcnN0LlxuICB2YXIgYSA9IHRoaXMuZGlmZl9saW5lc1RvQ2hhcnNfKHRleHQxLCB0ZXh0Mik7XG4gIHRleHQxID0gYS5jaGFyczE7XG4gIHRleHQyID0gYS5jaGFyczI7XG4gIHZhciBsaW5lYXJyYXkgPSBhLmxpbmVBcnJheTtcblxuICB2YXIgZGlmZnMgPSB0aGlzLmRpZmZfbWFpbih0ZXh0MSwgdGV4dDIsIGZhbHNlLCBkZWFkbGluZSk7XG5cbiAgLy8gQ29udmVydCB0aGUgZGlmZiBiYWNrIHRvIG9yaWdpbmFsIHRleHQuXG4gIHRoaXMuZGlmZl9jaGFyc1RvTGluZXNfKGRpZmZzLCBsaW5lYXJyYXkpO1xuICAvLyBFbGltaW5hdGUgZnJlYWsgbWF0Y2hlcyAoZS5nLiBibGFuayBsaW5lcylcbiAgdGhpcy5kaWZmX2NsZWFudXBTZW1hbnRpYyhkaWZmcyk7XG5cbiAgLy8gUmVkaWZmIGFueSByZXBsYWNlbWVudCBibG9ja3MsIHRoaXMgdGltZSBjaGFyYWN0ZXItYnktY2hhcmFjdGVyLlxuICAvLyBBZGQgYSBkdW1teSBlbnRyeSBhdCB0aGUgZW5kLlxuICBkaWZmcy5wdXNoKFtESUZGX0VRVUFMLCAnJ10pO1xuICB2YXIgcG9pbnRlciA9IDA7XG4gIHZhciBjb3VudF9kZWxldGUgPSAwO1xuICB2YXIgY291bnRfaW5zZXJ0ID0gMDtcbiAgdmFyIHRleHRfZGVsZXRlID0gJyc7XG4gIHZhciB0ZXh0X2luc2VydCA9ICcnO1xuICB3aGlsZSAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCkge1xuICAgIHN3aXRjaCAoZGlmZnNbcG9pbnRlcl1bMF0pIHtcbiAgICAgIGNhc2UgRElGRl9JTlNFUlQ6XG4gICAgICAgIGNvdW50X2luc2VydCsrO1xuICAgICAgICB0ZXh0X2luc2VydCArPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfREVMRVRFOlxuICAgICAgICBjb3VudF9kZWxldGUrKztcbiAgICAgICAgdGV4dF9kZWxldGUgKz0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0VRVUFMOlxuICAgICAgICAvLyBVcG9uIHJlYWNoaW5nIGFuIGVxdWFsaXR5LCBjaGVjayBmb3IgcHJpb3IgcmVkdW5kYW5jaWVzLlxuICAgICAgICBpZiAoY291bnRfZGVsZXRlID49IDEgJiYgY291bnRfaW5zZXJ0ID49IDEpIHtcbiAgICAgICAgICAvLyBEZWxldGUgdGhlIG9mZmVuZGluZyByZWNvcmRzIGFuZCBhZGQgdGhlIG1lcmdlZCBvbmVzLlxuICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyIC0gY291bnRfZGVsZXRlIC0gY291bnRfaW5zZXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICBjb3VudF9kZWxldGUgKyBjb3VudF9pbnNlcnQpO1xuICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gY291bnRfZGVsZXRlIC0gY291bnRfaW5zZXJ0O1xuICAgICAgICAgIHZhciBhID0gdGhpcy5kaWZmX21haW4odGV4dF9kZWxldGUsIHRleHRfaW5zZXJ0LCBmYWxzZSwgZGVhZGxpbmUpO1xuICAgICAgICAgIGZvciAodmFyIGogPSBhLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMCwgYVtqXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyICsgYS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgY291bnRfaW5zZXJ0ID0gMDtcbiAgICAgICAgY291bnRfZGVsZXRlID0gMDtcbiAgICAgICAgdGV4dF9kZWxldGUgPSAnJztcbiAgICAgICAgdGV4dF9pbnNlcnQgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHBvaW50ZXIrKztcbiAgfVxuICBkaWZmcy5wb3AoKTsgIC8vIFJlbW92ZSB0aGUgZHVtbXkgZW50cnkgYXQgdGhlIGVuZC5cblxuICByZXR1cm4gZGlmZnM7XG59O1xuXG5cbi8qKlxuICogRmluZCB0aGUgJ21pZGRsZSBzbmFrZScgb2YgYSBkaWZmLCBzcGxpdCB0aGUgcHJvYmxlbSBpbiB0d29cbiAqIGFuZCByZXR1cm4gdGhlIHJlY3Vyc2l2ZWx5IGNvbnN0cnVjdGVkIGRpZmYuXG4gKiBTZWUgTXllcnMgMTk4NiBwYXBlcjogQW4gTyhORCkgRGlmZmVyZW5jZSBBbGdvcml0aG0gYW5kIEl0cyBWYXJpYXRpb25zLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlYWRsaW5lIFRpbWUgYXQgd2hpY2ggdG8gYmFpbCBpZiBub3QgeWV0IGNvbXBsZXRlLlxuICogQHJldHVybiB7IUFycmF5LjwhZGlmZl9tYXRjaF9wYXRjaC5EaWZmPn0gQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5kaWZmX2Jpc2VjdF8gPSBmdW5jdGlvbih0ZXh0MSwgdGV4dDIsIGRlYWRsaW5lKSB7XG4gIC8vIENhY2hlIHRoZSB0ZXh0IGxlbmd0aHMgdG8gcHJldmVudCBtdWx0aXBsZSBjYWxscy5cbiAgdmFyIHRleHQxX2xlbmd0aCA9IHRleHQxLmxlbmd0aDtcbiAgdmFyIHRleHQyX2xlbmd0aCA9IHRleHQyLmxlbmd0aDtcbiAgdmFyIG1heF9kID0gTWF0aC5jZWlsKCh0ZXh0MV9sZW5ndGggKyB0ZXh0Ml9sZW5ndGgpIC8gMik7XG4gIHZhciB2X29mZnNldCA9IG1heF9kO1xuICB2YXIgdl9sZW5ndGggPSAyICogbWF4X2Q7XG4gIHZhciB2MSA9IG5ldyBBcnJheSh2X2xlbmd0aCk7XG4gIHZhciB2MiA9IG5ldyBBcnJheSh2X2xlbmd0aCk7XG4gIC8vIFNldHRpbmcgYWxsIGVsZW1lbnRzIHRvIC0xIGlzIGZhc3RlciBpbiBDaHJvbWUgJiBGaXJlZm94IHRoYW4gbWl4aW5nXG4gIC8vIGludGVnZXJzIGFuZCB1bmRlZmluZWQuXG4gIGZvciAodmFyIHggPSAwOyB4IDwgdl9sZW5ndGg7IHgrKykge1xuICAgIHYxW3hdID0gLTE7XG4gICAgdjJbeF0gPSAtMTtcbiAgfVxuICB2MVt2X29mZnNldCArIDFdID0gMDtcbiAgdjJbdl9vZmZzZXQgKyAxXSA9IDA7XG4gIHZhciBkZWx0YSA9IHRleHQxX2xlbmd0aCAtIHRleHQyX2xlbmd0aDtcbiAgLy8gSWYgdGhlIHRvdGFsIG51bWJlciBvZiBjaGFyYWN0ZXJzIGlzIG9kZCwgdGhlbiB0aGUgZnJvbnQgcGF0aCB3aWxsIGNvbGxpZGVcbiAgLy8gd2l0aCB0aGUgcmV2ZXJzZSBwYXRoLlxuICB2YXIgZnJvbnQgPSAoZGVsdGEgJSAyICE9IDApO1xuICAvLyBPZmZzZXRzIGZvciBzdGFydCBhbmQgZW5kIG9mIGsgbG9vcC5cbiAgLy8gUHJldmVudHMgbWFwcGluZyBvZiBzcGFjZSBiZXlvbmQgdGhlIGdyaWQuXG4gIHZhciBrMXN0YXJ0ID0gMDtcbiAgdmFyIGsxZW5kID0gMDtcbiAgdmFyIGsyc3RhcnQgPSAwO1xuICB2YXIgazJlbmQgPSAwO1xuICBmb3IgKHZhciBkID0gMDsgZCA8IG1heF9kOyBkKyspIHtcbiAgICAvLyBCYWlsIG91dCBpZiBkZWFkbGluZSBpcyByZWFjaGVkLlxuICAgIGlmICgobmV3IERhdGUoKSkuZ2V0VGltZSgpID4gZGVhZGxpbmUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIFdhbGsgdGhlIGZyb250IHBhdGggb25lIHN0ZXAuXG4gICAgZm9yICh2YXIgazEgPSAtZCArIGsxc3RhcnQ7IGsxIDw9IGQgLSBrMWVuZDsgazEgKz0gMikge1xuICAgICAgdmFyIGsxX29mZnNldCA9IHZfb2Zmc2V0ICsgazE7XG4gICAgICB2YXIgeDE7XG4gICAgICBpZiAoazEgPT0gLWQgfHwgKGsxICE9IGQgJiYgdjFbazFfb2Zmc2V0IC0gMV0gPCB2MVtrMV9vZmZzZXQgKyAxXSkpIHtcbiAgICAgICAgeDEgPSB2MVtrMV9vZmZzZXQgKyAxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHgxID0gdjFbazFfb2Zmc2V0IC0gMV0gKyAxO1xuICAgICAgfVxuICAgICAgdmFyIHkxID0geDEgLSBrMTtcbiAgICAgIHdoaWxlICh4MSA8IHRleHQxX2xlbmd0aCAmJiB5MSA8IHRleHQyX2xlbmd0aCAmJlxuICAgICAgICAgICAgIHRleHQxLmNoYXJBdCh4MSkgPT0gdGV4dDIuY2hhckF0KHkxKSkge1xuICAgICAgICB4MSsrO1xuICAgICAgICB5MSsrO1xuICAgICAgfVxuICAgICAgdjFbazFfb2Zmc2V0XSA9IHgxO1xuICAgICAgaWYgKHgxID4gdGV4dDFfbGVuZ3RoKSB7XG4gICAgICAgIC8vIFJhbiBvZmYgdGhlIHJpZ2h0IG9mIHRoZSBncmFwaC5cbiAgICAgICAgazFlbmQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoeTEgPiB0ZXh0Ml9sZW5ndGgpIHtcbiAgICAgICAgLy8gUmFuIG9mZiB0aGUgYm90dG9tIG9mIHRoZSBncmFwaC5cbiAgICAgICAgazFzdGFydCArPSAyO1xuICAgICAgfSBlbHNlIGlmIChmcm9udCkge1xuICAgICAgICB2YXIgazJfb2Zmc2V0ID0gdl9vZmZzZXQgKyBkZWx0YSAtIGsxO1xuICAgICAgICBpZiAoazJfb2Zmc2V0ID49IDAgJiYgazJfb2Zmc2V0IDwgdl9sZW5ndGggJiYgdjJbazJfb2Zmc2V0XSAhPSAtMSkge1xuICAgICAgICAgIC8vIE1pcnJvciB4MiBvbnRvIHRvcC1sZWZ0IGNvb3JkaW5hdGUgc3lzdGVtLlxuICAgICAgICAgIHZhciB4MiA9IHRleHQxX2xlbmd0aCAtIHYyW2syX29mZnNldF07XG4gICAgICAgICAgaWYgKHgxID49IHgyKSB7XG4gICAgICAgICAgICAvLyBPdmVybGFwIGRldGVjdGVkLlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlmZl9iaXNlY3RTcGxpdF8odGV4dDEsIHRleHQyLCB4MSwgeTEsIGRlYWRsaW5lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXYWxrIHRoZSByZXZlcnNlIHBhdGggb25lIHN0ZXAuXG4gICAgZm9yICh2YXIgazIgPSAtZCArIGsyc3RhcnQ7IGsyIDw9IGQgLSBrMmVuZDsgazIgKz0gMikge1xuICAgICAgdmFyIGsyX29mZnNldCA9IHZfb2Zmc2V0ICsgazI7XG4gICAgICB2YXIgeDI7XG4gICAgICBpZiAoazIgPT0gLWQgfHwgKGsyICE9IGQgJiYgdjJbazJfb2Zmc2V0IC0gMV0gPCB2MltrMl9vZmZzZXQgKyAxXSkpIHtcbiAgICAgICAgeDIgPSB2MltrMl9vZmZzZXQgKyAxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHgyID0gdjJbazJfb2Zmc2V0IC0gMV0gKyAxO1xuICAgICAgfVxuICAgICAgdmFyIHkyID0geDIgLSBrMjtcbiAgICAgIHdoaWxlICh4MiA8IHRleHQxX2xlbmd0aCAmJiB5MiA8IHRleHQyX2xlbmd0aCAmJlxuICAgICAgICAgICAgIHRleHQxLmNoYXJBdCh0ZXh0MV9sZW5ndGggLSB4MiAtIDEpID09XG4gICAgICAgICAgICAgdGV4dDIuY2hhckF0KHRleHQyX2xlbmd0aCAtIHkyIC0gMSkpIHtcbiAgICAgICAgeDIrKztcbiAgICAgICAgeTIrKztcbiAgICAgIH1cbiAgICAgIHYyW2syX29mZnNldF0gPSB4MjtcbiAgICAgIGlmICh4MiA+IHRleHQxX2xlbmd0aCkge1xuICAgICAgICAvLyBSYW4gb2ZmIHRoZSBsZWZ0IG9mIHRoZSBncmFwaC5cbiAgICAgICAgazJlbmQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoeTIgPiB0ZXh0Ml9sZW5ndGgpIHtcbiAgICAgICAgLy8gUmFuIG9mZiB0aGUgdG9wIG9mIHRoZSBncmFwaC5cbiAgICAgICAgazJzdGFydCArPSAyO1xuICAgICAgfSBlbHNlIGlmICghZnJvbnQpIHtcbiAgICAgICAgdmFyIGsxX29mZnNldCA9IHZfb2Zmc2V0ICsgZGVsdGEgLSBrMjtcbiAgICAgICAgaWYgKGsxX29mZnNldCA+PSAwICYmIGsxX29mZnNldCA8IHZfbGVuZ3RoICYmIHYxW2sxX29mZnNldF0gIT0gLTEpIHtcbiAgICAgICAgICB2YXIgeDEgPSB2MVtrMV9vZmZzZXRdO1xuICAgICAgICAgIHZhciB5MSA9IHZfb2Zmc2V0ICsgeDEgLSBrMV9vZmZzZXQ7XG4gICAgICAgICAgLy8gTWlycm9yIHgyIG9udG8gdG9wLWxlZnQgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAgICAgICAgeDIgPSB0ZXh0MV9sZW5ndGggLSB4MjtcbiAgICAgICAgICBpZiAoeDEgPj0geDIpIHtcbiAgICAgICAgICAgIC8vIE92ZXJsYXAgZGV0ZWN0ZWQuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaWZmX2Jpc2VjdFNwbGl0Xyh0ZXh0MSwgdGV4dDIsIHgxLCB5MSwgZGVhZGxpbmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBEaWZmIHRvb2sgdG9vIGxvbmcgYW5kIGhpdCB0aGUgZGVhZGxpbmUgb3JcbiAgLy8gbnVtYmVyIG9mIGRpZmZzIGVxdWFscyBudW1iZXIgb2YgY2hhcmFjdGVycywgbm8gY29tbW9uYWxpdHkgYXQgYWxsLlxuICByZXR1cm4gW1tESUZGX0RFTEVURSwgdGV4dDFdLCBbRElGRl9JTlNFUlQsIHRleHQyXV07XG59O1xuXG5cbi8qKlxuICogR2l2ZW4gdGhlIGxvY2F0aW9uIG9mIHRoZSAnbWlkZGxlIHNuYWtlJywgc3BsaXQgdGhlIGRpZmYgaW4gdHdvIHBhcnRzXG4gKiBhbmQgcmVjdXJzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MSBPbGQgc3RyaW5nIHRvIGJlIGRpZmZlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MiBOZXcgc3RyaW5nIHRvIGJlIGRpZmZlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IEluZGV4IG9mIHNwbGl0IHBvaW50IGluIHRleHQxLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgSW5kZXggb2Ygc3BsaXQgcG9pbnQgaW4gdGV4dDIuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVhZGxpbmUgVGltZSBhdCB3aGljaCB0byBiYWlsIGlmIG5vdCB5ZXQgY29tcGxldGUuXG4gKiBAcmV0dXJuIHshQXJyYXkuPCFkaWZmX21hdGNoX3BhdGNoLkRpZmY+fSBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqIEBwcml2YXRlXG4gKi9cbmRpZmZfbWF0Y2hfcGF0Y2gucHJvdG90eXBlLmRpZmZfYmlzZWN0U3BsaXRfID0gZnVuY3Rpb24odGV4dDEsIHRleHQyLCB4LCB5LFxuICAgIGRlYWRsaW5lKSB7XG4gIHZhciB0ZXh0MWEgPSB0ZXh0MS5zdWJzdHJpbmcoMCwgeCk7XG4gIHZhciB0ZXh0MmEgPSB0ZXh0Mi5zdWJzdHJpbmcoMCwgeSk7XG4gIHZhciB0ZXh0MWIgPSB0ZXh0MS5zdWJzdHJpbmcoeCk7XG4gIHZhciB0ZXh0MmIgPSB0ZXh0Mi5zdWJzdHJpbmcoeSk7XG5cbiAgLy8gQ29tcHV0ZSBib3RoIGRpZmZzIHNlcmlhbGx5LlxuICB2YXIgZGlmZnMgPSB0aGlzLmRpZmZfbWFpbih0ZXh0MWEsIHRleHQyYSwgZmFsc2UsIGRlYWRsaW5lKTtcbiAgdmFyIGRpZmZzYiA9IHRoaXMuZGlmZl9tYWluKHRleHQxYiwgdGV4dDJiLCBmYWxzZSwgZGVhZGxpbmUpO1xuXG4gIHJldHVybiBkaWZmcy5jb25jYXQoZGlmZnNiKTtcbn07XG5cblxuLyoqXG4gKiBTcGxpdCB0d28gdGV4dHMgaW50byBhbiBhcnJheSBvZiBzdHJpbmdzLiAgUmVkdWNlIHRoZSB0ZXh0cyB0byBhIHN0cmluZyBvZlxuICogaGFzaGVzIHdoZXJlIGVhY2ggVW5pY29kZSBjaGFyYWN0ZXIgcmVwcmVzZW50cyBvbmUgbGluZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MSBGaXJzdCBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgU2Vjb25kIHN0cmluZy5cbiAqIEByZXR1cm4ge3tjaGFyczE6IHN0cmluZywgY2hhcnMyOiBzdHJpbmcsIGxpbmVBcnJheTogIUFycmF5LjxzdHJpbmc+fX1cbiAqICAgICBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgZW5jb2RlZCB0ZXh0MSwgdGhlIGVuY29kZWQgdGV4dDIgYW5kXG4gKiAgICAgdGhlIGFycmF5IG9mIHVuaXF1ZSBzdHJpbmdzLlxuICogICAgIFRoZSB6ZXJvdGggZWxlbWVudCBvZiB0aGUgYXJyYXkgb2YgdW5pcXVlIHN0cmluZ3MgaXMgaW50ZW50aW9uYWxseSBibGFuay5cbiAqIEBwcml2YXRlXG4gKi9cbmRpZmZfbWF0Y2hfcGF0Y2gucHJvdG90eXBlLmRpZmZfbGluZXNUb0NoYXJzXyA9IGZ1bmN0aW9uKHRleHQxLCB0ZXh0Mikge1xuICB2YXIgbGluZUFycmF5ID0gW107ICAvLyBlLmcuIGxpbmVBcnJheVs0XSA9PSAnSGVsbG9cXG4nXG4gIHZhciBsaW5lSGFzaCA9IHt9OyAgIC8vIGUuZy4gbGluZUhhc2hbJ0hlbGxvXFxuJ10gPT0gNFxuXG4gIC8vICdcXHgwMCcgaXMgYSB2YWxpZCBjaGFyYWN0ZXIsIGJ1dCB2YXJpb3VzIGRlYnVnZ2VycyBkb24ndCBsaWtlIGl0LlxuICAvLyBTbyB3ZSdsbCBpbnNlcnQgYSBqdW5rIGVudHJ5IHRvIGF2b2lkIGdlbmVyYXRpbmcgYSBudWxsIGNoYXJhY3Rlci5cbiAgbGluZUFycmF5WzBdID0gJyc7XG5cbiAgLyoqXG4gICAqIFNwbGl0IGEgdGV4dCBpbnRvIGFuIGFycmF5IG9mIHN0cmluZ3MuICBSZWR1Y2UgdGhlIHRleHRzIHRvIGEgc3RyaW5nIG9mXG4gICAqIGhhc2hlcyB3aGVyZSBlYWNoIFVuaWNvZGUgY2hhcmFjdGVyIHJlcHJlc2VudHMgb25lIGxpbmUuXG4gICAqIE1vZGlmaWVzIGxpbmVhcnJheSBhbmQgbGluZWhhc2ggdGhyb3VnaCBiZWluZyBhIGNsb3N1cmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFN0cmluZyB0byBlbmNvZGUuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gRW5jb2RlZCBzdHJpbmcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBkaWZmX2xpbmVzVG9DaGFyc011bmdlXyh0ZXh0KSB7XG4gICAgdmFyIGNoYXJzID0gJyc7XG4gICAgLy8gV2FsayB0aGUgdGV4dCwgcHVsbGluZyBvdXQgYSBzdWJzdHJpbmcgZm9yIGVhY2ggbGluZS5cbiAgICAvLyB0ZXh0LnNwbGl0KCdcXG4nKSB3b3VsZCB3b3VsZCB0ZW1wb3JhcmlseSBkb3VibGUgb3VyIG1lbW9yeSBmb290cHJpbnQuXG4gICAgLy8gTW9kaWZ5aW5nIHRleHQgd291bGQgY3JlYXRlIG1hbnkgbGFyZ2Ugc3RyaW5ncyB0byBnYXJiYWdlIGNvbGxlY3QuXG4gICAgdmFyIGxpbmVTdGFydCA9IDA7XG4gICAgdmFyIGxpbmVFbmQgPSAtMTtcbiAgICAvLyBLZWVwaW5nIG91ciBvd24gbGVuZ3RoIHZhcmlhYmxlIGlzIGZhc3RlciB0aGFuIGxvb2tpbmcgaXQgdXAuXG4gICAgdmFyIGxpbmVBcnJheUxlbmd0aCA9IGxpbmVBcnJheS5sZW5ndGg7XG4gICAgd2hpbGUgKGxpbmVFbmQgPCB0ZXh0Lmxlbmd0aCAtIDEpIHtcbiAgICAgIGxpbmVFbmQgPSB0ZXh0LmluZGV4T2YoJ1xcbicsIGxpbmVTdGFydCk7XG4gICAgICBpZiAobGluZUVuZCA9PSAtMSkge1xuICAgICAgICBsaW5lRW5kID0gdGV4dC5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgICAgdmFyIGxpbmUgPSB0ZXh0LnN1YnN0cmluZyhsaW5lU3RhcnQsIGxpbmVFbmQgKyAxKTtcbiAgICAgIGxpbmVTdGFydCA9IGxpbmVFbmQgKyAxO1xuXG4gICAgICBpZiAobGluZUhhc2guaGFzT3duUHJvcGVydHkgPyBsaW5lSGFzaC5oYXNPd25Qcm9wZXJ0eShsaW5lKSA6XG4gICAgICAgICAgKGxpbmVIYXNoW2xpbmVdICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIGNoYXJzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobGluZUhhc2hbbGluZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhcnMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShsaW5lQXJyYXlMZW5ndGgpO1xuICAgICAgICBsaW5lSGFzaFtsaW5lXSA9IGxpbmVBcnJheUxlbmd0aDtcbiAgICAgICAgbGluZUFycmF5W2xpbmVBcnJheUxlbmd0aCsrXSA9IGxpbmU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFycztcbiAgfVxuXG4gIHZhciBjaGFyczEgPSBkaWZmX2xpbmVzVG9DaGFyc011bmdlXyh0ZXh0MSk7XG4gIHZhciBjaGFyczIgPSBkaWZmX2xpbmVzVG9DaGFyc011bmdlXyh0ZXh0Mik7XG4gIHJldHVybiB7Y2hhcnMxOiBjaGFyczEsIGNoYXJzMjogY2hhcnMyLCBsaW5lQXJyYXk6IGxpbmVBcnJheX07XG59O1xuXG5cbi8qKlxuICogUmVoeWRyYXRlIHRoZSB0ZXh0IGluIGEgZGlmZiBmcm9tIGEgc3RyaW5nIG9mIGxpbmUgaGFzaGVzIHRvIHJlYWwgbGluZXMgb2ZcbiAqIHRleHQuXG4gKiBAcGFyYW0geyFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2guRGlmZj59IGRpZmZzIEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHBhcmFtIHshQXJyYXkuPHN0cmluZz59IGxpbmVBcnJheSBBcnJheSBvZiB1bmlxdWUgc3RyaW5ncy5cbiAqIEBwcml2YXRlXG4gKi9cbmRpZmZfbWF0Y2hfcGF0Y2gucHJvdG90eXBlLmRpZmZfY2hhcnNUb0xpbmVzXyA9IGZ1bmN0aW9uKGRpZmZzLCBsaW5lQXJyYXkpIHtcbiAgZm9yICh2YXIgeCA9IDA7IHggPCBkaWZmcy5sZW5ndGg7IHgrKykge1xuICAgIHZhciBjaGFycyA9IGRpZmZzW3hdWzFdO1xuICAgIHZhciB0ZXh0ID0gW107XG4gICAgZm9yICh2YXIgeSA9IDA7IHkgPCBjaGFycy5sZW5ndGg7IHkrKykge1xuICAgICAgdGV4dFt5XSA9IGxpbmVBcnJheVtjaGFycy5jaGFyQ29kZUF0KHkpXTtcbiAgICB9XG4gICAgZGlmZnNbeF1bMV0gPSB0ZXh0LmpvaW4oJycpO1xuICB9XG59O1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSBjb21tb24gcHJlZml4IG9mIHR3byBzdHJpbmdzLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIEZpcnN0IHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MiBTZWNvbmQgc3RyaW5nLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgY29tbW9uIHRvIHRoZSBzdGFydCBvZiBlYWNoXG4gKiAgICAgc3RyaW5nLlxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5kaWZmX2NvbW1vblByZWZpeCA9IGZ1bmN0aW9uKHRleHQxLCB0ZXh0Mikge1xuICAvLyBRdWljayBjaGVjayBmb3IgY29tbW9uIG51bGwgY2FzZXMuXG4gIGlmICghdGV4dDEgfHwgIXRleHQyIHx8IHRleHQxLmNoYXJBdCgwKSAhPSB0ZXh0Mi5jaGFyQXQoMCkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICAvLyBCaW5hcnkgc2VhcmNoLlxuICAvLyBQZXJmb3JtYW5jZSBhbmFseXNpczogaHR0cDovL25laWwuZnJhc2VyLm5hbWUvbmV3cy8yMDA3LzEwLzA5L1xuICB2YXIgcG9pbnRlcm1pbiA9IDA7XG4gIHZhciBwb2ludGVybWF4ID0gTWF0aC5taW4odGV4dDEubGVuZ3RoLCB0ZXh0Mi5sZW5ndGgpO1xuICB2YXIgcG9pbnRlcm1pZCA9IHBvaW50ZXJtYXg7XG4gIHZhciBwb2ludGVyc3RhcnQgPSAwO1xuICB3aGlsZSAocG9pbnRlcm1pbiA8IHBvaW50ZXJtaWQpIHtcbiAgICBpZiAodGV4dDEuc3Vic3RyaW5nKHBvaW50ZXJzdGFydCwgcG9pbnRlcm1pZCkgPT1cbiAgICAgICAgdGV4dDIuc3Vic3RyaW5nKHBvaW50ZXJzdGFydCwgcG9pbnRlcm1pZCkpIHtcbiAgICAgIHBvaW50ZXJtaW4gPSBwb2ludGVybWlkO1xuICAgICAgcG9pbnRlcnN0YXJ0ID0gcG9pbnRlcm1pbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9pbnRlcm1heCA9IHBvaW50ZXJtaWQ7XG4gICAgfVxuICAgIHBvaW50ZXJtaWQgPSBNYXRoLmZsb29yKChwb2ludGVybWF4IC0gcG9pbnRlcm1pbikgLyAyICsgcG9pbnRlcm1pbik7XG4gIH1cbiAgcmV0dXJuIHBvaW50ZXJtaWQ7XG59O1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSBjb21tb24gc3VmZml4IG9mIHR3byBzdHJpbmdzLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIEZpcnN0IHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MiBTZWNvbmQgc3RyaW5nLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgY29tbW9uIHRvIHRoZSBlbmQgb2YgZWFjaCBzdHJpbmcuXG4gKi9cbmRpZmZfbWF0Y2hfcGF0Y2gucHJvdG90eXBlLmRpZmZfY29tbW9uU3VmZml4ID0gZnVuY3Rpb24odGV4dDEsIHRleHQyKSB7XG4gIC8vIFF1aWNrIGNoZWNrIGZvciBjb21tb24gbnVsbCBjYXNlcy5cbiAgaWYgKCF0ZXh0MSB8fCAhdGV4dDIgfHxcbiAgICAgIHRleHQxLmNoYXJBdCh0ZXh0MS5sZW5ndGggLSAxKSAhPSB0ZXh0Mi5jaGFyQXQodGV4dDIubGVuZ3RoIC0gMSkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICAvLyBCaW5hcnkgc2VhcmNoLlxuICAvLyBQZXJmb3JtYW5jZSBhbmFseXNpczogaHR0cDovL25laWwuZnJhc2VyLm5hbWUvbmV3cy8yMDA3LzEwLzA5L1xuICB2YXIgcG9pbnRlcm1pbiA9IDA7XG4gIHZhciBwb2ludGVybWF4ID0gTWF0aC5taW4odGV4dDEubGVuZ3RoLCB0ZXh0Mi5sZW5ndGgpO1xuICB2YXIgcG9pbnRlcm1pZCA9IHBvaW50ZXJtYXg7XG4gIHZhciBwb2ludGVyZW5kID0gMDtcbiAgd2hpbGUgKHBvaW50ZXJtaW4gPCBwb2ludGVybWlkKSB7XG4gICAgaWYgKHRleHQxLnN1YnN0cmluZyh0ZXh0MS5sZW5ndGggLSBwb2ludGVybWlkLCB0ZXh0MS5sZW5ndGggLSBwb2ludGVyZW5kKSA9PVxuICAgICAgICB0ZXh0Mi5zdWJzdHJpbmcodGV4dDIubGVuZ3RoIC0gcG9pbnRlcm1pZCwgdGV4dDIubGVuZ3RoIC0gcG9pbnRlcmVuZCkpIHtcbiAgICAgIHBvaW50ZXJtaW4gPSBwb2ludGVybWlkO1xuICAgICAgcG9pbnRlcmVuZCA9IHBvaW50ZXJtaW47XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50ZXJtYXggPSBwb2ludGVybWlkO1xuICAgIH1cbiAgICBwb2ludGVybWlkID0gTWF0aC5mbG9vcigocG9pbnRlcm1heCAtIHBvaW50ZXJtaW4pIC8gMiArIHBvaW50ZXJtaW4pO1xuICB9XG4gIHJldHVybiBwb2ludGVybWlkO1xufTtcblxuXG4vKipcbiAqIERldGVybWluZSBpZiB0aGUgc3VmZml4IG9mIG9uZSBzdHJpbmcgaXMgdGhlIHByZWZpeCBvZiBhbm90aGVyLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIEZpcnN0IHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MiBTZWNvbmQgc3RyaW5nLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgY29tbW9uIHRvIHRoZSBlbmQgb2YgdGhlIGZpcnN0XG4gKiAgICAgc3RyaW5nIGFuZCB0aGUgc3RhcnQgb2YgdGhlIHNlY29uZCBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5kaWZmX2NvbW1vbk92ZXJsYXBfID0gZnVuY3Rpb24odGV4dDEsIHRleHQyKSB7XG4gIC8vIENhY2hlIHRoZSB0ZXh0IGxlbmd0aHMgdG8gcHJldmVudCBtdWx0aXBsZSBjYWxscy5cbiAgdmFyIHRleHQxX2xlbmd0aCA9IHRleHQxLmxlbmd0aDtcbiAgdmFyIHRleHQyX2xlbmd0aCA9IHRleHQyLmxlbmd0aDtcbiAgLy8gRWxpbWluYXRlIHRoZSBudWxsIGNhc2UuXG4gIGlmICh0ZXh0MV9sZW5ndGggPT0gMCB8fCB0ZXh0Ml9sZW5ndGggPT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIC8vIFRydW5jYXRlIHRoZSBsb25nZXIgc3RyaW5nLlxuICBpZiAodGV4dDFfbGVuZ3RoID4gdGV4dDJfbGVuZ3RoKSB7XG4gICAgdGV4dDEgPSB0ZXh0MS5zdWJzdHJpbmcodGV4dDFfbGVuZ3RoIC0gdGV4dDJfbGVuZ3RoKTtcbiAgfSBlbHNlIGlmICh0ZXh0MV9sZW5ndGggPCB0ZXh0Ml9sZW5ndGgpIHtcbiAgICB0ZXh0MiA9IHRleHQyLnN1YnN0cmluZygwLCB0ZXh0MV9sZW5ndGgpO1xuICB9XG4gIHZhciB0ZXh0X2xlbmd0aCA9IE1hdGgubWluKHRleHQxX2xlbmd0aCwgdGV4dDJfbGVuZ3RoKTtcbiAgLy8gUXVpY2sgY2hlY2sgZm9yIHRoZSB3b3JzdCBjYXNlLlxuICBpZiAodGV4dDEgPT0gdGV4dDIpIHtcbiAgICByZXR1cm4gdGV4dF9sZW5ndGg7XG4gIH1cblxuICAvLyBTdGFydCBieSBsb29raW5nIGZvciBhIHNpbmdsZSBjaGFyYWN0ZXIgbWF0Y2hcbiAgLy8gYW5kIGluY3JlYXNlIGxlbmd0aCB1bnRpbCBubyBtYXRjaCBpcyBmb3VuZC5cbiAgLy8gUGVyZm9ybWFuY2UgYW5hbHlzaXM6IGh0dHA6Ly9uZWlsLmZyYXNlci5uYW1lL25ld3MvMjAxMC8xMS8wNC9cbiAgdmFyIGJlc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gMTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICB2YXIgcGF0dGVybiA9IHRleHQxLnN1YnN0cmluZyh0ZXh0X2xlbmd0aCAtIGxlbmd0aCk7XG4gICAgdmFyIGZvdW5kID0gdGV4dDIuaW5kZXhPZihwYXR0ZXJuKTtcbiAgICBpZiAoZm91bmQgPT0gLTEpIHtcbiAgICAgIHJldHVybiBiZXN0O1xuICAgIH1cbiAgICBsZW5ndGggKz0gZm91bmQ7XG4gICAgaWYgKGZvdW5kID09IDAgfHwgdGV4dDEuc3Vic3RyaW5nKHRleHRfbGVuZ3RoIC0gbGVuZ3RoKSA9PVxuICAgICAgICB0ZXh0Mi5zdWJzdHJpbmcoMCwgbGVuZ3RoKSkge1xuICAgICAgYmVzdCA9IGxlbmd0aDtcbiAgICAgIGxlbmd0aCsrO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIERvIHRoZSB0d28gdGV4dHMgc2hhcmUgYSBzdWJzdHJpbmcgd2hpY2ggaXMgYXQgbGVhc3QgaGFsZiB0aGUgbGVuZ3RoIG9mIHRoZVxuICogbG9uZ2VyIHRleHQ/XG4gKiBUaGlzIHNwZWVkdXAgY2FuIHByb2R1Y2Ugbm9uLW1pbmltYWwgZGlmZnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgRmlyc3Qgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIFNlY29uZCBzdHJpbmcuXG4gKiBAcmV0dXJuIHtBcnJheS48c3RyaW5nPn0gRml2ZSBlbGVtZW50IEFycmF5LCBjb250YWluaW5nIHRoZSBwcmVmaXggb2ZcbiAqICAgICB0ZXh0MSwgdGhlIHN1ZmZpeCBvZiB0ZXh0MSwgdGhlIHByZWZpeCBvZiB0ZXh0MiwgdGhlIHN1ZmZpeCBvZlxuICogICAgIHRleHQyIGFuZCB0aGUgY29tbW9uIG1pZGRsZS4gIE9yIG51bGwgaWYgdGhlcmUgd2FzIG5vIG1hdGNoLlxuICogQHByaXZhdGVcbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUuZGlmZl9oYWxmTWF0Y2hfID0gZnVuY3Rpb24odGV4dDEsIHRleHQyKSB7XG4gIGlmICh0aGlzLkRpZmZfVGltZW91dCA8PSAwKSB7XG4gICAgLy8gRG9uJ3QgcmlzayByZXR1cm5pbmcgYSBub24tb3B0aW1hbCBkaWZmIGlmIHdlIGhhdmUgdW5saW1pdGVkIHRpbWUuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGxvbmd0ZXh0ID0gdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoID8gdGV4dDEgOiB0ZXh0MjtcbiAgdmFyIHNob3J0dGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQyIDogdGV4dDE7XG4gIGlmIChsb25ndGV4dC5sZW5ndGggPCA0IHx8IHNob3J0dGV4dC5sZW5ndGggKiAyIDwgbG9uZ3RleHQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7ICAvLyBQb2ludGxlc3MuXG4gIH1cbiAgdmFyIGRtcCA9IHRoaXM7ICAvLyAndGhpcycgYmVjb21lcyAnd2luZG93JyBpbiBhIGNsb3N1cmUuXG5cbiAgLyoqXG4gICAqIERvZXMgYSBzdWJzdHJpbmcgb2Ygc2hvcnR0ZXh0IGV4aXN0IHdpdGhpbiBsb25ndGV4dCBzdWNoIHRoYXQgdGhlIHN1YnN0cmluZ1xuICAgKiBpcyBhdCBsZWFzdCBoYWxmIHRoZSBsZW5ndGggb2YgbG9uZ3RleHQ/XG4gICAqIENsb3N1cmUsIGJ1dCBkb2VzIG5vdCByZWZlcmVuY2UgYW55IGV4dGVybmFsIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvbmd0ZXh0IExvbmdlciBzdHJpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzaG9ydHRleHQgU2hvcnRlciBzdHJpbmcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpIFN0YXJ0IGluZGV4IG9mIHF1YXJ0ZXIgbGVuZ3RoIHN1YnN0cmluZyB3aXRoaW4gbG9uZ3RleHQuXG4gICAqIEByZXR1cm4ge0FycmF5LjxzdHJpbmc+fSBGaXZlIGVsZW1lbnQgQXJyYXksIGNvbnRhaW5pbmcgdGhlIHByZWZpeCBvZlxuICAgKiAgICAgbG9uZ3RleHQsIHRoZSBzdWZmaXggb2YgbG9uZ3RleHQsIHRoZSBwcmVmaXggb2Ygc2hvcnR0ZXh0LCB0aGUgc3VmZml4XG4gICAqICAgICBvZiBzaG9ydHRleHQgYW5kIHRoZSBjb21tb24gbWlkZGxlLiAgT3IgbnVsbCBpZiB0aGVyZSB3YXMgbm8gbWF0Y2guXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBkaWZmX2hhbGZNYXRjaElfKGxvbmd0ZXh0LCBzaG9ydHRleHQsIGkpIHtcbiAgICAvLyBTdGFydCB3aXRoIGEgMS80IGxlbmd0aCBzdWJzdHJpbmcgYXQgcG9zaXRpb24gaSBhcyBhIHNlZWQuXG4gICAgdmFyIHNlZWQgPSBsb25ndGV4dC5zdWJzdHJpbmcoaSwgaSArIE1hdGguZmxvb3IobG9uZ3RleHQubGVuZ3RoIC8gNCkpO1xuICAgIHZhciBqID0gLTE7XG4gICAgdmFyIGJlc3RfY29tbW9uID0gJyc7XG4gICAgdmFyIGJlc3RfbG9uZ3RleHRfYSwgYmVzdF9sb25ndGV4dF9iLCBiZXN0X3Nob3J0dGV4dF9hLCBiZXN0X3Nob3J0dGV4dF9iO1xuICAgIHdoaWxlICgoaiA9IHNob3J0dGV4dC5pbmRleE9mKHNlZWQsIGogKyAxKSkgIT0gLTEpIHtcbiAgICAgIHZhciBwcmVmaXhMZW5ndGggPSBkbXAuZGlmZl9jb21tb25QcmVmaXgobG9uZ3RleHQuc3Vic3RyaW5nKGkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9ydHRleHQuc3Vic3RyaW5nKGopKTtcbiAgICAgIHZhciBzdWZmaXhMZW5ndGggPSBkbXAuZGlmZl9jb21tb25TdWZmaXgobG9uZ3RleHQuc3Vic3RyaW5nKDAsIGkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9ydHRleHQuc3Vic3RyaW5nKDAsIGopKTtcbiAgICAgIGlmIChiZXN0X2NvbW1vbi5sZW5ndGggPCBzdWZmaXhMZW5ndGggKyBwcmVmaXhMZW5ndGgpIHtcbiAgICAgICAgYmVzdF9jb21tb24gPSBzaG9ydHRleHQuc3Vic3RyaW5nKGogLSBzdWZmaXhMZW5ndGgsIGopICtcbiAgICAgICAgICAgIHNob3J0dGV4dC5zdWJzdHJpbmcoaiwgaiArIHByZWZpeExlbmd0aCk7XG4gICAgICAgIGJlc3RfbG9uZ3RleHRfYSA9IGxvbmd0ZXh0LnN1YnN0cmluZygwLCBpIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgICAgYmVzdF9sb25ndGV4dF9iID0gbG9uZ3RleHQuc3Vic3RyaW5nKGkgKyBwcmVmaXhMZW5ndGgpO1xuICAgICAgICBiZXN0X3Nob3J0dGV4dF9hID0gc2hvcnR0ZXh0LnN1YnN0cmluZygwLCBqIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgICAgYmVzdF9zaG9ydHRleHRfYiA9IHNob3J0dGV4dC5zdWJzdHJpbmcoaiArIHByZWZpeExlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChiZXN0X2NvbW1vbi5sZW5ndGggKiAyID49IGxvbmd0ZXh0Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtiZXN0X2xvbmd0ZXh0X2EsIGJlc3RfbG9uZ3RleHRfYixcbiAgICAgICAgICAgICAgYmVzdF9zaG9ydHRleHRfYSwgYmVzdF9zaG9ydHRleHRfYiwgYmVzdF9jb21tb25dO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2Vjb25kIHF1YXJ0ZXIgaXMgdGhlIHNlZWQgZm9yIGEgaGFsZi1tYXRjaC5cbiAgdmFyIGhtMSA9IGRpZmZfaGFsZk1hdGNoSV8obG9uZ3RleHQsIHNob3J0dGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5jZWlsKGxvbmd0ZXh0Lmxlbmd0aCAvIDQpKTtcbiAgLy8gQ2hlY2sgYWdhaW4gYmFzZWQgb24gdGhlIHRoaXJkIHF1YXJ0ZXIuXG4gIHZhciBobTIgPSBkaWZmX2hhbGZNYXRjaElfKGxvbmd0ZXh0LCBzaG9ydHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguY2VpbChsb25ndGV4dC5sZW5ndGggLyAyKSk7XG4gIHZhciBobTtcbiAgaWYgKCFobTEgJiYgIWhtMikge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKCFobTIpIHtcbiAgICBobSA9IGhtMTtcbiAgfSBlbHNlIGlmICghaG0xKSB7XG4gICAgaG0gPSBobTI7XG4gIH0gZWxzZSB7XG4gICAgLy8gQm90aCBtYXRjaGVkLiAgU2VsZWN0IHRoZSBsb25nZXN0LlxuICAgIGhtID0gaG0xWzRdLmxlbmd0aCA+IGhtMls0XS5sZW5ndGggPyBobTEgOiBobTI7XG4gIH1cblxuICAvLyBBIGhhbGYtbWF0Y2ggd2FzIGZvdW5kLCBzb3J0IG91dCB0aGUgcmV0dXJuIGRhdGEuXG4gIHZhciB0ZXh0MV9hLCB0ZXh0MV9iLCB0ZXh0Ml9hLCB0ZXh0Ml9iO1xuICBpZiAodGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoKSB7XG4gICAgdGV4dDFfYSA9IGhtWzBdO1xuICAgIHRleHQxX2IgPSBobVsxXTtcbiAgICB0ZXh0Ml9hID0gaG1bMl07XG4gICAgdGV4dDJfYiA9IGhtWzNdO1xuICB9IGVsc2Uge1xuICAgIHRleHQyX2EgPSBobVswXTtcbiAgICB0ZXh0Ml9iID0gaG1bMV07XG4gICAgdGV4dDFfYSA9IGhtWzJdO1xuICAgIHRleHQxX2IgPSBobVszXTtcbiAgfVxuICB2YXIgbWlkX2NvbW1vbiA9IGhtWzRdO1xuICByZXR1cm4gW3RleHQxX2EsIHRleHQxX2IsIHRleHQyX2EsIHRleHQyX2IsIG1pZF9jb21tb25dO1xufTtcblxuXG4vKipcbiAqIFJlZHVjZSB0aGUgbnVtYmVyIG9mIGVkaXRzIGJ5IGVsaW1pbmF0aW5nIHNlbWFudGljYWxseSB0cml2aWFsIGVxdWFsaXRpZXMuXG4gKiBAcGFyYW0geyFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2guRGlmZj59IGRpZmZzIEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5kaWZmX2NsZWFudXBTZW1hbnRpYyA9IGZ1bmN0aW9uKGRpZmZzKSB7XG4gIHZhciBjaGFuZ2VzID0gZmFsc2U7XG4gIHZhciBlcXVhbGl0aWVzID0gW107ICAvLyBTdGFjayBvZiBpbmRpY2VzIHdoZXJlIGVxdWFsaXRpZXMgYXJlIGZvdW5kLlxuICB2YXIgZXF1YWxpdGllc0xlbmd0aCA9IDA7ICAvLyBLZWVwaW5nIG91ciBvd24gbGVuZ3RoIHZhciBpcyBmYXN0ZXIgaW4gSlMuXG4gIC8qKiBAdHlwZSB7P3N0cmluZ30gKi9cbiAgdmFyIGxhc3RlcXVhbGl0eSA9IG51bGw7XG4gIC8vIEFsd2F5cyBlcXVhbCB0byBkaWZmc1tlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXV1bMV1cbiAgdmFyIHBvaW50ZXIgPSAwOyAgLy8gSW5kZXggb2YgY3VycmVudCBwb3NpdGlvbi5cbiAgLy8gTnVtYmVyIG9mIGNoYXJhY3RlcnMgdGhhdCBjaGFuZ2VkIHByaW9yIHRvIHRoZSBlcXVhbGl0eS5cbiAgdmFyIGxlbmd0aF9pbnNlcnRpb25zMSA9IDA7XG4gIHZhciBsZW5ndGhfZGVsZXRpb25zMSA9IDA7XG4gIC8vIE51bWJlciBvZiBjaGFyYWN0ZXJzIHRoYXQgY2hhbmdlZCBhZnRlciB0aGUgZXF1YWxpdHkuXG4gIHZhciBsZW5ndGhfaW5zZXJ0aW9uczIgPSAwO1xuICB2YXIgbGVuZ3RoX2RlbGV0aW9uczIgPSAwO1xuICB3aGlsZSAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCkge1xuICAgIGlmIChkaWZmc1twb2ludGVyXVswXSA9PSBESUZGX0VRVUFMKSB7ICAvLyBFcXVhbGl0eSBmb3VuZC5cbiAgICAgIGVxdWFsaXRpZXNbZXF1YWxpdGllc0xlbmd0aCsrXSA9IHBvaW50ZXI7XG4gICAgICBsZW5ndGhfaW5zZXJ0aW9uczEgPSBsZW5ndGhfaW5zZXJ0aW9uczI7XG4gICAgICBsZW5ndGhfZGVsZXRpb25zMSA9IGxlbmd0aF9kZWxldGlvbnMyO1xuICAgICAgbGVuZ3RoX2luc2VydGlvbnMyID0gMDtcbiAgICAgIGxlbmd0aF9kZWxldGlvbnMyID0gMDtcbiAgICAgIGxhc3RlcXVhbGl0eSA9IGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgIH0gZWxzZSB7ICAvLyBBbiBpbnNlcnRpb24gb3IgZGVsZXRpb24uXG4gICAgICBpZiAoZGlmZnNbcG9pbnRlcl1bMF0gPT0gRElGRl9JTlNFUlQpIHtcbiAgICAgICAgbGVuZ3RoX2luc2VydGlvbnMyICs9IGRpZmZzW3BvaW50ZXJdWzFdLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlbmd0aF9kZWxldGlvbnMyICs9IGRpZmZzW3BvaW50ZXJdWzFdLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIC8vIEVsaW1pbmF0ZSBhbiBlcXVhbGl0eSB0aGF0IGlzIHNtYWxsZXIgb3IgZXF1YWwgdG8gdGhlIGVkaXRzIG9uIGJvdGhcbiAgICAgIC8vIHNpZGVzIG9mIGl0LlxuICAgICAgaWYgKGxhc3RlcXVhbGl0eSAmJiAobGFzdGVxdWFsaXR5Lmxlbmd0aCA8PVxuICAgICAgICAgIE1hdGgubWF4KGxlbmd0aF9pbnNlcnRpb25zMSwgbGVuZ3RoX2RlbGV0aW9uczEpKSAmJlxuICAgICAgICAgIChsYXN0ZXF1YWxpdHkubGVuZ3RoIDw9IE1hdGgubWF4KGxlbmd0aF9pbnNlcnRpb25zMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGhfZGVsZXRpb25zMikpKSB7XG4gICAgICAgIC8vIER1cGxpY2F0ZSByZWNvcmQuXG4gICAgICAgIGRpZmZzLnNwbGljZShlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXSwgMCxcbiAgICAgICAgICAgICAgICAgICAgIFtESUZGX0RFTEVURSwgbGFzdGVxdWFsaXR5XSk7XG4gICAgICAgIC8vIENoYW5nZSBzZWNvbmQgY29weSB0byBpbnNlcnQuXG4gICAgICAgIGRpZmZzW2VxdWFsaXRpZXNbZXF1YWxpdGllc0xlbmd0aCAtIDFdICsgMV1bMF0gPSBESUZGX0lOU0VSVDtcbiAgICAgICAgLy8gVGhyb3cgYXdheSB0aGUgZXF1YWxpdHkgd2UganVzdCBkZWxldGVkLlxuICAgICAgICBlcXVhbGl0aWVzTGVuZ3RoLS07XG4gICAgICAgIC8vIFRocm93IGF3YXkgdGhlIHByZXZpb3VzIGVxdWFsaXR5IChpdCBuZWVkcyB0byBiZSByZWV2YWx1YXRlZCkuXG4gICAgICAgIGVxdWFsaXRpZXNMZW5ndGgtLTtcbiAgICAgICAgcG9pbnRlciA9IGVxdWFsaXRpZXNMZW5ndGggPiAwID8gZXF1YWxpdGllc1tlcXVhbGl0aWVzTGVuZ3RoIC0gMV0gOiAtMTtcbiAgICAgICAgbGVuZ3RoX2luc2VydGlvbnMxID0gMDsgIC8vIFJlc2V0IHRoZSBjb3VudGVycy5cbiAgICAgICAgbGVuZ3RoX2RlbGV0aW9uczEgPSAwO1xuICAgICAgICBsZW5ndGhfaW5zZXJ0aW9uczIgPSAwO1xuICAgICAgICBsZW5ndGhfZGVsZXRpb25zMiA9IDA7XG4gICAgICAgIGxhc3RlcXVhbGl0eSA9IG51bGw7XG4gICAgICAgIGNoYW5nZXMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBwb2ludGVyKys7XG4gIH1cblxuICAvLyBOb3JtYWxpemUgdGhlIGRpZmYuXG4gIGlmIChjaGFuZ2VzKSB7XG4gICAgdGhpcy5kaWZmX2NsZWFudXBNZXJnZShkaWZmcyk7XG4gIH1cbiAgdGhpcy5kaWZmX2NsZWFudXBTZW1hbnRpY0xvc3NsZXNzKGRpZmZzKTtcblxuICAvLyBGaW5kIGFueSBvdmVybGFwcyBiZXR3ZWVuIGRlbGV0aW9ucyBhbmQgaW5zZXJ0aW9ucy5cbiAgLy8gZS5nOiA8ZGVsPmFiY3h4eDwvZGVsPjxpbnM+eHh4ZGVmPC9pbnM+XG4gIC8vICAgLT4gPGRlbD5hYmM8L2RlbD54eHg8aW5zPmRlZjwvaW5zPlxuICAvLyBlLmc6IDxkZWw+eHh4YWJjPC9kZWw+PGlucz5kZWZ4eHg8L2lucz5cbiAgLy8gICAtPiA8aW5zPmRlZjwvaW5zPnh4eDxkZWw+YWJjPC9kZWw+XG4gIC8vIE9ubHkgZXh0cmFjdCBhbiBvdmVybGFwIGlmIGl0IGlzIGFzIGJpZyBhcyB0aGUgZWRpdCBhaGVhZCBvciBiZWhpbmQgaXQuXG4gIHBvaW50ZXIgPSAxO1xuICB3aGlsZSAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCkge1xuICAgIGlmIChkaWZmc1twb2ludGVyIC0gMV1bMF0gPT0gRElGRl9ERUxFVEUgJiZcbiAgICAgICAgZGlmZnNbcG9pbnRlcl1bMF0gPT0gRElGRl9JTlNFUlQpIHtcbiAgICAgIHZhciBkZWxldGlvbiA9IGRpZmZzW3BvaW50ZXIgLSAxXVsxXTtcbiAgICAgIHZhciBpbnNlcnRpb24gPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgIHZhciBvdmVybGFwX2xlbmd0aDEgPSB0aGlzLmRpZmZfY29tbW9uT3ZlcmxhcF8oZGVsZXRpb24sIGluc2VydGlvbik7XG4gICAgICB2YXIgb3ZlcmxhcF9sZW5ndGgyID0gdGhpcy5kaWZmX2NvbW1vbk92ZXJsYXBfKGluc2VydGlvbiwgZGVsZXRpb24pO1xuICAgICAgaWYgKG92ZXJsYXBfbGVuZ3RoMSA+PSBvdmVybGFwX2xlbmd0aDIpIHtcbiAgICAgICAgaWYgKG92ZXJsYXBfbGVuZ3RoMSA+PSBkZWxldGlvbi5sZW5ndGggLyAyIHx8XG4gICAgICAgICAgICBvdmVybGFwX2xlbmd0aDEgPj0gaW5zZXJ0aW9uLmxlbmd0aCAvIDIpIHtcbiAgICAgICAgICAvLyBPdmVybGFwIGZvdW5kLiAgSW5zZXJ0IGFuIGVxdWFsaXR5IGFuZCB0cmltIHRoZSBzdXJyb3VuZGluZyBlZGl0cy5cbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMCxcbiAgICAgICAgICAgICAgW0RJRkZfRVFVQUwsIGluc2VydGlvbi5zdWJzdHJpbmcoMCwgb3ZlcmxhcF9sZW5ndGgxKV0pO1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXSA9XG4gICAgICAgICAgICAgIGRlbGV0aW9uLnN1YnN0cmluZygwLCBkZWxldGlvbi5sZW5ndGggLSBvdmVybGFwX2xlbmd0aDEpO1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVsxXSA9IGluc2VydGlvbi5zdWJzdHJpbmcob3ZlcmxhcF9sZW5ndGgxKTtcbiAgICAgICAgICBwb2ludGVyKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChvdmVybGFwX2xlbmd0aDIgPj0gZGVsZXRpb24ubGVuZ3RoIC8gMiB8fFxuICAgICAgICAgICAgb3ZlcmxhcF9sZW5ndGgyID49IGluc2VydGlvbi5sZW5ndGggLyAyKSB7XG4gICAgICAgICAgLy8gUmV2ZXJzZSBvdmVybGFwIGZvdW5kLlxuICAgICAgICAgIC8vIEluc2VydCBhbiBlcXVhbGl0eSBhbmQgc3dhcCBhbmQgdHJpbSB0aGUgc3Vycm91bmRpbmcgZWRpdHMuXG4gICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIsIDAsXG4gICAgICAgICAgICAgIFtESUZGX0VRVUFMLCBkZWxldGlvbi5zdWJzdHJpbmcoMCwgb3ZlcmxhcF9sZW5ndGgyKV0pO1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9IERJRkZfSU5TRVJUO1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXSA9XG4gICAgICAgICAgICAgIGluc2VydGlvbi5zdWJzdHJpbmcoMCwgaW5zZXJ0aW9uLmxlbmd0aCAtIG92ZXJsYXBfbGVuZ3RoMik7XG4gICAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzBdID0gRElGRl9ERUxFVEU7XG4gICAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzFdID1cbiAgICAgICAgICAgICAgZGVsZXRpb24uc3Vic3RyaW5nKG92ZXJsYXBfbGVuZ3RoMik7XG4gICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb2ludGVyKys7XG4gICAgfVxuICAgIHBvaW50ZXIrKztcbiAgfVxufTtcblxuXG4vKipcbiAqIExvb2sgZm9yIHNpbmdsZSBlZGl0cyBzdXJyb3VuZGVkIG9uIGJvdGggc2lkZXMgYnkgZXF1YWxpdGllc1xuICogd2hpY2ggY2FuIGJlIHNoaWZ0ZWQgc2lkZXdheXMgdG8gYWxpZ24gdGhlIGVkaXQgdG8gYSB3b3JkIGJvdW5kYXJ5LlxuICogZS5nOiBUaGUgYzxpbnM+YXQgYzwvaW5zPmFtZS4gLT4gVGhlIDxpbnM+Y2F0IDwvaW5zPmNhbWUuXG4gKiBAcGFyYW0geyFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2guRGlmZj59IGRpZmZzIEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5kaWZmX2NsZWFudXBTZW1hbnRpY0xvc3NsZXNzID0gZnVuY3Rpb24oZGlmZnMpIHtcbiAgLyoqXG4gICAqIEdpdmVuIHR3byBzdHJpbmdzLCBjb21wdXRlIGEgc2NvcmUgcmVwcmVzZW50aW5nIHdoZXRoZXIgdGhlIGludGVybmFsXG4gICAqIGJvdW5kYXJ5IGZhbGxzIG9uIGxvZ2ljYWwgYm91bmRhcmllcy5cbiAgICogU2NvcmVzIHJhbmdlIGZyb20gNiAoYmVzdCkgdG8gMCAod29yc3QpLlxuICAgKiBDbG9zdXJlLCBidXQgZG9lcyBub3QgcmVmZXJlbmNlIGFueSBleHRlcm5hbCB2YXJpYWJsZXMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvbmUgRmlyc3Qgc3RyaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHdvIFNlY29uZCBzdHJpbmcuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHNjb3JlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gZGlmZl9jbGVhbnVwU2VtYW50aWNTY29yZV8ob25lLCB0d28pIHtcbiAgICBpZiAoIW9uZSB8fCAhdHdvKSB7XG4gICAgICAvLyBFZGdlcyBhcmUgdGhlIGJlc3QuXG4gICAgICByZXR1cm4gNjtcbiAgICB9XG5cbiAgICAvLyBFYWNoIHBvcnQgb2YgdGhpcyBmdW5jdGlvbiBiZWhhdmVzIHNsaWdodGx5IGRpZmZlcmVudGx5IGR1ZSB0b1xuICAgIC8vIHN1YnRsZSBkaWZmZXJlbmNlcyBpbiBlYWNoIGxhbmd1YWdlJ3MgZGVmaW5pdGlvbiBvZiB0aGluZ3MgbGlrZVxuICAgIC8vICd3aGl0ZXNwYWNlJy4gIFNpbmNlIHRoaXMgZnVuY3Rpb24ncyBwdXJwb3NlIGlzIGxhcmdlbHkgY29zbWV0aWMsXG4gICAgLy8gdGhlIGNob2ljZSBoYXMgYmVlbiBtYWRlIHRvIHVzZSBlYWNoIGxhbmd1YWdlJ3MgbmF0aXZlIGZlYXR1cmVzXG4gICAgLy8gcmF0aGVyIHRoYW4gZm9yY2UgdG90YWwgY29uZm9ybWl0eS5cbiAgICB2YXIgY2hhcjEgPSBvbmUuY2hhckF0KG9uZS5sZW5ndGggLSAxKTtcbiAgICB2YXIgY2hhcjIgPSB0d28uY2hhckF0KDApO1xuICAgIHZhciBub25BbHBoYU51bWVyaWMxID0gY2hhcjEubWF0Y2goZGlmZl9tYXRjaF9wYXRjaC5ub25BbHBoYU51bWVyaWNSZWdleF8pO1xuICAgIHZhciBub25BbHBoYU51bWVyaWMyID0gY2hhcjIubWF0Y2goZGlmZl9tYXRjaF9wYXRjaC5ub25BbHBoYU51bWVyaWNSZWdleF8pO1xuICAgIHZhciB3aGl0ZXNwYWNlMSA9IG5vbkFscGhhTnVtZXJpYzEgJiZcbiAgICAgICAgY2hhcjEubWF0Y2goZGlmZl9tYXRjaF9wYXRjaC53aGl0ZXNwYWNlUmVnZXhfKTtcbiAgICB2YXIgd2hpdGVzcGFjZTIgPSBub25BbHBoYU51bWVyaWMyICYmXG4gICAgICAgIGNoYXIyLm1hdGNoKGRpZmZfbWF0Y2hfcGF0Y2gud2hpdGVzcGFjZVJlZ2V4Xyk7XG4gICAgdmFyIGxpbmVCcmVhazEgPSB3aGl0ZXNwYWNlMSAmJlxuICAgICAgICBjaGFyMS5tYXRjaChkaWZmX21hdGNoX3BhdGNoLmxpbmVicmVha1JlZ2V4Xyk7XG4gICAgdmFyIGxpbmVCcmVhazIgPSB3aGl0ZXNwYWNlMiAmJlxuICAgICAgICBjaGFyMi5tYXRjaChkaWZmX21hdGNoX3BhdGNoLmxpbmVicmVha1JlZ2V4Xyk7XG4gICAgdmFyIGJsYW5rTGluZTEgPSBsaW5lQnJlYWsxICYmXG4gICAgICAgIG9uZS5tYXRjaChkaWZmX21hdGNoX3BhdGNoLmJsYW5rbGluZUVuZFJlZ2V4Xyk7XG4gICAgdmFyIGJsYW5rTGluZTIgPSBsaW5lQnJlYWsyICYmXG4gICAgICAgIHR3by5tYXRjaChkaWZmX21hdGNoX3BhdGNoLmJsYW5rbGluZVN0YXJ0UmVnZXhfKTtcblxuICAgIGlmIChibGFua0xpbmUxIHx8IGJsYW5rTGluZTIpIHtcbiAgICAgIC8vIEZpdmUgcG9pbnRzIGZvciBibGFuayBsaW5lcy5cbiAgICAgIHJldHVybiA1O1xuICAgIH0gZWxzZSBpZiAobGluZUJyZWFrMSB8fCBsaW5lQnJlYWsyKSB7XG4gICAgICAvLyBGb3VyIHBvaW50cyBmb3IgbGluZSBicmVha3MuXG4gICAgICByZXR1cm4gNDtcbiAgICB9IGVsc2UgaWYgKG5vbkFscGhhTnVtZXJpYzEgJiYgIXdoaXRlc3BhY2UxICYmIHdoaXRlc3BhY2UyKSB7XG4gICAgICAvLyBUaHJlZSBwb2ludHMgZm9yIGVuZCBvZiBzZW50ZW5jZXMuXG4gICAgICByZXR1cm4gMztcbiAgICB9IGVsc2UgaWYgKHdoaXRlc3BhY2UxIHx8IHdoaXRlc3BhY2UyKSB7XG4gICAgICAvLyBUd28gcG9pbnRzIGZvciB3aGl0ZXNwYWNlLlxuICAgICAgcmV0dXJuIDI7XG4gICAgfSBlbHNlIGlmIChub25BbHBoYU51bWVyaWMxIHx8IG5vbkFscGhhTnVtZXJpYzIpIHtcbiAgICAgIC8vIE9uZSBwb2ludCBmb3Igbm9uLWFscGhhbnVtZXJpYy5cbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciBwb2ludGVyID0gMTtcbiAgLy8gSW50ZW50aW9uYWxseSBpZ25vcmUgdGhlIGZpcnN0IGFuZCBsYXN0IGVsZW1lbnQgKGRvbid0IG5lZWQgY2hlY2tpbmcpLlxuICB3aGlsZSAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCAtIDEpIHtcbiAgICBpZiAoZGlmZnNbcG9pbnRlciAtIDFdWzBdID09IERJRkZfRVFVQUwgJiZcbiAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzBdID09IERJRkZfRVFVQUwpIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBzaW5nbGUgZWRpdCBzdXJyb3VuZGVkIGJ5IGVxdWFsaXRpZXMuXG4gICAgICB2YXIgZXF1YWxpdHkxID0gZGlmZnNbcG9pbnRlciAtIDFdWzFdO1xuICAgICAgdmFyIGVkaXQgPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgIHZhciBlcXVhbGl0eTIgPSBkaWZmc1twb2ludGVyICsgMV1bMV07XG5cbiAgICAgIC8vIEZpcnN0LCBzaGlmdCB0aGUgZWRpdCBhcyBmYXIgbGVmdCBhcyBwb3NzaWJsZS5cbiAgICAgIHZhciBjb21tb25PZmZzZXQgPSB0aGlzLmRpZmZfY29tbW9uU3VmZml4KGVxdWFsaXR5MSwgZWRpdCk7XG4gICAgICBpZiAoY29tbW9uT2Zmc2V0KSB7XG4gICAgICAgIHZhciBjb21tb25TdHJpbmcgPSBlZGl0LnN1YnN0cmluZyhlZGl0Lmxlbmd0aCAtIGNvbW1vbk9mZnNldCk7XG4gICAgICAgIGVxdWFsaXR5MSA9IGVxdWFsaXR5MS5zdWJzdHJpbmcoMCwgZXF1YWxpdHkxLmxlbmd0aCAtIGNvbW1vbk9mZnNldCk7XG4gICAgICAgIGVkaXQgPSBjb21tb25TdHJpbmcgKyBlZGl0LnN1YnN0cmluZygwLCBlZGl0Lmxlbmd0aCAtIGNvbW1vbk9mZnNldCk7XG4gICAgICAgIGVxdWFsaXR5MiA9IGNvbW1vblN0cmluZyArIGVxdWFsaXR5MjtcbiAgICAgIH1cblxuICAgICAgLy8gU2Vjb25kLCBzdGVwIGNoYXJhY3RlciBieSBjaGFyYWN0ZXIgcmlnaHQsIGxvb2tpbmcgZm9yIHRoZSBiZXN0IGZpdC5cbiAgICAgIHZhciBiZXN0RXF1YWxpdHkxID0gZXF1YWxpdHkxO1xuICAgICAgdmFyIGJlc3RFZGl0ID0gZWRpdDtcbiAgICAgIHZhciBiZXN0RXF1YWxpdHkyID0gZXF1YWxpdHkyO1xuICAgICAgdmFyIGJlc3RTY29yZSA9IGRpZmZfY2xlYW51cFNlbWFudGljU2NvcmVfKGVxdWFsaXR5MSwgZWRpdCkgK1xuICAgICAgICAgIGRpZmZfY2xlYW51cFNlbWFudGljU2NvcmVfKGVkaXQsIGVxdWFsaXR5Mik7XG4gICAgICB3aGlsZSAoZWRpdC5jaGFyQXQoMCkgPT09IGVxdWFsaXR5Mi5jaGFyQXQoMCkpIHtcbiAgICAgICAgZXF1YWxpdHkxICs9IGVkaXQuY2hhckF0KDApO1xuICAgICAgICBlZGl0ID0gZWRpdC5zdWJzdHJpbmcoMSkgKyBlcXVhbGl0eTIuY2hhckF0KDApO1xuICAgICAgICBlcXVhbGl0eTIgPSBlcXVhbGl0eTIuc3Vic3RyaW5nKDEpO1xuICAgICAgICB2YXIgc2NvcmUgPSBkaWZmX2NsZWFudXBTZW1hbnRpY1Njb3JlXyhlcXVhbGl0eTEsIGVkaXQpICtcbiAgICAgICAgICAgIGRpZmZfY2xlYW51cFNlbWFudGljU2NvcmVfKGVkaXQsIGVxdWFsaXR5Mik7XG4gICAgICAgIC8vIFRoZSA+PSBlbmNvdXJhZ2VzIHRyYWlsaW5nIHJhdGhlciB0aGFuIGxlYWRpbmcgd2hpdGVzcGFjZSBvbiBlZGl0cy5cbiAgICAgICAgaWYgKHNjb3JlID49IGJlc3RTY29yZSkge1xuICAgICAgICAgIGJlc3RTY29yZSA9IHNjb3JlO1xuICAgICAgICAgIGJlc3RFcXVhbGl0eTEgPSBlcXVhbGl0eTE7XG4gICAgICAgICAgYmVzdEVkaXQgPSBlZGl0O1xuICAgICAgICAgIGJlc3RFcXVhbGl0eTIgPSBlcXVhbGl0eTI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGRpZmZzW3BvaW50ZXIgLSAxXVsxXSAhPSBiZXN0RXF1YWxpdHkxKSB7XG4gICAgICAgIC8vIFdlIGhhdmUgYW4gaW1wcm92ZW1lbnQsIHNhdmUgaXQgYmFjayB0byB0aGUgZGlmZi5cbiAgICAgICAgaWYgKGJlc3RFcXVhbGl0eTEpIHtcbiAgICAgICAgICBkaWZmc1twb2ludGVyIC0gMV1bMV0gPSBiZXN0RXF1YWxpdHkxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyIC0gMSwgMSk7XG4gICAgICAgICAgcG9pbnRlci0tO1xuICAgICAgICB9XG4gICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdID0gYmVzdEVkaXQ7XG4gICAgICAgIGlmIChiZXN0RXF1YWxpdHkyKSB7XG4gICAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzFdID0gYmVzdEVxdWFsaXR5MjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciArIDEsIDEpO1xuICAgICAgICAgIHBvaW50ZXItLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBwb2ludGVyKys7XG4gIH1cbn07XG5cbi8vIERlZmluZSBzb21lIHJlZ2V4IHBhdHRlcm5zIGZvciBtYXRjaGluZyBib3VuZGFyaWVzLlxuZGlmZl9tYXRjaF9wYXRjaC5ub25BbHBoYU51bWVyaWNSZWdleF8gPSAvW15hLXpBLVowLTldLztcbmRpZmZfbWF0Y2hfcGF0Y2gud2hpdGVzcGFjZVJlZ2V4XyA9IC9cXHMvO1xuZGlmZl9tYXRjaF9wYXRjaC5saW5lYnJlYWtSZWdleF8gPSAvW1xcclxcbl0vO1xuZGlmZl9tYXRjaF9wYXRjaC5ibGFua2xpbmVFbmRSZWdleF8gPSAvXFxuXFxyP1xcbiQvO1xuZGlmZl9tYXRjaF9wYXRjaC5ibGFua2xpbmVTdGFydFJlZ2V4XyA9IC9eXFxyP1xcblxccj9cXG4vO1xuXG4vKipcbiAqIFJlZHVjZSB0aGUgbnVtYmVyIG9mIGVkaXRzIGJ5IGVsaW1pbmF0aW5nIG9wZXJhdGlvbmFsbHkgdHJpdmlhbCBlcXVhbGl0aWVzLlxuICogQHBhcmFtIHshQXJyYXkuPCFkaWZmX21hdGNoX3BhdGNoLkRpZmY+fSBkaWZmcyBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUuZGlmZl9jbGVhbnVwRWZmaWNpZW5jeSA9IGZ1bmN0aW9uKGRpZmZzKSB7XG4gIHZhciBjaGFuZ2VzID0gZmFsc2U7XG4gIHZhciBlcXVhbGl0aWVzID0gW107ICAvLyBTdGFjayBvZiBpbmRpY2VzIHdoZXJlIGVxdWFsaXRpZXMgYXJlIGZvdW5kLlxuICB2YXIgZXF1YWxpdGllc0xlbmd0aCA9IDA7ICAvLyBLZWVwaW5nIG91ciBvd24gbGVuZ3RoIHZhciBpcyBmYXN0ZXIgaW4gSlMuXG4gIC8qKiBAdHlwZSB7P3N0cmluZ30gKi9cbiAgdmFyIGxhc3RlcXVhbGl0eSA9IG51bGw7XG4gIC8vIEFsd2F5cyBlcXVhbCB0byBkaWZmc1tlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXV1bMV1cbiAgdmFyIHBvaW50ZXIgPSAwOyAgLy8gSW5kZXggb2YgY3VycmVudCBwb3NpdGlvbi5cbiAgLy8gSXMgdGhlcmUgYW4gaW5zZXJ0aW9uIG9wZXJhdGlvbiBiZWZvcmUgdGhlIGxhc3QgZXF1YWxpdHkuXG4gIHZhciBwcmVfaW5zID0gZmFsc2U7XG4gIC8vIElzIHRoZXJlIGEgZGVsZXRpb24gb3BlcmF0aW9uIGJlZm9yZSB0aGUgbGFzdCBlcXVhbGl0eS5cbiAgdmFyIHByZV9kZWwgPSBmYWxzZTtcbiAgLy8gSXMgdGhlcmUgYW4gaW5zZXJ0aW9uIG9wZXJhdGlvbiBhZnRlciB0aGUgbGFzdCBlcXVhbGl0eS5cbiAgdmFyIHBvc3RfaW5zID0gZmFsc2U7XG4gIC8vIElzIHRoZXJlIGEgZGVsZXRpb24gb3BlcmF0aW9uIGFmdGVyIHRoZSBsYXN0IGVxdWFsaXR5LlxuICB2YXIgcG9zdF9kZWwgPSBmYWxzZTtcbiAgd2hpbGUgKHBvaW50ZXIgPCBkaWZmcy5sZW5ndGgpIHtcbiAgICBpZiAoZGlmZnNbcG9pbnRlcl1bMF0gPT0gRElGRl9FUVVBTCkgeyAgLy8gRXF1YWxpdHkgZm91bmQuXG4gICAgICBpZiAoZGlmZnNbcG9pbnRlcl1bMV0ubGVuZ3RoIDwgdGhpcy5EaWZmX0VkaXRDb3N0ICYmXG4gICAgICAgICAgKHBvc3RfaW5zIHx8IHBvc3RfZGVsKSkge1xuICAgICAgICAvLyBDYW5kaWRhdGUgZm91bmQuXG4gICAgICAgIGVxdWFsaXRpZXNbZXF1YWxpdGllc0xlbmd0aCsrXSA9IHBvaW50ZXI7XG4gICAgICAgIHByZV9pbnMgPSBwb3N0X2lucztcbiAgICAgICAgcHJlX2RlbCA9IHBvc3RfZGVsO1xuICAgICAgICBsYXN0ZXF1YWxpdHkgPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vdCBhIGNhbmRpZGF0ZSwgYW5kIGNhbiBuZXZlciBiZWNvbWUgb25lLlxuICAgICAgICBlcXVhbGl0aWVzTGVuZ3RoID0gMDtcbiAgICAgICAgbGFzdGVxdWFsaXR5ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHBvc3RfaW5zID0gcG9zdF9kZWwgPSBmYWxzZTtcbiAgICB9IGVsc2UgeyAgLy8gQW4gaW5zZXJ0aW9uIG9yIGRlbGV0aW9uLlxuICAgICAgaWYgKGRpZmZzW3BvaW50ZXJdWzBdID09IERJRkZfREVMRVRFKSB7XG4gICAgICAgIHBvc3RfZGVsID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvc3RfaW5zID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8qXG4gICAgICAgKiBGaXZlIHR5cGVzIHRvIGJlIHNwbGl0OlxuICAgICAgICogPGlucz5BPC9pbnM+PGRlbD5CPC9kZWw+WFk8aW5zPkM8L2lucz48ZGVsPkQ8L2RlbD5cbiAgICAgICAqIDxpbnM+QTwvaW5zPlg8aW5zPkM8L2lucz48ZGVsPkQ8L2RlbD5cbiAgICAgICAqIDxpbnM+QTwvaW5zPjxkZWw+QjwvZGVsPlg8aW5zPkM8L2lucz5cbiAgICAgICAqIDxpbnM+QTwvZGVsPlg8aW5zPkM8L2lucz48ZGVsPkQ8L2RlbD5cbiAgICAgICAqIDxpbnM+QTwvaW5zPjxkZWw+QjwvZGVsPlg8ZGVsPkM8L2RlbD5cbiAgICAgICAqL1xuICAgICAgaWYgKGxhc3RlcXVhbGl0eSAmJiAoKHByZV9pbnMgJiYgcHJlX2RlbCAmJiBwb3N0X2lucyAmJiBwb3N0X2RlbCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICgobGFzdGVxdWFsaXR5Lmxlbmd0aCA8IHRoaXMuRGlmZl9FZGl0Q29zdCAvIDIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZV9pbnMgKyBwcmVfZGVsICsgcG9zdF9pbnMgKyBwb3N0X2RlbCkgPT0gMykpKSB7XG4gICAgICAgIC8vIER1cGxpY2F0ZSByZWNvcmQuXG4gICAgICAgIGRpZmZzLnNwbGljZShlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXSwgMCxcbiAgICAgICAgICAgICAgICAgICAgIFtESUZGX0RFTEVURSwgbGFzdGVxdWFsaXR5XSk7XG4gICAgICAgIC8vIENoYW5nZSBzZWNvbmQgY29weSB0byBpbnNlcnQuXG4gICAgICAgIGRpZmZzW2VxdWFsaXRpZXNbZXF1YWxpdGllc0xlbmd0aCAtIDFdICsgMV1bMF0gPSBESUZGX0lOU0VSVDtcbiAgICAgICAgZXF1YWxpdGllc0xlbmd0aC0tOyAgLy8gVGhyb3cgYXdheSB0aGUgZXF1YWxpdHkgd2UganVzdCBkZWxldGVkO1xuICAgICAgICBsYXN0ZXF1YWxpdHkgPSBudWxsO1xuICAgICAgICBpZiAocHJlX2lucyAmJiBwcmVfZGVsKSB7XG4gICAgICAgICAgLy8gTm8gY2hhbmdlcyBtYWRlIHdoaWNoIGNvdWxkIGFmZmVjdCBwcmV2aW91cyBlbnRyeSwga2VlcCBnb2luZy5cbiAgICAgICAgICBwb3N0X2lucyA9IHBvc3RfZGVsID0gdHJ1ZTtcbiAgICAgICAgICBlcXVhbGl0aWVzTGVuZ3RoID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlcXVhbGl0aWVzTGVuZ3RoLS07ICAvLyBUaHJvdyBhd2F5IHRoZSBwcmV2aW91cyBlcXVhbGl0eS5cbiAgICAgICAgICBwb2ludGVyID0gZXF1YWxpdGllc0xlbmd0aCA+IDAgP1xuICAgICAgICAgICAgICBlcXVhbGl0aWVzW2VxdWFsaXRpZXNMZW5ndGggLSAxXSA6IC0xO1xuICAgICAgICAgIHBvc3RfaW5zID0gcG9zdF9kZWwgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9pbnRlcisrO1xuICB9XG5cbiAgaWYgKGNoYW5nZXMpIHtcbiAgICB0aGlzLmRpZmZfY2xlYW51cE1lcmdlKGRpZmZzKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIFJlb3JkZXIgYW5kIG1lcmdlIGxpa2UgZWRpdCBzZWN0aW9ucy4gIE1lcmdlIGVxdWFsaXRpZXMuXG4gKiBBbnkgZWRpdCBzZWN0aW9uIGNhbiBtb3ZlIGFzIGxvbmcgYXMgaXQgZG9lc24ndCBjcm9zcyBhbiBlcXVhbGl0eS5cbiAqIEBwYXJhbSB7IUFycmF5LjwhZGlmZl9tYXRjaF9wYXRjaC5EaWZmPn0gZGlmZnMgQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKi9cbmRpZmZfbWF0Y2hfcGF0Y2gucHJvdG90eXBlLmRpZmZfY2xlYW51cE1lcmdlID0gZnVuY3Rpb24oZGlmZnMpIHtcbiAgZGlmZnMucHVzaChbRElGRl9FUVVBTCwgJyddKTsgIC8vIEFkZCBhIGR1bW15IGVudHJ5IGF0IHRoZSBlbmQuXG4gIHZhciBwb2ludGVyID0gMDtcbiAgdmFyIGNvdW50X2RlbGV0ZSA9IDA7XG4gIHZhciBjb3VudF9pbnNlcnQgPSAwO1xuICB2YXIgdGV4dF9kZWxldGUgPSAnJztcbiAgdmFyIHRleHRfaW5zZXJ0ID0gJyc7XG4gIHZhciBjb21tb25sZW5ndGg7XG4gIHdoaWxlIChwb2ludGVyIDwgZGlmZnMubGVuZ3RoKSB7XG4gICAgc3dpdGNoIChkaWZmc1twb2ludGVyXVswXSkge1xuICAgICAgY2FzZSBESUZGX0lOU0VSVDpcbiAgICAgICAgY291bnRfaW5zZXJ0Kys7XG4gICAgICAgIHRleHRfaW5zZXJ0ICs9IGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgICAgICBwb2ludGVyKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0RFTEVURTpcbiAgICAgICAgY291bnRfZGVsZXRlKys7XG4gICAgICAgIHRleHRfZGVsZXRlICs9IGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgICAgICBwb2ludGVyKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0VRVUFMOlxuICAgICAgICAvLyBVcG9uIHJlYWNoaW5nIGFuIGVxdWFsaXR5LCBjaGVjayBmb3IgcHJpb3IgcmVkdW5kYW5jaWVzLlxuICAgICAgICBpZiAoY291bnRfZGVsZXRlICsgY291bnRfaW5zZXJ0ID4gMSkge1xuICAgICAgICAgIGlmIChjb3VudF9kZWxldGUgIT09IDAgJiYgY291bnRfaW5zZXJ0ICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBGYWN0b3Igb3V0IGFueSBjb21tb24gcHJlZml4aWVzLlxuICAgICAgICAgICAgY29tbW9ubGVuZ3RoID0gdGhpcy5kaWZmX2NvbW1vblByZWZpeCh0ZXh0X2luc2VydCwgdGV4dF9kZWxldGUpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBpZiAoKHBvaW50ZXIgLSBjb3VudF9kZWxldGUgLSBjb3VudF9pbnNlcnQpID4gMCAmJlxuICAgICAgICAgICAgICAgICAgZGlmZnNbcG9pbnRlciAtIGNvdW50X2RlbGV0ZSAtIGNvdW50X2luc2VydCAtIDFdWzBdID09XG4gICAgICAgICAgICAgICAgICBESUZGX0VRVUFMKSB7XG4gICAgICAgICAgICAgICAgZGlmZnNbcG9pbnRlciAtIGNvdW50X2RlbGV0ZSAtIGNvdW50X2luc2VydCAtIDFdWzFdICs9XG4gICAgICAgICAgICAgICAgICAgIHRleHRfaW5zZXJ0LnN1YnN0cmluZygwLCBjb21tb25sZW5ndGgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpZmZzLnNwbGljZSgwLCAwLCBbRElGRl9FUVVBTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRfaW5zZXJ0LnN1YnN0cmluZygwLCBjb21tb25sZW5ndGgpXSk7XG4gICAgICAgICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRleHRfaW5zZXJ0ID0gdGV4dF9pbnNlcnQuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCk7XG4gICAgICAgICAgICAgIHRleHRfZGVsZXRlID0gdGV4dF9kZWxldGUuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGYWN0b3Igb3V0IGFueSBjb21tb24gc3VmZml4aWVzLlxuICAgICAgICAgICAgY29tbW9ubGVuZ3RoID0gdGhpcy5kaWZmX2NvbW1vblN1ZmZpeCh0ZXh0X2luc2VydCwgdGV4dF9kZWxldGUpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBkaWZmc1twb2ludGVyXVsxXSA9IHRleHRfaW5zZXJ0LnN1YnN0cmluZyh0ZXh0X2luc2VydC5sZW5ndGggLVxuICAgICAgICAgICAgICAgICAgY29tbW9ubGVuZ3RoKSArIGRpZmZzW3BvaW50ZXJdWzFdO1xuICAgICAgICAgICAgICB0ZXh0X2luc2VydCA9IHRleHRfaW5zZXJ0LnN1YnN0cmluZygwLCB0ZXh0X2luc2VydC5sZW5ndGggLVxuICAgICAgICAgICAgICAgICAgY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgdGV4dF9kZWxldGUgPSB0ZXh0X2RlbGV0ZS5zdWJzdHJpbmcoMCwgdGV4dF9kZWxldGUubGVuZ3RoIC1cbiAgICAgICAgICAgICAgICAgIGNvbW1vbmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIERlbGV0ZSB0aGUgb2ZmZW5kaW5nIHJlY29yZHMgYW5kIGFkZCB0aGUgbWVyZ2VkIG9uZXMuXG4gICAgICAgICAgaWYgKGNvdW50X2RlbGV0ZSA9PT0gMCkge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBjb3VudF9pbnNlcnQsXG4gICAgICAgICAgICAgICAgY291bnRfZGVsZXRlICsgY291bnRfaW5zZXJ0LCBbRElGRl9JTlNFUlQsIHRleHRfaW5zZXJ0XSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb3VudF9pbnNlcnQgPT09IDApIHtcbiAgICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyIC0gY291bnRfZGVsZXRlLFxuICAgICAgICAgICAgICAgIGNvdW50X2RlbGV0ZSArIGNvdW50X2luc2VydCwgW0RJRkZfREVMRVRFLCB0ZXh0X2RlbGV0ZV0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciAtIGNvdW50X2RlbGV0ZSAtIGNvdW50X2luc2VydCxcbiAgICAgICAgICAgICAgICBjb3VudF9kZWxldGUgKyBjb3VudF9pbnNlcnQsIFtESUZGX0RFTEVURSwgdGV4dF9kZWxldGVdLFxuICAgICAgICAgICAgICAgIFtESUZGX0lOU0VSVCwgdGV4dF9pbnNlcnRdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcG9pbnRlciA9IHBvaW50ZXIgLSBjb3VudF9kZWxldGUgLSBjb3VudF9pbnNlcnQgK1xuICAgICAgICAgICAgICAgICAgICAoY291bnRfZGVsZXRlID8gMSA6IDApICsgKGNvdW50X2luc2VydCA/IDEgOiAwKSArIDE7XG4gICAgICAgIH0gZWxzZSBpZiAocG9pbnRlciAhPT0gMCAmJiBkaWZmc1twb2ludGVyIC0gMV1bMF0gPT0gRElGRl9FUVVBTCkge1xuICAgICAgICAgIC8vIE1lcmdlIHRoaXMgZXF1YWxpdHkgd2l0aCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXSArPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50X2luc2VydCA9IDA7XG4gICAgICAgIGNvdW50X2RlbGV0ZSA9IDA7XG4gICAgICAgIHRleHRfZGVsZXRlID0gJyc7XG4gICAgICAgIHRleHRfaW5zZXJ0ID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoZGlmZnNbZGlmZnMubGVuZ3RoIC0gMV1bMV0gPT09ICcnKSB7XG4gICAgZGlmZnMucG9wKCk7ICAvLyBSZW1vdmUgdGhlIGR1bW15IGVudHJ5IGF0IHRoZSBlbmQuXG4gIH1cblxuICAvLyBTZWNvbmQgcGFzczogbG9vayBmb3Igc2luZ2xlIGVkaXRzIHN1cnJvdW5kZWQgb24gYm90aCBzaWRlcyBieSBlcXVhbGl0aWVzXG4gIC8vIHdoaWNoIGNhbiBiZSBzaGlmdGVkIHNpZGV3YXlzIHRvIGVsaW1pbmF0ZSBhbiBlcXVhbGl0eS5cbiAgLy8gZS5nOiBBPGlucz5CQTwvaW5zPkMgLT4gPGlucz5BQjwvaW5zPkFDXG4gIHZhciBjaGFuZ2VzID0gZmFsc2U7XG4gIHBvaW50ZXIgPSAxO1xuICAvLyBJbnRlbnRpb25hbGx5IGlnbm9yZSB0aGUgZmlyc3QgYW5kIGxhc3QgZWxlbWVudCAoZG9uJ3QgbmVlZCBjaGVja2luZykuXG4gIHdoaWxlIChwb2ludGVyIDwgZGlmZnMubGVuZ3RoIC0gMSkge1xuICAgIGlmIChkaWZmc1twb2ludGVyIC0gMV1bMF0gPT0gRElGRl9FUVVBTCAmJlxuICAgICAgICBkaWZmc1twb2ludGVyICsgMV1bMF0gPT0gRElGRl9FUVVBTCkge1xuICAgICAgLy8gVGhpcyBpcyBhIHNpbmdsZSBlZGl0IHN1cnJvdW5kZWQgYnkgZXF1YWxpdGllcy5cbiAgICAgIGlmIChkaWZmc1twb2ludGVyXVsxXS5zdWJzdHJpbmcoZGlmZnNbcG9pbnRlcl1bMV0ubGVuZ3RoIC1cbiAgICAgICAgICBkaWZmc1twb2ludGVyIC0gMV1bMV0ubGVuZ3RoKSA9PSBkaWZmc1twb2ludGVyIC0gMV1bMV0pIHtcbiAgICAgICAgLy8gU2hpZnQgdGhlIGVkaXQgb3ZlciB0aGUgcHJldmlvdXMgZXF1YWxpdHkuXG4gICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdID0gZGlmZnNbcG9pbnRlciAtIDFdWzFdICtcbiAgICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZygwLCBkaWZmc1twb2ludGVyXVsxXS5sZW5ndGggLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXS5sZW5ndGgpO1xuICAgICAgICBkaWZmc1twb2ludGVyICsgMV1bMV0gPSBkaWZmc1twb2ludGVyIC0gMV1bMV0gKyBkaWZmc1twb2ludGVyICsgMV1bMV07XG4gICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyIC0gMSwgMSk7XG4gICAgICAgIGNoYW5nZXMgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChkaWZmc1twb2ludGVyXVsxXS5zdWJzdHJpbmcoMCwgZGlmZnNbcG9pbnRlciArIDFdWzFdLmxlbmd0aCkgPT1cbiAgICAgICAgICBkaWZmc1twb2ludGVyICsgMV1bMV0pIHtcbiAgICAgICAgLy8gU2hpZnQgdGhlIGVkaXQgb3ZlciB0aGUgbmV4dCBlcXVhbGl0eS5cbiAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdICs9IGRpZmZzW3BvaW50ZXIgKyAxXVsxXTtcbiAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPVxuICAgICAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0uc3Vic3RyaW5nKGRpZmZzW3BvaW50ZXIgKyAxXVsxXS5sZW5ndGgpICtcbiAgICAgICAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVsxXTtcbiAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgKyAxLCAxKTtcbiAgICAgICAgY2hhbmdlcyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHBvaW50ZXIrKztcbiAgfVxuICAvLyBJZiBzaGlmdHMgd2VyZSBtYWRlLCB0aGUgZGlmZiBuZWVkcyByZW9yZGVyaW5nIGFuZCBhbm90aGVyIHNoaWZ0IHN3ZWVwLlxuICBpZiAoY2hhbmdlcykge1xuICAgIHRoaXMuZGlmZl9jbGVhbnVwTWVyZ2UoZGlmZnMpO1xuICB9XG59O1xuXG5cbi8qKlxuICogbG9jIGlzIGEgbG9jYXRpb24gaW4gdGV4dDEsIGNvbXB1dGUgYW5kIHJldHVybiB0aGUgZXF1aXZhbGVudCBsb2NhdGlvbiBpblxuICogdGV4dDIuXG4gKiBlLmcuICdUaGUgY2F0JyB2cyAnVGhlIGJpZyBjYXQnLCAxLT4xLCA1LT44XG4gKiBAcGFyYW0geyFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2guRGlmZj59IGRpZmZzIEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IGxvYyBMb2NhdGlvbiB3aXRoaW4gdGV4dDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IExvY2F0aW9uIHdpdGhpbiB0ZXh0Mi5cbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUuZGlmZl94SW5kZXggPSBmdW5jdGlvbihkaWZmcywgbG9jKSB7XG4gIHZhciBjaGFyczEgPSAwO1xuICB2YXIgY2hhcnMyID0gMDtcbiAgdmFyIGxhc3RfY2hhcnMxID0gMDtcbiAgdmFyIGxhc3RfY2hhcnMyID0gMDtcbiAgdmFyIHg7XG4gIGZvciAoeCA9IDA7IHggPCBkaWZmcy5sZW5ndGg7IHgrKykge1xuICAgIGlmIChkaWZmc1t4XVswXSAhPT0gRElGRl9JTlNFUlQpIHsgIC8vIEVxdWFsaXR5IG9yIGRlbGV0aW9uLlxuICAgICAgY2hhcnMxICs9IGRpZmZzW3hdWzFdLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGRpZmZzW3hdWzBdICE9PSBESUZGX0RFTEVURSkgeyAgLy8gRXF1YWxpdHkgb3IgaW5zZXJ0aW9uLlxuICAgICAgY2hhcnMyICs9IGRpZmZzW3hdWzFdLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGNoYXJzMSA+IGxvYykgeyAgLy8gT3ZlcnNob3QgdGhlIGxvY2F0aW9uLlxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGxhc3RfY2hhcnMxID0gY2hhcnMxO1xuICAgIGxhc3RfY2hhcnMyID0gY2hhcnMyO1xuICB9XG4gIC8vIFdhcyB0aGUgbG9jYXRpb24gd2FzIGRlbGV0ZWQ/XG4gIGlmIChkaWZmcy5sZW5ndGggIT0geCAmJiBkaWZmc1t4XVswXSA9PT0gRElGRl9ERUxFVEUpIHtcbiAgICByZXR1cm4gbGFzdF9jaGFyczI7XG4gIH1cbiAgLy8gQWRkIHRoZSByZW1haW5pbmcgY2hhcmFjdGVyIGxlbmd0aC5cbiAgcmV0dXJuIGxhc3RfY2hhcnMyICsgKGxvYyAtIGxhc3RfY2hhcnMxKTtcbn07XG5cblxuLyoqXG4gKiBDb252ZXJ0IGEgZGlmZiBhcnJheSBpbnRvIGEgcHJldHR5IEhUTUwgcmVwb3J0LlxuICogQHBhcmFtIHshQXJyYXkuPCFkaWZmX21hdGNoX3BhdGNoLkRpZmY+fSBkaWZmcyBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqIEByZXR1cm4ge3N0cmluZ30gSFRNTCByZXByZXNlbnRhdGlvbi5cbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUuZGlmZl9wcmV0dHlIdG1sID0gZnVuY3Rpb24oZGlmZnMpIHtcbiAgdmFyIGh0bWwgPSBbXTtcbiAgdmFyIHBhdHRlcm5fYW1wID0gLyYvZztcbiAgdmFyIHBhdHRlcm5fbHQgPSAvPC9nO1xuICB2YXIgcGF0dGVybl9ndCA9IC8+L2c7XG4gIHZhciBwYXR0ZXJuX3BhcmEgPSAvXFxuL2c7XG4gIGZvciAodmFyIHggPSAwOyB4IDwgZGlmZnMubGVuZ3RoOyB4KyspIHtcbiAgICB2YXIgb3AgPSBkaWZmc1t4XVswXTsgICAgLy8gT3BlcmF0aW9uIChpbnNlcnQsIGRlbGV0ZSwgZXF1YWwpXG4gICAgdmFyIGRhdGEgPSBkaWZmc1t4XVsxXTsgIC8vIFRleHQgb2YgY2hhbmdlLlxuICAgIHZhciB0ZXh0ID0gZGF0YS5yZXBsYWNlKHBhdHRlcm5fYW1wLCAnJmFtcDsnKS5yZXBsYWNlKHBhdHRlcm5fbHQsICcmbHQ7JylcbiAgICAgICAgLnJlcGxhY2UocGF0dGVybl9ndCwgJyZndDsnKS5yZXBsYWNlKHBhdHRlcm5fcGFyYSwgJyZwYXJhOzxicj4nKTtcbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlIERJRkZfSU5TRVJUOlxuICAgICAgICBodG1sW3hdID0gJzxpbnMgc3R5bGU9XCJiYWNrZ3JvdW5kOiNlNmZmZTY7XCI+JyArIHRleHQgKyAnPC9pbnM+JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfREVMRVRFOlxuICAgICAgICBodG1sW3hdID0gJzxkZWwgc3R5bGU9XCJiYWNrZ3JvdW5kOiNmZmU2ZTY7XCI+JyArIHRleHQgKyAnPC9kZWw+JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfRVFVQUw6XG4gICAgICAgIGh0bWxbeF0gPSAnPHNwYW4+JyArIHRleHQgKyAnPC9zcGFuPic7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaHRtbC5qb2luKCcnKTtcbn07XG5cblxuLyoqXG4gKiBDb21wdXRlIGFuZCByZXR1cm4gdGhlIHNvdXJjZSB0ZXh0IChhbGwgZXF1YWxpdGllcyBhbmQgZGVsZXRpb25zKS5cbiAqIEBwYXJhbSB7IUFycmF5LjwhZGlmZl9tYXRjaF9wYXRjaC5EaWZmPn0gZGlmZnMgQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFNvdXJjZSB0ZXh0LlxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5kaWZmX3RleHQxID0gZnVuY3Rpb24oZGlmZnMpIHtcbiAgdmFyIHRleHQgPSBbXTtcbiAgZm9yICh2YXIgeCA9IDA7IHggPCBkaWZmcy5sZW5ndGg7IHgrKykge1xuICAgIGlmIChkaWZmc1t4XVswXSAhPT0gRElGRl9JTlNFUlQpIHtcbiAgICAgIHRleHRbeF0gPSBkaWZmc1t4XVsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRleHQuam9pbignJyk7XG59O1xuXG5cbi8qKlxuICogQ29tcHV0ZSBhbmQgcmV0dXJuIHRoZSBkZXN0aW5hdGlvbiB0ZXh0IChhbGwgZXF1YWxpdGllcyBhbmQgaW5zZXJ0aW9ucykuXG4gKiBAcGFyYW0geyFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2guRGlmZj59IGRpZmZzIEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHJldHVybiB7c3RyaW5nfSBEZXN0aW5hdGlvbiB0ZXh0LlxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5kaWZmX3RleHQyID0gZnVuY3Rpb24oZGlmZnMpIHtcbiAgdmFyIHRleHQgPSBbXTtcbiAgZm9yICh2YXIgeCA9IDA7IHggPCBkaWZmcy5sZW5ndGg7IHgrKykge1xuICAgIGlmIChkaWZmc1t4XVswXSAhPT0gRElGRl9ERUxFVEUpIHtcbiAgICAgIHRleHRbeF0gPSBkaWZmc1t4XVsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRleHQuam9pbignJyk7XG59O1xuXG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgTGV2ZW5zaHRlaW4gZGlzdGFuY2U7IHRoZSBudW1iZXIgb2YgaW5zZXJ0ZWQsIGRlbGV0ZWQgb3JcbiAqIHN1YnN0aXR1dGVkIGNoYXJhY3RlcnMuXG4gKiBAcGFyYW0geyFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2guRGlmZj59IGRpZmZzIEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgY2hhbmdlcy5cbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUuZGlmZl9sZXZlbnNodGVpbiA9IGZ1bmN0aW9uKGRpZmZzKSB7XG4gIHZhciBsZXZlbnNodGVpbiA9IDA7XG4gIHZhciBpbnNlcnRpb25zID0gMDtcbiAgdmFyIGRlbGV0aW9ucyA9IDA7XG4gIGZvciAodmFyIHggPSAwOyB4IDwgZGlmZnMubGVuZ3RoOyB4KyspIHtcbiAgICB2YXIgb3AgPSBkaWZmc1t4XVswXTtcbiAgICB2YXIgZGF0YSA9IGRpZmZzW3hdWzFdO1xuICAgIHN3aXRjaCAob3ApIHtcbiAgICAgIGNhc2UgRElGRl9JTlNFUlQ6XG4gICAgICAgIGluc2VydGlvbnMgKz0gZGF0YS5sZW5ndGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0RFTEVURTpcbiAgICAgICAgZGVsZXRpb25zICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9FUVVBTDpcbiAgICAgICAgLy8gQSBkZWxldGlvbiBhbmQgYW4gaW5zZXJ0aW9uIGlzIG9uZSBzdWJzdGl0dXRpb24uXG4gICAgICAgIGxldmVuc2h0ZWluICs9IE1hdGgubWF4KGluc2VydGlvbnMsIGRlbGV0aW9ucyk7XG4gICAgICAgIGluc2VydGlvbnMgPSAwO1xuICAgICAgICBkZWxldGlvbnMgPSAwO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgbGV2ZW5zaHRlaW4gKz0gTWF0aC5tYXgoaW5zZXJ0aW9ucywgZGVsZXRpb25zKTtcbiAgcmV0dXJuIGxldmVuc2h0ZWluO1xufTtcblxuXG4vKipcbiAqIENydXNoIHRoZSBkaWZmIGludG8gYW4gZW5jb2RlZCBzdHJpbmcgd2hpY2ggZGVzY3JpYmVzIHRoZSBvcGVyYXRpb25zXG4gKiByZXF1aXJlZCB0byB0cmFuc2Zvcm0gdGV4dDEgaW50byB0ZXh0Mi5cbiAqIEUuZy4gPTNcXHQtMlxcdCtpbmcgIC0+IEtlZXAgMyBjaGFycywgZGVsZXRlIDIgY2hhcnMsIGluc2VydCAnaW5nJy5cbiAqIE9wZXJhdGlvbnMgYXJlIHRhYi1zZXBhcmF0ZWQuICBJbnNlcnRlZCB0ZXh0IGlzIGVzY2FwZWQgdXNpbmcgJXh4IG5vdGF0aW9uLlxuICogQHBhcmFtIHshQXJyYXkuPCFkaWZmX21hdGNoX3BhdGNoLkRpZmY+fSBkaWZmcyBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqIEByZXR1cm4ge3N0cmluZ30gRGVsdGEgdGV4dC5cbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUuZGlmZl90b0RlbHRhID0gZnVuY3Rpb24oZGlmZnMpIHtcbiAgdmFyIHRleHQgPSBbXTtcbiAgZm9yICh2YXIgeCA9IDA7IHggPCBkaWZmcy5sZW5ndGg7IHgrKykge1xuICAgIHN3aXRjaCAoZGlmZnNbeF1bMF0pIHtcbiAgICAgIGNhc2UgRElGRl9JTlNFUlQ6XG4gICAgICAgIHRleHRbeF0gPSAnKycgKyBlbmNvZGVVUkkoZGlmZnNbeF1bMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9ERUxFVEU6XG4gICAgICAgIHRleHRbeF0gPSAnLScgKyBkaWZmc1t4XVsxXS5sZW5ndGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0VRVUFMOlxuICAgICAgICB0ZXh0W3hdID0gJz0nICsgZGlmZnNbeF1bMV0ubGVuZ3RoO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRleHQuam9pbignXFx0JykucmVwbGFjZSgvJTIwL2csICcgJyk7XG59O1xuXG5cbi8qKlxuICogR2l2ZW4gdGhlIG9yaWdpbmFsIHRleHQxLCBhbmQgYW4gZW5jb2RlZCBzdHJpbmcgd2hpY2ggZGVzY3JpYmVzIHRoZVxuICogb3BlcmF0aW9ucyByZXF1aXJlZCB0byB0cmFuc2Zvcm0gdGV4dDEgaW50byB0ZXh0MiwgY29tcHV0ZSB0aGUgZnVsbCBkaWZmLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIFNvdXJjZSBzdHJpbmcgZm9yIHRoZSBkaWZmLlxuICogQHBhcmFtIHtzdHJpbmd9IGRlbHRhIERlbHRhIHRleHQuXG4gKiBAcmV0dXJuIHshQXJyYXkuPCFkaWZmX21hdGNoX3BhdGNoLkRpZmY+fSBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqIEB0aHJvd3MgeyFFcnJvcn0gSWYgaW52YWxpZCBpbnB1dC5cbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUuZGlmZl9mcm9tRGVsdGEgPSBmdW5jdGlvbih0ZXh0MSwgZGVsdGEpIHtcbiAgdmFyIGRpZmZzID0gW107XG4gIHZhciBkaWZmc0xlbmd0aCA9IDA7ICAvLyBLZWVwaW5nIG91ciBvd24gbGVuZ3RoIHZhciBpcyBmYXN0ZXIgaW4gSlMuXG4gIHZhciBwb2ludGVyID0gMDsgIC8vIEN1cnNvciBpbiB0ZXh0MVxuICB2YXIgdG9rZW5zID0gZGVsdGEuc3BsaXQoL1xcdC9nKTtcbiAgZm9yICh2YXIgeCA9IDA7IHggPCB0b2tlbnMubGVuZ3RoOyB4KyspIHtcbiAgICAvLyBFYWNoIHRva2VuIGJlZ2lucyB3aXRoIGEgb25lIGNoYXJhY3RlciBwYXJhbWV0ZXIgd2hpY2ggc3BlY2lmaWVzIHRoZVxuICAgIC8vIG9wZXJhdGlvbiBvZiB0aGlzIHRva2VuIChkZWxldGUsIGluc2VydCwgZXF1YWxpdHkpLlxuICAgIHZhciBwYXJhbSA9IHRva2Vuc1t4XS5zdWJzdHJpbmcoMSk7XG4gICAgc3dpdGNoICh0b2tlbnNbeF0uY2hhckF0KDApKSB7XG4gICAgICBjYXNlICcrJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkaWZmc1tkaWZmc0xlbmd0aCsrXSA9IFtESUZGX0lOU0VSVCwgZGVjb2RlVVJJKHBhcmFtKV07XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgLy8gTWFsZm9ybWVkIFVSSSBzZXF1ZW5jZS5cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgZXNjYXBlIGluIGRpZmZfZnJvbURlbHRhOiAnICsgcGFyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnLSc6XG4gICAgICAgIC8vIEZhbGwgdGhyb3VnaC5cbiAgICAgIGNhc2UgJz0nOlxuICAgICAgICB2YXIgbiA9IHBhcnNlSW50KHBhcmFtLCAxMCk7XG4gICAgICAgIGlmIChpc05hTihuKSB8fCBuIDwgMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBudW1iZXIgaW4gZGlmZl9mcm9tRGVsdGE6ICcgKyBwYXJhbSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHQgPSB0ZXh0MS5zdWJzdHJpbmcocG9pbnRlciwgcG9pbnRlciArPSBuKTtcbiAgICAgICAgaWYgKHRva2Vuc1t4XS5jaGFyQXQoMCkgPT0gJz0nKSB7XG4gICAgICAgICAgZGlmZnNbZGlmZnNMZW5ndGgrK10gPSBbRElGRl9FUVVBTCwgdGV4dF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlmZnNbZGlmZnNMZW5ndGgrK10gPSBbRElGRl9ERUxFVEUsIHRleHRdO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gQmxhbmsgdG9rZW5zIGFyZSBvayAoZnJvbSBhIHRyYWlsaW5nIFxcdCkuXG4gICAgICAgIC8vIEFueXRoaW5nIGVsc2UgaXMgYW4gZXJyb3IuXG4gICAgICAgIGlmICh0b2tlbnNbeF0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGlmZiBvcGVyYXRpb24gaW4gZGlmZl9mcm9tRGVsdGE6ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnNbeF0pO1xuICAgICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChwb2ludGVyICE9IHRleHQxLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRGVsdGEgbGVuZ3RoICgnICsgcG9pbnRlciArXG4gICAgICAgICcpIGRvZXMgbm90IGVxdWFsIHNvdXJjZSB0ZXh0IGxlbmd0aCAoJyArIHRleHQxLmxlbmd0aCArICcpLicpO1xuICB9XG4gIHJldHVybiBkaWZmcztcbn07XG5cblxuLy8gIE1BVENIIEZVTkNUSU9OU1xuXG5cbi8qKlxuICogTG9jYXRlIHRoZSBiZXN0IGluc3RhbmNlIG9mICdwYXR0ZXJuJyBpbiAndGV4dCcgbmVhciAnbG9jJy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIHNlYXJjaC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXR0ZXJuIFRoZSBwYXR0ZXJuIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0ge251bWJlcn0gbG9jIFRoZSBsb2NhdGlvbiB0byBzZWFyY2ggYXJvdW5kLlxuICogQHJldHVybiB7bnVtYmVyfSBCZXN0IG1hdGNoIGluZGV4IG9yIC0xLlxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5tYXRjaF9tYWluID0gZnVuY3Rpb24odGV4dCwgcGF0dGVybiwgbG9jKSB7XG4gIC8vIENoZWNrIGZvciBudWxsIGlucHV0cy5cbiAgaWYgKHRleHQgPT0gbnVsbCB8fCBwYXR0ZXJuID09IG51bGwgfHwgbG9jID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ051bGwgaW5wdXQuIChtYXRjaF9tYWluKScpO1xuICB9XG5cbiAgbG9jID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obG9jLCB0ZXh0Lmxlbmd0aCkpO1xuICBpZiAodGV4dCA9PSBwYXR0ZXJuKSB7XG4gICAgLy8gU2hvcnRjdXQgKHBvdGVudGlhbGx5IG5vdCBndWFyYW50ZWVkIGJ5IHRoZSBhbGdvcml0aG0pXG4gICAgcmV0dXJuIDA7XG4gIH0gZWxzZSBpZiAoIXRleHQubGVuZ3RoKSB7XG4gICAgLy8gTm90aGluZyB0byBtYXRjaC5cbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSBpZiAodGV4dC5zdWJzdHJpbmcobG9jLCBsb2MgKyBwYXR0ZXJuLmxlbmd0aCkgPT0gcGF0dGVybikge1xuICAgIC8vIFBlcmZlY3QgbWF0Y2ggYXQgdGhlIHBlcmZlY3Qgc3BvdCEgIChJbmNsdWRlcyBjYXNlIG9mIG51bGwgcGF0dGVybilcbiAgICByZXR1cm4gbG9jO1xuICB9IGVsc2Uge1xuICAgIC8vIERvIGEgZnV6enkgY29tcGFyZS5cbiAgICByZXR1cm4gdGhpcy5tYXRjaF9iaXRhcF8odGV4dCwgcGF0dGVybiwgbG9jKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIExvY2F0ZSB0aGUgYmVzdCBpbnN0YW5jZSBvZiAncGF0dGVybicgaW4gJ3RleHQnIG5lYXIgJ2xvYycgdXNpbmcgdGhlXG4gKiBCaXRhcCBhbGdvcml0aG0uXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBzZWFyY2guXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byBzZWFyY2ggZm9yLlxuICogQHBhcmFtIHtudW1iZXJ9IGxvYyBUaGUgbG9jYXRpb24gdG8gc2VhcmNoIGFyb3VuZC5cbiAqIEByZXR1cm4ge251bWJlcn0gQmVzdCBtYXRjaCBpbmRleCBvciAtMS5cbiAqIEBwcml2YXRlXG4gKi9cbmRpZmZfbWF0Y2hfcGF0Y2gucHJvdG90eXBlLm1hdGNoX2JpdGFwXyA9IGZ1bmN0aW9uKHRleHQsIHBhdHRlcm4sIGxvYykge1xuICBpZiAocGF0dGVybi5sZW5ndGggPiB0aGlzLk1hdGNoX01heEJpdHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhdHRlcm4gdG9vIGxvbmcgZm9yIHRoaXMgYnJvd3Nlci4nKTtcbiAgfVxuXG4gIC8vIEluaXRpYWxpc2UgdGhlIGFscGhhYmV0LlxuICB2YXIgcyA9IHRoaXMubWF0Y2hfYWxwaGFiZXRfKHBhdHRlcm4pO1xuXG4gIHZhciBkbXAgPSB0aGlzOyAgLy8gJ3RoaXMnIGJlY29tZXMgJ3dpbmRvdycgaW4gYSBjbG9zdXJlLlxuXG4gIC8qKlxuICAgKiBDb21wdXRlIGFuZCByZXR1cm4gdGhlIHNjb3JlIGZvciBhIG1hdGNoIHdpdGggZSBlcnJvcnMgYW5kIHggbG9jYXRpb24uXG4gICAqIEFjY2Vzc2VzIGxvYyBhbmQgcGF0dGVybiB0aHJvdWdoIGJlaW5nIGEgY2xvc3VyZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGUgTnVtYmVyIG9mIGVycm9ycyBpbiBtYXRjaC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggTG9jYXRpb24gb2YgbWF0Y2guXG4gICAqIEByZXR1cm4ge251bWJlcn0gT3ZlcmFsbCBzY29yZSBmb3IgbWF0Y2ggKDAuMCA9IGdvb2QsIDEuMCA9IGJhZCkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBtYXRjaF9iaXRhcFNjb3JlXyhlLCB4KSB7XG4gICAgdmFyIGFjY3VyYWN5ID0gZSAvIHBhdHRlcm4ubGVuZ3RoO1xuICAgIHZhciBwcm94aW1pdHkgPSBNYXRoLmFicyhsb2MgLSB4KTtcbiAgICBpZiAoIWRtcC5NYXRjaF9EaXN0YW5jZSkge1xuICAgICAgLy8gRG9kZ2UgZGl2aWRlIGJ5IHplcm8gZXJyb3IuXG4gICAgICByZXR1cm4gcHJveGltaXR5ID8gMS4wIDogYWNjdXJhY3k7XG4gICAgfVxuICAgIHJldHVybiBhY2N1cmFjeSArIChwcm94aW1pdHkgLyBkbXAuTWF0Y2hfRGlzdGFuY2UpO1xuICB9XG5cbiAgLy8gSGlnaGVzdCBzY29yZSBiZXlvbmQgd2hpY2ggd2UgZ2l2ZSB1cC5cbiAgdmFyIHNjb3JlX3RocmVzaG9sZCA9IHRoaXMuTWF0Y2hfVGhyZXNob2xkO1xuICAvLyBJcyB0aGVyZSBhIG5lYXJieSBleGFjdCBtYXRjaD8gKHNwZWVkdXApXG4gIHZhciBiZXN0X2xvYyA9IHRleHQuaW5kZXhPZihwYXR0ZXJuLCBsb2MpO1xuICBpZiAoYmVzdF9sb2MgIT0gLTEpIHtcbiAgICBzY29yZV90aHJlc2hvbGQgPSBNYXRoLm1pbihtYXRjaF9iaXRhcFNjb3JlXygwLCBiZXN0X2xvYyksIHNjb3JlX3RocmVzaG9sZCk7XG4gICAgLy8gV2hhdCBhYm91dCBpbiB0aGUgb3RoZXIgZGlyZWN0aW9uPyAoc3BlZWR1cClcbiAgICBiZXN0X2xvYyA9IHRleHQubGFzdEluZGV4T2YocGF0dGVybiwgbG9jICsgcGF0dGVybi5sZW5ndGgpO1xuICAgIGlmIChiZXN0X2xvYyAhPSAtMSkge1xuICAgICAgc2NvcmVfdGhyZXNob2xkID1cbiAgICAgICAgICBNYXRoLm1pbihtYXRjaF9iaXRhcFNjb3JlXygwLCBiZXN0X2xvYyksIHNjb3JlX3RocmVzaG9sZCk7XG4gICAgfVxuICB9XG5cbiAgLy8gSW5pdGlhbGlzZSB0aGUgYml0IGFycmF5cy5cbiAgdmFyIG1hdGNobWFzayA9IDEgPDwgKHBhdHRlcm4ubGVuZ3RoIC0gMSk7XG4gIGJlc3RfbG9jID0gLTE7XG5cbiAgdmFyIGJpbl9taW4sIGJpbl9taWQ7XG4gIHZhciBiaW5fbWF4ID0gcGF0dGVybi5sZW5ndGggKyB0ZXh0Lmxlbmd0aDtcbiAgdmFyIGxhc3RfcmQ7XG4gIGZvciAodmFyIGQgPSAwOyBkIDwgcGF0dGVybi5sZW5ndGg7IGQrKykge1xuICAgIC8vIFNjYW4gZm9yIHRoZSBiZXN0IG1hdGNoOyBlYWNoIGl0ZXJhdGlvbiBhbGxvd3MgZm9yIG9uZSBtb3JlIGVycm9yLlxuICAgIC8vIFJ1biBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIGhvdyBmYXIgZnJvbSAnbG9jJyB3ZSBjYW4gc3RyYXkgYXQgdGhpc1xuICAgIC8vIGVycm9yIGxldmVsLlxuICAgIGJpbl9taW4gPSAwO1xuICAgIGJpbl9taWQgPSBiaW5fbWF4O1xuICAgIHdoaWxlIChiaW5fbWluIDwgYmluX21pZCkge1xuICAgICAgaWYgKG1hdGNoX2JpdGFwU2NvcmVfKGQsIGxvYyArIGJpbl9taWQpIDw9IHNjb3JlX3RocmVzaG9sZCkge1xuICAgICAgICBiaW5fbWluID0gYmluX21pZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJpbl9tYXggPSBiaW5fbWlkO1xuICAgICAgfVxuICAgICAgYmluX21pZCA9IE1hdGguZmxvb3IoKGJpbl9tYXggLSBiaW5fbWluKSAvIDIgKyBiaW5fbWluKTtcbiAgICB9XG4gICAgLy8gVXNlIHRoZSByZXN1bHQgZnJvbSB0aGlzIGl0ZXJhdGlvbiBhcyB0aGUgbWF4aW11bSBmb3IgdGhlIG5leHQuXG4gICAgYmluX21heCA9IGJpbl9taWQ7XG4gICAgdmFyIHN0YXJ0ID0gTWF0aC5tYXgoMSwgbG9jIC0gYmluX21pZCArIDEpO1xuICAgIHZhciBmaW5pc2ggPSBNYXRoLm1pbihsb2MgKyBiaW5fbWlkLCB0ZXh0Lmxlbmd0aCkgKyBwYXR0ZXJuLmxlbmd0aDtcblxuICAgIHZhciByZCA9IEFycmF5KGZpbmlzaCArIDIpO1xuICAgIHJkW2ZpbmlzaCArIDFdID0gKDEgPDwgZCkgLSAxO1xuICAgIGZvciAodmFyIGogPSBmaW5pc2g7IGogPj0gc3RhcnQ7IGotLSkge1xuICAgICAgLy8gVGhlIGFscGhhYmV0IChzKSBpcyBhIHNwYXJzZSBoYXNoLCBzbyB0aGUgZm9sbG93aW5nIGxpbmUgZ2VuZXJhdGVzXG4gICAgICAvLyB3YXJuaW5ncy5cbiAgICAgIHZhciBjaGFyTWF0Y2ggPSBzW3RleHQuY2hhckF0KGogLSAxKV07XG4gICAgICBpZiAoZCA9PT0gMCkgeyAgLy8gRmlyc3QgcGFzczogZXhhY3QgbWF0Y2guXG4gICAgICAgIHJkW2pdID0gKChyZFtqICsgMV0gPDwgMSkgfCAxKSAmIGNoYXJNYXRjaDtcbiAgICAgIH0gZWxzZSB7ICAvLyBTdWJzZXF1ZW50IHBhc3NlczogZnV6enkgbWF0Y2guXG4gICAgICAgIHJkW2pdID0gKCgocmRbaiArIDFdIDw8IDEpIHwgMSkgJiBjaGFyTWF0Y2gpIHxcbiAgICAgICAgICAgICAgICAoKChsYXN0X3JkW2ogKyAxXSB8IGxhc3RfcmRbal0pIDw8IDEpIHwgMSkgfFxuICAgICAgICAgICAgICAgIGxhc3RfcmRbaiArIDFdO1xuICAgICAgfVxuICAgICAgaWYgKHJkW2pdICYgbWF0Y2htYXNrKSB7XG4gICAgICAgIHZhciBzY29yZSA9IG1hdGNoX2JpdGFwU2NvcmVfKGQsIGogLSAxKTtcbiAgICAgICAgLy8gVGhpcyBtYXRjaCB3aWxsIGFsbW9zdCBjZXJ0YWlubHkgYmUgYmV0dGVyIHRoYW4gYW55IGV4aXN0aW5nIG1hdGNoLlxuICAgICAgICAvLyBCdXQgY2hlY2sgYW55d2F5LlxuICAgICAgICBpZiAoc2NvcmUgPD0gc2NvcmVfdGhyZXNob2xkKSB7XG4gICAgICAgICAgLy8gVG9sZCB5b3Ugc28uXG4gICAgICAgICAgc2NvcmVfdGhyZXNob2xkID0gc2NvcmU7XG4gICAgICAgICAgYmVzdF9sb2MgPSBqIC0gMTtcbiAgICAgICAgICBpZiAoYmVzdF9sb2MgPiBsb2MpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gcGFzc2luZyBsb2MsIGRvbid0IGV4Y2VlZCBvdXIgY3VycmVudCBkaXN0YW5jZSBmcm9tIGxvYy5cbiAgICAgICAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoMSwgMiAqIGxvYyAtIGJlc3RfbG9jKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWxyZWFkeSBwYXNzZWQgbG9jLCBkb3duaGlsbCBmcm9tIGhlcmUgb24gaW4uXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gTm8gaG9wZSBmb3IgYSAoYmV0dGVyKSBtYXRjaCBhdCBncmVhdGVyIGVycm9yIGxldmVscy5cbiAgICBpZiAobWF0Y2hfYml0YXBTY29yZV8oZCArIDEsIGxvYykgPiBzY29yZV90aHJlc2hvbGQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBsYXN0X3JkID0gcmQ7XG4gIH1cbiAgcmV0dXJuIGJlc3RfbG9jO1xufTtcblxuXG4vKipcbiAqIEluaXRpYWxpc2UgdGhlIGFscGhhYmV0IGZvciB0aGUgQml0YXAgYWxnb3JpdGhtLlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdHRlcm4gVGhlIHRleHQgdG8gZW5jb2RlLlxuICogQHJldHVybiB7IU9iamVjdH0gSGFzaCBvZiBjaGFyYWN0ZXIgbG9jYXRpb25zLlxuICogQHByaXZhdGVcbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUubWF0Y2hfYWxwaGFiZXRfID0gZnVuY3Rpb24ocGF0dGVybikge1xuICB2YXIgcyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdHRlcm4ubGVuZ3RoOyBpKyspIHtcbiAgICBzW3BhdHRlcm4uY2hhckF0KGkpXSA9IDA7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XG4gICAgc1twYXR0ZXJuLmNoYXJBdChpKV0gfD0gMSA8PCAocGF0dGVybi5sZW5ndGggLSBpIC0gMSk7XG4gIH1cbiAgcmV0dXJuIHM7XG59O1xuXG5cbi8vICBQQVRDSCBGVU5DVElPTlNcblxuXG4vKipcbiAqIEluY3JlYXNlIHRoZSBjb250ZXh0IHVudGlsIGl0IGlzIHVuaXF1ZSxcbiAqIGJ1dCBkb24ndCBsZXQgdGhlIHBhdHRlcm4gZXhwYW5kIGJleW9uZCBNYXRjaF9NYXhCaXRzLlxuICogQHBhcmFtIHshZGlmZl9tYXRjaF9wYXRjaC5wYXRjaF9vYmp9IHBhdGNoIFRoZSBwYXRjaCB0byBncm93LlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgU291cmNlIHRleHQuXG4gKiBAcHJpdmF0ZVxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5wYXRjaF9hZGRDb250ZXh0XyA9IGZ1bmN0aW9uKHBhdGNoLCB0ZXh0KSB7XG4gIGlmICh0ZXh0Lmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gdGV4dC5zdWJzdHJpbmcocGF0Y2guc3RhcnQyLCBwYXRjaC5zdGFydDIgKyBwYXRjaC5sZW5ndGgxKTtcbiAgdmFyIHBhZGRpbmcgPSAwO1xuXG4gIC8vIExvb2sgZm9yIHRoZSBmaXJzdCBhbmQgbGFzdCBtYXRjaGVzIG9mIHBhdHRlcm4gaW4gdGV4dC4gIElmIHR3byBkaWZmZXJlbnRcbiAgLy8gbWF0Y2hlcyBhcmUgZm91bmQsIGluY3JlYXNlIHRoZSBwYXR0ZXJuIGxlbmd0aC5cbiAgd2hpbGUgKHRleHQuaW5kZXhPZihwYXR0ZXJuKSAhPSB0ZXh0Lmxhc3RJbmRleE9mKHBhdHRlcm4pICYmXG4gICAgICAgICBwYXR0ZXJuLmxlbmd0aCA8IHRoaXMuTWF0Y2hfTWF4Qml0cyAtIHRoaXMuUGF0Y2hfTWFyZ2luIC1cbiAgICAgICAgIHRoaXMuUGF0Y2hfTWFyZ2luKSB7XG4gICAgcGFkZGluZyArPSB0aGlzLlBhdGNoX01hcmdpbjtcbiAgICBwYXR0ZXJuID0gdGV4dC5zdWJzdHJpbmcocGF0Y2guc3RhcnQyIC0gcGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2guc3RhcnQyICsgcGF0Y2gubGVuZ3RoMSArIHBhZGRpbmcpO1xuICB9XG4gIC8vIEFkZCBvbmUgY2h1bmsgZm9yIGdvb2QgbHVjay5cbiAgcGFkZGluZyArPSB0aGlzLlBhdGNoX01hcmdpbjtcblxuICAvLyBBZGQgdGhlIHByZWZpeC5cbiAgdmFyIHByZWZpeCA9IHRleHQuc3Vic3RyaW5nKHBhdGNoLnN0YXJ0MiAtIHBhZGRpbmcsIHBhdGNoLnN0YXJ0Mik7XG4gIGlmIChwcmVmaXgpIHtcbiAgICBwYXRjaC5kaWZmcy51bnNoaWZ0KFtESUZGX0VRVUFMLCBwcmVmaXhdKTtcbiAgfVxuICAvLyBBZGQgdGhlIHN1ZmZpeC5cbiAgdmFyIHN1ZmZpeCA9IHRleHQuc3Vic3RyaW5nKHBhdGNoLnN0YXJ0MiArIHBhdGNoLmxlbmd0aDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaC5zdGFydDIgKyBwYXRjaC5sZW5ndGgxICsgcGFkZGluZyk7XG4gIGlmIChzdWZmaXgpIHtcbiAgICBwYXRjaC5kaWZmcy5wdXNoKFtESUZGX0VRVUFMLCBzdWZmaXhdKTtcbiAgfVxuXG4gIC8vIFJvbGwgYmFjayB0aGUgc3RhcnQgcG9pbnRzLlxuICBwYXRjaC5zdGFydDEgLT0gcHJlZml4Lmxlbmd0aDtcbiAgcGF0Y2guc3RhcnQyIC09IHByZWZpeC5sZW5ndGg7XG4gIC8vIEV4dGVuZCB0aGUgbGVuZ3Rocy5cbiAgcGF0Y2gubGVuZ3RoMSArPSBwcmVmaXgubGVuZ3RoICsgc3VmZml4Lmxlbmd0aDtcbiAgcGF0Y2gubGVuZ3RoMiArPSBwcmVmaXgubGVuZ3RoICsgc3VmZml4Lmxlbmd0aDtcbn07XG5cblxuLyoqXG4gKiBDb21wdXRlIGEgbGlzdCBvZiBwYXRjaGVzIHRvIHR1cm4gdGV4dDEgaW50byB0ZXh0Mi5cbiAqIFVzZSBkaWZmcyBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIGNvbXB1dGUgaXQgb3Vyc2VsdmVzLlxuICogVGhlcmUgYXJlIGZvdXIgd2F5cyB0byBjYWxsIHRoaXMgZnVuY3Rpb24sIGRlcGVuZGluZyBvbiB3aGF0IGRhdGEgaXNcbiAqIGF2YWlsYWJsZSB0byB0aGUgY2FsbGVyOlxuICogTWV0aG9kIDE6XG4gKiBhID0gdGV4dDEsIGIgPSB0ZXh0MlxuICogTWV0aG9kIDI6XG4gKiBhID0gZGlmZnNcbiAqIE1ldGhvZCAzIChvcHRpbWFsKTpcbiAqIGEgPSB0ZXh0MSwgYiA9IGRpZmZzXG4gKiBNZXRob2QgNCAoZGVwcmVjYXRlZCwgdXNlIG1ldGhvZCAzKTpcbiAqIGEgPSB0ZXh0MSwgYiA9IHRleHQyLCBjID0gZGlmZnNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3whQXJyYXkuPCFkaWZmX21hdGNoX3BhdGNoLkRpZmY+fSBhIHRleHQxIChtZXRob2RzIDEsMyw0KSBvclxuICogQXJyYXkgb2YgZGlmZiB0dXBsZXMgZm9yIHRleHQxIHRvIHRleHQyIChtZXRob2QgMikuXG4gKiBAcGFyYW0ge3N0cmluZ3whQXJyYXkuPCFkaWZmX21hdGNoX3BhdGNoLkRpZmY+fSBvcHRfYiB0ZXh0MiAobWV0aG9kcyAxLDQpIG9yXG4gKiBBcnJheSBvZiBkaWZmIHR1cGxlcyBmb3IgdGV4dDEgdG8gdGV4dDIgKG1ldGhvZCAzKSBvciB1bmRlZmluZWQgKG1ldGhvZCAyKS5cbiAqIEBwYXJhbSB7c3RyaW5nfCFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2guRGlmZj59IG9wdF9jIEFycmF5IG9mIGRpZmYgdHVwbGVzXG4gKiBmb3IgdGV4dDEgdG8gdGV4dDIgKG1ldGhvZCA0KSBvciB1bmRlZmluZWQgKG1ldGhvZHMgMSwyLDMpLlxuICogQHJldHVybiB7IUFycmF5LjwhZGlmZl9tYXRjaF9wYXRjaC5wYXRjaF9vYmo+fSBBcnJheSBvZiBQYXRjaCBvYmplY3RzLlxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5wYXRjaF9tYWtlID0gZnVuY3Rpb24oYSwgb3B0X2IsIG9wdF9jKSB7XG4gIHZhciB0ZXh0MSwgZGlmZnM7XG4gIGlmICh0eXBlb2YgYSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb3B0X2IgPT0gJ3N0cmluZycgJiZcbiAgICAgIHR5cGVvZiBvcHRfYyA9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE1ldGhvZCAxOiB0ZXh0MSwgdGV4dDJcbiAgICAvLyBDb21wdXRlIGRpZmZzIGZyb20gdGV4dDEgYW5kIHRleHQyLlxuICAgIHRleHQxID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovKGEpO1xuICAgIGRpZmZzID0gdGhpcy5kaWZmX21haW4odGV4dDEsIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyhvcHRfYiksIHRydWUpO1xuICAgIGlmIChkaWZmcy5sZW5ndGggPiAyKSB7XG4gICAgICB0aGlzLmRpZmZfY2xlYW51cFNlbWFudGljKGRpZmZzKTtcbiAgICAgIHRoaXMuZGlmZl9jbGVhbnVwRWZmaWNpZW5jeShkaWZmcyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGEgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9wdF9iID09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2Ygb3B0X2MgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBNZXRob2QgMjogZGlmZnNcbiAgICAvLyBDb21wdXRlIHRleHQxIGZyb20gZGlmZnMuXG4gICAgZGlmZnMgPSAvKiogQHR5cGUgeyFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2guRGlmZj59ICovKGEpO1xuICAgIHRleHQxID0gdGhpcy5kaWZmX3RleHQxKGRpZmZzKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYSA9PSAnc3RyaW5nJyAmJiBvcHRfYiAmJiB0eXBlb2Ygb3B0X2IgPT0gJ29iamVjdCcgJiZcbiAgICAgIHR5cGVvZiBvcHRfYyA9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE1ldGhvZCAzOiB0ZXh0MSwgZGlmZnNcbiAgICB0ZXh0MSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyhhKTtcbiAgICBkaWZmcyA9IC8qKiBAdHlwZSB7IUFycmF5LjwhZGlmZl9tYXRjaF9wYXRjaC5EaWZmPn0gKi8ob3B0X2IpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhID09ICdzdHJpbmcnICYmIHR5cGVvZiBvcHRfYiA9PSAnc3RyaW5nJyAmJlxuICAgICAgb3B0X2MgJiYgdHlwZW9mIG9wdF9jID09ICdvYmplY3QnKSB7XG4gICAgLy8gTWV0aG9kIDQ6IHRleHQxLCB0ZXh0MiwgZGlmZnNcbiAgICAvLyB0ZXh0MiBpcyBub3QgdXNlZC5cbiAgICB0ZXh0MSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyhhKTtcbiAgICBkaWZmcyA9IC8qKiBAdHlwZSB7IUFycmF5LjwhZGlmZl9tYXRjaF9wYXRjaC5EaWZmPn0gKi8ob3B0X2MpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBjYWxsIGZvcm1hdCB0byBwYXRjaF9tYWtlLicpO1xuICB9XG5cbiAgaWYgKGRpZmZzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTsgIC8vIEdldCByaWQgb2YgdGhlIG51bGwgY2FzZS5cbiAgfVxuICB2YXIgcGF0Y2hlcyA9IFtdO1xuICB2YXIgcGF0Y2ggPSBuZXcgZGlmZl9tYXRjaF9wYXRjaC5wYXRjaF9vYmooKTtcbiAgdmFyIHBhdGNoRGlmZkxlbmd0aCA9IDA7ICAvLyBLZWVwaW5nIG91ciBvd24gbGVuZ3RoIHZhciBpcyBmYXN0ZXIgaW4gSlMuXG4gIHZhciBjaGFyX2NvdW50MSA9IDA7ICAvLyBOdW1iZXIgb2YgY2hhcmFjdGVycyBpbnRvIHRoZSB0ZXh0MSBzdHJpbmcuXG4gIHZhciBjaGFyX2NvdW50MiA9IDA7ICAvLyBOdW1iZXIgb2YgY2hhcmFjdGVycyBpbnRvIHRoZSB0ZXh0MiBzdHJpbmcuXG4gIC8vIFN0YXJ0IHdpdGggdGV4dDEgKHByZXBhdGNoX3RleHQpIGFuZCBhcHBseSB0aGUgZGlmZnMgdW50aWwgd2UgYXJyaXZlIGF0XG4gIC8vIHRleHQyIChwb3N0cGF0Y2hfdGV4dCkuICBXZSByZWNyZWF0ZSB0aGUgcGF0Y2hlcyBvbmUgYnkgb25lIHRvIGRldGVybWluZVxuICAvLyBjb250ZXh0IGluZm8uXG4gIHZhciBwcmVwYXRjaF90ZXh0ID0gdGV4dDE7XG4gIHZhciBwb3N0cGF0Y2hfdGV4dCA9IHRleHQxO1xuICBmb3IgKHZhciB4ID0gMDsgeCA8IGRpZmZzLmxlbmd0aDsgeCsrKSB7XG4gICAgdmFyIGRpZmZfdHlwZSA9IGRpZmZzW3hdWzBdO1xuICAgIHZhciBkaWZmX3RleHQgPSBkaWZmc1t4XVsxXTtcblxuICAgIGlmICghcGF0Y2hEaWZmTGVuZ3RoICYmIGRpZmZfdHlwZSAhPT0gRElGRl9FUVVBTCkge1xuICAgICAgLy8gQSBuZXcgcGF0Y2ggc3RhcnRzIGhlcmUuXG4gICAgICBwYXRjaC5zdGFydDEgPSBjaGFyX2NvdW50MTtcbiAgICAgIHBhdGNoLnN0YXJ0MiA9IGNoYXJfY291bnQyO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZGlmZl90eXBlKSB7XG4gICAgICBjYXNlIERJRkZfSU5TRVJUOlxuICAgICAgICBwYXRjaC5kaWZmc1twYXRjaERpZmZMZW5ndGgrK10gPSBkaWZmc1t4XTtcbiAgICAgICAgcGF0Y2gubGVuZ3RoMiArPSBkaWZmX3RleHQubGVuZ3RoO1xuICAgICAgICBwb3N0cGF0Y2hfdGV4dCA9IHBvc3RwYXRjaF90ZXh0LnN1YnN0cmluZygwLCBjaGFyX2NvdW50MikgKyBkaWZmX3RleHQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RwYXRjaF90ZXh0LnN1YnN0cmluZyhjaGFyX2NvdW50Mik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUZGX0RFTEVURTpcbiAgICAgICAgcGF0Y2gubGVuZ3RoMSArPSBkaWZmX3RleHQubGVuZ3RoO1xuICAgICAgICBwYXRjaC5kaWZmc1twYXRjaERpZmZMZW5ndGgrK10gPSBkaWZmc1t4XTtcbiAgICAgICAgcG9zdHBhdGNoX3RleHQgPSBwb3N0cGF0Y2hfdGV4dC5zdWJzdHJpbmcoMCwgY2hhcl9jb3VudDIpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0cGF0Y2hfdGV4dC5zdWJzdHJpbmcoY2hhcl9jb3VudDIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmX3RleHQubGVuZ3RoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfRVFVQUw6XG4gICAgICAgIGlmIChkaWZmX3RleHQubGVuZ3RoIDw9IDIgKiB0aGlzLlBhdGNoX01hcmdpbiAmJlxuICAgICAgICAgICAgcGF0Y2hEaWZmTGVuZ3RoICYmIGRpZmZzLmxlbmd0aCAhPSB4ICsgMSkge1xuICAgICAgICAgIC8vIFNtYWxsIGVxdWFsaXR5IGluc2lkZSBhIHBhdGNoLlxuICAgICAgICAgIHBhdGNoLmRpZmZzW3BhdGNoRGlmZkxlbmd0aCsrXSA9IGRpZmZzW3hdO1xuICAgICAgICAgIHBhdGNoLmxlbmd0aDEgKz0gZGlmZl90ZXh0Lmxlbmd0aDtcbiAgICAgICAgICBwYXRjaC5sZW5ndGgyICs9IGRpZmZfdGV4dC5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlmZl90ZXh0Lmxlbmd0aCA+PSAyICogdGhpcy5QYXRjaF9NYXJnaW4pIHtcbiAgICAgICAgICAvLyBUaW1lIGZvciBhIG5ldyBwYXRjaC5cbiAgICAgICAgICBpZiAocGF0Y2hEaWZmTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnBhdGNoX2FkZENvbnRleHRfKHBhdGNoLCBwcmVwYXRjaF90ZXh0KTtcbiAgICAgICAgICAgIHBhdGNoZXMucHVzaChwYXRjaCk7XG4gICAgICAgICAgICBwYXRjaCA9IG5ldyBkaWZmX21hdGNoX3BhdGNoLnBhdGNoX29iaigpO1xuICAgICAgICAgICAgcGF0Y2hEaWZmTGVuZ3RoID0gMDtcbiAgICAgICAgICAgIC8vIFVubGlrZSBVbmlkaWZmLCBvdXIgcGF0Y2ggbGlzdHMgaGF2ZSBhIHJvbGxpbmcgY29udGV4dC5cbiAgICAgICAgICAgIC8vIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9nb29nbGUtZGlmZi1tYXRjaC1wYXRjaC93aWtpL1VuaWRpZmZcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwcmVwYXRjaCB0ZXh0ICYgcG9zIHRvIHJlZmxlY3QgdGhlIGFwcGxpY2F0aW9uIG9mIHRoZVxuICAgICAgICAgICAgLy8ganVzdCBjb21wbGV0ZWQgcGF0Y2guXG4gICAgICAgICAgICBwcmVwYXRjaF90ZXh0ID0gcG9zdHBhdGNoX3RleHQ7XG4gICAgICAgICAgICBjaGFyX2NvdW50MSA9IGNoYXJfY291bnQyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGNvdW50LlxuICAgIGlmIChkaWZmX3R5cGUgIT09IERJRkZfSU5TRVJUKSB7XG4gICAgICBjaGFyX2NvdW50MSArPSBkaWZmX3RleHQubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoZGlmZl90eXBlICE9PSBESUZGX0RFTEVURSkge1xuICAgICAgY2hhcl9jb3VudDIgKz0gZGlmZl90ZXh0Lmxlbmd0aDtcbiAgICB9XG4gIH1cbiAgLy8gUGljayB1cCB0aGUgbGVmdG92ZXIgcGF0Y2ggaWYgbm90IGVtcHR5LlxuICBpZiAocGF0Y2hEaWZmTGVuZ3RoKSB7XG4gICAgdGhpcy5wYXRjaF9hZGRDb250ZXh0XyhwYXRjaCwgcHJlcGF0Y2hfdGV4dCk7XG4gICAgcGF0Y2hlcy5wdXNoKHBhdGNoKTtcbiAgfVxuXG4gIHJldHVybiBwYXRjaGVzO1xufTtcblxuXG4vKipcbiAqIEdpdmVuIGFuIGFycmF5IG9mIHBhdGNoZXMsIHJldHVybiBhbm90aGVyIGFycmF5IHRoYXQgaXMgaWRlbnRpY2FsLlxuICogQHBhcmFtIHshQXJyYXkuPCFkaWZmX21hdGNoX3BhdGNoLnBhdGNoX29iaj59IHBhdGNoZXMgQXJyYXkgb2YgUGF0Y2ggb2JqZWN0cy5cbiAqIEByZXR1cm4geyFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2gucGF0Y2hfb2JqPn0gQXJyYXkgb2YgUGF0Y2ggb2JqZWN0cy5cbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUucGF0Y2hfZGVlcENvcHkgPSBmdW5jdGlvbihwYXRjaGVzKSB7XG4gIC8vIE1ha2luZyBkZWVwIGNvcGllcyBpcyBoYXJkIGluIEphdmFTY3JpcHQuXG4gIHZhciBwYXRjaGVzQ29weSA9IFtdO1xuICBmb3IgKHZhciB4ID0gMDsgeCA8IHBhdGNoZXMubGVuZ3RoOyB4KyspIHtcbiAgICB2YXIgcGF0Y2ggPSBwYXRjaGVzW3hdO1xuICAgIHZhciBwYXRjaENvcHkgPSBuZXcgZGlmZl9tYXRjaF9wYXRjaC5wYXRjaF9vYmooKTtcbiAgICBwYXRjaENvcHkuZGlmZnMgPSBbXTtcbiAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHBhdGNoLmRpZmZzLmxlbmd0aDsgeSsrKSB7XG4gICAgICBwYXRjaENvcHkuZGlmZnNbeV0gPSBwYXRjaC5kaWZmc1t5XS5zbGljZSgpO1xuICAgIH1cbiAgICBwYXRjaENvcHkuc3RhcnQxID0gcGF0Y2guc3RhcnQxO1xuICAgIHBhdGNoQ29weS5zdGFydDIgPSBwYXRjaC5zdGFydDI7XG4gICAgcGF0Y2hDb3B5Lmxlbmd0aDEgPSBwYXRjaC5sZW5ndGgxO1xuICAgIHBhdGNoQ29weS5sZW5ndGgyID0gcGF0Y2gubGVuZ3RoMjtcbiAgICBwYXRjaGVzQ29weVt4XSA9IHBhdGNoQ29weTtcbiAgfVxuICByZXR1cm4gcGF0Y2hlc0NvcHk7XG59O1xuXG5cbi8qKlxuICogTWVyZ2UgYSBzZXQgb2YgcGF0Y2hlcyBvbnRvIHRoZSB0ZXh0LiAgUmV0dXJuIGEgcGF0Y2hlZCB0ZXh0LCBhcyB3ZWxsXG4gKiBhcyBhIGxpc3Qgb2YgdHJ1ZS9mYWxzZSB2YWx1ZXMgaW5kaWNhdGluZyB3aGljaCBwYXRjaGVzIHdlcmUgYXBwbGllZC5cbiAqIEBwYXJhbSB7IUFycmF5LjwhZGlmZl9tYXRjaF9wYXRjaC5wYXRjaF9vYmo+fSBwYXRjaGVzIEFycmF5IG9mIFBhdGNoIG9iamVjdHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBPbGQgdGV4dC5cbiAqIEByZXR1cm4geyFBcnJheS48c3RyaW5nfCFBcnJheS48Ym9vbGVhbj4+fSBUd28gZWxlbWVudCBBcnJheSwgY29udGFpbmluZyB0aGVcbiAqICAgICAgbmV3IHRleHQgYW5kIGFuIGFycmF5IG9mIGJvb2xlYW4gdmFsdWVzLlxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5wYXRjaF9hcHBseSA9IGZ1bmN0aW9uKHBhdGNoZXMsIHRleHQpIHtcbiAgaWYgKHBhdGNoZXMubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm4gW3RleHQsIFtdXTtcbiAgfVxuXG4gIC8vIERlZXAgY29weSB0aGUgcGF0Y2hlcyBzbyB0aGF0IG5vIGNoYW5nZXMgYXJlIG1hZGUgdG8gb3JpZ2luYWxzLlxuICBwYXRjaGVzID0gdGhpcy5wYXRjaF9kZWVwQ29weShwYXRjaGVzKTtcblxuICB2YXIgbnVsbFBhZGRpbmcgPSB0aGlzLnBhdGNoX2FkZFBhZGRpbmcocGF0Y2hlcyk7XG4gIHRleHQgPSBudWxsUGFkZGluZyArIHRleHQgKyBudWxsUGFkZGluZztcblxuICB0aGlzLnBhdGNoX3NwbGl0TWF4KHBhdGNoZXMpO1xuICAvLyBkZWx0YSBrZWVwcyB0cmFjayBvZiB0aGUgb2Zmc2V0IGJldHdlZW4gdGhlIGV4cGVjdGVkIGFuZCBhY3R1YWwgbG9jYXRpb25cbiAgLy8gb2YgdGhlIHByZXZpb3VzIHBhdGNoLiAgSWYgdGhlcmUgYXJlIHBhdGNoZXMgZXhwZWN0ZWQgYXQgcG9zaXRpb25zIDEwIGFuZFxuICAvLyAyMCwgYnV0IHRoZSBmaXJzdCBwYXRjaCB3YXMgZm91bmQgYXQgMTIsIGRlbHRhIGlzIDIgYW5kIHRoZSBzZWNvbmQgcGF0Y2hcbiAgLy8gaGFzIGFuIGVmZmVjdGl2ZSBleHBlY3RlZCBwb3NpdGlvbiBvZiAyMi5cbiAgdmFyIGRlbHRhID0gMDtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgZm9yICh2YXIgeCA9IDA7IHggPCBwYXRjaGVzLmxlbmd0aDsgeCsrKSB7XG4gICAgdmFyIGV4cGVjdGVkX2xvYyA9IHBhdGNoZXNbeF0uc3RhcnQyICsgZGVsdGE7XG4gICAgdmFyIHRleHQxID0gdGhpcy5kaWZmX3RleHQxKHBhdGNoZXNbeF0uZGlmZnMpO1xuICAgIHZhciBzdGFydF9sb2M7XG4gICAgdmFyIGVuZF9sb2MgPSAtMTtcbiAgICBpZiAodGV4dDEubGVuZ3RoID4gdGhpcy5NYXRjaF9NYXhCaXRzKSB7XG4gICAgICAvLyBwYXRjaF9zcGxpdE1heCB3aWxsIG9ubHkgcHJvdmlkZSBhbiBvdmVyc2l6ZWQgcGF0dGVybiBpbiB0aGUgY2FzZSBvZlxuICAgICAgLy8gYSBtb25zdGVyIGRlbGV0ZS5cbiAgICAgIHN0YXJ0X2xvYyA9IHRoaXMubWF0Y2hfbWFpbih0ZXh0LCB0ZXh0MS5zdWJzdHJpbmcoMCwgdGhpcy5NYXRjaF9NYXhCaXRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZF9sb2MpO1xuICAgICAgaWYgKHN0YXJ0X2xvYyAhPSAtMSkge1xuICAgICAgICBlbmRfbG9jID0gdGhpcy5tYXRjaF9tYWluKHRleHQsXG4gICAgICAgICAgICB0ZXh0MS5zdWJzdHJpbmcodGV4dDEubGVuZ3RoIC0gdGhpcy5NYXRjaF9NYXhCaXRzKSxcbiAgICAgICAgICAgIGV4cGVjdGVkX2xvYyArIHRleHQxLmxlbmd0aCAtIHRoaXMuTWF0Y2hfTWF4Qml0cyk7XG4gICAgICAgIGlmIChlbmRfbG9jID09IC0xIHx8IHN0YXJ0X2xvYyA+PSBlbmRfbG9jKSB7XG4gICAgICAgICAgLy8gQ2FuJ3QgZmluZCB2YWxpZCB0cmFpbGluZyBjb250ZXh0LiAgRHJvcCB0aGlzIHBhdGNoLlxuICAgICAgICAgIHN0YXJ0X2xvYyA9IC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0X2xvYyA9IHRoaXMubWF0Y2hfbWFpbih0ZXh0LCB0ZXh0MSwgZXhwZWN0ZWRfbG9jKTtcbiAgICB9XG4gICAgaWYgKHN0YXJ0X2xvYyA9PSAtMSkge1xuICAgICAgLy8gTm8gbWF0Y2ggZm91bmQuICA6KFxuICAgICAgcmVzdWx0c1t4XSA9IGZhbHNlO1xuICAgICAgLy8gU3VidHJhY3QgdGhlIGRlbHRhIGZvciB0aGlzIGZhaWxlZCBwYXRjaCBmcm9tIHN1YnNlcXVlbnQgcGF0Y2hlcy5cbiAgICAgIGRlbHRhIC09IHBhdGNoZXNbeF0ubGVuZ3RoMiAtIHBhdGNoZXNbeF0ubGVuZ3RoMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm91bmQgYSBtYXRjaC4gIDopXG4gICAgICByZXN1bHRzW3hdID0gdHJ1ZTtcbiAgICAgIGRlbHRhID0gc3RhcnRfbG9jIC0gZXhwZWN0ZWRfbG9jO1xuICAgICAgdmFyIHRleHQyO1xuICAgICAgaWYgKGVuZF9sb2MgPT0gLTEpIHtcbiAgICAgICAgdGV4dDIgPSB0ZXh0LnN1YnN0cmluZyhzdGFydF9sb2MsIHN0YXJ0X2xvYyArIHRleHQxLmxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0MiA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0X2xvYywgZW5kX2xvYyArIHRoaXMuTWF0Y2hfTWF4Qml0cyk7XG4gICAgICB9XG4gICAgICBpZiAodGV4dDEgPT0gdGV4dDIpIHtcbiAgICAgICAgLy8gUGVyZmVjdCBtYXRjaCwganVzdCBzaG92ZSB0aGUgcmVwbGFjZW1lbnQgdGV4dCBpbi5cbiAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIHN0YXJ0X2xvYykgK1xuICAgICAgICAgICAgICAgdGhpcy5kaWZmX3RleHQyKHBhdGNoZXNbeF0uZGlmZnMpICtcbiAgICAgICAgICAgICAgIHRleHQuc3Vic3RyaW5nKHN0YXJ0X2xvYyArIHRleHQxLmxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJbXBlcmZlY3QgbWF0Y2guICBSdW4gYSBkaWZmIHRvIGdldCBhIGZyYW1ld29yayBvZiBlcXVpdmFsZW50XG4gICAgICAgIC8vIGluZGljZXMuXG4gICAgICAgIHZhciBkaWZmcyA9IHRoaXMuZGlmZl9tYWluKHRleHQxLCB0ZXh0MiwgZmFsc2UpO1xuICAgICAgICBpZiAodGV4dDEubGVuZ3RoID4gdGhpcy5NYXRjaF9NYXhCaXRzICYmXG4gICAgICAgICAgICB0aGlzLmRpZmZfbGV2ZW5zaHRlaW4oZGlmZnMpIC8gdGV4dDEubGVuZ3RoID5cbiAgICAgICAgICAgIHRoaXMuUGF0Y2hfRGVsZXRlVGhyZXNob2xkKSB7XG4gICAgICAgICAgLy8gVGhlIGVuZCBwb2ludHMgbWF0Y2gsIGJ1dCB0aGUgY29udGVudCBpcyB1bmFjY2VwdGFibHkgYmFkLlxuICAgICAgICAgIHJlc3VsdHNbeF0gPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRpZmZfY2xlYW51cFNlbWFudGljTG9zc2xlc3MoZGlmZnMpO1xuICAgICAgICAgIHZhciBpbmRleDEgPSAwO1xuICAgICAgICAgIHZhciBpbmRleDI7XG4gICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBwYXRjaGVzW3hdLmRpZmZzLmxlbmd0aDsgeSsrKSB7XG4gICAgICAgICAgICB2YXIgbW9kID0gcGF0Y2hlc1t4XS5kaWZmc1t5XTtcbiAgICAgICAgICAgIGlmIChtb2RbMF0gIT09IERJRkZfRVFVQUwpIHtcbiAgICAgICAgICAgICAgaW5kZXgyID0gdGhpcy5kaWZmX3hJbmRleChkaWZmcywgaW5kZXgxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb2RbMF0gPT09IERJRkZfSU5TRVJUKSB7ICAvLyBJbnNlcnRpb25cbiAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIHN0YXJ0X2xvYyArIGluZGV4MikgKyBtb2RbMV0gK1xuICAgICAgICAgICAgICAgICAgICAgdGV4dC5zdWJzdHJpbmcoc3RhcnRfbG9jICsgaW5kZXgyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kWzBdID09PSBESUZGX0RFTEVURSkgeyAgLy8gRGVsZXRpb25cbiAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIHN0YXJ0X2xvYyArIGluZGV4MikgK1xuICAgICAgICAgICAgICAgICAgICAgdGV4dC5zdWJzdHJpbmcoc3RhcnRfbG9jICsgdGhpcy5kaWZmX3hJbmRleChkaWZmcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDEgKyBtb2RbMV0ubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9kWzBdICE9PSBESUZGX0RFTEVURSkge1xuICAgICAgICAgICAgICBpbmRleDEgKz0gbW9kWzFdLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gU3RyaXAgdGhlIHBhZGRpbmcgb2ZmLlxuICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcobnVsbFBhZGRpbmcubGVuZ3RoLCB0ZXh0Lmxlbmd0aCAtIG51bGxQYWRkaW5nLmxlbmd0aCk7XG4gIHJldHVybiBbdGV4dCwgcmVzdWx0c107XG59O1xuXG5cbi8qKlxuICogQWRkIHNvbWUgcGFkZGluZyBvbiB0ZXh0IHN0YXJ0IGFuZCBlbmQgc28gdGhhdCBlZGdlcyBjYW4gbWF0Y2ggc29tZXRoaW5nLlxuICogSW50ZW5kZWQgdG8gYmUgY2FsbGVkIG9ubHkgZnJvbSB3aXRoaW4gcGF0Y2hfYXBwbHkuXG4gKiBAcGFyYW0geyFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2gucGF0Y2hfb2JqPn0gcGF0Y2hlcyBBcnJheSBvZiBQYXRjaCBvYmplY3RzLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgcGFkZGluZyBzdHJpbmcgYWRkZWQgdG8gZWFjaCBzaWRlLlxuICovXG5kaWZmX21hdGNoX3BhdGNoLnByb3RvdHlwZS5wYXRjaF9hZGRQYWRkaW5nID0gZnVuY3Rpb24ocGF0Y2hlcykge1xuICB2YXIgcGFkZGluZ0xlbmd0aCA9IHRoaXMuUGF0Y2hfTWFyZ2luO1xuICB2YXIgbnVsbFBhZGRpbmcgPSAnJztcbiAgZm9yICh2YXIgeCA9IDE7IHggPD0gcGFkZGluZ0xlbmd0aDsgeCsrKSB7XG4gICAgbnVsbFBhZGRpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh4KTtcbiAgfVxuXG4gIC8vIEJ1bXAgYWxsIHRoZSBwYXRjaGVzIGZvcndhcmQuXG4gIGZvciAodmFyIHggPSAwOyB4IDwgcGF0Y2hlcy5sZW5ndGg7IHgrKykge1xuICAgIHBhdGNoZXNbeF0uc3RhcnQxICs9IHBhZGRpbmdMZW5ndGg7XG4gICAgcGF0Y2hlc1t4XS5zdGFydDIgKz0gcGFkZGluZ0xlbmd0aDtcbiAgfVxuXG4gIC8vIEFkZCBzb21lIHBhZGRpbmcgb24gc3RhcnQgb2YgZmlyc3QgZGlmZi5cbiAgdmFyIHBhdGNoID0gcGF0Y2hlc1swXTtcbiAgdmFyIGRpZmZzID0gcGF0Y2guZGlmZnM7XG4gIGlmIChkaWZmcy5sZW5ndGggPT0gMCB8fCBkaWZmc1swXVswXSAhPSBESUZGX0VRVUFMKSB7XG4gICAgLy8gQWRkIG51bGxQYWRkaW5nIGVxdWFsaXR5LlxuICAgIGRpZmZzLnVuc2hpZnQoW0RJRkZfRVFVQUwsIG51bGxQYWRkaW5nXSk7XG4gICAgcGF0Y2guc3RhcnQxIC09IHBhZGRpbmdMZW5ndGg7ICAvLyBTaG91bGQgYmUgMC5cbiAgICBwYXRjaC5zdGFydDIgLT0gcGFkZGluZ0xlbmd0aDsgIC8vIFNob3VsZCBiZSAwLlxuICAgIHBhdGNoLmxlbmd0aDEgKz0gcGFkZGluZ0xlbmd0aDtcbiAgICBwYXRjaC5sZW5ndGgyICs9IHBhZGRpbmdMZW5ndGg7XG4gIH0gZWxzZSBpZiAocGFkZGluZ0xlbmd0aCA+IGRpZmZzWzBdWzFdLmxlbmd0aCkge1xuICAgIC8vIEdyb3cgZmlyc3QgZXF1YWxpdHkuXG4gICAgdmFyIGV4dHJhTGVuZ3RoID0gcGFkZGluZ0xlbmd0aCAtIGRpZmZzWzBdWzFdLmxlbmd0aDtcbiAgICBkaWZmc1swXVsxXSA9IG51bGxQYWRkaW5nLnN1YnN0cmluZyhkaWZmc1swXVsxXS5sZW5ndGgpICsgZGlmZnNbMF1bMV07XG4gICAgcGF0Y2guc3RhcnQxIC09IGV4dHJhTGVuZ3RoO1xuICAgIHBhdGNoLnN0YXJ0MiAtPSBleHRyYUxlbmd0aDtcbiAgICBwYXRjaC5sZW5ndGgxICs9IGV4dHJhTGVuZ3RoO1xuICAgIHBhdGNoLmxlbmd0aDIgKz0gZXh0cmFMZW5ndGg7XG4gIH1cblxuICAvLyBBZGQgc29tZSBwYWRkaW5nIG9uIGVuZCBvZiBsYXN0IGRpZmYuXG4gIHBhdGNoID0gcGF0Y2hlc1twYXRjaGVzLmxlbmd0aCAtIDFdO1xuICBkaWZmcyA9IHBhdGNoLmRpZmZzO1xuICBpZiAoZGlmZnMubGVuZ3RoID09IDAgfHwgZGlmZnNbZGlmZnMubGVuZ3RoIC0gMV1bMF0gIT0gRElGRl9FUVVBTCkge1xuICAgIC8vIEFkZCBudWxsUGFkZGluZyBlcXVhbGl0eS5cbiAgICBkaWZmcy5wdXNoKFtESUZGX0VRVUFMLCBudWxsUGFkZGluZ10pO1xuICAgIHBhdGNoLmxlbmd0aDEgKz0gcGFkZGluZ0xlbmd0aDtcbiAgICBwYXRjaC5sZW5ndGgyICs9IHBhZGRpbmdMZW5ndGg7XG4gIH0gZWxzZSBpZiAocGFkZGluZ0xlbmd0aCA+IGRpZmZzW2RpZmZzLmxlbmd0aCAtIDFdWzFdLmxlbmd0aCkge1xuICAgIC8vIEdyb3cgbGFzdCBlcXVhbGl0eS5cbiAgICB2YXIgZXh0cmFMZW5ndGggPSBwYWRkaW5nTGVuZ3RoIC0gZGlmZnNbZGlmZnMubGVuZ3RoIC0gMV1bMV0ubGVuZ3RoO1xuICAgIGRpZmZzW2RpZmZzLmxlbmd0aCAtIDFdWzFdICs9IG51bGxQYWRkaW5nLnN1YnN0cmluZygwLCBleHRyYUxlbmd0aCk7XG4gICAgcGF0Y2gubGVuZ3RoMSArPSBleHRyYUxlbmd0aDtcbiAgICBwYXRjaC5sZW5ndGgyICs9IGV4dHJhTGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIG51bGxQYWRkaW5nO1xufTtcblxuXG4vKipcbiAqIExvb2sgdGhyb3VnaCB0aGUgcGF0Y2hlcyBhbmQgYnJlYWsgdXAgYW55IHdoaWNoIGFyZSBsb25nZXIgdGhhbiB0aGUgbWF4aW11bVxuICogbGltaXQgb2YgdGhlIG1hdGNoIGFsZ29yaXRobS5cbiAqIEludGVuZGVkIHRvIGJlIGNhbGxlZCBvbmx5IGZyb20gd2l0aGluIHBhdGNoX2FwcGx5LlxuICogQHBhcmFtIHshQXJyYXkuPCFkaWZmX21hdGNoX3BhdGNoLnBhdGNoX29iaj59IHBhdGNoZXMgQXJyYXkgb2YgUGF0Y2ggb2JqZWN0cy5cbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUucGF0Y2hfc3BsaXRNYXggPSBmdW5jdGlvbihwYXRjaGVzKSB7XG4gIHZhciBwYXRjaF9zaXplID0gdGhpcy5NYXRjaF9NYXhCaXRzO1xuICBmb3IgKHZhciB4ID0gMDsgeCA8IHBhdGNoZXMubGVuZ3RoOyB4KyspIHtcbiAgICBpZiAocGF0Y2hlc1t4XS5sZW5ndGgxIDw9IHBhdGNoX3NpemUpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgYmlncGF0Y2ggPSBwYXRjaGVzW3hdO1xuICAgIC8vIFJlbW92ZSB0aGUgYmlnIG9sZCBwYXRjaC5cbiAgICBwYXRjaGVzLnNwbGljZSh4LS0sIDEpO1xuICAgIHZhciBzdGFydDEgPSBiaWdwYXRjaC5zdGFydDE7XG4gICAgdmFyIHN0YXJ0MiA9IGJpZ3BhdGNoLnN0YXJ0MjtcbiAgICB2YXIgcHJlY29udGV4dCA9ICcnO1xuICAgIHdoaWxlIChiaWdwYXRjaC5kaWZmcy5sZW5ndGggIT09IDApIHtcbiAgICAgIC8vIENyZWF0ZSBvbmUgb2Ygc2V2ZXJhbCBzbWFsbGVyIHBhdGNoZXMuXG4gICAgICB2YXIgcGF0Y2ggPSBuZXcgZGlmZl9tYXRjaF9wYXRjaC5wYXRjaF9vYmooKTtcbiAgICAgIHZhciBlbXB0eSA9IHRydWU7XG4gICAgICBwYXRjaC5zdGFydDEgPSBzdGFydDEgLSBwcmVjb250ZXh0Lmxlbmd0aDtcbiAgICAgIHBhdGNoLnN0YXJ0MiA9IHN0YXJ0MiAtIHByZWNvbnRleHQubGVuZ3RoO1xuICAgICAgaWYgKHByZWNvbnRleHQgIT09ICcnKSB7XG4gICAgICAgIHBhdGNoLmxlbmd0aDEgPSBwYXRjaC5sZW5ndGgyID0gcHJlY29udGV4dC5sZW5ndGg7XG4gICAgICAgIHBhdGNoLmRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIHByZWNvbnRleHRdKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChiaWdwYXRjaC5kaWZmcy5sZW5ndGggIT09IDAgJiZcbiAgICAgICAgICAgICBwYXRjaC5sZW5ndGgxIDwgcGF0Y2hfc2l6ZSAtIHRoaXMuUGF0Y2hfTWFyZ2luKSB7XG4gICAgICAgIHZhciBkaWZmX3R5cGUgPSBiaWdwYXRjaC5kaWZmc1swXVswXTtcbiAgICAgICAgdmFyIGRpZmZfdGV4dCA9IGJpZ3BhdGNoLmRpZmZzWzBdWzFdO1xuICAgICAgICBpZiAoZGlmZl90eXBlID09PSBESUZGX0lOU0VSVCkge1xuICAgICAgICAgIC8vIEluc2VydGlvbnMgYXJlIGhhcm1sZXNzLlxuICAgICAgICAgIHBhdGNoLmxlbmd0aDIgKz0gZGlmZl90ZXh0Lmxlbmd0aDtcbiAgICAgICAgICBzdGFydDIgKz0gZGlmZl90ZXh0Lmxlbmd0aDtcbiAgICAgICAgICBwYXRjaC5kaWZmcy5wdXNoKGJpZ3BhdGNoLmRpZmZzLnNoaWZ0KCkpO1xuICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlmZl90eXBlID09PSBESUZGX0RFTEVURSAmJiBwYXRjaC5kaWZmcy5sZW5ndGggPT0gMSAmJlxuICAgICAgICAgICAgICAgICAgIHBhdGNoLmRpZmZzWzBdWzBdID09IERJRkZfRVFVQUwgJiZcbiAgICAgICAgICAgICAgICAgICBkaWZmX3RleHQubGVuZ3RoID4gMiAqIHBhdGNoX3NpemUpIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGEgbGFyZ2UgZGVsZXRpb24uICBMZXQgaXQgcGFzcyBpbiBvbmUgY2h1bmsuXG4gICAgICAgICAgcGF0Y2gubGVuZ3RoMSArPSBkaWZmX3RleHQubGVuZ3RoO1xuICAgICAgICAgIHN0YXJ0MSArPSBkaWZmX3RleHQubGVuZ3RoO1xuICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgcGF0Y2guZGlmZnMucHVzaChbZGlmZl90eXBlLCBkaWZmX3RleHRdKTtcbiAgICAgICAgICBiaWdwYXRjaC5kaWZmcy5zaGlmdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIERlbGV0aW9uIG9yIGVxdWFsaXR5LiAgT25seSB0YWtlIGFzIG11Y2ggYXMgd2UgY2FuIHN0b21hY2guXG4gICAgICAgICAgZGlmZl90ZXh0ID0gZGlmZl90ZXh0LnN1YnN0cmluZygwLFxuICAgICAgICAgICAgICBwYXRjaF9zaXplIC0gcGF0Y2gubGVuZ3RoMSAtIHRoaXMuUGF0Y2hfTWFyZ2luKTtcbiAgICAgICAgICBwYXRjaC5sZW5ndGgxICs9IGRpZmZfdGV4dC5sZW5ndGg7XG4gICAgICAgICAgc3RhcnQxICs9IGRpZmZfdGV4dC5sZW5ndGg7XG4gICAgICAgICAgaWYgKGRpZmZfdHlwZSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgICAgICAgcGF0Y2gubGVuZ3RoMiArPSBkaWZmX3RleHQubGVuZ3RoO1xuICAgICAgICAgICAgc3RhcnQyICs9IGRpZmZfdGV4dC5sZW5ndGg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGNoLmRpZmZzLnB1c2goW2RpZmZfdHlwZSwgZGlmZl90ZXh0XSk7XG4gICAgICAgICAgaWYgKGRpZmZfdGV4dCA9PSBiaWdwYXRjaC5kaWZmc1swXVsxXSkge1xuICAgICAgICAgICAgYmlncGF0Y2guZGlmZnMuc2hpZnQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmlncGF0Y2guZGlmZnNbMF1bMV0gPVxuICAgICAgICAgICAgICAgIGJpZ3BhdGNoLmRpZmZzWzBdWzFdLnN1YnN0cmluZyhkaWZmX3RleHQubGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENvbXB1dGUgdGhlIGhlYWQgY29udGV4dCBmb3IgdGhlIG5leHQgcGF0Y2guXG4gICAgICBwcmVjb250ZXh0ID0gdGhpcy5kaWZmX3RleHQyKHBhdGNoLmRpZmZzKTtcbiAgICAgIHByZWNvbnRleHQgPVxuICAgICAgICAgIHByZWNvbnRleHQuc3Vic3RyaW5nKHByZWNvbnRleHQubGVuZ3RoIC0gdGhpcy5QYXRjaF9NYXJnaW4pO1xuICAgICAgLy8gQXBwZW5kIHRoZSBlbmQgY29udGV4dCBmb3IgdGhpcyBwYXRjaC5cbiAgICAgIHZhciBwb3N0Y29udGV4dCA9IHRoaXMuZGlmZl90ZXh0MShiaWdwYXRjaC5kaWZmcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDAsIHRoaXMuUGF0Y2hfTWFyZ2luKTtcbiAgICAgIGlmIChwb3N0Y29udGV4dCAhPT0gJycpIHtcbiAgICAgICAgcGF0Y2gubGVuZ3RoMSArPSBwb3N0Y29udGV4dC5sZW5ndGg7XG4gICAgICAgIHBhdGNoLmxlbmd0aDIgKz0gcG9zdGNvbnRleHQubGVuZ3RoO1xuICAgICAgICBpZiAocGF0Y2guZGlmZnMubGVuZ3RoICE9PSAwICYmXG4gICAgICAgICAgICBwYXRjaC5kaWZmc1twYXRjaC5kaWZmcy5sZW5ndGggLSAxXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgICAgIHBhdGNoLmRpZmZzW3BhdGNoLmRpZmZzLmxlbmd0aCAtIDFdWzFdICs9IHBvc3Rjb250ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGNoLmRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIHBvc3Rjb250ZXh0XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghZW1wdHkpIHtcbiAgICAgICAgcGF0Y2hlcy5zcGxpY2UoKyt4LCAwLCBwYXRjaCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5cbi8qKlxuICogVGFrZSBhIGxpc3Qgb2YgcGF0Y2hlcyBhbmQgcmV0dXJuIGEgdGV4dHVhbCByZXByZXNlbnRhdGlvbi5cbiAqIEBwYXJhbSB7IUFycmF5LjwhZGlmZl9tYXRjaF9wYXRjaC5wYXRjaF9vYmo+fSBwYXRjaGVzIEFycmF5IG9mIFBhdGNoIG9iamVjdHMuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRleHQgcmVwcmVzZW50YXRpb24gb2YgcGF0Y2hlcy5cbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUucGF0Y2hfdG9UZXh0ID0gZnVuY3Rpb24ocGF0Y2hlcykge1xuICB2YXIgdGV4dCA9IFtdO1xuICBmb3IgKHZhciB4ID0gMDsgeCA8IHBhdGNoZXMubGVuZ3RoOyB4KyspIHtcbiAgICB0ZXh0W3hdID0gcGF0Y2hlc1t4XTtcbiAgfVxuICByZXR1cm4gdGV4dC5qb2luKCcnKTtcbn07XG5cblxuLyoqXG4gKiBQYXJzZSBhIHRleHR1YWwgcmVwcmVzZW50YXRpb24gb2YgcGF0Y2hlcyBhbmQgcmV0dXJuIGEgbGlzdCBvZiBQYXRjaCBvYmplY3RzLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRsaW5lIFRleHQgcmVwcmVzZW50YXRpb24gb2YgcGF0Y2hlcy5cbiAqIEByZXR1cm4geyFBcnJheS48IWRpZmZfbWF0Y2hfcGF0Y2gucGF0Y2hfb2JqPn0gQXJyYXkgb2YgUGF0Y2ggb2JqZWN0cy5cbiAqIEB0aHJvd3MgeyFFcnJvcn0gSWYgaW52YWxpZCBpbnB1dC5cbiAqL1xuZGlmZl9tYXRjaF9wYXRjaC5wcm90b3R5cGUucGF0Y2hfZnJvbVRleHQgPSBmdW5jdGlvbih0ZXh0bGluZSkge1xuICB2YXIgcGF0Y2hlcyA9IFtdO1xuICBpZiAoIXRleHRsaW5lKSB7XG4gICAgcmV0dXJuIHBhdGNoZXM7XG4gIH1cbiAgdmFyIHRleHQgPSB0ZXh0bGluZS5zcGxpdCgnXFxuJyk7XG4gIHZhciB0ZXh0UG9pbnRlciA9IDA7XG4gIHZhciBwYXRjaEhlYWRlciA9IC9eQEAgLShcXGQrKSw/KFxcZCopIFxcKyhcXGQrKSw/KFxcZCopIEBAJC87XG4gIHdoaWxlICh0ZXh0UG9pbnRlciA8IHRleHQubGVuZ3RoKSB7XG4gICAgdmFyIG0gPSB0ZXh0W3RleHRQb2ludGVyXS5tYXRjaChwYXRjaEhlYWRlcik7XG4gICAgaWYgKCFtKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGF0Y2ggc3RyaW5nOiAnICsgdGV4dFt0ZXh0UG9pbnRlcl0pO1xuICAgIH1cbiAgICB2YXIgcGF0Y2ggPSBuZXcgZGlmZl9tYXRjaF9wYXRjaC5wYXRjaF9vYmooKTtcbiAgICBwYXRjaGVzLnB1c2gocGF0Y2gpO1xuICAgIHBhdGNoLnN0YXJ0MSA9IHBhcnNlSW50KG1bMV0sIDEwKTtcbiAgICBpZiAobVsyXSA9PT0gJycpIHtcbiAgICAgIHBhdGNoLnN0YXJ0MS0tO1xuICAgICAgcGF0Y2gubGVuZ3RoMSA9IDE7XG4gICAgfSBlbHNlIGlmIChtWzJdID09ICcwJykge1xuICAgICAgcGF0Y2gubGVuZ3RoMSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoLnN0YXJ0MS0tO1xuICAgICAgcGF0Y2gubGVuZ3RoMSA9IHBhcnNlSW50KG1bMl0sIDEwKTtcbiAgICB9XG5cbiAgICBwYXRjaC5zdGFydDIgPSBwYXJzZUludChtWzNdLCAxMCk7XG4gICAgaWYgKG1bNF0gPT09ICcnKSB7XG4gICAgICBwYXRjaC5zdGFydDItLTtcbiAgICAgIHBhdGNoLmxlbmd0aDIgPSAxO1xuICAgIH0gZWxzZSBpZiAobVs0XSA9PSAnMCcpIHtcbiAgICAgIHBhdGNoLmxlbmd0aDIgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXRjaC5zdGFydDItLTtcbiAgICAgIHBhdGNoLmxlbmd0aDIgPSBwYXJzZUludChtWzRdLCAxMCk7XG4gICAgfVxuICAgIHRleHRQb2ludGVyKys7XG5cbiAgICB3aGlsZSAodGV4dFBvaW50ZXIgPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIHNpZ24gPSB0ZXh0W3RleHRQb2ludGVyXS5jaGFyQXQoMCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbGluZSA9IGRlY29kZVVSSSh0ZXh0W3RleHRQb2ludGVyXS5zdWJzdHJpbmcoMSkpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgLy8gTWFsZm9ybWVkIFVSSSBzZXF1ZW5jZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGVzY2FwZSBpbiBwYXRjaF9mcm9tVGV4dDogJyArIGxpbmUpO1xuICAgICAgfVxuICAgICAgaWYgKHNpZ24gPT0gJy0nKSB7XG4gICAgICAgIC8vIERlbGV0aW9uLlxuICAgICAgICBwYXRjaC5kaWZmcy5wdXNoKFtESUZGX0RFTEVURSwgbGluZV0pO1xuICAgICAgfSBlbHNlIGlmIChzaWduID09ICcrJykge1xuICAgICAgICAvLyBJbnNlcnRpb24uXG4gICAgICAgIHBhdGNoLmRpZmZzLnB1c2goW0RJRkZfSU5TRVJULCBsaW5lXSk7XG4gICAgICB9IGVsc2UgaWYgKHNpZ24gPT0gJyAnKSB7XG4gICAgICAgIC8vIE1pbm9yIGVxdWFsaXR5LlxuICAgICAgICBwYXRjaC5kaWZmcy5wdXNoKFtESUZGX0VRVUFMLCBsaW5lXSk7XG4gICAgICB9IGVsc2UgaWYgKHNpZ24gPT0gJ0AnKSB7XG4gICAgICAgIC8vIFN0YXJ0IG9mIG5leHQgcGF0Y2guXG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIGlmIChzaWduID09PSAnJykge1xuICAgICAgICAvLyBCbGFuayBsaW5lPyAgV2hhdGV2ZXIuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXVEY/XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwYXRjaCBtb2RlIFwiJyArIHNpZ24gKyAnXCIgaW46ICcgKyBsaW5lKTtcbiAgICAgIH1cbiAgICAgIHRleHRQb2ludGVyKys7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRjaGVzO1xufTtcblxuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBvbmUgcGF0Y2ggb3BlcmF0aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmRpZmZfbWF0Y2hfcGF0Y2gucGF0Y2hfb2JqID0gZnVuY3Rpb24oKSB7XG4gIC8qKiBAdHlwZSB7IUFycmF5LjwhZGlmZl9tYXRjaF9wYXRjaC5EaWZmPn0gKi9cbiAgdGhpcy5kaWZmcyA9IFtdO1xuICAvKiogQHR5cGUgez9udW1iZXJ9ICovXG4gIHRoaXMuc3RhcnQxID0gbnVsbDtcbiAgLyoqIEB0eXBlIHs/bnVtYmVyfSAqL1xuICB0aGlzLnN0YXJ0MiA9IG51bGw7XG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICB0aGlzLmxlbmd0aDEgPSAwO1xuICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgdGhpcy5sZW5ndGgyID0gMDtcbn07XG5cblxuLyoqXG4gKiBFbW11bGF0ZSBHTlUgZGlmZidzIGZvcm1hdC5cbiAqIEhlYWRlcjogQEAgLTM4Miw4ICs0ODEsOSBAQFxuICogSW5kaWNpZXMgYXJlIHByaW50ZWQgYXMgMS1iYXNlZCwgbm90IDAtYmFzZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBHTlUgZGlmZiBzdHJpbmcuXG4gKi9cbmRpZmZfbWF0Y2hfcGF0Y2gucGF0Y2hfb2JqLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29vcmRzMSwgY29vcmRzMjtcbiAgaWYgKHRoaXMubGVuZ3RoMSA9PT0gMCkge1xuICAgIGNvb3JkczEgPSB0aGlzLnN0YXJ0MSArICcsMCc7XG4gIH0gZWxzZSBpZiAodGhpcy5sZW5ndGgxID09IDEpIHtcbiAgICBjb29yZHMxID0gdGhpcy5zdGFydDEgKyAxO1xuICB9IGVsc2Uge1xuICAgIGNvb3JkczEgPSAodGhpcy5zdGFydDEgKyAxKSArICcsJyArIHRoaXMubGVuZ3RoMTtcbiAgfVxuICBpZiAodGhpcy5sZW5ndGgyID09PSAwKSB7XG4gICAgY29vcmRzMiA9IHRoaXMuc3RhcnQyICsgJywwJztcbiAgfSBlbHNlIGlmICh0aGlzLmxlbmd0aDIgPT0gMSkge1xuICAgIGNvb3JkczIgPSB0aGlzLnN0YXJ0MiArIDE7XG4gIH0gZWxzZSB7XG4gICAgY29vcmRzMiA9ICh0aGlzLnN0YXJ0MiArIDEpICsgJywnICsgdGhpcy5sZW5ndGgyO1xuICB9XG4gIHZhciB0ZXh0ID0gWydAQCAtJyArIGNvb3JkczEgKyAnICsnICsgY29vcmRzMiArICcgQEBcXG4nXTtcbiAgdmFyIG9wO1xuICAvLyBFc2NhcGUgdGhlIGJvZHkgb2YgdGhlIHBhdGNoIHdpdGggJXh4IG5vdGF0aW9uLlxuICBmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMuZGlmZnMubGVuZ3RoOyB4KyspIHtcbiAgICBzd2l0Y2ggKHRoaXMuZGlmZnNbeF1bMF0pIHtcbiAgICAgIGNhc2UgRElGRl9JTlNFUlQ6XG4gICAgICAgIG9wID0gJysnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9ERUxFVEU6XG4gICAgICAgIG9wID0gJy0nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElGRl9FUVVBTDpcbiAgICAgICAgb3AgPSAnICc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0ZXh0W3ggKyAxXSA9IG9wICsgZW5jb2RlVVJJKHRoaXMuZGlmZnNbeF1bMV0pICsgJ1xcbic7XG4gIH1cbiAgcmV0dXJuIHRleHQuam9pbignJykucmVwbGFjZSgvJTIwL2csICcgJyk7XG59O1xuXG5cbi8vIEV4cG9ydCB0aGVzZSBnbG9iYWwgdmFyaWFibGVzIHNvIHRoYXQgdGhleSBzdXJ2aXZlIEdvb2dsZSdzIEpTIGNvbXBpbGVyLlxuLy8gSW4gYSBicm93c2VyLCAndGhpcycgd2lsbCBiZSAnd2luZG93Jy5cbi8vIFVzZXJzIG9mIG5vZGUuanMgc2hvdWxkICdyZXF1aXJlJyB0aGUgdW5jb21wcmVzc2VkIHZlcnNpb24gc2luY2UgR29vZ2xlJ3Ncbi8vIEpTIGNvbXBpbGVyIG1heSBicmVhayB0aGUgZm9sbG93aW5nIGV4cG9ydHMgZm9yIG5vbi1icm93c2VyIGVudmlyb25tZW50cy5cbm1vZHVsZS5leHBvcnRzWydkaWZmX21hdGNoX3BhdGNoJ10gPSBkaWZmX21hdGNoX3BhdGNoO1xubW9kdWxlLmV4cG9ydHNbJ0RJRkZfREVMRVRFJ10gPSBESUZGX0RFTEVURTtcbm1vZHVsZS5leHBvcnRzWydESUZGX0lOU0VSVCddID0gRElGRl9JTlNFUlQ7XG5tb2R1bGUuZXhwb3J0c1snRElGRl9FUVVBTCddID0gRElGRl9FUVVBTDsiLCJ2YXIganNvbmRpZmYgPSByZXF1aXJlKCcuL2pzb25kaWZmJyk7XG52YXIgZGlmZl9tYXRjaF9wYXRjaCA9IHJlcXVpcmUoJy4vZGlmZl9tYXRjaF9wYXRjaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGluaXQ7XG5cbm1vZHVsZS5leHBvcnRzLmpzb25kaWZmID0ganNvbmRpZmY7XG5tb2R1bGUuZXhwb3J0cy5kaWZmX21hdGNoX3BhdGNoID0gZGlmZl9tYXRjaF9wYXRjaDtcblxuZnVuY3Rpb24gaW5pdChvcHRpb25zKXtcbiAgcmV0dXJuIG5ldyBqc29uZGlmZihvcHRpb25zKTtcbn0iLCJ2YXIgZGlmZl9tYXRjaF9wYXRjaCA9IHJlcXVpcmUoJy4vZGlmZl9tYXRjaF9wYXRjaCcpO1xuXG4vLyBzdG9sZW4gZnJvbSBodHRwczovL3Jhdy5naXRodWIuY29tL1NpbXBlcml1bS9qc29uZGlmZi9tYXN0ZXIvc3JjL2pzb25kaWZmLmpzXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBqc29uZGlmZixcbiAgICBfX2JpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9LFxuICAgIF9faGFzUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAganNvbmRpZmYgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICBmdW5jdGlvbiBqc29uZGlmZihvcHRpb25zKSB7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHtsaXN0X2RpZmY6IHRydWV9O1xuICAgICAgdGhpcy5wYXRjaF9hcHBseV93aXRoX29mZnNldHMgPSBfX2JpbmQodGhpcy5wYXRjaF9hcHBseV93aXRoX29mZnNldHMsIHRoaXMpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1fb2JqZWN0X2RpZmYgPSBfX2JpbmQodGhpcy50cmFuc2Zvcm1fb2JqZWN0X2RpZmYsIHRoaXMpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1fbGlzdF9kaWZmID0gX19iaW5kKHRoaXMudHJhbnNmb3JtX2xpc3RfZGlmZiwgdGhpcyk7XG4gICAgICB0aGlzLmFwcGx5X29iamVjdF9kaWZmX3dpdGhfb2Zmc2V0cyA9IF9fYmluZCh0aGlzLmFwcGx5X29iamVjdF9kaWZmX3dpdGhfb2Zmc2V0cywgdGhpcyk7XG4gICAgICB0aGlzLmFwcGx5X29iamVjdF9kaWZmID0gX19iaW5kKHRoaXMuYXBwbHlfb2JqZWN0X2RpZmYsIHRoaXMpO1xuICAgICAgdGhpcy5hcHBseV9saXN0X2RpZmYgPSBfX2JpbmQodGhpcy5hcHBseV9saXN0X2RpZmYsIHRoaXMpO1xuICAgICAgdGhpcy5kaWZmID0gX19iaW5kKHRoaXMuZGlmZiwgdGhpcyk7XG4gICAgICB0aGlzLm9iamVjdF9kaWZmID0gX19iaW5kKHRoaXMub2JqZWN0X2RpZmYsIHRoaXMpO1xuICAgICAgdGhpcy5saXN0X2RpZmYgPSBfX2JpbmQodGhpcy5saXN0X2RpZmYsIHRoaXMpO1xuICAgICAgdGhpcy5fY29tbW9uX3N1ZmZpeCA9IF9fYmluZCh0aGlzLl9jb21tb25fc3VmZml4LCB0aGlzKTtcbiAgICAgIHRoaXMuX2NvbW1vbl9wcmVmaXggPSBfX2JpbmQodGhpcy5fY29tbW9uX3ByZWZpeCwgdGhpcyk7XG4gICAgICB0aGlzLm9iamVjdF9lcXVhbHMgPSBfX2JpbmQodGhpcy5vYmplY3RfZXF1YWxzLCB0aGlzKTtcbiAgICAgIHRoaXMubGlzdF9lcXVhbHMgPSBfX2JpbmQodGhpcy5saXN0X2VxdWFscywgdGhpcyk7XG4gICAgICB0aGlzLmVxdWFscyA9IF9fYmluZCh0aGlzLmVxdWFscywgdGhpcyk7XG4gICAgICB0aGlzLmRlZXBDb3B5ID0gX19iaW5kKHRoaXMuZGVlcENvcHksIHRoaXMpO1xuICAgICAgdGhpcy50eXBlT2YgPSBfX2JpbmQodGhpcy50eXBlT2YsIHRoaXMpO1xuICAgICAgdGhpcy5lbnRyaWVzID0gX19iaW5kKHRoaXMuZW50cmllcywgdGhpcyk7XG4gICAgfVxuXG4gICAganNvbmRpZmYuZG1wID0gbmV3IGRpZmZfbWF0Y2hfcGF0Y2goKTtcblxuICAgIGpzb25kaWZmLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIga2V5LCBuLCB2YWx1ZTtcbiAgICAgIG4gPSAwO1xuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmICghX19oYXNQcm9wLmNhbGwob2JqLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgbisrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG47XG4gICAgfTtcblxuICAgIGpzb25kaWZmLnByb3RvdHlwZS50eXBlT2YgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIHM7XG4gICAgICBzID0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYgKHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUuc3BsaWNlID09PSAnZnVuY3Rpb24nICYmICF2YWx1ZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgnbGVuZ3RoJykpIHtcbiAgICAgICAgICAgIHMgPSAnYXJyYXknO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzID0gJ251bGwnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcztcbiAgICB9O1xuXG4gICAganNvbmRpZmYucHJvdG90eXBlLmRlZXBDb3B5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgaSwgb3V0LCBfcmVmO1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgIG91dCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwLCBfcmVmID0gb2JqLmxlbmd0aDsgMCA8PSBfcmVmID8gaSA8IF9yZWYgOiBpID4gX3JlZjsgMCA8PSBfcmVmID8gaSsrIDogaS0tKSB7XG4gICAgICAgICAgb3V0W2ldID0gYXJndW1lbnRzLmNhbGxlZShvYmpbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgb3V0ID0ge307XG4gICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICBvdXRbaV0gPSBhcmd1bWVudHMuY2FsbGVlKG9ialtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcblxuICAgIGpzb25kaWZmLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICB2YXIgdHlwZWEsIHR5cGViO1xuICAgICAgdHlwZWEgPSB0aGlzLnR5cGVPZihhKTtcbiAgICAgIHR5cGViID0gdGhpcy50eXBlT2YoYik7XG4gICAgICBpZiAodHlwZWEgPT09ICdib29sZWFuJyAmJiB0eXBlYiA9PT0gJ251bWJlcicpIHJldHVybiBOdW1iZXIoYSkgPT09IGI7XG4gICAgICBpZiAodHlwZWEgPT09ICdudW1iZXInICYmIHR5cGVhID09PSAnYm9vbGVhbicpIHJldHVybiBOdW1iZXIoYikgPT09IGE7XG4gICAgICBpZiAodHlwZWEgIT09IHR5cGViKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAodHlwZWEgPT09ICdhcnJheScpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdF9lcXVhbHMoYSwgYik7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVhID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gdGhpcy5vYmplY3RfZXF1YWxzKGEsIGIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGpzb25kaWZmLnByb3RvdHlwZS5saXN0X2VxdWFscyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHZhciBhbGVuZ3RoLCBpO1xuICAgICAgYWxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGFsZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSAwOyAwIDw9IGFsZW5ndGggPyBpIDwgYWxlbmd0aCA6IGkgPiBhbGVuZ3RoOyAwIDw9IGFsZW5ndGggPyBpKysgOiBpLS0pIHtcbiAgICAgICAgaWYgKCF0aGlzLmVxdWFscyhhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIGpzb25kaWZmLnByb3RvdHlwZS5vYmplY3RfZXF1YWxzID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgdmFyIGtleTtcbiAgICAgIGZvciAoa2V5IGluIGEpIHtcbiAgICAgICAgaWYgKCFfX2hhc1Byb3AuY2FsbChhLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCEoa2V5IGluIGIpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5lcXVhbHMoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKGtleSBpbiBiKSB7XG4gICAgICAgIGlmICghX19oYXNQcm9wLmNhbGwoYiwga2V5KSkgY29udGludWU7XG4gICAgICAgIGlmICghKGtleSBpbiBhKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIGpzb25kaWZmLnByb3RvdHlwZS5fY29tbW9uX3ByZWZpeCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHZhciBpLCBtaW5sZW47XG4gICAgICBtaW5sZW4gPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpO1xuICAgICAgZm9yIChpID0gMDsgMCA8PSBtaW5sZW4gPyBpIDwgbWlubGVuIDogaSA+IG1pbmxlbjsgMCA8PSBtaW5sZW4gPyBpKysgOiBpLS0pIHtcbiAgICAgICAgaWYgKCF0aGlzLmVxdWFscyhhW2ldLCBiW2ldKSkgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWlubGVuO1xuICAgIH07XG5cbiAgICBqc29uZGlmZi5wcm90b3R5cGUuX2NvbW1vbl9zdWZmaXggPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICB2YXIgaSwgbGVuYSwgbGVuYiwgbWlubGVuO1xuICAgICAgbGVuYSA9IGEubGVuZ3RoO1xuICAgICAgbGVuYiA9IGIubGVuZ3RoO1xuICAgICAgbWlubGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgICAgIGlmIChtaW5sZW4gPT09IDApIHJldHVybiAwO1xuICAgICAgZm9yIChpID0gMDsgMCA8PSBtaW5sZW4gPyBpIDwgbWlubGVuIDogaSA+IG1pbmxlbjsgMCA8PSBtaW5sZW4gPyBpKysgOiBpLS0pIHtcbiAgICAgICAgaWYgKCF0aGlzLmVxdWFscyhhW2xlbmEgLSBpIC0gMV0sIGJbbGVuYiAtIGkgLSAxXSkpIHJldHVybiBpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1pbmxlbjtcbiAgICB9O1xuXG4gICAganNvbmRpZmYucHJvdG90eXBlLmxpc3RfZGlmZiA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHZhciBkaWZmcywgaSwgbGVuYSwgbGVuYiwgbWF4bGVuLCBwcmVmaXhfbGVuLCBzdWZmaXhfbGVuO1xuICAgICAgZGlmZnMgPSB7fTtcbiAgICAgIGxlbmEgPSBhLmxlbmd0aDtcbiAgICAgIGxlbmIgPSBiLmxlbmd0aDtcbiAgICAgIHByZWZpeF9sZW4gPSB0aGlzLl9jb21tb25fcHJlZml4KGEsIGIpO1xuICAgICAgc3VmZml4X2xlbiA9IHRoaXMuX2NvbW1vbl9zdWZmaXgoYSwgYik7XG4gICAgICBhID0gYS5zbGljZShwcmVmaXhfbGVuLCAobGVuYSAtIHN1ZmZpeF9sZW4pKTtcbiAgICAgIGIgPSBiLnNsaWNlKHByZWZpeF9sZW4sIChsZW5iIC0gc3VmZml4X2xlbikpO1xuICAgICAgbGVuYSA9IGEubGVuZ3RoO1xuICAgICAgbGVuYiA9IGIubGVuZ3RoO1xuICAgICAgbWF4bGVuID0gTWF0aC5tYXgobGVuYSwgbGVuYik7XG4gICAgICBmb3IgKGkgPSAwOyAwIDw9IG1heGxlbiA/IGkgPD0gbWF4bGVuIDogaSA+PSBtYXhsZW47IDAgPD0gbWF4bGVuID8gaSsrIDogaS0tKSB7XG4gICAgICAgIGlmIChpIDwgbGVuYSAmJiBpIDwgbGVuYikge1xuICAgICAgICAgIGlmICghdGhpcy5lcXVhbHMoYVtpXSwgYltpXSkpIHtcbiAgICAgICAgICAgIGRpZmZzW2kgKyBwcmVmaXhfbGVuXSA9IHRoaXMuZGlmZihhW2ldLCBiW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaSA8IGxlbmEpIHtcbiAgICAgICAgICBkaWZmc1tpICsgcHJlZml4X2xlbl0gPSB7XG4gICAgICAgICAgICAnbyc6ICctJ1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoaSA8IGxlbmIpIHtcbiAgICAgICAgICBkaWZmc1tpICsgcHJlZml4X2xlbl0gPSB7XG4gICAgICAgICAgICAnbyc6ICcrJyxcbiAgICAgICAgICAgICd2JzogYltpXVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkaWZmcztcbiAgICB9O1xuXG4gICAganNvbmRpZmYucHJvdG90eXBlLm9iamVjdF9kaWZmID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgdmFyIGRpZmZzLCBrZXk7XG4gICAgICBkaWZmcyA9IHt9O1xuICAgICAgaWYgKCEoYSAhPSBudWxsKSB8fCAhKGIgIT0gbnVsbCkpIHJldHVybiB7fTtcbiAgICAgIGZvciAoa2V5IGluIGEpIHtcbiAgICAgICAgaWYgKCFfX2hhc1Byb3AuY2FsbChhLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgaWYgKGtleSBpbiBiKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmVxdWFscyhhW2tleV0sIGJba2V5XSkpIGRpZmZzW2tleV0gPSB0aGlzLmRpZmYoYVtrZXldLCBiW2tleV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpZmZzW2tleV0gPSB7XG4gICAgICAgICAgICAnbyc6ICctJ1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoa2V5IGluIGIpIHtcbiAgICAgICAgaWYgKCFfX2hhc1Byb3AuY2FsbChiLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCEoa2V5IGluIGEpKSB7XG4gICAgICAgICAgZGlmZnNba2V5XSA9IHtcbiAgICAgICAgICAgICdvJzogJysnLFxuICAgICAgICAgICAgJ3YnOiBiW2tleV1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGlmZnM7XG4gICAgfTtcblxuICAgIGpzb25kaWZmLnByb3RvdHlwZS5kaWZmID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgdmFyIGRpZmZzLCB0eXBlYTtcbiAgICAgIGlmICh0aGlzLmVxdWFscyhhLCBiKSkgcmV0dXJuIHt9O1xuICAgICAgdHlwZWEgPSB0aGlzLnR5cGVPZihhKTtcbiAgICAgIGlmICh0eXBlYSAhPT0gdGhpcy50eXBlT2YoYikpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAnbyc6ICdyJyxcbiAgICAgICAgICAndic6IGJcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodHlwZWEpIHtcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdvJzogJ3InLFxuICAgICAgICAgICAgJ3YnOiBiXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ28nOiAncicsXG4gICAgICAgICAgICAndic6IGJcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5saXN0X2RpZmYpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICdvJzogJ0wnLFxuICAgICAgICAgICAgICAndic6IHRoaXMubGlzdF9kaWZmKGEsIGIpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAnbyc6ICdyJyxcbiAgICAgICAgICAgICAgJ3YnOiBiXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ28nOiAnTycsXG4gICAgICAgICAgICAndic6IHRoaXMub2JqZWN0X2RpZmYoYSwgYilcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgIGRpZmZzID0ganNvbmRpZmYuZG1wLmRpZmZfbWFpbihhLCBiKTtcbiAgICAgICAgICBpZiAoZGlmZnMubGVuZ3RoID4gMikganNvbmRpZmYuZG1wLmRpZmZfY2xlYW51cEVmZmljaWVuY3koZGlmZnMpO1xuICAgICAgICAgIGlmIChkaWZmcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAnbyc6ICdkJyxcbiAgICAgICAgICAgICAgJ3YnOiBqc29uZGlmZi5kbXAuZGlmZl90b0RlbHRhKGRpZmZzKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfTtcblxuICAgIGpzb25kaWZmLnByb3RvdHlwZS5hcHBseV9saXN0X2RpZmYgPSBmdW5jdGlvbihzLCBkaWZmcykge1xuICAgICAgdmFyIGRlbGV0ZWQsIGRtcF9kaWZmcywgZG1wX3BhdGNoZXMsIGRtcF9yZXN1bHQsIGluZGV4LCBpbmRleGVzLCBrZXksIG9wLCBwYXRjaGVkLCBzX2luZGV4LCBzaGlmdCwgeCwgX2ksIF9sZW4sIF9yZWYsIF9yZWYyO1xuICAgICAgcGF0Y2hlZCA9IHRoaXMuZGVlcENvcHkocyk7XG4gICAgICBpbmRleGVzID0gW107XG4gICAgICBkZWxldGVkID0gW107XG4gICAgICBmb3IgKGtleSBpbiBkaWZmcykge1xuICAgICAgICBpZiAoIV9faGFzUHJvcC5jYWxsKGRpZmZzLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgaW5kZXhlcy5wdXNoKGtleSk7XG4gICAgICAgIGluZGV4ZXMuc29ydCgpO1xuICAgICAgfVxuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBpbmRleGVzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIGluZGV4ID0gaW5kZXhlc1tfaV07XG4gICAgICAgIG9wID0gZGlmZnNbaW5kZXhdO1xuICAgICAgICBzaGlmdCA9ICgoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIF9qLCBfbGVuMiwgX3Jlc3VsdHM7XG4gICAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgICBmb3IgKF9qID0gMCwgX2xlbjIgPSBkZWxldGVkLmxlbmd0aDsgX2ogPCBfbGVuMjsgX2orKykge1xuICAgICAgICAgICAgeCA9IGRlbGV0ZWRbX2pdO1xuICAgICAgICAgICAgaWYgKHggPD0gaW5kZXgpIF9yZXN1bHRzLnB1c2goeCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgICAgfSkoKSkubGVuZ3RoO1xuICAgICAgICBzX2luZGV4ID0gaW5kZXggLSBzaGlmdDtcbiAgICAgICAgc3dpdGNoIChvcFsnbyddKSB7XG4gICAgICAgICAgY2FzZSAnKyc6XG4gICAgICAgICAgICBbXS5zcGxpY2UuYXBwbHkocGF0Y2hlZCwgW3NfaW5kZXgsIHNfaW5kZXggLSBzX2luZGV4ICsgMV0uY29uY2F0KF9yZWYgPSBvcFsndiddKSksIF9yZWY7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICAgIFtdLnNwbGljZS5hcHBseShwYXRjaGVkLCBbc19pbmRleCwgc19pbmRleCAtIHNfaW5kZXggKyAxXS5jb25jYXQoX3JlZjIgPSBbXSkpLCBfcmVmMjtcbiAgICAgICAgICAgIGRlbGV0ZWRbZGVsZXRlZC5sZW5ndGhdID0gc19pbmRleDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3InOlxuICAgICAgICAgICAgcGF0Y2hlZFtzX2luZGV4XSA9IG9wWyd2J107XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdJJzpcbiAgICAgICAgICAgIHBhdGNoZWRbc19pbmRleF0gKz0gb3BbJ3YnXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgcGF0Y2hlZFtzX2luZGV4XSA9IHRoaXMuYXBwbHlfbGlzdF9kaWZmKHBhdGNoZWRbc19pbmRleF0sIG9wWyd2J10pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnTyc6XG4gICAgICAgICAgICBwYXRjaGVkW3NfaW5kZXhdID0gdGhpcy5hcHBseV9vYmplY3RfZGlmZihwYXRjaGVkW3NfaW5kZXhdLCBvcFsndiddKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2QnOlxuICAgICAgICAgICAgZG1wX2RpZmZzID0ganNvbmRpZmYuZG1wLmRpZmZfZnJvbURlbHRhKHBhdGNoZWRbc19pbmRleF0sIG9wWyd2J10pO1xuICAgICAgICAgICAgZG1wX3BhdGNoZXMgPSBqc29uZGlmZi5kbXAucGF0Y2hfbWFrZShwYXRjaGVkW3NfaW5kZXhdLCBkbXBfZGlmZnMpO1xuICAgICAgICAgICAgZG1wX3Jlc3VsdCA9IGpzb25kaWZmLmRtcC5wYXRjaF9hcHBseShkbXBfcGF0Y2hlcywgcGF0Y2hlZFtzX2luZGV4XSk7XG4gICAgICAgICAgICBwYXRjaGVkW3NfaW5kZXhdID0gZG1wX3Jlc3VsdFswXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHBhdGNoZWQ7XG4gICAgfTtcblxuICAgIGpzb25kaWZmLnByb3RvdHlwZS5hcHBseV9vYmplY3RfZGlmZiA9IGZ1bmN0aW9uKHMsIGRpZmZzKSB7XG4gICAgICB2YXIgZG1wX2RpZmZzLCBkbXBfcGF0Y2hlcywgZG1wX3Jlc3VsdCwga2V5LCBvcCwgcGF0Y2hlZDtcbiAgICAgIHBhdGNoZWQgPSB0aGlzLmRlZXBDb3B5KHMpO1xuICAgICAgZm9yIChrZXkgaW4gZGlmZnMpIHtcbiAgICAgICAgaWYgKCFfX2hhc1Byb3AuY2FsbChkaWZmcywga2V5KSkgY29udGludWU7XG4gICAgICAgIG9wID0gZGlmZnNba2V5XTtcbiAgICAgICAgc3dpdGNoIChvcFsnbyddKSB7XG4gICAgICAgICAgY2FzZSAnKyc6XG4gICAgICAgICAgICBwYXRjaGVkW2tleV0gPSBvcFsndiddO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICBkZWxldGUgcGF0Y2hlZFtrZXldO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncic6XG4gICAgICAgICAgICBwYXRjaGVkW2tleV0gPSBvcFsndiddO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnSSc6XG4gICAgICAgICAgICBwYXRjaGVkW2tleV0gKz0gb3BbJ3YnXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgcGF0Y2hlZFtrZXldID0gdGhpcy5hcHBseV9saXN0X2RpZmYocGF0Y2hlZFtrZXldLCBvcFsndiddKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ08nOlxuICAgICAgICAgICAgcGF0Y2hlZFtrZXldID0gdGhpcy5hcHBseV9vYmplY3RfZGlmZihwYXRjaGVkW2tleV0sIG9wWyd2J10pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICBkbXBfZGlmZnMgPSBqc29uZGlmZi5kbXAuZGlmZl9mcm9tRGVsdGEocGF0Y2hlZFtrZXldLCBvcFsndiddKTtcbiAgICAgICAgICAgIGRtcF9wYXRjaGVzID0ganNvbmRpZmYuZG1wLnBhdGNoX21ha2UocGF0Y2hlZFtrZXldLCBkbXBfZGlmZnMpO1xuICAgICAgICAgICAgZG1wX3Jlc3VsdCA9IGpzb25kaWZmLmRtcC5wYXRjaF9hcHBseShkbXBfcGF0Y2hlcywgcGF0Y2hlZFtrZXldKTtcbiAgICAgICAgICAgIHBhdGNoZWRba2V5XSA9IGRtcF9yZXN1bHRbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXRjaGVkO1xuICAgIH07XG5cbiAgICBqc29uZGlmZi5wcm90b3R5cGUuYXBwbHlfb2JqZWN0X2RpZmZfd2l0aF9vZmZzZXRzID0gZnVuY3Rpb24ocywgZGlmZnMsIGZpZWxkLCBvZmZzZXRzKSB7XG4gICAgICB2YXIgZG1wX2RpZmZzLCBkbXBfcGF0Y2hlcywgZG1wX3Jlc3VsdCwga2V5LCBvcCwgcGF0Y2hlZDtcbiAgICAgIHBhdGNoZWQgPSB0aGlzLmRlZXBDb3B5KHMpO1xuICAgICAgZm9yIChrZXkgaW4gZGlmZnMpIHtcbiAgICAgICAgaWYgKCFfX2hhc1Byb3AuY2FsbChkaWZmcywga2V5KSkgY29udGludWU7XG4gICAgICAgIG9wID0gZGlmZnNba2V5XTtcbiAgICAgICAgc3dpdGNoIChvcFsnbyddKSB7XG4gICAgICAgICAgY2FzZSAnKyc6XG4gICAgICAgICAgICBwYXRjaGVkW2tleV0gPSBvcFsndiddO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICBkZWxldGUgcGF0Y2hlZFtrZXldO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncic6XG4gICAgICAgICAgICBwYXRjaGVkW2tleV0gPSBvcFsndiddO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnSSc6XG4gICAgICAgICAgICBwYXRjaGVkW2tleV0gKz0gb3BbJ3YnXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgcGF0Y2hlZFtrZXldID0gdGhpcy5hcHBseV9saXN0X2RpZmYocGF0Y2hlZFtrZXldLCBvcFsndiddKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ08nOlxuICAgICAgICAgICAgcGF0Y2hlZFtrZXldID0gdGhpcy5hcHBseV9vYmplY3RfZGlmZihwYXRjaGVkW2tleV0sIG9wWyd2J10pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICBkbXBfZGlmZnMgPSBqc29uZGlmZi5kbXAuZGlmZl9mcm9tRGVsdGEocGF0Y2hlZFtrZXldLCBvcFsndiddKTtcbiAgICAgICAgICAgIGRtcF9wYXRjaGVzID0ganNvbmRpZmYuZG1wLnBhdGNoX21ha2UocGF0Y2hlZFtrZXldLCBkbXBfZGlmZnMpO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gZmllbGQpIHtcbiAgICAgICAgICAgICAgcGF0Y2hlZFtrZXldID0gdGhpcy5wYXRjaF9hcHBseV93aXRoX29mZnNldHMoZG1wX3BhdGNoZXMsIHBhdGNoZWRba2V5XSwgb2Zmc2V0cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkbXBfcmVzdWx0ID0ganNvbmRpZmYuZG1wLnBhdGNoX2FwcGx5KGRtcF9wYXRjaGVzLCBwYXRjaGVkW2tleV0pO1xuICAgICAgICAgICAgICBwYXRjaGVkW2tleV0gPSBkbXBfcmVzdWx0WzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF0Y2hlZDtcbiAgICB9O1xuXG4gICAganNvbmRpZmYucHJvdG90eXBlLnRyYW5zZm9ybV9saXN0X2RpZmYgPSBmdW5jdGlvbihhZCwgYmQsIHMpIHtcbiAgICAgIHZhciBhZF9uZXcsIGJfZGVsZXRlcywgYl9pbnNlcnRzLCBkaWZmLCBpbmRleCwgb3AsIHNoaWZ0X2wsIHNoaWZ0X3IsIHNpbmRleCwgeDtcbiAgICAgIGFkX25ldyA9IHt9O1xuICAgICAgYl9pbnNlcnRzID0gW107XG4gICAgICBiX2RlbGV0ZXMgPSBbXTtcbiAgICAgIGZvciAoaW5kZXggaW4gYmQpIHtcbiAgICAgICAgaWYgKCFfX2hhc1Byb3AuY2FsbChiZCwgaW5kZXgpKSBjb250aW51ZTtcbiAgICAgICAgb3AgPSBiZFtpbmRleF07XG4gICAgICAgIGlmIChvcFsnbyddID09PSAnKycpIGJfaW5zZXJ0cy5wdXNoKGluZGV4KTtcbiAgICAgICAgaWYgKG9wWydvJ10gPT09ICctJykgYl9kZWxldGVzLnB1c2goaW5kZXgpO1xuICAgICAgfVxuICAgICAgZm9yIChpbmRleCBpbiBhZCkge1xuICAgICAgICBpZiAoIV9faGFzUHJvcC5jYWxsKGFkLCBpbmRleCkpIGNvbnRpbnVlO1xuICAgICAgICBvcCA9IGFkW2luZGV4XTtcbiAgICAgICAgc2hpZnRfciA9IFtcbiAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX2ksIF9sZW4sIF9yZXN1bHRzO1xuICAgICAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gYl9pbnNlcnRzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICAgIHggPSBiX2luc2VydHNbX2ldO1xuICAgICAgICAgICAgICBpZiAoeCA8PSBpbmRleCkgX3Jlc3VsdHMucHVzaCh4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgICAgICB9KSgpXG4gICAgICAgIF0ubGVuZ3RoO1xuICAgICAgICBzaGlmdF9sID0gW1xuICAgICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBfaSwgX2xlbiwgX3Jlc3VsdHM7XG4gICAgICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBiX2RlbGV0ZXMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICAgICAgeCA9IGJfZGVsZXRlc1tfaV07XG4gICAgICAgICAgICAgIGlmICh4IDw9IGluZGV4KSBfcmVzdWx0cy5wdXNoKHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgICAgIH0pKClcbiAgICAgICAgXS5sZW5ndGg7XG4gICAgICAgIGluZGV4ID0gaW5kZXggKyBzaGlmdF9yIC0gc2hpZnRfbDtcbiAgICAgICAgc2luZGV4ID0gU3RyaW5nKGluZGV4KTtcbiAgICAgICAgYWRfbmV3W3NpbmRleF0gPSBvcDtcbiAgICAgICAgaWYgKGluZGV4IGluIGJkKSB7XG4gICAgICAgICAgaWYgKG9wWydvJ10gPT09ICcrJyAmJiBiZC5pbmRleFsnbyddID09PSAnKycpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BbJ28nXSA9PT0gJy0nICYmIGJkLmluZGV4WydvJ10gPT09ICctJykge1xuICAgICAgICAgICAgZGVsZXRlIGFkX25ld1tzaW5kZXhdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaWZmID0gdGhpcy50cmFuc2Zvcm1fb2JqZWN0X2RpZmYoe1xuICAgICAgICAgICAgICBzaW5kZXg6IG9wXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIHNpbmRleDogYmQuaW5kZXhcbiAgICAgICAgICAgIH0sIHMpO1xuICAgICAgICAgICAgYWRfbmV3W3NpbmRleF0gPSBkaWZmW3NpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYWRfbmV3O1xuICAgIH07XG5cbiAgICBqc29uZGlmZi5wcm90b3R5cGUudHJhbnNmb3JtX29iamVjdF9kaWZmID0gZnVuY3Rpb24oYWQsIGJkLCBzKSB7XG4gICAgICB2YXIgYV9wYXRjaGVzLCBhYl90ZXh0LCBhZF9uZXcsIGFvcCwgYl9wYXRjaGVzLCBiX3RleHQsIGJvcCwgZG1wX2RpZmZzLCBkbXBfcGF0Y2hlcywgZG1wX3Jlc3VsdCwga2V5LCBzaywgX3JlZjtcbiAgICAgIGFkX25ldyA9IHRoaXMuZGVlcENvcHkoYWQpO1xuICAgICAgZm9yIChrZXkgaW4gYWQpIHtcbiAgICAgICAgaWYgKCFfX2hhc1Byb3AuY2FsbChhZCwga2V5KSkgY29udGludWU7XG4gICAgICAgIGFvcCA9IGFkW2tleV07XG4gICAgICAgIGlmICghKGtleSBpbiBiZCkpIGNvbnRpbnVlO1xuICAgICAgICBzayA9IHNba2V5XTtcbiAgICAgICAgYm9wID0gYmRba2V5XTtcbiAgICAgICAgaWYgKGFvcFsnbyddID09PSAnKycgJiYgYm9wWydvJ10gPT09ICcrJykge1xuICAgICAgICAgIGlmICh0aGlzLmVxdWFscyhhb3BbJ3YnXSwgYm9wWyd2J10pKSB7XG4gICAgICAgICAgICBkZWxldGUgYWRfbmV3W2tleV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkX25ld1trZXldID0gdGhpcy5kaWZmKGJvcFsndiddLCBhb3BbJ3YnXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGFvcFsnbyddID09PSAnLScgJiYgYm9wWydvJ10gPT09ICctJykge1xuICAgICAgICAgIGRlbGV0ZSBhZF9uZXdba2V5XTtcbiAgICAgICAgfSBlbHNlIGlmIChib3BbJ28nXSA9PT0gJy0nICYmICgoX3JlZiA9IGFvcFsnbyddKSA9PT0gJ08nIHx8IF9yZWYgPT09ICdMJyB8fCBfcmVmID09PSAnSScgfHwgX3JlZiA9PT0gJ2QnKSkge1xuICAgICAgICAgIGFkX25ld1trZXldID0ge1xuICAgICAgICAgICAgJ28nOiAnKydcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChhb3BbJ28nXSA9PT0gJ08nKSB7XG4gICAgICAgICAgICBhZF9uZXdba2V5XVsndiddID0gdGhpcy5hcHBseV9vYmplY3RfZGlmZihzaywgYW9wWyd2J10pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYW9wWydvJ10gPT09ICdMJykge1xuICAgICAgICAgICAgYWRfbmV3W2tleV1bJ3YnXSA9IHRoaXMuYXBwbHlfbGlzdF9kaWZmKHNrLCBhb3BbJ3YnXSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhb3BbJ28nXSA9PT0gJ0knKSB7XG4gICAgICAgICAgICBhZF9uZXdba2V5XVsndiddID0gc2sgKyBhb3BbJ3YnXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFvcFsnbyddID09PSAnZCcpIHtcbiAgICAgICAgICAgIGRtcF9kaWZmcyA9IGpzb25kaWZmLmRtcC5kaWZmX2Zyb21EZWx0YShzaywgYW9wWyd2J10pO1xuICAgICAgICAgICAgZG1wX3BhdGNoZXMgPSBqc29uZGlmZi5kbXAucGF0Y2hfbWFrZShzaywgZG1wX2RpZmZzKTtcbiAgICAgICAgICAgIGRtcF9yZXN1bHQgPSBqc29uZGlmZi5kbXAucGF0Y2hfYXBwbHkoZG1wX3BhdGNoZXMsIHNrKTtcbiAgICAgICAgICAgIGFkX25ld1trZXldWyd2J10gPSBkbXBfcmVzdWx0WzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChhb3BbJ28nXSA9PT0gJ08nICYmIGJvcFsnbyddID09PSAnTycpIHtcbiAgICAgICAgICBhZF9uZXdba2V5XSA9IHtcbiAgICAgICAgICAgICdvJzogJ08nLFxuICAgICAgICAgICAgJ3YnOiB0aGlzLnRyYW5zZm9ybV9vYmplY3RfZGlmZihhb3BbJ3YnXSwgYm9wWyd2J10sIHNrKVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoYW9wWydvJ10gPT09ICdMJyAmJiBib3BbJ28nXSA9PT0gJ0wnKSB7XG4gICAgICAgICAgYWRfbmV3W2tleV0gPSB7XG4gICAgICAgICAgICAnbyc6ICdPJyxcbiAgICAgICAgICAgICd2JzogdGhpcy50cmFuc2Zvcm1fbGlzdF9kaWZmKGFvcFsndiddLCBib3BbJ3YnXSwgc2spXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChhb3BbJ28nXSA9PT0gJ2QnICYmIGJvcFsnbyddID09PSAnZCcpIHtcbiAgICAgICAgICBkZWxldGUgYWRfbmV3W2tleV07XG4gICAgICAgICAgYV9wYXRjaGVzID0ganNvbmRpZmYuZG1wLnBhdGNoX21ha2Uoc2ssIGpzb25kaWZmLmRtcC5kaWZmX2Zyb21EZWx0YShzaywgYW9wWyd2J10pKTtcbiAgICAgICAgICBiX3BhdGNoZXMgPSBqc29uZGlmZi5kbXAucGF0Y2hfbWFrZShzaywganNvbmRpZmYuZG1wLmRpZmZfZnJvbURlbHRhKHNrLCBib3BbJ3YnXSkpO1xuICAgICAgICAgIGJfdGV4dCA9IChqc29uZGlmZi5kbXAucGF0Y2hfYXBwbHkoYl9wYXRjaGVzLCBzaykpWzBdO1xuICAgICAgICAgIGFiX3RleHQgPSAoanNvbmRpZmYuZG1wLnBhdGNoX2FwcGx5KGFfcGF0Y2hlcywgYl90ZXh0KSlbMF07XG4gICAgICAgICAgaWYgKGFiX3RleHQgIT09IGJfdGV4dCkge1xuICAgICAgICAgICAgZG1wX2RpZmZzID0ganNvbmRpZmYuZG1wLmRpZmZfbWFpbihiX3RleHQsIGFiX3RleHQpO1xuICAgICAgICAgICAgaWYgKGRtcF9kaWZmcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgIGpzb25kaWZmLmRtcC5kaWZmX2NsZWFudXBFZmZpY2llbmN5KGRtcF9kaWZmcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZG1wX2RpZmZzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgYWRfbmV3W2tleV0gPSB7XG4gICAgICAgICAgICAgICAgJ28nOiAnZCcsXG4gICAgICAgICAgICAgICAgJ3YnOiBqc29uZGlmZi5kbXAuZGlmZl90b0RlbHRhKGRtcF9kaWZmcylcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFkX25ldztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAganNvbmRpZmYucHJvdG90eXBlLnBhdGNoX2FwcGx5X3dpdGhfb2Zmc2V0cyA9IGZ1bmN0aW9uKHBhdGNoZXMsIHRleHQsIG9mZnNldHMpIHt9O1xuXG4gICAganNvbmRpZmYucHJvdG90eXBlLnBhdGNoX2FwcGx5X3dpdGhfb2Zmc2V0cyA9IGZ1bmN0aW9uKHBhdGNoZXMsIHRleHQsIG9mZnNldHMpIHtcbiAgICBpZiAocGF0Y2hlcy5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgLy8gRGVlcCBjb3B5IHRoZSBwYXRjaGVzIHNvIHRoYXQgbm8gY2hhbmdlcyBhcmUgbWFkZSB0byBvcmlnaW5hbHMuXG4gICAgcGF0Y2hlcyA9IGpzb25kaWZmLmRtcC5wYXRjaF9kZWVwQ29weShwYXRjaGVzKTtcbiAgICB2YXIgbnVsbFBhZGRpbmcgPSBqc29uZGlmZi5kbXAucGF0Y2hfYWRkUGFkZGluZyhwYXRjaGVzKTtcbiAgICB0ZXh0ID0gbnVsbFBhZGRpbmcgKyB0ZXh0ICsgbnVsbFBhZGRpbmc7XG5cbiAgICBqc29uZGlmZi5kbXAucGF0Y2hfc3BsaXRNYXgocGF0Y2hlcyk7XG4gICAgLy8gZGVsdGEga2VlcHMgdHJhY2sgb2YgdGhlIG9mZnNldCBiZXR3ZWVuIHRoZSBleHBlY3RlZCBhbmQgYWN0dWFsIGxvY2F0aW9uXG4gICAgLy8gb2YgdGhlIHByZXZpb3VzIHBhdGNoLiAgSWYgdGhlcmUgYXJlIHBhdGNoZXMgZXhwZWN0ZWQgYXQgcG9zaXRpb25zIDEwIGFuZFxuICAgIC8vIDIwLCBidXQgdGhlIGZpcnN0IHBhdGNoIHdhcyBmb3VuZCBhdCAxMiwgZGVsdGEgaXMgMiBhbmQgdGhlIHNlY29uZCBwYXRjaFxuICAgIC8vIGhhcyBhbiBlZmZlY3RpdmUgZXhwZWN0ZWQgcG9zaXRpb24gb2YgMjIuXG4gICAgdmFyIGRlbHRhID0gMDtcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHBhdGNoZXMubGVuZ3RoOyB4KyspIHtcbiAgICAgIHZhciBleHBlY3RlZF9sb2MgPSBwYXRjaGVzW3hdLnN0YXJ0MiArIGRlbHRhO1xuICAgICAgdmFyIHRleHQxID0ganNvbmRpZmYuZG1wLmRpZmZfdGV4dDEocGF0Y2hlc1t4XS5kaWZmcyk7XG4gICAgICB2YXIgc3RhcnRfbG9jO1xuICAgICAgdmFyIGVuZF9sb2MgPSAtMTtcbiAgICAgIGlmICh0ZXh0MS5sZW5ndGggPiBqc29uZGlmZi5kbXAuTWF0Y2hfTWF4Qml0cykge1xuICAgICAgICAvLyBwYXRjaF9zcGxpdE1heCB3aWxsIG9ubHkgcHJvdmlkZSBhbiBvdmVyc2l6ZWQgcGF0dGVybiBpbiB0aGUgY2FzZSBvZlxuICAgICAgICAvLyBhIG1vbnN0ZXIgZGVsZXRlLlxuICAgICAgICBzdGFydF9sb2MgPSBqc29uZGlmZi5kbXAubWF0Y2hfbWFpbih0ZXh0LFxuICAgICAgICAgICAgdGV4dDEuc3Vic3RyaW5nKDAsIGpzb25kaWZmLmRtcC5NYXRjaF9NYXhCaXRzKSwgZXhwZWN0ZWRfbG9jKTtcbiAgICAgICAgaWYgKHN0YXJ0X2xvYyAhPSAtMSkge1xuICAgICAgICAgIGVuZF9sb2MgPSBqc29uZGlmZi5kbXAubWF0Y2hfbWFpbih0ZXh0LFxuICAgICAgICAgICAgICB0ZXh0MS5zdWJzdHJpbmcodGV4dDEubGVuZ3RoIC0ganNvbmRpZmYuZG1wLk1hdGNoX01heEJpdHMpLFxuICAgICAgICAgICAgICBleHBlY3RlZF9sb2MgKyB0ZXh0MS5sZW5ndGggLSBqc29uZGlmZi5kbXAuTWF0Y2hfTWF4Qml0cyk7XG4gICAgICAgICAgaWYgKGVuZF9sb2MgPT0gLTEgfHwgc3RhcnRfbG9jID49IGVuZF9sb2MpIHtcbiAgICAgICAgICAgIC8vIENhbid0IGZpbmQgdmFsaWQgdHJhaWxpbmcgY29udGV4dC4gIERyb3AgdGhpcyBwYXRjaC5cbiAgICAgICAgICAgIHN0YXJ0X2xvYyA9IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnRfbG9jID0ganNvbmRpZmYuZG1wLm1hdGNoX21haW4odGV4dCwgdGV4dDEsIGV4cGVjdGVkX2xvYyk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnRfbG9jID09IC0xKSB7XG4gICAgICAgIC8vIE5vIG1hdGNoIGZvdW5kLiAgOihcbiAgICAgICAgLypcbiAgICAgICAgaWYgKG1vYndyaXRlLmRlYnVnKSB7XG4gICAgICAgICAgd2luZG93LmNvbnNvbGUud2FybignUGF0Y2ggZmFpbGVkOiAnICsgcGF0Y2hlc1t4XSk7XG4gICAgICAgIH1cbiAgICAgICAgKi9cbiAgICAgICAgLy8gU3VidHJhY3QgdGhlIGRlbHRhIGZvciB0aGlzIGZhaWxlZCBwYXRjaCBmcm9tIHN1YnNlcXVlbnQgcGF0Y2hlcy5cbiAgICAgICAgZGVsdGEgLT0gcGF0Y2hlc1t4XS5sZW5ndGgyIC0gcGF0Y2hlc1t4XS5sZW5ndGgxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm91bmQgYSBtYXRjaC4gIDopXG4gICAgICAgIC8qXG4gICAgICAgIGlmIChtb2J3cml0ZS5kZWJ1Zykge1xuICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmluZm8oJ1BhdGNoIE9LLicpO1xuICAgICAgICB9XG4gICAgICAgICovXG4gICAgICAgIGRlbHRhID0gc3RhcnRfbG9jIC0gZXhwZWN0ZWRfbG9jO1xuICAgICAgICB2YXIgdGV4dDI7XG4gICAgICAgIGlmIChlbmRfbG9jID09IC0xKSB7XG4gICAgICAgICAgdGV4dDIgPSB0ZXh0LnN1YnN0cmluZyhzdGFydF9sb2MsIHN0YXJ0X2xvYyArIHRleHQxLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dDIgPSB0ZXh0LnN1YnN0cmluZyhzdGFydF9sb2MsIGVuZF9sb2MgKyBqc29uZGlmZi5kbXAuTWF0Y2hfTWF4Qml0cyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUnVuIGEgZGlmZiB0byBnZXQgYSBmcmFtZXdvcmsgb2YgZXF1aXZhbGVudCBpbmRpY2VzLlxuICAgICAgICB2YXIgZGlmZnMgPSBqc29uZGlmZi5kbXAuZGlmZl9tYWluKHRleHQxLCB0ZXh0MiwgZmFsc2UpO1xuICAgICAgICBpZiAodGV4dDEubGVuZ3RoID4ganNvbmRpZmYuZG1wLk1hdGNoX01heEJpdHMgJiZcbiAgICAgICAgICAgIGpzb25kaWZmLmRtcC5kaWZmX2xldmVuc2h0ZWluKGRpZmZzKSAvIHRleHQxLmxlbmd0aCA+XG4gICAgICAgICAgICBqc29uZGlmZi5kbXAuUGF0Y2hfRGVsZXRlVGhyZXNob2xkKSB7XG4gICAgICAgICAgLy8gVGhlIGVuZCBwb2ludHMgbWF0Y2gsIGJ1dCB0aGUgY29udGVudCBpcyB1bmFjY2VwdGFibHkgYmFkLlxuICAgICAgICAgIC8qXG4gICAgICAgICAgaWYgKG1vYndyaXRlLmRlYnVnKSB7XG4gICAgICAgICAgICB3aW5kb3cuY29uc29sZS53YXJuKCdQYXRjaCBjb250ZW50cyBtaXNtYXRjaDogJyArIHBhdGNoZXNbeF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICAqL1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBpbmRleDEgPSAwO1xuICAgICAgICAgIHZhciBpbmRleDI7XG4gICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBwYXRjaGVzW3hdLmRpZmZzLmxlbmd0aDsgeSsrKSB7XG4gICAgICAgICAgICB2YXIgbW9kID0gcGF0Y2hlc1t4XS5kaWZmc1t5XTtcbiAgICAgICAgICAgIGlmIChtb2RbMF0gIT09IERJRkZfRVFVQUwpIHtcbiAgICAgICAgICAgICAgaW5kZXgyID0ganNvbmRpZmYuZG1wLmRpZmZfeEluZGV4KGRpZmZzLCBpbmRleDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vZFswXSA9PT0gRElGRl9JTlNFUlQpIHsgIC8vIEluc2VydGlvblxuICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgc3RhcnRfbG9jICsgaW5kZXgyKSArIG1vZFsxXSArXG4gICAgICAgICAgICAgICAgICAgICB0ZXh0LnN1YnN0cmluZyhzdGFydF9sb2MgKyBpbmRleDIpO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9mZnNldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0c1tpXSArIG51bGxQYWRkaW5nLmxlbmd0aCA+IHN0YXJ0X2xvYyArIGluZGV4Mikge1xuICAgICAgICAgICAgICAgICAgb2Zmc2V0c1tpXSArPSBtb2RbMV0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RbMF0gPT09IERJRkZfREVMRVRFKSB7ICAvLyBEZWxldGlvblxuICAgICAgICAgICAgICB2YXIgZGVsX3N0YXJ0ID0gc3RhcnRfbG9jICsgaW5kZXgyO1xuICAgICAgICAgICAgICB2YXIgZGVsX2VuZCA9IHN0YXJ0X2xvYyArIGpzb25kaWZmLmRtcC5kaWZmX3hJbmRleChkaWZmcyxcbiAgICAgICAgICAgICAgICAgIGluZGV4MSArIG1vZFsxXS5sZW5ndGgpO1xuICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgZGVsX3N0YXJ0KSArIHRleHQuc3Vic3RyaW5nKGRlbF9lbmQpO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9mZnNldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0c1tpXSArIG51bGxQYWRkaW5nLmxlbmd0aCA+IGRlbF9zdGFydCkge1xuICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldHNbaV0gKyBudWxsUGFkZGluZy5sZW5ndGggPCBkZWxfZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldHNbaV0gPSBkZWxfc3RhcnQgLSBudWxsUGFkZGluZy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRzW2ldIC09IGRlbF9lbmQgLSBkZWxfc3RhcnQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9kWzBdICE9PSBESUZGX0RFTEVURSkge1xuICAgICAgICAgICAgICBpbmRleDEgKz0gbW9kWzFdLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gU3RyaXAgdGhlIHBhZGRpbmcgb2ZmLlxuICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZyhudWxsUGFkZGluZy5sZW5ndGgsIHRleHQubGVuZ3RoIC0gbnVsbFBhZGRpbmcubGVuZ3RoKTtcbiAgICByZXR1cm4gdGV4dDtcbiAgfTtcblxuICAgIHJldHVybiBqc29uZGlmZjtcblxuICB9KSgpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0ganNvbmRpZmY7XG5cbn0pLmNhbGwoKTsiLCJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlciwgYnVja2V0KXtcbiAgcmV0dXJuIG5ldyBCdWNrZXRTdG9yZSgpO1xufTtcblxuZnVuY3Rpb24gQnVja2V0U3RvcmUoKSB7XG4gIHRoaXMub2JqZWN0cyA9IHt9O1xufVxuXG5CdWNrZXRTdG9yZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaWQsIGNhbGxiYWNrKSB7XG4gIGNhbGxiYWNrKG51bGwsIHRoaXMub2JqZWN0c1tpZF0pO1xufTtcblxuQnVja2V0U3RvcmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGlkLCBvYmplY3QsIGNhbGxiYWNrKSB7XG4gIHRoaXMub2JqZWN0c1tpZF0gPSBvYmplY3Q7XG4gIGNhbGxiYWNrKG51bGwsIG9iamVjdCk7XG59O1xuXG5CdWNrZXRTdG9yZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaWQsIGNhbGxiYWNrKSB7XG4gIGRlbGV0ZSB0aGlzLm9iamVjdHNbaWRdO1xuICBjYWxsYmFjayhudWxsKTtcbn07XG5cbi8vIFRPRE86IGJ1aWxkIGEgcXVlcnkgaW50ZXJmYWNlXG5CdWNrZXRTdG9yZS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKHF1ZXJ5LCBjYWxsYmFjaykge1xuICB2YXIgb2JqZWN0cyA9IFtdO1xuICBmb3IgKGtleSBpbiB0aGlzLm9iamVjdHMpIHtcbiAgICBvYmplY3RzLnB1c2goe2lkOiBrZXksIGRhdGE6IHRoaXMub2JqZWN0c1trZXldIH0pO1xuICB9XG4gIGNhbGxiYWNrKG51bGwsIG9iamVjdHMpO1xufSIsIm1vZHVsZS5leHBvcnRzID0gVXNlcjtcblxuZnVuY3Rpb24gVXNlcihvcHRpb25zKXtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy5hY2Nlc3NfdG9rZW4gPSBvcHRpb25zLmFjY2Vzc190b2tlbjtcbn1cblxuVXNlci5mcm9tSlNPTiA9IGZ1bmN0aW9uKGpzb24pe1xuICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7XG4gIHJldHVybiBuZXcgVXNlcihkYXRhKTtcbn0iLCJ2YXIgdXVpZCA9IHJlcXVpcmUoJ25vZGUtdXVpZCcpO1xudmFyIGpzb25kaWZmID0gcmVxdWlyZSgnLi4vanNvbmRpZmYnKSh7bGlzdF9kaWZmOiBmYWxzZX0pO1xuXG52YXIgY2hhbmdlVHlwZXMgPSB7XG4gIE1PRElGWTogJ00nLFxuICBSRU1PVkU6ICctJyxcbiAgQUREOiAnKydcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB0eXBlOiBjaGFuZ2VUeXBlcyxcbiAgYnVpbGRDaGFuZ2U6IGJ1aWxkQ2hhbmdlLFxuICBjb21wcmVzc0NoYW5nZXM6IGNvbXByZXNzQ2hhbmdlcyxcbiAgdHJhbnNmb3JtOiByZWJhc2UsXG4gIG1vZGlmeTogbW9kaWZ5XG59O1xuXG5mdW5jdGlvbiBtb2RpZnkoaWQsIHZlcnNpb24sIHBhdGNoKSB7XG4gIHJldHVybiB7IG86IGNoYW5nZVR5cGVzLk1PRElGWSwgaWQ6IGlkLCBjY2lkOiB1dWlkLnY0KCksIHY6IHBhdGNoIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ2hhbmdlKHR5cGUsIGlkLCBvYmplY3QsIGdob3N0KSB7XG4gIHJldHVybiBidWlsZENoYW5nZUZyb21PcmlnaW4odHlwZSwgaWQsIGdob3N0LnZlcnNpb24sIG9iamVjdCwgZ2hvc3QuZGF0YSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ2hhbmdlRnJvbU9yaWdpbih0eXBlLCBpZCwgdmVyc2lvbiwgdGFyZ2V0LCBvcmlnaW4pIHtcblxuICB2YXIgY2hhbmdlRGF0YSA9IHtcbiAgICBvOiB0eXBlLFxuICAgIGlkOiBpZCxcbiAgICBjY2lkOiB1dWlkLnY0KClcbiAgfTtcblxuICAvLyBSZW1vdmUgb3BlcmF0aW9ucyBoYXZlIG5vIHNvdXJjZSB2ZXJzaW9uIG9yIGRpZmZcbiAgaWYgKHR5cGUgPT0gY2hhbmdlVHlwZXMuUkVNT1ZFKSByZXR1cm4gY2hhbmdlRGF0YTtcblxuICBpZiAodmVyc2lvbiA+IDApIGNoYW5nZURhdGEuc3YgPSB2ZXJzaW9uO1xuXG4gIGNoYW5nZURhdGEudiA9IGpzb25kaWZmLm9iamVjdF9kaWZmKG9yaWdpbiwgdGFyZ2V0KTtcblxuICByZXR1cm4gY2hhbmdlRGF0YTtcbn1cblxuZnVuY3Rpb24gY29tcHJlc3NDaGFuZ2VzKGNoYW5nZXMsIG9yaWdpbil7XG4gIFxuICBpZiAoY2hhbmdlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBpZiAoY2hhbmdlcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gY2hhbmdlc1swXS52O1xuICB9XG5cbiAgdmFyIG1vZGlmaWVkID0gY2hhbmdlcy5yZWR1Y2UoZnVuY3Rpb24oZnJvbSwgY2hhbmdlKXtcbiAgICAvLyBkZWxldGVzIHdoZW4sIGFueSBjaGFuZ2VzIGFmdGVyIGEgZGVsZXRlIGFyZSBpZ25vcmVkXG4gICAgaWYgKGZyb20gPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgIGlmIChmcm9tLm8gPT0gY2hhbmdlVHlwZXMuUkVNT1ZFKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4ganNvbmRpZmYuYXBwbHlfb2JqZWN0X2RpZmYoZnJvbSwgY2hhbmdlLnYpO1xuICB9LCBvcmlnaW4pO1xuXG4gIGlmIChtb2RpZmllZCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIGpzb25kaWZmLm9iamVjdF9kaWZmKG9yaWdpbiwgbW9kaWZpZWQpO1xuXG59XG5cbmZ1bmN0aW9uIHJlYmFzZShsb2NhbF9kaWZmLCByZW1vdGVfZGlmZiwgb3JpZ2luKSB7XG4gIHJldHVybiBqc29uZGlmZi50cmFuc2Zvcm1fb2JqZWN0X2RpZmYobG9jYWxfZGlmZiwgcmVtb3RlX2RpZmYsIG9yaWdpbik7XG59IiwiXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXJnbG9jazogYXJnbG9jayxcbiAgd2hlbjogd2hlbixcbiAgY291bnRzOiBjb3VudHMsXG4gIGRlYm91bmNlOiBkZWJvdW5jZSxcbiAgdGltZXM6IHRpbWVzXG59XG5cblxuZnVuY3Rpb24gd2hlbihjaGVjaywgZm4pe1xuXG4gIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuXG4gIHJldHVybiBmdW5jdGlvbigpe1xuICAgIGlmIChjaGVjaygpKSByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncy5jb25jYXQoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gIH07XG5cbn1cblxuZnVuY3Rpb24gZGVib3VuY2UoZXZlcnksIGZuKXtcblxuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSxcbiAgICAgIGNvdW50ID0gMCxcbiAgICAgIGRlYm91bmNlciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGNvdW50ICsrO1xuICAgICAgICByZXR1cm4gY291bnQgJSBldmVyeSA9PSAwO1xuICAgICAgfTtcblxuICByZXR1cm4gd2hlbi5hcHBseSh0aGlzLCBbZGVib3VuY2VyLCBmbl0uY29uY2F0KGFyZ3MpKTtcbn1cblxuZnVuY3Rpb24gY291bnRzKHRpbWVzLCBmbil7XG5cbiAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgY291bnQgPSAwLFxuICAgIGNvdW50ZXIgPSBmdW5jdGlvbigpe1xuICAgICAgaWYgKGNvdW50ID09IHRpbWVzKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGNvdW50ICsrO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgcmV0dXJuIHdoZW4uYXBwbHkodGhpcywgW2NvdW50ZXIsIGZuXS5jb25jYXQoYXJncykpO1xuXG59XG5cblxuZnVuY3Rpb24gYXJnbG9jaygpe1xuICB2YXIgc2xpY2UgPSBbXS5zbGljZVxuICAgICwgYXJncyA9IHNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7XG5cbiAgaWYgKGFyZ3MubGVuZ3RoID09IDAgfHwgdHlwZW9mKGFyZ3NbMF0pICE9ICdmdW5jdGlvbicpIHRocm93IG5ldyBFcnJvcihcImZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvblwiKTtcblxuICB2YXIgZm4gPSBhcmdzLnNoaWZ0KCk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3MuY29uY2F0KHNsaWNlLmFwcGx5KGFyZ3VtZW50cykpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGltZXMoY291bnQsIGZuKXtcblxuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSxcbiAgICAgIHRpbWVzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGZuLmFwcGx5KHRoaXMsIGFyZ3MpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgIH07XG5cbiAgcmV0dXJuIHRpbWVzO1xuXG59IiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNoYW5nZTogcmVxdWlyZSgnLi9jaGFuZ2UnKSxcbiAgZm46IHJlcXVpcmUoJy4vZm4nKSxcbiAgcGFyc2VNZXNzYWdlIDogcmVxdWlyZSgnLi9wYXJzZV9tZXNzYWdlJyksXG4gIHBhcnNlVmVyc2lvbk1lc3NhZ2U6IHJlcXVpcmUoJy4vcGFyc2VfdmVyc2lvbl9tZXNzYWdlJylcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRhdGEpe1xuICB2YXIgbWFya2VyICA9IGRhdGEuaW5kZXhPZignOicpO1xuXG4gIHJldHVybiB7XG4gICAgY29tbWFuZDogZGF0YS5zbGljZSgwLCBtYXJrZXIpLFxuICAgIGRhdGE6IGRhdGEuc2xpY2UobWFya2VyKzEpXG4gIH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgdmFyIGRhdGFNYXJrID0gZGF0YS5pbmRleE9mKFwiXFxuXCIpLFxuICAgICAgdmVyc2lvbk1hcmsgPSBkYXRhLmluZGV4T2YoJy4nKSxcbiAgICAgIGlkID0gZGF0YS5zbGljZSgwLCB2ZXJzaW9uTWFyayksXG4gICAgICB2ZXJzaW9uID0gcGFyc2VJbnQoZGF0YS5zbGljZSh2ZXJzaW9uTWFyaysxLCBkYXRhTWFyaykpLFxuICAgICAgcGF5bG9hZCA9IEpTT04ucGFyc2UoZGF0YS5zbGljZShkYXRhTWFyaysxKSk7XG5cbiAgcmV0dXJuIHtcbiAgICBkYXRhOiBwYXlsb2FkLmRhdGEsXG4gICAgaWQ6IGlkLFxuICAgIHZlcnNpb246IHZlcnNpb25cbiAgfTtcbn07IiwiLy8gICAgIHV1aWQuanNcbi8vXG4vLyAgICAgQ29weXJpZ2h0IChjKSAyMDEwLTIwMTIgUm9iZXJ0IEtpZWZmZXJcbi8vICAgICBNSVQgTGljZW5zZSAtIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgX2dsb2JhbCA9IHRoaXM7XG5cbiAgLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gIFdlIGZlYXR1cmVcbiAgLy8gZGV0ZWN0IHRvIGRldGVybWluZSB0aGUgYmVzdCBSTkcgc291cmNlLCBub3JtYWxpemluZyB0byBhIGZ1bmN0aW9uIHRoYXRcbiAgLy8gcmV0dXJucyAxMjgtYml0cyBvZiByYW5kb21uZXNzLCBzaW5jZSB0aGF0J3Mgd2hhdCdzIHVzdWFsbHkgcmVxdWlyZWRcbiAgdmFyIF9ybmc7XG5cbiAgLy8gTm9kZS5qcyBjcnlwdG8tYmFzZWQgUk5HIC0gaHR0cDovL25vZGVqcy5vcmcvZG9jcy92MC42LjIvYXBpL2NyeXB0by5odG1sXG4gIC8vXG4gIC8vIE1vZGVyYXRlbHkgZmFzdCwgaGlnaCBxdWFsaXR5XG4gIGlmICh0eXBlb2YoX2dsb2JhbC5yZXF1aXJlKSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBfcmIgPSBfZ2xvYmFsLnJlcXVpcmUoJ2NyeXB0bycpLnJhbmRvbUJ5dGVzO1xuICAgICAgX3JuZyA9IF9yYiAmJiBmdW5jdGlvbigpIHtyZXR1cm4gX3JiKDE2KTt9O1xuICAgIH0gY2F0Y2goZSkge31cbiAgfVxuXG4gIGlmICghX3JuZyAmJiBfZ2xvYmFsLmNyeXB0byAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gV0hBVFdHIGNyeXB0by1iYXNlZCBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gICAgLy9cbiAgICAvLyBNb2RlcmF0ZWx5IGZhc3QsIGhpZ2ggcXVhbGl0eVxuICAgIHZhciBfcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG4gICAgX3JuZyA9IGZ1bmN0aW9uIHdoYXR3Z1JORygpIHtcbiAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoX3JuZHM4KTtcbiAgICAgIHJldHVybiBfcm5kczg7XG4gICAgfTtcbiAgfVxuXG4gIGlmICghX3JuZykge1xuICAgIC8vIE1hdGgucmFuZG9tKCktYmFzZWQgKFJORylcbiAgICAvL1xuICAgIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gICAgLy8gcXVhbGl0eS5cbiAgICB2YXIgIF9ybmRzID0gbmV3IEFycmF5KDE2KTtcbiAgICBfcm5nID0gZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICAgIF9ybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JuZHM7XG4gICAgfTtcbiAgfVxuXG4gIC8vIEJ1ZmZlciBjbGFzcyB0byB1c2VcbiAgdmFyIEJ1ZmZlckNsYXNzID0gdHlwZW9mKF9nbG9iYWwuQnVmZmVyKSA9PSAnZnVuY3Rpb24nID8gX2dsb2JhbC5CdWZmZXIgOiBBcnJheTtcblxuICAvLyBNYXBzIGZvciBudW1iZXIgPC0+IGhleCBzdHJpbmcgY29udmVyc2lvblxuICB2YXIgX2J5dGVUb0hleCA9IFtdO1xuICB2YXIgX2hleFRvQnl0ZSA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgX2J5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG4gICAgX2hleFRvQnl0ZVtfYnl0ZVRvSGV4W2ldXSA9IGk7XG4gIH1cblxuICAvLyAqKmBwYXJzZSgpYCAtIFBhcnNlIGEgVVVJRCBpbnRvIGl0J3MgY29tcG9uZW50IGJ5dGVzKipcbiAgZnVuY3Rpb24gcGFyc2UocywgYnVmLCBvZmZzZXQpIHtcbiAgICB2YXIgaSA9IChidWYgJiYgb2Zmc2V0KSB8fCAwLCBpaSA9IDA7XG5cbiAgICBidWYgPSBidWYgfHwgW107XG4gICAgcy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1swLTlhLWZdezJ9L2csIGZ1bmN0aW9uKG9jdCkge1xuICAgICAgaWYgKGlpIDwgMTYpIHsgLy8gRG9uJ3Qgb3ZlcmZsb3chXG4gICAgICAgIGJ1ZltpICsgaWkrK10gPSBfaGV4VG9CeXRlW29jdF07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBaZXJvIG91dCByZW1haW5pbmcgYnl0ZXMgaWYgc3RyaW5nIHdhcyBzaG9ydFxuICAgIHdoaWxlIChpaSA8IDE2KSB7XG4gICAgICBidWZbaSArIGlpKytdID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgLy8gKipgdW5wYXJzZSgpYCAtIENvbnZlcnQgVVVJRCBieXRlIGFycmF5IChhbGEgcGFyc2UoKSkgaW50byBhIHN0cmluZyoqXG4gIGZ1bmN0aW9uIHVucGFyc2UoYnVmLCBvZmZzZXQpIHtcbiAgICB2YXIgaSA9IG9mZnNldCB8fCAwLCBidGggPSBfYnl0ZVRvSGV4O1xuICAgIHJldHVybiAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gK1xuICAgICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV07XG4gIH1cblxuICAvLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4gIC8vXG4gIC8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4gIC8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbiAgLy8gcmFuZG9tICMncyB3ZSBuZWVkIHRvIGluaXQgbm9kZSBhbmQgY2xvY2tzZXFcbiAgdmFyIF9zZWVkQnl0ZXMgPSBfcm5nKCk7XG5cbiAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gIHZhciBfbm9kZUlkID0gW1xuICAgIF9zZWVkQnl0ZXNbMF0gfCAweDAxLFxuICAgIF9zZWVkQnl0ZXNbMV0sIF9zZWVkQnl0ZXNbMl0sIF9zZWVkQnl0ZXNbM10sIF9zZWVkQnl0ZXNbNF0sIF9zZWVkQnl0ZXNbNV1cbiAgXTtcblxuICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICB2YXIgX2Nsb2Nrc2VxID0gKF9zZWVkQnl0ZXNbNl0gPDwgOCB8IF9zZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuXG4gIC8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxuICB2YXIgX2xhc3RNU2VjcyA9IDAsIF9sYXN0TlNlY3MgPSAwO1xuXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYnJvb2ZhL25vZGUtdXVpZCBmb3IgQVBJIGRldGFpbHNcbiAgZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgICB2YXIgYiA9IGJ1ZiB8fCBbXTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPSBudWxsID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTtcblxuICAgIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gICAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICAgIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT0gbnVsbCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICAgIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT0gbnVsbCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuICAgIC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcbiAgICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gICAgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuICAgIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAgIC8vIHRpbWUgaW50ZXJ2YWxcbiAgICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT0gbnVsbCkge1xuICAgICAgbnNlY3MgPSAwO1xuICAgIH1cblxuICAgIC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcbiAgICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICAgIH1cblxuICAgIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gICAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cbiAgICAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcbiAgICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAgIC8vIGB0aW1lX2xvd2BcbiAgICB2YXIgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG4gICAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICAgIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcbiAgICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgICAvLyBgdGltZV9taWRgXG4gICAgdmFyIHRtaCA9IChtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDApICYgMHhmZmZmZmZmO1xuICAgIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gICAgYltpKytdID0gdG1oICYgMHhmZjtcblxuICAgIC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG4gICAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICAgIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmO1xuXG4gICAgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG4gICAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gICAgLy8gYGNsb2NrX3NlcV9sb3dgXG4gICAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmO1xuXG4gICAgLy8gYG5vZGVgXG4gICAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgICBmb3IgKHZhciBuID0gMDsgbiA8IDY7IG4rKykge1xuICAgICAgYltpICsgbl0gPSBub2RlW25dO1xuICAgIH1cblxuICAgIHJldHVybiBidWYgPyBidWYgOiB1bnBhcnNlKGIpO1xuICB9XG5cbiAgLy8gKipgdjQoKWAgLSBHZW5lcmF0ZSByYW5kb20gVVVJRCoqXG5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icm9vZmEvbm9kZS11dWlkIGZvciBBUEkgZGV0YWlsc1xuICBmdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICAgIC8vIERlcHJlY2F0ZWQgLSAnZm9ybWF0JyBhcmd1bWVudCwgYXMgc3VwcG9ydGVkIGluIHYxLjJcbiAgICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICAgIGlmICh0eXBlb2Yob3B0aW9ucykgPT0gJ3N0cmluZycpIHtcbiAgICAgIGJ1ZiA9IG9wdGlvbnMgPT0gJ2JpbmFyeScgPyBuZXcgQnVmZmVyQ2xhc3MoMTYpIDogbnVsbDtcbiAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgIH1cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IF9ybmcpKCk7XG5cbiAgICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG4gICAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICAgIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAgIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICAgIGlmIChidWYpIHtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgaWkrKykge1xuICAgICAgICBidWZbaSArIGlpXSA9IHJuZHNbaWldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBidWYgfHwgdW5wYXJzZShybmRzKTtcbiAgfVxuXG4gIC8vIEV4cG9ydCBwdWJsaWMgQVBJXG4gIHZhciB1dWlkID0gdjQ7XG4gIHV1aWQudjEgPSB2MTtcbiAgdXVpZC52NCA9IHY0O1xuICB1dWlkLnBhcnNlID0gcGFyc2U7XG4gIHV1aWQudW5wYXJzZSA9IHVucGFyc2U7XG4gIHV1aWQuQnVmZmVyQ2xhc3MgPSBCdWZmZXJDbGFzcztcblxuICBpZiAodHlwZW9mKG1vZHVsZSkgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAvLyBQdWJsaXNoIGFzIG5vZGUuanMgbW9kdWxlXG4gICAgbW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuICB9IGVsc2UgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBQdWJsaXNoIGFzIEFNRCBtb2R1bGVcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7cmV0dXJuIHV1aWQ7fSk7XG4gXG5cbiAgfSBlbHNlIHtcbiAgICAvLyBQdWJsaXNoIGFzIGdsb2JhbCAoaW4gYnJvd3NlcnMpXG4gICAgdmFyIF9wcmV2aW91c1Jvb3QgPSBfZ2xvYmFsLnV1aWQ7XG5cbiAgICAvLyAqKmBub0NvbmZsaWN0KClgIC0gKGJyb3dzZXIgb25seSkgdG8gcmVzZXQgZ2xvYmFsICd1dWlkJyB2YXIqKlxuICAgIHV1aWQubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgX2dsb2JhbC51dWlkID0gX3ByZXZpb3VzUm9vdDtcbiAgICAgIHJldHVybiB1dWlkO1xuICAgIH07XG5cbiAgICBfZ2xvYmFsLnV1aWQgPSB1dWlkO1xuICB9XG59KS5jYWxsKHRoaXMpO1xuIiwidmFyIF9nbG9iYWwgPSAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSgpO1xudmFyIG5hdGl2ZVdlYlNvY2tldCA9IF9nbG9iYWwuV2ViU29ja2V0IHx8IF9nbG9iYWwuTW96V2ViU29ja2V0O1xudmFyIHdlYnNvY2tldF92ZXJzaW9uID0gcmVxdWlyZSgnLi92ZXJzaW9uJyk7XG5cblxuLyoqXG4gKiBFeHBvc2UgYSBXM0MgV2ViU29ja2V0IGNsYXNzIHdpdGgganVzdCBvbmUgb3IgdHdvIGFyZ3VtZW50cy5cbiAqL1xuZnVuY3Rpb24gVzNDV2ViU29ja2V0KHVyaSwgcHJvdG9jb2xzKSB7XG5cdHZhciBuYXRpdmVfaW5zdGFuY2U7XG5cblx0aWYgKHByb3RvY29scykge1xuXHRcdG5hdGl2ZV9pbnN0YW5jZSA9IG5ldyBuYXRpdmVXZWJTb2NrZXQodXJpLCBwcm90b2NvbHMpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdG5hdGl2ZV9pbnN0YW5jZSA9IG5ldyBuYXRpdmVXZWJTb2NrZXQodXJpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiAnbmF0aXZlX2luc3RhbmNlJyBpcyBhbiBpbnN0YW5jZSBvZiBuYXRpdmVXZWJTb2NrZXQgKHRoZSBicm93c2VyJ3MgV2ViU29ja2V0XG5cdCAqIGNsYXNzKS4gU2luY2UgaXQgaXMgYW4gT2JqZWN0IGl0IHdpbGwgYmUgcmV0dXJuZWQgYXMgaXQgaXMgd2hlbiBjcmVhdGluZyBhblxuXHQgKiBpbnN0YW5jZSBvZiBXM0NXZWJTb2NrZXQgdmlhICduZXcgVzNDV2ViU29ja2V0KCknLlxuXHQgKlxuXHQgKiBFQ01BU2NyaXB0IDU6IGh0dHA6Ly9iY2xhcnkuY29tLzIwMDQvMTEvMDcvI2EtMTMuMi4yXG5cdCAqL1xuXHRyZXR1cm4gbmF0aXZlX2luc3RhbmNlO1xufVxuXG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICd3M2N3ZWJzb2NrZXQnIDogbmF0aXZlV2ViU29ja2V0ID8gVzNDV2ViU29ja2V0IDogbnVsbCxcbiAgICAndmVyc2lvbicgICAgICA6IHdlYnNvY2tldF92ZXJzaW9uXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuIiwibW9kdWxlLmV4cG9ydHM9e1xuICBcIm5hbWVcIjogXCJ3ZWJzb2NrZXRcIixcbiAgXCJkZXNjcmlwdGlvblwiOiBcIldlYnNvY2tldCBDbGllbnQgJiBTZXJ2ZXIgTGlicmFyeSBpbXBsZW1lbnRpbmcgdGhlIFdlYlNvY2tldCBwcm90b2NvbCBhcyBzcGVjaWZpZWQgaW4gUkZDIDY0NTUuXCIsXG4gIFwia2V5d29yZHNcIjogW1xuICAgIFwid2Vic29ja2V0XCIsXG4gICAgXCJ3ZWJzb2NrZXRzXCIsXG4gICAgXCJzb2NrZXRcIixcbiAgICBcIm5ldHdvcmtpbmdcIixcbiAgICBcImNvbWV0XCIsXG4gICAgXCJwdXNoXCIsXG4gICAgXCJSRkMtNjQ1NVwiLFxuICAgIFwicmVhbHRpbWVcIixcbiAgICBcInNlcnZlclwiLFxuICAgIFwiY2xpZW50XCJcbiAgXSxcbiAgXCJhdXRob3JcIjoge1xuICAgIFwibmFtZVwiOiBcIkJyaWFuIE1jS2VsdmV5XCIsXG4gICAgXCJlbWFpbFwiOiBcImJyaWFuQHdvcmxpemUuY29tXCIsXG4gICAgXCJ1cmxcIjogXCJodHRwczovL3d3dy53b3JsaXplLmNvbS9cIlxuICB9LFxuICBcImNvbnRyaWJ1dG9yc1wiOiBbXG4gICAge1xuICAgICAgXCJuYW1lXCI6IFwiScOxYWtpIEJheiBDYXN0aWxsb1wiLFxuICAgICAgXCJlbWFpbFwiOiBcImliY0BhbGlheC5uZXRcIixcbiAgICAgIFwidXJsXCI6IFwiaHR0cDovL2Rldi5zaXBkb2MubmV0XCJcbiAgICB9XG4gIF0sXG4gIFwidmVyc2lvblwiOiBcIjEuMC4yMlwiLFxuICBcInJlcG9zaXRvcnlcIjoge1xuICAgIFwidHlwZVwiOiBcImdpdFwiLFxuICAgIFwidXJsXCI6IFwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS90aGV0dXJ0bGUzMi9XZWJTb2NrZXQtTm9kZS5naXRcIlxuICB9LFxuICBcImhvbWVwYWdlXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL3RoZXR1cnRsZTMyL1dlYlNvY2tldC1Ob2RlXCIsXG4gIFwiZW5naW5lc1wiOiB7XG4gICAgXCJub2RlXCI6IFwiPj0wLjguMFwiXG4gIH0sXG4gIFwiZGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImRlYnVnXCI6IFwifjIuMi4wXCIsXG4gICAgXCJuYW5cIjogXCJ+Mi4wLjVcIixcbiAgICBcInR5cGVkYXJyYXktdG8tYnVmZmVyXCI6IFwifjMuMC4zXCIsXG4gICAgXCJ5YWV0aVwiOiBcIn4wLjAuNFwiXG4gIH0sXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImJ1ZmZlci1lcXVhbFwiOiBcIl4wLjAuMVwiLFxuICAgIFwiZmF1Y2V0XCI6IFwiXjAuMC4xXCIsXG4gICAgXCJndWxwXCI6IFwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS9ndWxwanMvZ3VscC5naXQjNC4wXCIsXG4gICAgXCJndWxwLWpzaGludFwiOiBcIl4xLjExLjJcIixcbiAgICBcImpzaGludC1zdHlsaXNoXCI6IFwiXjEuMC4yXCIsXG4gICAgXCJ0YXBlXCI6IFwiXjQuMC4xXCJcbiAgfSxcbiAgXCJjb25maWdcIjoge1xuICAgIFwidmVyYm9zZVwiOiBmYWxzZVxuICB9LFxuICBcInNjcmlwdHNcIjoge1xuICAgIFwiaW5zdGFsbFwiOiBcIihub2RlLWd5cCByZWJ1aWxkIDI+IGJ1aWxkZXJyb3IubG9nKSB8fCAoZXhpdCAwKVwiLFxuICAgIFwidGVzdFwiOiBcImZhdWNldCB0ZXN0L3VuaXRcIixcbiAgICBcImd1bHBcIjogXCJndWxwXCJcbiAgfSxcbiAgXCJtYWluXCI6IFwiaW5kZXhcIixcbiAgXCJkaXJlY3Rvcmllc1wiOiB7XG4gICAgXCJsaWJcIjogXCIuL2xpYlwiXG4gIH0sXG4gIFwiYnJvd3NlclwiOiBcImxpYi9icm93c2VyLmpzXCIsXG4gIFwibGljZW5zZVwiOiBcIkFwYWNoZS0yLjBcIixcbiAgXCJnaXRIZWFkXCI6IFwiMTkxMDhiYmZkN2Q5NGE1Y2QwMmRiZmYzNDk1ZWFmZWU5ZTkwMWNhNFwiLFxuICBcImJ1Z3NcIjoge1xuICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL3RoZXR1cnRsZTMyL1dlYlNvY2tldC1Ob2RlL2lzc3Vlc1wiXG4gIH0sXG4gIFwiX2lkXCI6IFwid2Vic29ja2V0QDEuMC4yMlwiLFxuICBcIl9zaGFzdW1cIjogXCI4YzMzZTM0NDlmODc5YWFmNTE4Mjk3Yzk3NDRjZWJmODEyYjllM2Q4XCIsXG4gIFwiX2Zyb21cIjogXCJ3ZWJzb2NrZXRAKlwiLFxuICBcIl9ucG1WZXJzaW9uXCI6IFwiMi4xNC4zXCIsXG4gIFwiX25vZGVWZXJzaW9uXCI6IFwiMy4zLjFcIixcbiAgXCJfbnBtVXNlclwiOiB7XG4gICAgXCJuYW1lXCI6IFwidGhldHVydGxlMzJcIixcbiAgICBcImVtYWlsXCI6IFwiYnJpYW5Ad29ybGl6ZS5jb21cIlxuICB9LFxuICBcIm1haW50YWluZXJzXCI6IFtcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJ0aGV0dXJ0bGUzMlwiLFxuICAgICAgXCJlbWFpbFwiOiBcImJyaWFuQHdvcmxpemUuY29tXCJcbiAgICB9XG4gIF0sXG4gIFwiZGlzdFwiOiB7XG4gICAgXCJzaGFzdW1cIjogXCI4YzMzZTM0NDlmODc5YWFmNTE4Mjk3Yzk3NDRjZWJmODEyYjllM2Q4XCIsXG4gICAgXCJ0YXJiYWxsXCI6IFwiaHR0cDovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy93ZWJzb2NrZXQvLS93ZWJzb2NrZXQtMS4wLjIyLnRnelwiXG4gIH0sXG4gIFwiX3Jlc29sdmVkXCI6IFwiaHR0cHM6Ly9yZWdpc3RyeS5ucG1qcy5vcmcvd2Vic29ja2V0Ly0vd2Vic29ja2V0LTEuMC4yMi50Z3pcIixcbiAgXCJyZWFkbWVcIjogXCJFUlJPUjogTm8gUkVBRE1FIGRhdGEgZm91bmQhXCJcbn1cbiJdfQ==
